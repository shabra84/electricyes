! function(e, t) {
    "object" == typeof module && "object" == typeof module.exports ? module.exports = e.document ? t(e, !0) : function(e) {
        if (!e.document) throw new Error("jQuery requires a window with a document");
        return t(e)
    } : t(e)
}("undefined" != typeof window ? window : this, function(e, t) {
    function n(e) {
        var t = e.length,
            n = Z.type(e);
        return "function" !== n && !Z.isWindow(e) && (!(1 !== e.nodeType || !t) || ("array" === n || 0 === t || "number" == typeof t && t > 0 && t - 1 in e))
    }

    function r(e, t, n) {
        if (Z.isFunction(t)) return Z.grep(e, function(e, r) {
            return !!t.call(e, r, e) !== n
        });
        if (t.nodeType) return Z.grep(e, function(e) {
            return e === t !== n
        });
        if ("string" == typeof t) {
            if (ae.test(t)) return Z.filter(t, e, n);
            t = Z.filter(t, e)
        }
        return Z.grep(e, function(e) {
            return U.call(t, e) >= 0 !== n
        })
    }

    function i(e, t) {
        for (;
            (e = e[t]) && 1 !== e.nodeType;);
        return e
    }

    function o(e) {
        var t = he[e] = {};
        return Z.each(e.match(de) || [], function(e, n) {
            t[n] = !0
        }), t
    }

    function s() {
        J.removeEventListener("DOMContentLoaded", s, !1), e.removeEventListener("load", s, !1), Z.ready()
    }

    function a() {
        Object.defineProperty(this.cache = {}, 0, {
            get: function() {
                return {}
            }
        }), this.expando = Z.expando + Math.random()
    }

    function u(e, t, n) {
        var r;
        if (void 0 === n && 1 === e.nodeType)
            if (r = "data-" + t.replace(be, "-$1").toLowerCase(), n = e.getAttribute(r), "string" == typeof n) {
                try {
                    n = "true" === n || "false" !== n && ("null" === n ? null : +n + "" === n ? +n : xe.test(n) ? Z.parseJSON(n) : n)
                } catch (i) {}
                ye.set(e, t, n)
            } else n = void 0;
        return n
    }

    function l() {
        return !0
    }

    function c() {
        return !1
    }

    function f() {
        try {
            return J.activeElement
        } catch (e) {}
    }

    function p(e, t) {
        return Z.nodeName(e, "table") && Z.nodeName(11 !== t.nodeType ? t : t.firstChild, "tr") ? e.getElementsByTagName("tbody")[0] || e.appendChild(e.ownerDocument.createElement("tbody")) : e
    }

    function d(e) {
        return e.type = (null !== e.getAttribute("type")) + "/" + e.type, e
    }

    function h(e) {
        var t = Pe.exec(e.type);
        return t ? e.type = t[1] : e.removeAttribute("type"), e
    }

    function g(e, t) {
        for (var n = 0, r = e.length; n < r; n++) ve.set(e[n], "globalEval", !t || ve.get(t[n], "globalEval"))
    }

    function m(e, t) {
        var n, r, i, o, s, a, u, l;
        if (1 === t.nodeType) {
            if (ve.hasData(e) && (o = ve.access(e), s = ve.set(t, o), l = o.events)) {
                delete s.handle, s.events = {};
                for (i in l)
                    for (n = 0, r = l[i].length; n < r; n++) Z.event.add(t, i, l[i][n])
            }
            ye.hasData(e) && (a = ye.access(e), u = Z.extend({}, a), ye.set(t, u))
        }
    }

    function v(e, t) {
        var n = e.getElementsByTagName ? e.getElementsByTagName(t || "*") : e.querySelectorAll ? e.querySelectorAll(t || "*") : [];
        return void 0 === t || t && Z.nodeName(e, t) ? Z.merge([e], n) : n
    }

    function y(e, t) {
        var n = t.nodeName.toLowerCase();
        "input" === n && Ne.test(e.type) ? t.checked = e.checked : "input" !== n && "textarea" !== n || (t.defaultValue = e.defaultValue)
    }

    function x(t, n) {
        var r, i = Z(n.createElement(t)).appendTo(n.body),
            o = e.getDefaultComputedStyle && (r = e.getDefaultComputedStyle(i[0])) ? r.display : Z.css(i[0], "display");
        return i.detach(), o
    }

    function b(e) {
        var t = J,
            n = $e[e];
        return n || (n = x(e, t), "none" !== n && n || (We = (We || Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement), t = We[0].contentDocument, t.write(), t.close(), n = x(e, t), We.detach()), $e[e] = n), n
    }

    function w(e, t, n) {
        var r, i, o, s, a = e.style;
        return n = n || _e(e), n && (s = n.getPropertyValue(t) || n[t]), n && ("" !== s || Z.contains(e.ownerDocument, e) || (s = Z.style(e, t)), Ie.test(s) && Be.test(t) && (r = a.width, i = a.minWidth, o = a.maxWidth, a.minWidth = a.maxWidth = a.width = s, s = n.width, a.width = r, a.minWidth = i, a.maxWidth = o)), void 0 !== s ? s + "" : s
    }

    function T(e, t) {
        return {
            get: function() {
                return e() ? void delete this.get : (this.get = t).apply(this, arguments)
            }
        }
    }

    function C(e, t) {
        if (t in e) return t;
        for (var n = t[0].toUpperCase() + t.slice(1), r = t, i = Ge.length; i--;)
            if (t = Ge[i] + n, t in e) return t;
        return r
    }

    function N(e, t, n) {
        var r = Xe.exec(t);
        return r ? Math.max(0, r[1] - (n || 0)) + (r[2] || "px") : t
    }

    function k(e, t, n, r, i) {
        for (var o = n === (r ? "border" : "content") ? 4 : "width" === t ? 1 : 0, s = 0; o < 4; o += 2) "margin" === n && (s += Z.css(e, n + Te[o], !0, i)), r ? ("content" === n && (s -= Z.css(e, "padding" + Te[o], !0, i)), "margin" !== n && (s -= Z.css(e, "border" + Te[o] + "Width", !0, i))) : (s += Z.css(e, "padding" + Te[o], !0, i), "padding" !== n && (s += Z.css(e, "border" + Te[o] + "Width", !0, i)));
        return s
    }

    function E(e, t, n) {
        var r = !0,
            i = "width" === t ? e.offsetWidth : e.offsetHeight,
            o = _e(e),
            s = "border-box" === Z.css(e, "boxSizing", !1, o);
        if (i <= 0 || null == i) {
            if (i = w(e, t, o), (i < 0 || null == i) && (i = e.style[t]), Ie.test(i)) return i;
            r = s && (Q.boxSizingReliable() || i === e.style[t]), i = parseFloat(i) || 0
        }
        return i + k(e, t, n || (s ? "border" : "content"), r, o) + "px"
    }

    function S(e, t) {
        for (var n, r, i, o = [], s = 0, a = e.length; s < a; s++) r = e[s], r.style && (o[s] = ve.get(r, "olddisplay"), n = r.style.display, t ? (o[s] || "none" !== n || (r.style.display = ""), "" === r.style.display && Ce(r) && (o[s] = ve.access(r, "olddisplay", b(r.nodeName)))) : (i = Ce(r), "none" === n && i || ve.set(r, "olddisplay", i ? n : Z.css(r, "display"))));
        for (s = 0; s < a; s++) r = e[s], r.style && (t && "none" !== r.style.display && "" !== r.style.display || (r.style.display = t ? o[s] || "" : "none"));
        return e
    }

    function j(e, t, n, r, i) {
        return new j.prototype.init(e, t, n, r, i)
    }

    function D() {
        return setTimeout(function() {
            Qe = void 0
        }), Qe = Z.now()
    }

    function A(e, t) {
        var n, r = 0,
            i = {
                height: e
            };
        for (t = t ? 1 : 0; r < 4; r += 2 - t) n = Te[r], i["margin" + n] = i["padding" + n] = e;
        return t && (i.opacity = i.width = e), i
    }

    function L(e, t, n) {
        for (var r, i = (nt[t] || []).concat(nt["*"]), o = 0, s = i.length; o < s; o++)
            if (r = i[o].call(n, t, e)) return r
    }

    function q(e, t, n) {
        var r, i, o, s, a, u, l, c, f = this,
            p = {},
            d = e.style,
            h = e.nodeType && Ce(e),
            g = ve.get(e, "fxshow");
        n.queue || (a = Z._queueHooks(e, "fx"), null == a.unqueued && (a.unqueued = 0, u = a.empty.fire, a.empty.fire = function() {
            a.unqueued || u()
        }), a.unqueued++, f.always(function() {
            f.always(function() {
                a.unqueued--, Z.queue(e, "fx").length || a.empty.fire()
            })
        })), 1 === e.nodeType && ("height" in t || "width" in t) && (n.overflow = [d.overflow, d.overflowX, d.overflowY], l = Z.css(e, "display"), c = "none" === l ? ve.get(e, "olddisplay") || b(e.nodeName) : l, "inline" === c && "none" === Z.css(e, "float") && (d.display = "inline-block")), n.overflow && (d.overflow = "hidden", f.always(function() {
            d.overflow = n.overflow[0], d.overflowX = n.overflow[1], d.overflowY = n.overflow[2]
        }));
        for (r in t)
            if (i = t[r], Ke.exec(i)) {
                if (delete t[r], o = o || "toggle" === i, i === (h ? "hide" : "show")) {
                    if ("show" !== i || !g || void 0 === g[r]) continue;
                    h = !0
                }
                p[r] = g && g[r] || Z.style(e, r)
            } else l = void 0;
        if (Z.isEmptyObject(p)) "inline" === ("none" === l ? b(e.nodeName) : l) && (d.display = l);
        else {
            g ? "hidden" in g && (h = g.hidden) : g = ve.access(e, "fxshow", {}), o && (g.hidden = !h), h ? Z(e).show() : f.done(function() {
                Z(e).hide()
            }), f.done(function() {
                var t;
                ve.remove(e, "fxshow");
                for (t in p) Z.style(e, t, p[t])
            });
            for (r in p) s = L(h ? g[r] : 0, r, f), r in g || (g[r] = s.start, h && (s.end = s.start, s.start = "width" === r || "height" === r ? 1 : 0))
        }
    }

    function H(e, t) {
        var n, r, i, o, s;
        for (n in e)
            if (r = Z.camelCase(n), i = t[r], o = e[n], Z.isArray(o) && (i = o[1], o = e[n] = o[0]), n !== r && (e[r] = o, delete e[n]), s = Z.cssHooks[r], s && "expand" in s) {
                o = s.expand(o), delete e[r];
                for (n in o) n in e || (e[n] = o[n], t[n] = i)
            } else t[r] = i
    }

    function O(e, t, n) {
        var r, i, o = 0,
            s = tt.length,
            a = Z.Deferred().always(function() {
                delete u.elem
            }),
            u = function() {
                if (i) return !1;
                for (var t = Qe || D(), n = Math.max(0, l.startTime + l.duration - t), r = n / l.duration || 0, o = 1 - r, s = 0, u = l.tweens.length; s < u; s++) l.tweens[s].run(o);
                return a.notifyWith(e, [l, o, n]), o < 1 && u ? n : (a.resolveWith(e, [l]), !1)
            },
            l = a.promise({
                elem: e,
                props: Z.extend({}, t),
                opts: Z.extend(!0, {
                    specialEasing: {}
                }, n),
                originalProperties: t,
                originalOptions: n,
                startTime: Qe || D(),
                duration: n.duration,
                tweens: [],
                createTween: function(t, n) {
                    var r = Z.Tween(e, l.opts, t, n, l.opts.specialEasing[t] || l.opts.easing);
                    return l.tweens.push(r), r
                },
                stop: function(t) {
                    var n = 0,
                        r = t ? l.tweens.length : 0;
                    if (i) return this;
                    for (i = !0; n < r; n++) l.tweens[n].run(1);
                    return t ? a.resolveWith(e, [l, t]) : a.rejectWith(e, [l, t]), this
                }
            }),
            c = l.props;
        for (H(c, l.opts.specialEasing); o < s; o++)
            if (r = tt[o].call(l, e, c, l.opts)) return r;
        return Z.map(c, L, l), Z.isFunction(l.opts.start) && l.opts.start.call(e, l), Z.fx.timer(Z.extend(u, {
            elem: e,
            anim: l,
            queue: l.opts.queue
        })), l.progress(l.opts.progress).done(l.opts.done, l.opts.complete).fail(l.opts.fail).always(l.opts.always)
    }

    function F(e) {
        return function(t, n) {
            "string" != typeof t && (n = t, t = "*");
            var r, i = 0,
                o = t.toLowerCase().match(de) || [];
            if (Z.isFunction(n))
                for (; r = o[i++];) "+" === r[0] ? (r = r.slice(1) || "*", (e[r] = e[r] || []).unshift(n)) : (e[r] = e[r] || []).push(n)
        }
    }

    function P(e, t, n, r) {
        function i(a) {
            var u;
            return o[a] = !0, Z.each(e[a] || [], function(e, a) {
                var l = a(t, n, r);
                return "string" != typeof l || s || o[l] ? s ? !(u = l) : void 0 : (t.dataTypes.unshift(l), i(l), !1)
            }), u
        }
        var o = {},
            s = e === wt;
        return i(t.dataTypes[0]) || !o["*"] && i("*")
    }

    function M(e, t) {
        var n, r, i = Z.ajaxSettings.flatOptions || {};
        for (n in t) void 0 !== t[n] && ((i[n] ? e : r || (r = {}))[n] = t[n]);
        return r && Z.extend(!0, e, r), e
    }

    function R(e, t, n) {
        for (var r, i, o, s, a = e.contents, u = e.dataTypes;
            "*" === u[0];) u.shift(), void 0 === r && (r = e.mimeType || t.getResponseHeader("Content-Type"));
        if (r)
            for (i in a)
                if (a[i] && a[i].test(r)) {
                    u.unshift(i);
                    break
                }
        if (u[0] in n) o = u[0];
        else {
            for (i in n) {
                if (!u[0] || e.converters[i + " " + u[0]]) {
                    o = i;
                    break
                }
                s || (s = i)
            }
            o = o || s
        }
        if (o) return o !== u[0] && u.unshift(o), n[o]
    }

    function W(e, t, n, r) {
        var i, o, s, a, u, l = {},
            c = e.dataTypes.slice();
        if (c[1])
            for (s in e.converters) l[s.toLowerCase()] = e.converters[s];
        for (o = c.shift(); o;)
            if (e.responseFields[o] && (n[e.responseFields[o]] = t), !u && r && e.dataFilter && (t = e.dataFilter(t, e.dataType)), u = o, o = c.shift())
                if ("*" === o) o = u;
                else if ("*" !== u && u !== o) {
            if (s = l[u + " " + o] || l["* " + o], !s)
                for (i in l)
                    if (a = i.split(" "), a[1] === o && (s = l[u + " " + a[0]] || l["* " + a[0]])) {
                        s === !0 ? s = l[i] : l[i] !== !0 && (o = a[0], c.unshift(a[1]));
                        break
                    }
            if (s !== !0)
                if (s && e["throws"]) t = s(t);
                else try {
                    t = s(t)
                } catch (f) {
                    return {
                        state: "parsererror",
                        error: s ? f : "No conversion from " + u + " to " + o
                    }
                }
        }
        return {
            state: "success",
            data: t
        }
    }

    function $(e, t, n, r) {
        var i;
        if (Z.isArray(t)) Z.each(t, function(t, i) {
            n || kt.test(e) ? r(e, i) : $(e + "[" + ("object" == typeof i ? t : "") + "]", i, n, r)
        });
        else if (n || "object" !== Z.type(t)) r(e, t);
        else
            for (i in t) $(e + "[" + i + "]", t[i], n, r)
    }

    function B(e) {
        return Z.isWindow(e) ? e : 9 === e.nodeType && e.defaultView
    }
    var I = [],
        _ = I.slice,
        z = I.concat,
        X = I.push,
        U = I.indexOf,
        V = {},
        Y = V.toString,
        G = V.hasOwnProperty,
        Q = {},
        J = e.document,
        K = "2.1.1",
        Z = function(e, t) {
            return new Z.fn.init(e, t)
        },
        ee = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
        te = /^-ms-/,
        ne = /-([\da-z])/gi,
        re = function(e, t) {
            return t.toUpperCase()
        };
    Z.fn = Z.prototype = {
        jquery: K,
        constructor: Z,
        selector: "",
        length: 0,
        toArray: function() {
            return _.call(this)
        },
        get: function(e) {
            return null != e ? e < 0 ? this[e + this.length] : this[e] : _.call(this)
        },
        pushStack: function(e) {
            var t = Z.merge(this.constructor(), e);
            return t.prevObject = this, t.context = this.context, t
        },
        each: function(e, t) {
            return Z.each(this, e, t)
        },
        map: function(e) {
            return this.pushStack(Z.map(this, function(t, n) {
                return e.call(t, n, t)
            }))
        },
        slice: function() {
            return this.pushStack(_.apply(this, arguments))
        },
        first: function() {
            return this.eq(0)
        },
        last: function() {
            return this.eq(-1)
        },
        eq: function(e) {
            var t = this.length,
                n = +e + (e < 0 ? t : 0);
            return this.pushStack(n >= 0 && n < t ? [this[n]] : [])
        },
        end: function() {
            return this.prevObject || this.constructor(null)
        },
        push: X,
        sort: I.sort,
        splice: I.splice
    }, Z.extend = Z.fn.extend = function() {
        var e, t, n, r, i, o, s = arguments[0] || {},
            a = 1,
            u = arguments.length,
            l = !1;
        for ("boolean" == typeof s && (l = s, s = arguments[a] || {}, a++), "object" == typeof s || Z.isFunction(s) || (s = {}), a === u && (s = this, a--); a < u; a++)
            if (null != (e = arguments[a]))
                for (t in e) n = s[t], r = e[t], s !== r && (l && r && (Z.isPlainObject(r) || (i = Z.isArray(r))) ? (i ? (i = !1, o = n && Z.isArray(n) ? n : []) : o = n && Z.isPlainObject(n) ? n : {}, s[t] = Z.extend(l, o, r)) : void 0 !== r && (s[t] = r));
        return s
    }, Z.extend({
        expando: "jQuery" + (K + Math.random()).replace(/\D/g, ""),
        isReady: !0,
        error: function(e) {
            throw new Error(e)
        },
        noop: function() {},
        isFunction: function(e) {
            return "function" === Z.type(e)
        },
        isArray: Array.isArray,
        isWindow: function(e) {
            return null != e && e === e.window
        },
        isNumeric: function(e) {
            return !Z.isArray(e) && e - parseFloat(e) >= 0
        },
        isPlainObject: function(e) {
            return "object" === Z.type(e) && !e.nodeType && !Z.isWindow(e) && !(e.constructor && !G.call(e.constructor.prototype, "isPrototypeOf"))
        },
        isEmptyObject: function(e) {
            var t;
            for (t in e) return !1;
            return !0
        },
        type: function(e) {
            return null == e ? e + "" : "object" == typeof e || "function" == typeof e ? V[Y.call(e)] || "object" : typeof e
        },
        globalEval: function(e) {
            var t, n = eval;
            e = Z.trim(e), e && (1 === e.indexOf("use strict") ? (t = J.createElement("script"), t.text = e, J.head.appendChild(t).parentNode.removeChild(t)) : n(e))
        },
        camelCase: function(e) {
            return e.replace(te, "ms-").replace(ne, re)
        },
        nodeName: function(e, t) {
            return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase()
        },
        each: function(e, t, r) {
            var i, o = 0,
                s = e.length,
                a = n(e);
            if (r) {
                if (a)
                    for (; o < s && (i = t.apply(e[o], r), i !== !1); o++);
                else
                    for (o in e)
                        if (i = t.apply(e[o], r), i === !1) break
            } else if (a)
                for (; o < s && (i = t.call(e[o], o, e[o]), i !== !1); o++);
            else
                for (o in e)
                    if (i = t.call(e[o], o, e[o]), i === !1) break; return e
        },
        trim: function(e) {
            return null == e ? "" : (e + "").replace(ee, "")
        },
        makeArray: function(e, t) {
            var r = t || [];
            return null != e && (n(Object(e)) ? Z.merge(r, "string" == typeof e ? [e] : e) : X.call(r, e)), r
        },
        inArray: function(e, t, n) {
            return null == t ? -1 : U.call(t, e, n)
        },
        merge: function(e, t) {
            for (var n = +t.length, r = 0, i = e.length; r < n; r++) e[i++] = t[r];
            return e.length = i, e
        },
        grep: function(e, t, n) {
            for (var r, i = [], o = 0, s = e.length, a = !n; o < s; o++) r = !t(e[o], o), r !== a && i.push(e[o]);
            return i
        },
        map: function(e, t, r) {
            var i, o = 0,
                s = e.length,
                a = n(e),
                u = [];
            if (a)
                for (; o < s; o++) i = t(e[o], o, r), null != i && u.push(i);
            else
                for (o in e) i = t(e[o], o, r), null != i && u.push(i);
            return z.apply([], u)
        },
        guid: 1,
        proxy: function(e, t) {
            var n, r, i;
            if ("string" == typeof t && (n = e[t], t = e, e = n), Z.isFunction(e)) return r = _.call(arguments, 2), i = function() {
                return e.apply(t || this, r.concat(_.call(arguments)))
            }, i.guid = e.guid = e.guid || Z.guid++, i
        },
        now: Date.now,
        support: Q
    }), Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(e, t) {
        V["[object " + t + "]"] = t.toLowerCase()
    });
    var ie = function(e) {
        function t(e, t, n, r) {
            var i, o, s, a, u, l, f, d, h, g;
            if ((t ? t.ownerDocument || t : $) !== q && L(t), t = t || q, n = n || [], !e || "string" != typeof e) return n;
            if (1 !== (a = t.nodeType) && 9 !== a) return [];
            if (O && !r) {
                if (i = ye.exec(e))
                    if (s = i[1]) {
                        if (9 === a) {
                            if (o = t.getElementById(s), !o || !o.parentNode) return n;
                            if (o.id === s) return n.push(o), n
                        } else if (t.ownerDocument && (o = t.ownerDocument.getElementById(s)) && R(t, o) && o.id === s) return n.push(o), n
                    } else {
                        if (i[2]) return Z.apply(n, t.getElementsByTagName(e)), n;
                        if ((s = i[3]) && w.getElementsByClassName && t.getElementsByClassName) return Z.apply(n, t.getElementsByClassName(s)), n
                    }
                if (w.qsa && (!F || !F.test(e))) {
                    if (d = f = W, h = t, g = 9 === a && e, 1 === a && "object" !== t.nodeName.toLowerCase()) {
                        for (l = k(e), (f = t.getAttribute("id")) ? d = f.replace(be, "\\$&") : t.setAttribute("id", d), d = "[id='" + d + "'] ", u = l.length; u--;) l[u] = d + p(l[u]);
                        h = xe.test(e) && c(t.parentNode) || t, g = l.join(",")
                    }
                    if (g) try {
                        return Z.apply(n, h.querySelectorAll(g)), n
                    } catch (m) {} finally {
                        f || t.removeAttribute("id")
                    }
                }
            }
            return S(e.replace(ue, "$1"), t, n, r)
        }

        function n() {
            function e(n, r) {
                return t.push(n + " ") > T.cacheLength && delete e[t.shift()], e[n + " "] = r
            }
            var t = [];
            return e
        }

        function r(e) {
            return e[W] = !0, e
        }

        function i(e) {
            var t = q.createElement("div");
            try {
                return !!e(t)
            } catch (n) {
                return !1
            } finally {
                t.parentNode && t.parentNode.removeChild(t), t = null
            }
        }

        function o(e, t) {
            for (var n = e.split("|"), r = e.length; r--;) T.attrHandle[n[r]] = t
        }

        function s(e, t) {
            var n = t && e,
                r = n && 1 === e.nodeType && 1 === t.nodeType && (~t.sourceIndex || Y) - (~e.sourceIndex || Y);
            if (r) return r;
            if (n)
                for (; n = n.nextSibling;)
                    if (n === t) return -1;
            return e ? 1 : -1
        }

        function a(e) {
            return function(t) {
                var n = t.nodeName.toLowerCase();
                return "input" === n && t.type === e
            }
        }

        function u(e) {
            return function(t) {
                var n = t.nodeName.toLowerCase();
                return ("input" === n || "button" === n) && t.type === e
            }
        }

        function l(e) {
            return r(function(t) {
                return t = +t, r(function(n, r) {
                    for (var i, o = e([], n.length, t), s = o.length; s--;) n[i = o[s]] && (n[i] = !(r[i] = n[i]))
                })
            })
        }

        function c(e) {
            return e && typeof e.getElementsByTagName !== V && e
        }

        function f() {}

        function p(e) {
            for (var t = 0, n = e.length, r = ""; t < n; t++) r += e[t].value;
            return r
        }

        function d(e, t, n) {
            var r = t.dir,
                i = n && "parentNode" === r,
                o = I++;
            return t.first ? function(t, n, o) {
                for (; t = t[r];)
                    if (1 === t.nodeType || i) return e(t, n, o)
            } : function(t, n, s) {
                var a, u, l = [B, o];
                if (s) {
                    for (; t = t[r];)
                        if ((1 === t.nodeType || i) && e(t, n, s)) return !0
                } else
                    for (; t = t[r];)
                        if (1 === t.nodeType || i) {
                            if (u = t[W] || (t[W] = {}), (a = u[r]) && a[0] === B && a[1] === o) return l[2] = a[2];
                            if (u[r] = l, l[2] = e(t, n, s)) return !0
                        }
            }
        }

        function h(e) {
            return e.length > 1 ? function(t, n, r) {
                for (var i = e.length; i--;)
                    if (!e[i](t, n, r)) return !1;
                return !0
            } : e[0]
        }

        function g(e, n, r) {
            for (var i = 0, o = n.length; i < o; i++) t(e, n[i], r);
            return r
        }

        function m(e, t, n, r, i) {
            for (var o, s = [], a = 0, u = e.length, l = null != t; a < u; a++)(o = e[a]) && (n && !n(o, r, i) || (s.push(o), l && t.push(a)));
            return s
        }

        function v(e, t, n, i, o, s) {
            return i && !i[W] && (i = v(i)), o && !o[W] && (o = v(o, s)), r(function(r, s, a, u) {
                var l, c, f, p = [],
                    d = [],
                    h = s.length,
                    v = r || g(t || "*", a.nodeType ? [a] : a, []),
                    y = !e || !r && t ? v : m(v, p, e, a, u),
                    x = n ? o || (r ? e : h || i) ? [] : s : y;
                if (n && n(y, x, a, u), i)
                    for (l = m(x, d), i(l, [], a, u), c = l.length; c--;)(f = l[c]) && (x[d[c]] = !(y[d[c]] = f));
                if (r) {
                    if (o || e) {
                        if (o) {
                            for (l = [], c = x.length; c--;)(f = x[c]) && l.push(y[c] = f);
                            o(null, x = [], l, u)
                        }
                        for (c = x.length; c--;)(f = x[c]) && (l = o ? te.call(r, f) : p[c]) > -1 && (r[l] = !(s[l] = f))
                    }
                } else x = m(x === s ? x.splice(h, x.length) : x), o ? o(null, s, x, u) : Z.apply(s, x)
            })
        }

        function y(e) {
            for (var t, n, r, i = e.length, o = T.relative[e[0].type], s = o || T.relative[" "], a = o ? 1 : 0, u = d(function(e) {
                    return e === t
                }, s, !0), l = d(function(e) {
                    return te.call(t, e) > -1
                }, s, !0), c = [function(e, n, r) {
                    return !o && (r || n !== j) || ((t = n).nodeType ? u(e, n, r) : l(e, n, r))
                }]; a < i; a++)
                if (n = T.relative[e[a].type]) c = [d(h(c), n)];
                else {
                    if (n = T.filter[e[a].type].apply(null, e[a].matches), n[W]) {
                        for (r = ++a; r < i && !T.relative[e[r].type]; r++);
                        return v(a > 1 && h(c), a > 1 && p(e.slice(0, a - 1).concat({
                            value: " " === e[a - 2].type ? "*" : ""
                        })).replace(ue, "$1"), n, a < r && y(e.slice(a, r)), r < i && y(e = e.slice(r)), r < i && p(e))
                    }
                    c.push(n)
                }
            return h(c)
        }

        function x(e, n) {
            var i = n.length > 0,
                o = e.length > 0,
                s = function(r, s, a, u, l) {
                    var c, f, p, d = 0,
                        h = "0",
                        g = r && [],
                        v = [],
                        y = j,
                        x = r || o && T.find.TAG("*", l),
                        b = B += null == y ? 1 : Math.random() || .1,
                        w = x.length;
                    for (l && (j = s !== q && s); h !== w && null != (c = x[h]); h++) {
                        if (o && c) {
                            for (f = 0; p = e[f++];)
                                if (p(c, s, a)) {
                                    u.push(c);
                                    break
                                }
                            l && (B = b)
                        }
                        i && ((c = !p && c) && d--, r && g.push(c))
                    }
                    if (d += h, i && h !== d) {
                        for (f = 0; p = n[f++];) p(g, v, s, a);
                        if (r) {
                            if (d > 0)
                                for (; h--;) g[h] || v[h] || (v[h] = J.call(u));
                            v = m(v)
                        }
                        Z.apply(u, v), l && !r && v.length > 0 && d + n.length > 1 && t.uniqueSort(u)
                    }
                    return l && (B = b, j = y), g
                };
            return i ? r(s) : s
        }
        var b, w, T, C, N, k, E, S, j, D, A, L, q, H, O, F, P, M, R, W = "sizzle" + -new Date,
            $ = e.document,
            B = 0,
            I = 0,
            _ = n(),
            z = n(),
            X = n(),
            U = function(e, t) {
                return e === t && (A = !0), 0
            },
            V = "undefined",
            Y = 1 << 31,
            G = {}.hasOwnProperty,
            Q = [],
            J = Q.pop,
            K = Q.push,
            Z = Q.push,
            ee = Q.slice,
            te = Q.indexOf || function(e) {
                for (var t = 0, n = this.length; t < n; t++)
                    if (this[t] === e) return t;
                return -1
            },
            ne = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
            re = "[\\x20\\t\\r\\n\\f]",
            ie = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
            oe = ie.replace("w", "w#"),
            se = "\\[" + re + "*(" + ie + ")(?:" + re + "*([*^$|!~]?=)" + re + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + oe + "))|)" + re + "*\\]",
            ae = ":(" + ie + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + se + ")*)|.*)\\)|)",
            ue = new RegExp("^" + re + "+|((?:^|[^\\\\])(?:\\\\.)*)" + re + "+$", "g"),
            le = new RegExp("^" + re + "*," + re + "*"),
            ce = new RegExp("^" + re + "*([>+~]|" + re + ")" + re + "*"),
            fe = new RegExp("=" + re + "*([^\\]'\"]*?)" + re + "*\\]", "g"),
            pe = new RegExp(ae),
            de = new RegExp("^" + oe + "$"),
            he = {
                ID: new RegExp("^#(" + ie + ")"),
                CLASS: new RegExp("^\\.(" + ie + ")"),
                TAG: new RegExp("^(" + ie.replace("w", "w*") + ")"),
                ATTR: new RegExp("^" + se),
                PSEUDO: new RegExp("^" + ae),
                CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + re + "*(even|odd|(([+-]|)(\\d*)n|)" + re + "*(?:([+-]|)" + re + "*(\\d+)|))" + re + "*\\)|)", "i"),
                bool: new RegExp("^(?:" + ne + ")$", "i"),
                needsContext: new RegExp("^" + re + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + re + "*((?:-\\d)?\\d*)" + re + "*\\)|)(?=[^-]|$)", "i")
            },
            ge = /^(?:input|select|textarea|button)$/i,
            me = /^h\d$/i,
            ve = /^[^{]+\{\s*\[native \w/,
            ye = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
            xe = /[+~]/,
            be = /'|\\/g,
            we = new RegExp("\\\\([\\da-f]{1,6}" + re + "?|(" + re + ")|.)", "ig"),
            Te = function(e, t, n) {
                var r = "0x" + t - 65536;
                return r !== r || n ? t : r < 0 ? String.fromCharCode(r + 65536) : String.fromCharCode(r >> 10 | 55296, 1023 & r | 56320)
            };
        try {
            Z.apply(Q = ee.call($.childNodes), $.childNodes), Q[$.childNodes.length].nodeType
        } catch (Ce) {
            Z = {
                apply: Q.length ? function(e, t) {
                    K.apply(e, ee.call(t))
                } : function(e, t) {
                    for (var n = e.length, r = 0; e[n++] = t[r++];);
                    e.length = n - 1
                }
            }
        }
        w = t.support = {}, N = t.isXML = function(e) {
            var t = e && (e.ownerDocument || e).documentElement;
            return !!t && "HTML" !== t.nodeName
        }, L = t.setDocument = function(e) {
            var t, n = e ? e.ownerDocument || e : $,
                r = n.defaultView;
            return n !== q && 9 === n.nodeType && n.documentElement ? (q = n, H = n.documentElement, O = !N(n), r && r !== r.top && (r.addEventListener ? r.addEventListener("unload", function() {
                L()
            }, !1) : r.attachEvent && r.attachEvent("onunload", function() {
                L()
            })), w.attributes = i(function(e) {
                return e.className = "i", !e.getAttribute("className")
            }), w.getElementsByTagName = i(function(e) {
                return e.appendChild(n.createComment("")), !e.getElementsByTagName("*").length
            }), w.getElementsByClassName = ve.test(n.getElementsByClassName) && i(function(e) {
                return e.innerHTML = "<div class='a'></div><div class='a i'></div>", e.firstChild.className = "i", 2 === e.getElementsByClassName("i").length
            }), w.getById = i(function(e) {
                return H.appendChild(e).id = W, !n.getElementsByName || !n.getElementsByName(W).length
            }), w.getById ? (T.find.ID = function(e, t) {
                if (typeof t.getElementById !== V && O) {
                    var n = t.getElementById(e);
                    return n && n.parentNode ? [n] : []
                }
            }, T.filter.ID = function(e) {
                var t = e.replace(we, Te);
                return function(e) {
                    return e.getAttribute("id") === t
                }
            }) : (delete T.find.ID, T.filter.ID = function(e) {
                var t = e.replace(we, Te);
                return function(e) {
                    var n = typeof e.getAttributeNode !== V && e.getAttributeNode("id");
                    return n && n.value === t
                }
            }), T.find.TAG = w.getElementsByTagName ? function(e, t) {
                if (typeof t.getElementsByTagName !== V) return t.getElementsByTagName(e)
            } : function(e, t) {
                var n, r = [],
                    i = 0,
                    o = t.getElementsByTagName(e);
                if ("*" === e) {
                    for (; n = o[i++];) 1 === n.nodeType && r.push(n);
                    return r
                }
                return o
            }, T.find.CLASS = w.getElementsByClassName && function(e, t) {
                if (typeof t.getElementsByClassName !== V && O) return t.getElementsByClassName(e)
            }, P = [], F = [], (w.qsa = ve.test(n.querySelectorAll)) && (i(function(e) {
                e.innerHTML = "<select msallowclip=''><option selected=''></option></select>", e.querySelectorAll("[msallowclip^='']").length && F.push("[*^$]=" + re + "*(?:''|\"\")"), e.querySelectorAll("[selected]").length || F.push("\\[" + re + "*(?:value|" + ne + ")"), e.querySelectorAll(":checked").length || F.push(":checked")
            }), i(function(e) {
                var t = n.createElement("input");
                t.setAttribute("type", "hidden"), e.appendChild(t).setAttribute("name", "D"), e.querySelectorAll("[name=d]").length && F.push("name" + re + "*[*^$|!~]?="), e.querySelectorAll(":enabled").length || F.push(":enabled", ":disabled"), e.querySelectorAll("*,:x"), F.push(",.*:")
            })), (w.matchesSelector = ve.test(M = H.matches || H.webkitMatchesSelector || H.mozMatchesSelector || H.oMatchesSelector || H.msMatchesSelector)) && i(function(e) {
                w.disconnectedMatch = M.call(e, "div"), M.call(e, "[s!='']:x"), P.push("!=", ae)
            }), F = F.length && new RegExp(F.join("|")), P = P.length && new RegExp(P.join("|")), t = ve.test(H.compareDocumentPosition), R = t || ve.test(H.contains) ? function(e, t) {
                var n = 9 === e.nodeType ? e.documentElement : e,
                    r = t && t.parentNode;
                return e === r || !(!r || 1 !== r.nodeType || !(n.contains ? n.contains(r) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(r)))
            } : function(e, t) {
                if (t)
                    for (; t = t.parentNode;)
                        if (t === e) return !0;
                return !1
            }, U = t ? function(e, t) {
                if (e === t) return A = !0, 0;
                var r = !e.compareDocumentPosition - !t.compareDocumentPosition;
                return r ? r : (r = (e.ownerDocument || e) === (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1, 1 & r || !w.sortDetached && t.compareDocumentPosition(e) === r ? e === n || e.ownerDocument === $ && R($, e) ? -1 : t === n || t.ownerDocument === $ && R($, t) ? 1 : D ? te.call(D, e) - te.call(D, t) : 0 : 4 & r ? -1 : 1)
            } : function(e, t) {
                if (e === t) return A = !0, 0;
                var r, i = 0,
                    o = e.parentNode,
                    a = t.parentNode,
                    u = [e],
                    l = [t];
                if (!o || !a) return e === n ? -1 : t === n ? 1 : o ? -1 : a ? 1 : D ? te.call(D, e) - te.call(D, t) : 0;
                if (o === a) return s(e, t);
                for (r = e; r = r.parentNode;) u.unshift(r);
                for (r = t; r = r.parentNode;) l.unshift(r);
                for (; u[i] === l[i];) i++;
                return i ? s(u[i], l[i]) : u[i] === $ ? -1 : l[i] === $ ? 1 : 0
            }, n) : q
        }, t.matches = function(e, n) {
            return t(e, null, null, n)
        }, t.matchesSelector = function(e, n) {
            if ((e.ownerDocument || e) !== q && L(e), n = n.replace(fe, "='$1']"), w.matchesSelector && O && (!P || !P.test(n)) && (!F || !F.test(n))) try {
                var r = M.call(e, n);
                if (r || w.disconnectedMatch || e.document && 11 !== e.document.nodeType) return r
            } catch (i) {}
            return t(n, q, null, [e]).length > 0
        }, t.contains = function(e, t) {
            return (e.ownerDocument || e) !== q && L(e), R(e, t)
        }, t.attr = function(e, t) {
            (e.ownerDocument || e) !== q && L(e);
            var n = T.attrHandle[t.toLowerCase()],
                r = n && G.call(T.attrHandle, t.toLowerCase()) ? n(e, t, !O) : void 0;
            return void 0 !== r ? r : w.attributes || !O ? e.getAttribute(t) : (r = e.getAttributeNode(t)) && r.specified ? r.value : null
        }, t.error = function(e) {
            throw new Error("Syntax error, unrecognized expression: " + e)
        }, t.uniqueSort = function(e) {
            var t, n = [],
                r = 0,
                i = 0;
            if (A = !w.detectDuplicates, D = !w.sortStable && e.slice(0), e.sort(U), A) {
                for (; t = e[i++];) t === e[i] && (r = n.push(i));
                for (; r--;) e.splice(n[r], 1)
            }
            return D = null, e
        }, C = t.getText = function(e) {
            var t, n = "",
                r = 0,
                i = e.nodeType;
            if (i) {
                if (1 === i || 9 === i || 11 === i) {
                    if ("string" == typeof e.textContent) return e.textContent;
                    for (e = e.firstChild; e; e = e.nextSibling) n += C(e)
                } else if (3 === i || 4 === i) return e.nodeValue
            } else
                for (; t = e[r++];) n += C(t);
            return n
        }, T = t.selectors = {
            cacheLength: 50,
            createPseudo: r,
            match: he,
            attrHandle: {},
            find: {},
            relative: {
                ">": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(e) {
                    return e[1] = e[1].replace(we, Te), e[3] = (e[3] || e[4] || e[5] || "").replace(we, Te), "~=" === e[2] && (e[3] = " " + e[3] + " "), e.slice(0, 4)
                },
                CHILD: function(e) {
                    return e[1] = e[1].toLowerCase(), "nth" === e[1].slice(0, 3) ? (e[3] || t.error(e[0]), e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])), e[5] = +(e[7] + e[8] || "odd" === e[3])) : e[3] && t.error(e[0]), e
                },
                PSEUDO: function(e) {
                    var t, n = !e[6] && e[2];
                    return he.CHILD.test(e[0]) ? null : (e[3] ? e[2] = e[4] || e[5] || "" : n && pe.test(n) && (t = k(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t), e[2] = n.slice(0, t)), e.slice(0, 3))
                }
            },
            filter: {
                TAG: function(e) {
                    var t = e.replace(we, Te).toLowerCase();
                    return "*" === e ? function() {
                        return !0
                    } : function(e) {
                        return e.nodeName && e.nodeName.toLowerCase() === t
                    }
                },
                CLASS: function(e) {
                    var t = _[e + " "];
                    return t || (t = new RegExp("(^|" + re + ")" + e + "(" + re + "|$)")) && _(e, function(e) {
                        return t.test("string" == typeof e.className && e.className || typeof e.getAttribute !== V && e.getAttribute("class") || "")
                    })
                },
                ATTR: function(e, n, r) {
                    return function(i) {
                        var o = t.attr(i, e);
                        return null == o ? "!=" === n : !n || (o += "", "=" === n ? o === r : "!=" === n ? o !== r : "^=" === n ? r && 0 === o.indexOf(r) : "*=" === n ? r && o.indexOf(r) > -1 : "$=" === n ? r && o.slice(-r.length) === r : "~=" === n ? (" " + o + " ").indexOf(r) > -1 : "|=" === n && (o === r || o.slice(0, r.length + 1) === r + "-"))
                    }
                },
                CHILD: function(e, t, n, r, i) {
                    var o = "nth" !== e.slice(0, 3),
                        s = "last" !== e.slice(-4),
                        a = "of-type" === t;
                    return 1 === r && 0 === i ? function(e) {
                        return !!e.parentNode
                    } : function(t, n, u) {
                        var l, c, f, p, d, h, g = o !== s ? "nextSibling" : "previousSibling",
                            m = t.parentNode,
                            v = a && t.nodeName.toLowerCase(),
                            y = !u && !a;
                        if (m) {
                            if (o) {
                                for (; g;) {
                                    for (f = t; f = f[g];)
                                        if (a ? f.nodeName.toLowerCase() === v : 1 === f.nodeType) return !1;
                                    h = g = "only" === e && !h && "nextSibling"
                                }
                                return !0
                            }
                            if (h = [s ? m.firstChild : m.lastChild], s && y) {
                                for (c = m[W] || (m[W] = {}), l = c[e] || [], d = l[0] === B && l[1], p = l[0] === B && l[2], f = d && m.childNodes[d]; f = ++d && f && f[g] || (p = d = 0) || h.pop();)
                                    if (1 === f.nodeType && ++p && f === t) {
                                        c[e] = [B, d, p];
                                        break
                                    }
                            } else if (y && (l = (t[W] || (t[W] = {}))[e]) && l[0] === B) p = l[1];
                            else
                                for (;
                                    (f = ++d && f && f[g] || (p = d = 0) || h.pop()) && ((a ? f.nodeName.toLowerCase() !== v : 1 !== f.nodeType) || !++p || (y && ((f[W] || (f[W] = {}))[e] = [B, p]), f !== t)););
                            return p -= i, p === r || p % r === 0 && p / r >= 0
                        }
                    }
                },
                PSEUDO: function(e, n) {
                    var i, o = T.pseudos[e] || T.setFilters[e.toLowerCase()] || t.error("unsupported pseudo: " + e);
                    return o[W] ? o(n) : o.length > 1 ? (i = [e, e, "", n], T.setFilters.hasOwnProperty(e.toLowerCase()) ? r(function(e, t) {
                        for (var r, i = o(e, n), s = i.length; s--;) r = te.call(e, i[s]), e[r] = !(t[r] = i[s])
                    }) : function(e) {
                        return o(e, 0, i)
                    }) : o
                }
            },
            pseudos: {
                not: r(function(e) {
                    var t = [],
                        n = [],
                        i = E(e.replace(ue, "$1"));
                    return i[W] ? r(function(e, t, n, r) {
                        for (var o, s = i(e, null, r, []), a = e.length; a--;)(o = s[a]) && (e[a] = !(t[a] = o))
                    }) : function(e, r, o) {
                        return t[0] = e, i(t, null, o, n), !n.pop()
                    }
                }),
                has: r(function(e) {
                    return function(n) {
                        return t(e, n).length > 0
                    }
                }),
                contains: r(function(e) {
                    return function(t) {
                        return (t.textContent || t.innerText || C(t)).indexOf(e) > -1
                    }
                }),
                lang: r(function(e) {
                    return de.test(e || "") || t.error("unsupported lang: " + e), e = e.replace(we, Te).toLowerCase(),
                        function(t) {
                            var n;
                            do
                                if (n = O ? t.lang : t.getAttribute("xml:lang") || t.getAttribute("lang")) return n = n.toLowerCase(), n === e || 0 === n.indexOf(e + "-");
                            while ((t = t.parentNode) && 1 === t.nodeType);
                            return !1
                        }
                }),
                target: function(t) {
                    var n = e.location && e.location.hash;
                    return n && n.slice(1) === t.id
                },
                root: function(e) {
                    return e === H
                },
                focus: function(e) {
                    return e === q.activeElement && (!q.hasFocus || q.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
                },
                enabled: function(e) {
                    return e.disabled === !1
                },
                disabled: function(e) {
                    return e.disabled === !0
                },
                checked: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return "input" === t && !!e.checked || "option" === t && !!e.selected
                },
                selected: function(e) {
                    return e.parentNode && e.parentNode.selectedIndex, e.selected === !0
                },
                empty: function(e) {
                    for (e = e.firstChild; e; e = e.nextSibling)
                        if (e.nodeType < 6) return !1;
                    return !0
                },
                parent: function(e) {
                    return !T.pseudos.empty(e)
                },
                header: function(e) {
                    return me.test(e.nodeName)
                },
                input: function(e) {
                    return ge.test(e.nodeName)
                },
                button: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return "input" === t && "button" === e.type || "button" === t
                },
                text: function(e) {
                    var t;
                    return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || "text" === t.toLowerCase())
                },
                first: l(function() {
                    return [0]
                }),
                last: l(function(e, t) {
                    return [t - 1]
                }),
                eq: l(function(e, t, n) {
                    return [n < 0 ? n + t : n]
                }),
                even: l(function(e, t) {
                    for (var n = 0; n < t; n += 2) e.push(n);
                    return e
                }),
                odd: l(function(e, t) {
                    for (var n = 1; n < t; n += 2) e.push(n);
                    return e
                }),
                lt: l(function(e, t, n) {
                    for (var r = n < 0 ? n + t : n; --r >= 0;) e.push(r);
                    return e
                }),
                gt: l(function(e, t, n) {
                    for (var r = n < 0 ? n + t : n; ++r < t;) e.push(r);
                    return e
                })
            }
        }, T.pseudos.nth = T.pseudos.eq;
        for (b in {
                radio: !0,
                checkbox: !0,
                file: !0,
                password: !0,
                image: !0
            }) T.pseudos[b] = a(b);
        for (b in {
                submit: !0,
                reset: !0
            }) T.pseudos[b] = u(b);
        return f.prototype = T.filters = T.pseudos, T.setFilters = new f, k = t.tokenize = function(e, n) {
            var r, i, o, s, a, u, l, c = z[e + " "];
            if (c) return n ? 0 : c.slice(0);
            for (a = e, u = [], l = T.preFilter; a;) {
                r && !(i = le.exec(a)) || (i && (a = a.slice(i[0].length) || a), u.push(o = [])), r = !1, (i = ce.exec(a)) && (r = i.shift(), o.push({
                    value: r,
                    type: i[0].replace(ue, " ")
                }), a = a.slice(r.length));
                for (s in T.filter) !(i = he[s].exec(a)) || l[s] && !(i = l[s](i)) || (r = i.shift(), o.push({
                    value: r,
                    type: s,
                    matches: i
                }), a = a.slice(r.length));
                if (!r) break
            }
            return n ? a.length : a ? t.error(e) : z(e, u).slice(0)
        }, E = t.compile = function(e, t) {
            var n, r = [],
                i = [],
                o = X[e + " "];
            if (!o) {
                for (t || (t = k(e)), n = t.length; n--;) o = y(t[n]), o[W] ? r.push(o) : i.push(o);
                o = X(e, x(i, r)), o.selector = e
            }
            return o
        }, S = t.select = function(e, t, n, r) {
            var i, o, s, a, u, l = "function" == typeof e && e,
                f = !r && k(e = l.selector || e);
            if (n = n || [], 1 === f.length) {
                if (o = f[0] = f[0].slice(0), o.length > 2 && "ID" === (s = o[0]).type && w.getById && 9 === t.nodeType && O && T.relative[o[1].type]) {
                    if (t = (T.find.ID(s.matches[0].replace(we, Te), t) || [])[0], !t) return n;
                    l && (t = t.parentNode), e = e.slice(o.shift().value.length)
                }
                for (i = he.needsContext.test(e) ? 0 : o.length; i-- && (s = o[i], !T.relative[a = s.type]);)
                    if ((u = T.find[a]) && (r = u(s.matches[0].replace(we, Te), xe.test(o[0].type) && c(t.parentNode) || t))) {
                        if (o.splice(i, 1), e = r.length && p(o), !e) return Z.apply(n, r), n;
                        break
                    }
            }
            return (l || E(e, f))(r, t, !O, n, xe.test(e) && c(t.parentNode) || t), n
        }, w.sortStable = W.split("").sort(U).join("") === W, w.detectDuplicates = !!A, L(), w.sortDetached = i(function(e) {
            return 1 & e.compareDocumentPosition(q.createElement("div"))
        }), i(function(e) {
            return e.innerHTML = "<a href='#'></a>", "#" === e.firstChild.getAttribute("href")
        }) || o("type|href|height|width", function(e, t, n) {
            if (!n) return e.getAttribute(t, "type" === t.toLowerCase() ? 1 : 2)
        }), w.attributes && i(function(e) {
            return e.innerHTML = "<input/>", e.firstChild.setAttribute("value", ""), "" === e.firstChild.getAttribute("value")
        }) || o("value", function(e, t, n) {
            if (!n && "input" === e.nodeName.toLowerCase()) return e.defaultValue
        }), i(function(e) {
            return null == e.getAttribute("disabled")
        }) || o(ne, function(e, t, n) {
            var r;
            if (!n) return e[t] === !0 ? t.toLowerCase() : (r = e.getAttributeNode(t)) && r.specified ? r.value : null
        }), t
    }(e);
    Z.find = ie, Z.expr = ie.selectors, Z.expr[":"] = Z.expr.pseudos, Z.unique = ie.uniqueSort, Z.text = ie.getText, Z.isXMLDoc = ie.isXML, Z.contains = ie.contains;
    var oe = Z.expr.match.needsContext,
        se = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
        ae = /^.[^:#\[\.,]*$/;
    Z.filter = function(e, t, n) {
        var r = t[0];
        return n && (e = ":not(" + e + ")"), 1 === t.length && 1 === r.nodeType ? Z.find.matchesSelector(r, e) ? [r] : [] : Z.find.matches(e, Z.grep(t, function(e) {
            return 1 === e.nodeType
        }))
    }, Z.fn.extend({
        find: function(e) {
            var t, n = this.length,
                r = [],
                i = this;
            if ("string" != typeof e) return this.pushStack(Z(e).filter(function() {
                for (t = 0; t < n; t++)
                    if (Z.contains(i[t], this)) return !0;
            }));
            for (t = 0; t < n; t++) Z.find(e, i[t], r);
            return r = this.pushStack(n > 1 ? Z.unique(r) : r), r.selector = this.selector ? this.selector + " " + e : e, r
        },
        filter: function(e) {
            return this.pushStack(r(this, e || [], !1))
        },
        not: function(e) {
            return this.pushStack(r(this, e || [], !0))
        },
        is: function(e) {
            return !!r(this, "string" == typeof e && oe.test(e) ? Z(e) : e || [], !1).length
        }
    });
    var ue, le = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
        ce = Z.fn.init = function(e, t) {
            var n, r;
            if (!e) return this;
            if ("string" == typeof e) {
                if (n = "<" === e[0] && ">" === e[e.length - 1] && e.length >= 3 ? [null, e, null] : le.exec(e), !n || !n[1] && t) return !t || t.jquery ? (t || ue).find(e) : this.constructor(t).find(e);
                if (n[1]) {
                    if (t = t instanceof Z ? t[0] : t, Z.merge(this, Z.parseHTML(n[1], t && t.nodeType ? t.ownerDocument || t : J, !0)), se.test(n[1]) && Z.isPlainObject(t))
                        for (n in t) Z.isFunction(this[n]) ? this[n](t[n]) : this.attr(n, t[n]);
                    return this
                }
                return r = J.getElementById(n[2]), r && r.parentNode && (this.length = 1, this[0] = r), this.context = J, this.selector = e, this
            }
            return e.nodeType ? (this.context = this[0] = e, this.length = 1, this) : Z.isFunction(e) ? "undefined" != typeof ue.ready ? ue.ready(e) : e(Z) : (void 0 !== e.selector && (this.selector = e.selector, this.context = e.context), Z.makeArray(e, this))
        };
    ce.prototype = Z.fn, ue = Z(J);
    var fe = /^(?:parents|prev(?:Until|All))/,
        pe = {
            children: !0,
            contents: !0,
            next: !0,
            prev: !0
        };
    Z.extend({
        dir: function(e, t, n) {
            for (var r = [], i = void 0 !== n;
                (e = e[t]) && 9 !== e.nodeType;)
                if (1 === e.nodeType) {
                    if (i && Z(e).is(n)) break;
                    r.push(e)
                }
            return r
        },
        sibling: function(e, t) {
            for (var n = []; e; e = e.nextSibling) 1 === e.nodeType && e !== t && n.push(e);
            return n
        }
    }), Z.fn.extend({
        has: function(e) {
            var t = Z(e, this),
                n = t.length;
            return this.filter(function() {
                for (var e = 0; e < n; e++)
                    if (Z.contains(this, t[e])) return !0
            })
        },
        closest: function(e, t) {
            for (var n, r = 0, i = this.length, o = [], s = oe.test(e) || "string" != typeof e ? Z(e, t || this.context) : 0; r < i; r++)
                for (n = this[r]; n && n !== t; n = n.parentNode)
                    if (n.nodeType < 11 && (s ? s.index(n) > -1 : 1 === n.nodeType && Z.find.matchesSelector(n, e))) {
                        o.push(n);
                        break
                    }
            return this.pushStack(o.length > 1 ? Z.unique(o) : o)
        },
        index: function(e) {
            return e ? "string" == typeof e ? U.call(Z(e), this[0]) : U.call(this, e.jquery ? e[0] : e) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
        },
        add: function(e, t) {
            return this.pushStack(Z.unique(Z.merge(this.get(), Z(e, t))))
        },
        addBack: function(e) {
            return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
        }
    }), Z.each({
        parent: function(e) {
            var t = e.parentNode;
            return t && 11 !== t.nodeType ? t : null
        },
        parents: function(e) {
            return Z.dir(e, "parentNode")
        },
        parentsUntil: function(e, t, n) {
            return Z.dir(e, "parentNode", n)
        },
        next: function(e) {
            return i(e, "nextSibling")
        },
        prev: function(e) {
            return i(e, "previousSibling")
        },
        nextAll: function(e) {
            return Z.dir(e, "nextSibling")
        },
        prevAll: function(e) {
            return Z.dir(e, "previousSibling")
        },
        nextUntil: function(e, t, n) {
            return Z.dir(e, "nextSibling", n)
        },
        prevUntil: function(e, t, n) {
            return Z.dir(e, "previousSibling", n)
        },
        siblings: function(e) {
            return Z.sibling((e.parentNode || {}).firstChild, e)
        },
        children: function(e) {
            return Z.sibling(e.firstChild)
        },
        contents: function(e) {
            return e.contentDocument || Z.merge([], e.childNodes)
        }
    }, function(e, t) {
        Z.fn[e] = function(n, r) {
            var i = Z.map(this, t, n);
            return "Until" !== e.slice(-5) && (r = n), r && "string" == typeof r && (i = Z.filter(r, i)), this.length > 1 && (pe[e] || Z.unique(i), fe.test(e) && i.reverse()), this.pushStack(i)
        }
    });
    var de = /\S+/g,
        he = {};
    Z.Callbacks = function(e) {
        e = "string" == typeof e ? he[e] || o(e) : Z.extend({}, e);
        var t, n, r, i, s, a, u = [],
            l = !e.once && [],
            c = function(o) {
                for (t = e.memory && o, n = !0, a = i || 0, i = 0, s = u.length, r = !0; u && a < s; a++)
                    if (u[a].apply(o[0], o[1]) === !1 && e.stopOnFalse) {
                        t = !1;
                        break
                    }
                r = !1, u && (l ? l.length && c(l.shift()) : t ? u = [] : f.disable())
            },
            f = {
                add: function() {
                    if (u) {
                        var n = u.length;
                        ! function o(t) {
                            Z.each(t, function(t, n) {
                                var r = Z.type(n);
                                "function" === r ? e.unique && f.has(n) || u.push(n) : n && n.length && "string" !== r && o(n)
                            })
                        }(arguments), r ? s = u.length : t && (i = n, c(t))
                    }
                    return this
                },
                remove: function() {
                    return u && Z.each(arguments, function(e, t) {
                        for (var n;
                            (n = Z.inArray(t, u, n)) > -1;) u.splice(n, 1), r && (n <= s && s--, n <= a && a--)
                    }), this
                },
                has: function(e) {
                    return e ? Z.inArray(e, u) > -1 : !(!u || !u.length)
                },
                empty: function() {
                    return u = [], s = 0, this
                },
                disable: function() {
                    return u = l = t = void 0, this
                },
                disabled: function() {
                    return !u
                },
                lock: function() {
                    return l = void 0, t || f.disable(), this
                },
                locked: function() {
                    return !l
                },
                fireWith: function(e, t) {
                    return !u || n && !l || (t = t || [], t = [e, t.slice ? t.slice() : t], r ? l.push(t) : c(t)), this
                },
                fire: function() {
                    return f.fireWith(this, arguments), this
                },
                fired: function() {
                    return !!n
                }
            };
        return f
    }, Z.extend({
        Deferred: function(e) {
            var t = [
                    ["resolve", "done", Z.Callbacks("once memory"), "resolved"],
                    ["reject", "fail", Z.Callbacks("once memory"), "rejected"],
                    ["notify", "progress", Z.Callbacks("memory")]
                ],
                n = "pending",
                r = {
                    state: function() {
                        return n
                    },
                    always: function() {
                        return i.done(arguments).fail(arguments), this
                    },
                    then: function() {
                        var e = arguments;
                        return Z.Deferred(function(n) {
                            Z.each(t, function(t, o) {
                                var s = Z.isFunction(e[t]) && e[t];
                                i[o[1]](function() {
                                    var e = s && s.apply(this, arguments);
                                    e && Z.isFunction(e.promise) ? e.promise().done(n.resolve).fail(n.reject).progress(n.notify) : n[o[0] + "With"](this === r ? n.promise() : this, s ? [e] : arguments)
                                })
                            }), e = null
                        }).promise()
                    },
                    promise: function(e) {
                        return null != e ? Z.extend(e, r) : r
                    }
                },
                i = {};
            return r.pipe = r.then, Z.each(t, function(e, o) {
                var s = o[2],
                    a = o[3];
                r[o[1]] = s.add, a && s.add(function() {
                    n = a
                }, t[1 ^ e][2].disable, t[2][2].lock), i[o[0]] = function() {
                    return i[o[0] + "With"](this === i ? r : this, arguments), this
                }, i[o[0] + "With"] = s.fireWith
            }), r.promise(i), e && e.call(i, i), i
        },
        when: function(e) {
            var t, n, r, i = 0,
                o = _.call(arguments),
                s = o.length,
                a = 1 !== s || e && Z.isFunction(e.promise) ? s : 0,
                u = 1 === a ? e : Z.Deferred(),
                l = function(e, n, r) {
                    return function(i) {
                        n[e] = this, r[e] = arguments.length > 1 ? _.call(arguments) : i, r === t ? u.notifyWith(n, r) : --a || u.resolveWith(n, r)
                    }
                };
            if (s > 1)
                for (t = new Array(s), n = new Array(s), r = new Array(s); i < s; i++) o[i] && Z.isFunction(o[i].promise) ? o[i].promise().done(l(i, r, o)).fail(u.reject).progress(l(i, n, t)) : --a;
            return a || u.resolveWith(r, o), u.promise()
        }
    });
    var ge;
    Z.fn.ready = function(e) {
        return Z.ready.promise().done(e), this
    }, Z.extend({
        isReady: !1,
        readyWait: 1,
        holdReady: function(e) {
            e ? Z.readyWait++ : Z.ready(!0)
        },
        ready: function(e) {
            (e === !0 ? --Z.readyWait : Z.isReady) || (Z.isReady = !0, e !== !0 && --Z.readyWait > 0 || (ge.resolveWith(J, [Z]), Z.fn.triggerHandler && (Z(J).triggerHandler("ready"), Z(J).off("ready"))))
        }
    }), Z.ready.promise = function(t) {
        return ge || (ge = Z.Deferred(), "complete" === J.readyState ? setTimeout(Z.ready) : (J.addEventListener("DOMContentLoaded", s, !1), e.addEventListener("load", s, !1))), ge.promise(t)
    }, Z.ready.promise();
    var me = Z.access = function(e, t, n, r, i, o, s) {
        var a = 0,
            u = e.length,
            l = null == n;
        if ("object" === Z.type(n)) {
            i = !0;
            for (a in n) Z.access(e, t, a, n[a], !0, o, s)
        } else if (void 0 !== r && (i = !0, Z.isFunction(r) || (s = !0), l && (s ? (t.call(e, r), t = null) : (l = t, t = function(e, t, n) {
                return l.call(Z(e), n)
            })), t))
            for (; a < u; a++) t(e[a], n, s ? r : r.call(e[a], a, t(e[a], n)));
        return i ? e : l ? t.call(e) : u ? t(e[0], n) : o
    };
    Z.acceptData = function(e) {
        return 1 === e.nodeType || 9 === e.nodeType || !+e.nodeType
    }, a.uid = 1, a.accepts = Z.acceptData, a.prototype = {
        key: function(e) {
            if (!a.accepts(e)) return 0;
            var t = {},
                n = e[this.expando];
            if (!n) {
                n = a.uid++;
                try {
                    t[this.expando] = {
                        value: n
                    }, Object.defineProperties(e, t)
                } catch (r) {
                    t[this.expando] = n, Z.extend(e, t)
                }
            }
            return this.cache[n] || (this.cache[n] = {}), n
        },
        set: function(e, t, n) {
            var r, i = this.key(e),
                o = this.cache[i];
            if ("string" == typeof t) o[t] = n;
            else if (Z.isEmptyObject(o)) Z.extend(this.cache[i], t);
            else
                for (r in t) o[r] = t[r];
            return o
        },
        get: function(e, t) {
            var n = this.cache[this.key(e)];
            return void 0 === t ? n : n[t]
        },
        access: function(e, t, n) {
            var r;
            return void 0 === t || t && "string" == typeof t && void 0 === n ? (r = this.get(e, t), void 0 !== r ? r : this.get(e, Z.camelCase(t))) : (this.set(e, t, n), void 0 !== n ? n : t)
        },
        remove: function(e, t) {
            var n, r, i, o = this.key(e),
                s = this.cache[o];
            if (void 0 === t) this.cache[o] = {};
            else {
                Z.isArray(t) ? r = t.concat(t.map(Z.camelCase)) : (i = Z.camelCase(t), t in s ? r = [t, i] : (r = i, r = r in s ? [r] : r.match(de) || [])), n = r.length;
                for (; n--;) delete s[r[n]]
            }
        },
        hasData: function(e) {
            return !Z.isEmptyObject(this.cache[e[this.expando]] || {})
        },
        discard: function(e) {
            e[this.expando] && delete this.cache[e[this.expando]]
        }
    };
    var ve = new a,
        ye = new a,
        xe = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
        be = /([A-Z])/g;
    Z.extend({
        hasData: function(e) {
            return ye.hasData(e) || ve.hasData(e)
        },
        data: function(e, t, n) {
            return ye.access(e, t, n)
        },
        removeData: function(e, t) {
            ye.remove(e, t)
        },
        _data: function(e, t, n) {
            return ve.access(e, t, n)
        },
        _removeData: function(e, t) {
            ve.remove(e, t)
        }
    }), Z.fn.extend({
        data: function(e, t) {
            var n, r, i, o = this[0],
                s = o && o.attributes;
            if (void 0 === e) {
                if (this.length && (i = ye.get(o), 1 === o.nodeType && !ve.get(o, "hasDataAttrs"))) {
                    for (n = s.length; n--;) s[n] && (r = s[n].name, 0 === r.indexOf("data-") && (r = Z.camelCase(r.slice(5)), u(o, r, i[r])));
                    ve.set(o, "hasDataAttrs", !0)
                }
                return i
            }
            return "object" == typeof e ? this.each(function() {
                ye.set(this, e)
            }) : me(this, function(t) {
                var n, r = Z.camelCase(e);
                if (o && void 0 === t) {
                    if (n = ye.get(o, e), void 0 !== n) return n;
                    if (n = ye.get(o, r), void 0 !== n) return n;
                    if (n = u(o, r, void 0), void 0 !== n) return n
                } else this.each(function() {
                    var n = ye.get(this, r);
                    ye.set(this, r, t), e.indexOf("-") !== -1 && void 0 !== n && ye.set(this, e, t)
                })
            }, null, t, arguments.length > 1, null, !0)
        },
        removeData: function(e) {
            return this.each(function() {
                ye.remove(this, e)
            })
        }
    }), Z.extend({
        queue: function(e, t, n) {
            var r;
            if (e) return t = (t || "fx") + "queue", r = ve.get(e, t), n && (!r || Z.isArray(n) ? r = ve.access(e, t, Z.makeArray(n)) : r.push(n)), r || []
        },
        dequeue: function(e, t) {
            t = t || "fx";
            var n = Z.queue(e, t),
                r = n.length,
                i = n.shift(),
                o = Z._queueHooks(e, t),
                s = function() {
                    Z.dequeue(e, t)
                };
            "inprogress" === i && (i = n.shift(), r--), i && ("fx" === t && n.unshift("inprogress"), delete o.stop, i.call(e, s, o)), !r && o && o.empty.fire()
        },
        _queueHooks: function(e, t) {
            var n = t + "queueHooks";
            return ve.get(e, n) || ve.access(e, n, {
                empty: Z.Callbacks("once memory").add(function() {
                    ve.remove(e, [t + "queue", n])
                })
            })
        }
    }), Z.fn.extend({
        queue: function(e, t) {
            var n = 2;
            return "string" != typeof e && (t = e, e = "fx", n--), arguments.length < n ? Z.queue(this[0], e) : void 0 === t ? this : this.each(function() {
                var n = Z.queue(this, e, t);
                Z._queueHooks(this, e), "fx" === e && "inprogress" !== n[0] && Z.dequeue(this, e)
            })
        },
        dequeue: function(e) {
            return this.each(function() {
                Z.dequeue(this, e)
            })
        },
        clearQueue: function(e) {
            return this.queue(e || "fx", [])
        },
        promise: function(e, t) {
            var n, r = 1,
                i = Z.Deferred(),
                o = this,
                s = this.length,
                a = function() {
                    --r || i.resolveWith(o, [o])
                };
            for ("string" != typeof e && (t = e, e = void 0), e = e || "fx"; s--;) n = ve.get(o[s], e + "queueHooks"), n && n.empty && (r++, n.empty.add(a));
            return a(), i.promise(t)
        }
    });
    var we = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
        Te = ["Top", "Right", "Bottom", "Left"],
        Ce = function(e, t) {
            return e = t || e, "none" === Z.css(e, "display") || !Z.contains(e.ownerDocument, e)
        },
        Ne = /^(?:checkbox|radio)$/i;
    ! function() {
        var e = J.createDocumentFragment(),
            t = e.appendChild(J.createElement("div")),
            n = J.createElement("input");
        n.setAttribute("type", "radio"), n.setAttribute("checked", "checked"), n.setAttribute("name", "t"), t.appendChild(n), Q.checkClone = t.cloneNode(!0).cloneNode(!0).lastChild.checked, t.innerHTML = "<textarea>x</textarea>", Q.noCloneChecked = !!t.cloneNode(!0).lastChild.defaultValue
    }();
    var ke = "undefined";
    Q.focusinBubbles = "onfocusin" in e;
    var Ee = /^key/,
        Se = /^(?:mouse|pointer|contextmenu)|click/,
        je = /^(?:focusinfocus|focusoutblur)$/,
        De = /^([^.]*)(?:\.(.+)|)$/;
    Z.event = {
        global: {},
        add: function(e, t, n, r, i) {
            var o, s, a, u, l, c, f, p, d, h, g, m = ve.get(e);
            if (m)
                for (n.handler && (o = n, n = o.handler, i = o.selector), n.guid || (n.guid = Z.guid++), (u = m.events) || (u = m.events = {}), (s = m.handle) || (s = m.handle = function(t) {
                        return typeof Z !== ke && Z.event.triggered !== t.type ? Z.event.dispatch.apply(e, arguments) : void 0
                    }), t = (t || "").match(de) || [""], l = t.length; l--;) a = De.exec(t[l]) || [], d = g = a[1], h = (a[2] || "").split(".").sort(), d && (f = Z.event.special[d] || {}, d = (i ? f.delegateType : f.bindType) || d, f = Z.event.special[d] || {}, c = Z.extend({
                    type: d,
                    origType: g,
                    data: r,
                    handler: n,
                    guid: n.guid,
                    selector: i,
                    needsContext: i && Z.expr.match.needsContext.test(i),
                    namespace: h.join(".")
                }, o), (p = u[d]) || (p = u[d] = [], p.delegateCount = 0, f.setup && f.setup.call(e, r, h, s) !== !1 || e.addEventListener && e.addEventListener(d, s, !1)), f.add && (f.add.call(e, c), c.handler.guid || (c.handler.guid = n.guid)), i ? p.splice(p.delegateCount++, 0, c) : p.push(c), Z.event.global[d] = !0)
        },
        remove: function(e, t, n, r, i) {
            var o, s, a, u, l, c, f, p, d, h, g, m = ve.hasData(e) && ve.get(e);
            if (m && (u = m.events)) {
                for (t = (t || "").match(de) || [""], l = t.length; l--;)
                    if (a = De.exec(t[l]) || [], d = g = a[1], h = (a[2] || "").split(".").sort(), d) {
                        for (f = Z.event.special[d] || {}, d = (r ? f.delegateType : f.bindType) || d, p = u[d] || [], a = a[2] && new RegExp("(^|\\.)" + h.join("\\.(?:.*\\.|)") + "(\\.|$)"), s = o = p.length; o--;) c = p[o], !i && g !== c.origType || n && n.guid !== c.guid || a && !a.test(c.namespace) || r && r !== c.selector && ("**" !== r || !c.selector) || (p.splice(o, 1), c.selector && p.delegateCount--, f.remove && f.remove.call(e, c));
                        s && !p.length && (f.teardown && f.teardown.call(e, h, m.handle) !== !1 || Z.removeEvent(e, d, m.handle), delete u[d])
                    } else
                        for (d in u) Z.event.remove(e, d + t[l], n, r, !0);
                Z.isEmptyObject(u) && (delete m.handle, ve.remove(e, "events"))
            }
        },
        trigger: function(t, n, r, i) {
            var o, s, a, u, l, c, f, p = [r || J],
                d = G.call(t, "type") ? t.type : t,
                h = G.call(t, "namespace") ? t.namespace.split(".") : [];
            if (s = a = r = r || J, 3 !== r.nodeType && 8 !== r.nodeType && !je.test(d + Z.event.triggered) && (d.indexOf(".") >= 0 && (h = d.split("."), d = h.shift(), h.sort()), l = d.indexOf(":") < 0 && "on" + d, t = t[Z.expando] ? t : new Z.Event(d, "object" == typeof t && t), t.isTrigger = i ? 2 : 3, t.namespace = h.join("."), t.namespace_re = t.namespace ? new RegExp("(^|\\.)" + h.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, t.result = void 0, t.target || (t.target = r), n = null == n ? [t] : Z.makeArray(n, [t]), f = Z.event.special[d] || {}, i || !f.trigger || f.trigger.apply(r, n) !== !1)) {
                if (!i && !f.noBubble && !Z.isWindow(r)) {
                    for (u = f.delegateType || d, je.test(u + d) || (s = s.parentNode); s; s = s.parentNode) p.push(s), a = s;
                    a === (r.ownerDocument || J) && p.push(a.defaultView || a.parentWindow || e)
                }
                for (o = 0;
                    (s = p[o++]) && !t.isPropagationStopped();) t.type = o > 1 ? u : f.bindType || d, c = (ve.get(s, "events") || {})[t.type] && ve.get(s, "handle"), c && c.apply(s, n), c = l && s[l], c && c.apply && Z.acceptData(s) && (t.result = c.apply(s, n), t.result === !1 && t.preventDefault());
                return t.type = d, i || t.isDefaultPrevented() || f._default && f._default.apply(p.pop(), n) !== !1 || !Z.acceptData(r) || l && Z.isFunction(r[d]) && !Z.isWindow(r) && (a = r[l], a && (r[l] = null), Z.event.triggered = d, r[d](), Z.event.triggered = void 0, a && (r[l] = a)), t.result
            }
        },
        dispatch: function(e) {
            e = Z.event.fix(e);
            var t, n, r, i, o, s = [],
                a = _.call(arguments),
                u = (ve.get(this, "events") || {})[e.type] || [],
                l = Z.event.special[e.type] || {};
            if (a[0] = e, e.delegateTarget = this, !l.preDispatch || l.preDispatch.call(this, e) !== !1) {
                for (s = Z.event.handlers.call(this, e, u), t = 0;
                    (i = s[t++]) && !e.isPropagationStopped();)
                    for (e.currentTarget = i.elem, n = 0;
                        (o = i.handlers[n++]) && !e.isImmediatePropagationStopped();) e.namespace_re && !e.namespace_re.test(o.namespace) || (e.handleObj = o, e.data = o.data, r = ((Z.event.special[o.origType] || {}).handle || o.handler).apply(i.elem, a), void 0 !== r && (e.result = r) === !1 && (e.preventDefault(), e.stopPropagation()));
                return l.postDispatch && l.postDispatch.call(this, e), e.result
            }
        },
        handlers: function(e, t) {
            var n, r, i, o, s = [],
                a = t.delegateCount,
                u = e.target;
            if (a && u.nodeType && (!e.button || "click" !== e.type))
                for (; u !== this; u = u.parentNode || this)
                    if (u.disabled !== !0 || "click" !== e.type) {
                        for (r = [], n = 0; n < a; n++) o = t[n], i = o.selector + " ", void 0 === r[i] && (r[i] = o.needsContext ? Z(i, this).index(u) >= 0 : Z.find(i, this, null, [u]).length), r[i] && r.push(o);
                        r.length && s.push({
                            elem: u,
                            handlers: r
                        })
                    }
            return a < t.length && s.push({
                elem: this,
                handlers: t.slice(a)
            }), s
        },
        props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: "char charCode key keyCode".split(" "),
            filter: function(e, t) {
                return null == e.which && (e.which = null != t.charCode ? t.charCode : t.keyCode), e
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function(e, t) {
                var n, r, i, o = t.button;
                return null == e.pageX && null != t.clientX && (n = e.target.ownerDocument || J, r = n.documentElement, i = n.body, e.pageX = t.clientX + (r && r.scrollLeft || i && i.scrollLeft || 0) - (r && r.clientLeft || i && i.clientLeft || 0), e.pageY = t.clientY + (r && r.scrollTop || i && i.scrollTop || 0) - (r && r.clientTop || i && i.clientTop || 0)), e.which || void 0 === o || (e.which = 1 & o ? 1 : 2 & o ? 3 : 4 & o ? 2 : 0), e
            }
        },
        fix: function(e) {
            if (e[Z.expando]) return e;
            var t, n, r, i = e.type,
                o = e,
                s = this.fixHooks[i];
            for (s || (this.fixHooks[i] = s = Se.test(i) ? this.mouseHooks : Ee.test(i) ? this.keyHooks : {}), r = s.props ? this.props.concat(s.props) : this.props, e = new Z.Event(o), t = r.length; t--;) n = r[t], e[n] = o[n];
            return e.target || (e.target = J), 3 === e.target.nodeType && (e.target = e.target.parentNode), s.filter ? s.filter(e, o) : e
        },
        special: {
            load: {
                noBubble: !0
            },
            focus: {
                trigger: function() {
                    if (this !== f() && this.focus) return this.focus(), !1
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function() {
                    if (this === f() && this.blur) return this.blur(), !1
                },
                delegateType: "focusout"
            },
            click: {
                trigger: function() {
                    if ("checkbox" === this.type && this.click && Z.nodeName(this, "input")) return this.click(), !1
                },
                _default: function(e) {
                    return Z.nodeName(e.target, "a")
                }
            },
            beforeunload: {
                postDispatch: function(e) {
                    void 0 !== e.result && e.originalEvent && (e.originalEvent.returnValue = e.result)
                }
            }
        },
        simulate: function(e, t, n, r) {
            var i = Z.extend(new Z.Event, n, {
                type: e,
                isSimulated: !0,
                originalEvent: {}
            });
            r ? Z.event.trigger(i, null, t) : Z.event.dispatch.call(t, i), i.isDefaultPrevented() && n.preventDefault()
        }
    }, Z.removeEvent = function(e, t, n) {
        e.removeEventListener && e.removeEventListener(t, n, !1)
    }, Z.Event = function(e, t) {
        return this instanceof Z.Event ? (e && e.type ? (this.originalEvent = e, this.type = e.type, this.isDefaultPrevented = e.defaultPrevented || void 0 === e.defaultPrevented && e.returnValue === !1 ? l : c) : this.type = e, t && Z.extend(this, t), this.timeStamp = e && e.timeStamp || Z.now(), void(this[Z.expando] = !0)) : new Z.Event(e, t)
    }, Z.Event.prototype = {
        isDefaultPrevented: c,
        isPropagationStopped: c,
        isImmediatePropagationStopped: c,
        preventDefault: function() {
            var e = this.originalEvent;
            this.isDefaultPrevented = l, e && e.preventDefault && e.preventDefault()
        },
        stopPropagation: function() {
            var e = this.originalEvent;
            this.isPropagationStopped = l, e && e.stopPropagation && e.stopPropagation()
        },
        stopImmediatePropagation: function() {
            var e = this.originalEvent;
            this.isImmediatePropagationStopped = l, e && e.stopImmediatePropagation && e.stopImmediatePropagation(), this.stopPropagation()
        }
    }, Z.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout"
    }, function(e, t) {
        Z.event.special[e] = {
            delegateType: t,
            bindType: t,
            handle: function(e) {
                var n, r = this,
                    i = e.relatedTarget,
                    o = e.handleObj;
                return i && (i === r || Z.contains(r, i)) || (e.type = o.origType, n = o.handler.apply(this, arguments), e.type = t), n
            }
        }
    }), Q.focusinBubbles || Z.each({
        focus: "focusin",
        blur: "focusout"
    }, function(e, t) {
        var n = function(e) {
            Z.event.simulate(t, e.target, Z.event.fix(e), !0)
        };
        Z.event.special[t] = {
            setup: function() {
                var r = this.ownerDocument || this,
                    i = ve.access(r, t);
                i || r.addEventListener(e, n, !0), ve.access(r, t, (i || 0) + 1)
            },
            teardown: function() {
                var r = this.ownerDocument || this,
                    i = ve.access(r, t) - 1;
                i ? ve.access(r, t, i) : (r.removeEventListener(e, n, !0), ve.remove(r, t))
            }
        }
    }), Z.fn.extend({
        on: function(e, t, n, r, i) {
            var o, s;
            if ("object" == typeof e) {
                "string" != typeof t && (n = n || t, t = void 0);
                for (s in e) this.on(s, t, n, e[s], i);
                return this
            }
            if (null == n && null == r ? (r = t, n = t = void 0) : null == r && ("string" == typeof t ? (r = n, n = void 0) : (r = n, n = t, t = void 0)), r === !1) r = c;
            else if (!r) return this;
            return 1 === i && (o = r, r = function(e) {
                return Z().off(e), o.apply(this, arguments)
            }, r.guid = o.guid || (o.guid = Z.guid++)), this.each(function() {
                Z.event.add(this, e, r, n, t)
            })
        },
        one: function(e, t, n, r) {
            return this.on(e, t, n, r, 1)
        },
        off: function(e, t, n) {
            var r, i;
            if (e && e.preventDefault && e.handleObj) return r = e.handleObj, Z(e.delegateTarget).off(r.namespace ? r.origType + "." + r.namespace : r.origType, r.selector, r.handler), this;
            if ("object" == typeof e) {
                for (i in e) this.off(i, t, e[i]);
                return this
            }
            return t !== !1 && "function" != typeof t || (n = t, t = void 0), n === !1 && (n = c), this.each(function() {
                Z.event.remove(this, e, n, t)
            })
        },
        trigger: function(e, t) {
            return this.each(function() {
                Z.event.trigger(e, t, this)
            })
        },
        triggerHandler: function(e, t) {
            var n = this[0];
            if (n) return Z.event.trigger(e, t, n, !0)
        }
    });
    var Ae = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
        Le = /<([\w:]+)/,
        qe = /<|&#?\w+;/,
        He = /<(?:script|style|link)/i,
        Oe = /checked\s*(?:[^=]|=\s*.checked.)/i,
        Fe = /^$|\/(?:java|ecma)script/i,
        Pe = /^true\/(.*)/,
        Me = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
        Re = {
            option: [1, "<select multiple='multiple'>", "</select>"],
            thead: [1, "<table>", "</table>"],
            col: [2, "<table><colgroup>", "</colgroup></table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            _default: [0, "", ""]
        };
    Re.optgroup = Re.option, Re.tbody = Re.tfoot = Re.colgroup = Re.caption = Re.thead, Re.th = Re.td, Z.extend({
        clone: function(e, t, n) {
            var r, i, o, s, a = e.cloneNode(!0),
                u = Z.contains(e.ownerDocument, e);
            if (!(Q.noCloneChecked || 1 !== e.nodeType && 11 !== e.nodeType || Z.isXMLDoc(e)))
                for (s = v(a), o = v(e), r = 0, i = o.length; r < i; r++) y(o[r], s[r]);
            if (t)
                if (n)
                    for (o = o || v(e), s = s || v(a), r = 0, i = o.length; r < i; r++) m(o[r], s[r]);
                else m(e, a);
            return s = v(a, "script"), s.length > 0 && g(s, !u && v(e, "script")), a
        },
        buildFragment: function(e, t, n, r) {
            for (var i, o, s, a, u, l, c = t.createDocumentFragment(), f = [], p = 0, d = e.length; p < d; p++)
                if (i = e[p], i || 0 === i)
                    if ("object" === Z.type(i)) Z.merge(f, i.nodeType ? [i] : i);
                    else if (qe.test(i)) {
                for (o = o || c.appendChild(t.createElement("div")), s = (Le.exec(i) || ["", ""])[1].toLowerCase(), a = Re[s] || Re._default, o.innerHTML = a[1] + i.replace(Ae, "<$1></$2>") + a[2], l = a[0]; l--;) o = o.lastChild;
                Z.merge(f, o.childNodes), o = c.firstChild, o.textContent = ""
            } else f.push(t.createTextNode(i));
            for (c.textContent = "", p = 0; i = f[p++];)
                if ((!r || Z.inArray(i, r) === -1) && (u = Z.contains(i.ownerDocument, i), o = v(c.appendChild(i), "script"), u && g(o), n))
                    for (l = 0; i = o[l++];) Fe.test(i.type || "") && n.push(i);
            return c
        },
        cleanData: function(e) {
            for (var t, n, r, i, o = Z.event.special, s = 0; void 0 !== (n = e[s]); s++) {
                if (Z.acceptData(n) && (i = n[ve.expando], i && (t = ve.cache[i]))) {
                    if (t.events)
                        for (r in t.events) o[r] ? Z.event.remove(n, r) : Z.removeEvent(n, r, t.handle);
                    ve.cache[i] && delete ve.cache[i]
                }
                delete ye.cache[n[ye.expando]]
            }
        }
    }), Z.fn.extend({
        text: function(e) {
            return me(this, function(e) {
                return void 0 === e ? Z.text(this) : this.empty().each(function() {
                    1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = e)
                })
            }, null, e, arguments.length)
        },
        append: function() {
            return this.domManip(arguments, function(e) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var t = p(this, e);
                    t.appendChild(e)
                }
            })
        },
        prepend: function() {
            return this.domManip(arguments, function(e) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var t = p(this, e);
                    t.insertBefore(e, t.firstChild)
                }
            })
        },
        before: function() {
            return this.domManip(arguments, function(e) {
                this.parentNode && this.parentNode.insertBefore(e, this)
            })
        },
        after: function() {
            return this.domManip(arguments, function(e) {
                this.parentNode && this.parentNode.insertBefore(e, this.nextSibling)
            })
        },
        remove: function(e, t) {
            for (var n, r = e ? Z.filter(e, this) : this, i = 0; null != (n = r[i]); i++) t || 1 !== n.nodeType || Z.cleanData(v(n)), n.parentNode && (t && Z.contains(n.ownerDocument, n) && g(v(n, "script")), n.parentNode.removeChild(n));
            return this
        },
        empty: function() {
            for (var e, t = 0; null != (e = this[t]); t++) 1 === e.nodeType && (Z.cleanData(v(e, !1)), e.textContent = "");
            return this
        },
        clone: function(e, t) {
            return e = null != e && e, t = null == t ? e : t, this.map(function() {
                return Z.clone(this, e, t)
            })
        },
        html: function(e) {
            return me(this, function(e) {
                var t = this[0] || {},
                    n = 0,
                    r = this.length;
                if (void 0 === e && 1 === t.nodeType) return t.innerHTML;
                if ("string" == typeof e && !He.test(e) && !Re[(Le.exec(e) || ["", ""])[1].toLowerCase()]) {
                    e = e.replace(Ae, "<$1></$2>");
                    try {
                        for (; n < r; n++) t = this[n] || {}, 1 === t.nodeType && (Z.cleanData(v(t, !1)), t.innerHTML = e);
                        t = 0
                    } catch (i) {}
                }
                t && this.empty().append(e)
            }, null, e, arguments.length)
        },
        replaceWith: function() {
            var e = arguments[0];
            return this.domManip(arguments, function(t) {
                e = this.parentNode, Z.cleanData(v(this)), e && e.replaceChild(t, this)
            }), e && (e.length || e.nodeType) ? this : this.remove()
        },
        detach: function(e) {
            return this.remove(e, !0)
        },
        domManip: function(e, t) {
            e = z.apply([], e);
            var n, r, i, o, s, a, u = 0,
                l = this.length,
                c = this,
                f = l - 1,
                p = e[0],
                g = Z.isFunction(p);
            if (g || l > 1 && "string" == typeof p && !Q.checkClone && Oe.test(p)) return this.each(function(n) {
                var r = c.eq(n);
                g && (e[0] = p.call(this, n, r.html())), r.domManip(e, t)
            });
            if (l && (n = Z.buildFragment(e, this[0].ownerDocument, !1, this), r = n.firstChild, 1 === n.childNodes.length && (n = r), r)) {
                for (i = Z.map(v(n, "script"), d), o = i.length; u < l; u++) s = n, u !== f && (s = Z.clone(s, !0, !0), o && Z.merge(i, v(s, "script"))), t.call(this[u], s, u);
                if (o)
                    for (a = i[i.length - 1].ownerDocument, Z.map(i, h), u = 0; u < o; u++) s = i[u], Fe.test(s.type || "") && !ve.access(s, "globalEval") && Z.contains(a, s) && (s.src ? Z._evalUrl && Z._evalUrl(s.src) : Z.globalEval(s.textContent.replace(Me, "")))
            }
            return this
        }
    }), Z.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function(e, t) {
        Z.fn[e] = function(e) {
            for (var n, r = [], i = Z(e), o = i.length - 1, s = 0; s <= o; s++) n = s === o ? this : this.clone(!0), Z(i[s])[t](n), X.apply(r, n.get());
            return this.pushStack(r)
        }
    });
    var We, $e = {},
        Be = /^margin/,
        Ie = new RegExp("^(" + we + ")(?!px)[a-z%]+$", "i"),
        _e = function(e) {
            return e.ownerDocument.defaultView.getComputedStyle(e, null)
        };
    ! function() {
        function t() {
            s.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute", s.innerHTML = "", i.appendChild(o);
            var t = e.getComputedStyle(s, null);
            n = "1%" !== t.top, r = "4px" === t.width, i.removeChild(o)
        }
        var n, r, i = J.documentElement,
            o = J.createElement("div"),
            s = J.createElement("div");
        s.style && (s.style.backgroundClip = "content-box", s.cloneNode(!0).style.backgroundClip = "", Q.clearCloneStyle = "content-box" === s.style.backgroundClip, o.style.cssText = "border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute", o.appendChild(s), e.getComputedStyle && Z.extend(Q, {
            pixelPosition: function() {
                return t(), n
            },
            boxSizingReliable: function() {
                return null == r && t(), r
            },
            reliableMarginRight: function() {
                var t, n = s.appendChild(J.createElement("div"));
                return n.style.cssText = s.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0", n.style.marginRight = n.style.width = "0", s.style.width = "1px", i.appendChild(o), t = !parseFloat(e.getComputedStyle(n, null).marginRight), i.removeChild(o), t
            }
        }))
    }(), Z.swap = function(e, t, n, r) {
        var i, o, s = {};
        for (o in t) s[o] = e.style[o], e.style[o] = t[o];
        i = n.apply(e, r || []);
        for (o in t) e.style[o] = s[o];
        return i
    };
    var ze = /^(none|table(?!-c[ea]).+)/,
        Xe = new RegExp("^(" + we + ")(.*)$", "i"),
        Ue = new RegExp("^([+-])=(" + we + ")", "i"),
        Ve = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        },
        Ye = {
            letterSpacing: "0",
            fontWeight: "400"
        },
        Ge = ["Webkit", "O", "Moz", "ms"];
    Z.extend({
        cssHooks: {
            opacity: {
                get: function(e, t) {
                    if (t) {
                        var n = w(e, "opacity");
                        return "" === n ? "1" : n
                    }
                }
            }
        },
        cssNumber: {
            columnCount: !0,
            fillOpacity: !0,
            flexGrow: !0,
            flexShrink: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            "float": "cssFloat"
        },
        style: function(e, t, n, r) {
            if (e && 3 !== e.nodeType && 8 !== e.nodeType && e.style) {
                var i, o, s, a = Z.camelCase(t),
                    u = e.style;
                return t = Z.cssProps[a] || (Z.cssProps[a] = C(u, a)), s = Z.cssHooks[t] || Z.cssHooks[a], void 0 === n ? s && "get" in s && void 0 !== (i = s.get(e, !1, r)) ? i : u[t] : (o = typeof n, "string" === o && (i = Ue.exec(n)) && (n = (i[1] + 1) * i[2] + parseFloat(Z.css(e, t)), o = "number"), null != n && n === n && ("number" !== o || Z.cssNumber[a] || (n += "px"), Q.clearCloneStyle || "" !== n || 0 !== t.indexOf("background") || (u[t] = "inherit"), s && "set" in s && void 0 === (n = s.set(e, n, r)) || (u[t] = n)), void 0)
            }
        },
        css: function(e, t, n, r) {
            var i, o, s, a = Z.camelCase(t);
            return t = Z.cssProps[a] || (Z.cssProps[a] = C(e.style, a)), s = Z.cssHooks[t] || Z.cssHooks[a], s && "get" in s && (i = s.get(e, !0, n)), void 0 === i && (i = w(e, t, r)), "normal" === i && t in Ye && (i = Ye[t]), "" === n || n ? (o = parseFloat(i), n === !0 || Z.isNumeric(o) ? o || 0 : i) : i
        }
    }), Z.each(["height", "width"], function(e, t) {
        Z.cssHooks[t] = {
            get: function(e, n, r) {
                if (n) return ze.test(Z.css(e, "display")) && 0 === e.offsetWidth ? Z.swap(e, Ve, function() {
                    return E(e, t, r)
                }) : E(e, t, r)
            },
            set: function(e, n, r) {
                var i = r && _e(e);
                return N(e, n, r ? k(e, t, r, "border-box" === Z.css(e, "boxSizing", !1, i), i) : 0)
            }
        }
    }), Z.cssHooks.marginRight = T(Q.reliableMarginRight, function(e, t) {
        if (t) return Z.swap(e, {
            display: "inline-block"
        }, w, [e, "marginRight"])
    }), Z.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function(e, t) {
        Z.cssHooks[e + t] = {
            expand: function(n) {
                for (var r = 0, i = {}, o = "string" == typeof n ? n.split(" ") : [n]; r < 4; r++) i[e + Te[r] + t] = o[r] || o[r - 2] || o[0];
                return i
            }
        }, Be.test(e) || (Z.cssHooks[e + t].set = N)
    }), Z.fn.extend({
        css: function(e, t) {
            return me(this, function(e, t, n) {
                var r, i, o = {},
                    s = 0;
                if (Z.isArray(t)) {
                    for (r = _e(e), i = t.length; s < i; s++) o[t[s]] = Z.css(e, t[s], !1, r);
                    return o
                }
                return void 0 !== n ? Z.style(e, t, n) : Z.css(e, t)
            }, e, t, arguments.length > 1)
        },
        show: function() {
            return S(this, !0)
        },
        hide: function() {
            return S(this)
        },
        toggle: function(e) {
            return "boolean" == typeof e ? e ? this.show() : this.hide() : this.each(function() {
                Ce(this) ? Z(this).show() : Z(this).hide()
            })
        }
    }), Z.Tween = j, j.prototype = {
        constructor: j,
        init: function(e, t, n, r, i, o) {
            this.elem = e, this.prop = n, this.easing = i || "swing", this.options = t, this.start = this.now = this.cur(), this.end = r, this.unit = o || (Z.cssNumber[n] ? "" : "px")
        },
        cur: function() {
            var e = j.propHooks[this.prop];
            return e && e.get ? e.get(this) : j.propHooks._default.get(this)
        },
        run: function(e) {
            var t, n = j.propHooks[this.prop];
            return this.options.duration ? this.pos = t = Z.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration) : this.pos = t = e, this.now = (this.end - this.start) * t + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), n && n.set ? n.set(this) : j.propHooks._default.set(this), this
        }
    }, j.prototype.init.prototype = j.prototype, j.propHooks = {
        _default: {
            get: function(e) {
                var t;
                return null == e.elem[e.prop] || e.elem.style && null != e.elem.style[e.prop] ? (t = Z.css(e.elem, e.prop, ""), t && "auto" !== t ? t : 0) : e.elem[e.prop]
            },
            set: function(e) {
                Z.fx.step[e.prop] ? Z.fx.step[e.prop](e) : e.elem.style && (null != e.elem.style[Z.cssProps[e.prop]] || Z.cssHooks[e.prop]) ? Z.style(e.elem, e.prop, e.now + e.unit) : e.elem[e.prop] = e.now
            }
        }
    }, j.propHooks.scrollTop = j.propHooks.scrollLeft = {
        set: function(e) {
            e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now)
        }
    }, Z.easing = {
        linear: function(e) {
            return e
        },
        swing: function(e) {
            return .5 - Math.cos(e * Math.PI) / 2
        }
    }, Z.fx = j.prototype.init, Z.fx.step = {};
    var Qe, Je, Ke = /^(?:toggle|show|hide)$/,
        Ze = new RegExp("^(?:([+-])=|)(" + we + ")([a-z%]*)$", "i"),
        et = /queueHooks$/,
        tt = [q],
        nt = {
            "*": [function(e, t) {
                var n = this.createTween(e, t),
                    r = n.cur(),
                    i = Ze.exec(t),
                    o = i && i[3] || (Z.cssNumber[e] ? "" : "px"),
                    s = (Z.cssNumber[e] || "px" !== o && +r) && Ze.exec(Z.css(n.elem, e)),
                    a = 1,
                    u = 20;
                if (s && s[3] !== o) {
                    o = o || s[3], i = i || [], s = +r || 1;
                    do a = a || ".5", s /= a, Z.style(n.elem, e, s + o); while (a !== (a = n.cur() / r) && 1 !== a && --u)
                }
                return i && (s = n.start = +s || +r || 0, n.unit = o, n.end = i[1] ? s + (i[1] + 1) * i[2] : +i[2]), n
            }]
        };
    Z.Animation = Z.extend(O, {
            tweener: function(e, t) {
                Z.isFunction(e) ? (t = e, e = ["*"]) : e = e.split(" ");
                for (var n, r = 0, i = e.length; r < i; r++) n = e[r], nt[n] = nt[n] || [], nt[n].unshift(t)
            },
            prefilter: function(e, t) {
                t ? tt.unshift(e) : tt.push(e)
            }
        }), Z.speed = function(e, t, n) {
            var r = e && "object" == typeof e ? Z.extend({}, e) : {
                complete: n || !n && t || Z.isFunction(e) && e,
                duration: e,
                easing: n && t || t && !Z.isFunction(t) && t
            };
            return r.duration = Z.fx.off ? 0 : "number" == typeof r.duration ? r.duration : r.duration in Z.fx.speeds ? Z.fx.speeds[r.duration] : Z.fx.speeds._default, null != r.queue && r.queue !== !0 || (r.queue = "fx"), r.old = r.complete, r.complete = function() {
                Z.isFunction(r.old) && r.old.call(this), r.queue && Z.dequeue(this, r.queue)
            }, r
        }, Z.fn.extend({
            fadeTo: function(e, t, n, r) {
                return this.filter(Ce).css("opacity", 0).show().end().animate({
                    opacity: t
                }, e, n, r)
            },
            animate: function(e, t, n, r) {
                var i = Z.isEmptyObject(e),
                    o = Z.speed(t, n, r),
                    s = function() {
                        var t = O(this, Z.extend({}, e), o);
                        (i || ve.get(this, "finish")) && t.stop(!0)
                    };
                return s.finish = s, i || o.queue === !1 ? this.each(s) : this.queue(o.queue, s)
            },
            stop: function(e, t, n) {
                var r = function(e) {
                    var t = e.stop;
                    delete e.stop, t(n)
                };
                return "string" != typeof e && (n = t, t = e, e = void 0), t && e !== !1 && this.queue(e || "fx", []), this.each(function() {
                    var t = !0,
                        i = null != e && e + "queueHooks",
                        o = Z.timers,
                        s = ve.get(this);
                    if (i) s[i] && s[i].stop && r(s[i]);
                    else
                        for (i in s) s[i] && s[i].stop && et.test(i) && r(s[i]);
                    for (i = o.length; i--;) o[i].elem !== this || null != e && o[i].queue !== e || (o[i].anim.stop(n), t = !1, o.splice(i, 1));
                    !t && n || Z.dequeue(this, e)
                })
            },
            finish: function(e) {
                return e !== !1 && (e = e || "fx"), this.each(function() {
                    var t, n = ve.get(this),
                        r = n[e + "queue"],
                        i = n[e + "queueHooks"],
                        o = Z.timers,
                        s = r ? r.length : 0;
                    for (n.finish = !0, Z.queue(this, e, []), i && i.stop && i.stop.call(this, !0), t = o.length; t--;) o[t].elem === this && o[t].queue === e && (o[t].anim.stop(!0), o.splice(t, 1));
                    for (t = 0; t < s; t++) r[t] && r[t].finish && r[t].finish.call(this);
                    delete n.finish
                })
            }
        }), Z.each(["toggle", "show", "hide"], function(e, t) {
            var n = Z.fn[t];
            Z.fn[t] = function(e, r, i) {
                return null == e || "boolean" == typeof e ? n.apply(this, arguments) : this.animate(A(t, !0), e, r, i)
            }
        }), Z.each({
            slideDown: A("show"),
            slideUp: A("hide"),
            slideToggle: A("toggle"),
            fadeIn: {
                opacity: "show"
            },
            fadeOut: {
                opacity: "hide"
            },
            fadeToggle: {
                opacity: "toggle"
            }
        }, function(e, t) {
            Z.fn[e] = function(e, n, r) {
                return this.animate(t, e, n, r)
            }
        }), Z.timers = [], Z.fx.tick = function() {
            var e, t = 0,
                n = Z.timers;
            for (Qe = Z.now(); t < n.length; t++) e = n[t], e() || n[t] !== e || n.splice(t--, 1);
            n.length || Z.fx.stop(), Qe = void 0
        }, Z.fx.timer = function(e) {
            Z.timers.push(e), e() ? Z.fx.start() : Z.timers.pop()
        }, Z.fx.interval = 13, Z.fx.start = function() {
            Je || (Je = setInterval(Z.fx.tick, Z.fx.interval))
        }, Z.fx.stop = function() {
            clearInterval(Je), Je = null
        }, Z.fx.speeds = {
            slow: 600,
            fast: 200,
            _default: 400
        }, Z.fn.delay = function(e, t) {
            return e = Z.fx ? Z.fx.speeds[e] || e : e, t = t || "fx", this.queue(t, function(t, n) {
                var r = setTimeout(t, e);
                n.stop = function() {
                    clearTimeout(r)
                }
            })
        },
        function() {
            var e = J.createElement("input"),
                t = J.createElement("select"),
                n = t.appendChild(J.createElement("option"));
            e.type = "checkbox", Q.checkOn = "" !== e.value, Q.optSelected = n.selected, t.disabled = !0, Q.optDisabled = !n.disabled, e = J.createElement("input"), e.value = "t", e.type = "radio", Q.radioValue = "t" === e.value
        }();
    var rt, it, ot = Z.expr.attrHandle;
    Z.fn.extend({
        attr: function(e, t) {
            return me(this, Z.attr, e, t, arguments.length > 1)
        },
        removeAttr: function(e) {
            return this.each(function() {
                Z.removeAttr(this, e)
            })
        }
    }), Z.extend({
        attr: function(e, t, n) {
            var r, i, o = e.nodeType;
            if (e && 3 !== o && 8 !== o && 2 !== o) return typeof e.getAttribute === ke ? Z.prop(e, t, n) : (1 === o && Z.isXMLDoc(e) || (t = t.toLowerCase(), r = Z.attrHooks[t] || (Z.expr.match.bool.test(t) ? it : rt)), void 0 === n ? r && "get" in r && null !== (i = r.get(e, t)) ? i : (i = Z.find.attr(e, t), null == i ? void 0 : i) : null !== n ? r && "set" in r && void 0 !== (i = r.set(e, n, t)) ? i : (e.setAttribute(t, n + ""), n) : void Z.removeAttr(e, t))
        },
        removeAttr: function(e, t) {
            var n, r, i = 0,
                o = t && t.match(de);
            if (o && 1 === e.nodeType)
                for (; n = o[i++];) r = Z.propFix[n] || n, Z.expr.match.bool.test(n) && (e[r] = !1), e.removeAttribute(n)
        },
        attrHooks: {
            type: {
                set: function(e, t) {
                    if (!Q.radioValue && "radio" === t && Z.nodeName(e, "input")) {
                        var n = e.value;
                        return e.setAttribute("type", t), n && (e.value = n), t
                    }
                }
            }
        }
    }), it = {
        set: function(e, t, n) {
            return t === !1 ? Z.removeAttr(e, n) : e.setAttribute(n, n), n
        }
    }, Z.each(Z.expr.match.bool.source.match(/\w+/g), function(e, t) {
        var n = ot[t] || Z.find.attr;
        ot[t] = function(e, t, r) {
            var i, o;
            return r || (o = ot[t], ot[t] = i, i = null != n(e, t, r) ? t.toLowerCase() : null, ot[t] = o), i
        }
    });
    var st = /^(?:input|select|textarea|button)$/i;
    Z.fn.extend({
        prop: function(e, t) {
            return me(this, Z.prop, e, t, arguments.length > 1)
        },
        removeProp: function(e) {
            return this.each(function() {
                delete this[Z.propFix[e] || e]
            })
        }
    }), Z.extend({
        propFix: {
            "for": "htmlFor",
            "class": "className"
        },
        prop: function(e, t, n) {
            var r, i, o, s = e.nodeType;
            if (e && 3 !== s && 8 !== s && 2 !== s) return o = 1 !== s || !Z.isXMLDoc(e), o && (t = Z.propFix[t] || t, i = Z.propHooks[t]), void 0 !== n ? i && "set" in i && void 0 !== (r = i.set(e, n, t)) ? r : e[t] = n : i && "get" in i && null !== (r = i.get(e, t)) ? r : e[t]
        },
        propHooks: {
            tabIndex: {
                get: function(e) {
                    return e.hasAttribute("tabindex") || st.test(e.nodeName) || e.href ? e.tabIndex : -1
                }
            }
        }
    }), Q.optSelected || (Z.propHooks.selected = {
        get: function(e) {
            var t = e.parentNode;
            return t && t.parentNode && t.parentNode.selectedIndex, null
        }
    }), Z.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
        Z.propFix[this.toLowerCase()] = this
    });
    var at = /[\t\r\n\f]/g;
    Z.fn.extend({
        addClass: function(e) {
            var t, n, r, i, o, s, a = "string" == typeof e && e,
                u = 0,
                l = this.length;
            if (Z.isFunction(e)) return this.each(function(t) {
                Z(this).addClass(e.call(this, t, this.className))
            });
            if (a)
                for (t = (e || "").match(de) || []; u < l; u++)
                    if (n = this[u], r = 1 === n.nodeType && (n.className ? (" " + n.className + " ").replace(at, " ") : " ")) {
                        for (o = 0; i = t[o++];) r.indexOf(" " + i + " ") < 0 && (r += i + " ");
                        s = Z.trim(r), n.className !== s && (n.className = s)
                    }
            return this
        },
        removeClass: function(e) {
            var t, n, r, i, o, s, a = 0 === arguments.length || "string" == typeof e && e,
                u = 0,
                l = this.length;
            if (Z.isFunction(e)) return this.each(function(t) {
                Z(this).removeClass(e.call(this, t, this.className))
            });
            if (a)
                for (t = (e || "").match(de) || []; u < l; u++)
                    if (n = this[u], r = 1 === n.nodeType && (n.className ? (" " + n.className + " ").replace(at, " ") : "")) {
                        for (o = 0; i = t[o++];)
                            for (; r.indexOf(" " + i + " ") >= 0;) r = r.replace(" " + i + " ", " ");
                        s = e ? Z.trim(r) : "", n.className !== s && (n.className = s)
                    }
            return this
        },
        toggleClass: function(e, t) {
            var n = typeof e;
            return "boolean" == typeof t && "string" === n ? t ? this.addClass(e) : this.removeClass(e) : Z.isFunction(e) ? this.each(function(n) {
                Z(this).toggleClass(e.call(this, n, this.className, t), t)
            }) : this.each(function() {
                if ("string" === n)
                    for (var t, r = 0, i = Z(this), o = e.match(de) || []; t = o[r++];) i.hasClass(t) ? i.removeClass(t) : i.addClass(t);
                else n !== ke && "boolean" !== n || (this.className && ve.set(this, "__className__", this.className), this.className = this.className || e === !1 ? "" : ve.get(this, "__className__") || "")
            })
        },
        hasClass: function(e) {
            for (var t = " " + e + " ", n = 0, r = this.length; n < r; n++)
                if (1 === this[n].nodeType && (" " + this[n].className + " ").replace(at, " ").indexOf(t) >= 0) return !0;
            return !1
        }
    });
    var ut = /\r/g;
    Z.fn.extend({
        val: function(e) {
            var t, n, r, i = this[0]; {
                if (arguments.length) return r = Z.isFunction(e), this.each(function(n) {
                    var i;
                    1 === this.nodeType && (i = r ? e.call(this, n, Z(this).val()) : e, null == i ? i = "" : "number" == typeof i ? i += "" : Z.isArray(i) && (i = Z.map(i, function(e) {
                        return null == e ? "" : e + ""
                    })), t = Z.valHooks[this.type] || Z.valHooks[this.nodeName.toLowerCase()], t && "set" in t && void 0 !== t.set(this, i, "value") || (this.value = i))
                });
                if (i) return t = Z.valHooks[i.type] || Z.valHooks[i.nodeName.toLowerCase()], t && "get" in t && void 0 !== (n = t.get(i, "value")) ? n : (n = i.value, "string" == typeof n ? n.replace(ut, "") : null == n ? "" : n)
            }
        }
    }), Z.extend({
        valHooks: {
            option: {
                get: function(e) {
                    var t = Z.find.attr(e, "value");
                    return null != t ? t : Z.trim(Z.text(e))
                }
            },
            select: {
                get: function(e) {
                    for (var t, n, r = e.options, i = e.selectedIndex, o = "select-one" === e.type || i < 0, s = o ? null : [], a = o ? i + 1 : r.length, u = i < 0 ? a : o ? i : 0; u < a; u++)
                        if (n = r[u], (n.selected || u === i) && (Q.optDisabled ? !n.disabled : null === n.getAttribute("disabled")) && (!n.parentNode.disabled || !Z.nodeName(n.parentNode, "optgroup"))) {
                            if (t = Z(n).val(), o) return t;
                            s.push(t)
                        }
                    return s
                },
                set: function(e, t) {
                    for (var n, r, i = e.options, o = Z.makeArray(t), s = i.length; s--;) r = i[s], (r.selected = Z.inArray(r.value, o) >= 0) && (n = !0);
                    return n || (e.selectedIndex = -1), o
                }
            }
        }
    }), Z.each(["radio", "checkbox"], function() {
        Z.valHooks[this] = {
            set: function(e, t) {
                if (Z.isArray(t)) return e.checked = Z.inArray(Z(e).val(), t) >= 0
            }
        }, Q.checkOn || (Z.valHooks[this].get = function(e) {
            return null === e.getAttribute("value") ? "on" : e.value
        })
    }), Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(e, t) {
        Z.fn[t] = function(e, n) {
            return arguments.length > 0 ? this.on(t, null, e, n) : this.trigger(t)
        }
    }), Z.fn.extend({
        hover: function(e, t) {
            return this.mouseenter(e).mouseleave(t || e)
        },
        bind: function(e, t, n) {
            return this.on(e, null, t, n)
        },
        unbind: function(e, t) {
            return this.off(e, null, t)
        },
        delegate: function(e, t, n, r) {
            return this.on(t, e, n, r)
        },
        undelegate: function(e, t, n) {
            return 1 === arguments.length ? this.off(e, "**") : this.off(t, e || "**", n)
        }
    });
    var lt = Z.now(),
        ct = /\?/;
    Z.parseJSON = function(e) {
        return JSON.parse(e + "")
    }, Z.parseXML = function(e) {
        var t, n;
        if (!e || "string" != typeof e) return null;
        try {
            n = new DOMParser, t = n.parseFromString(e, "text/xml")
        } catch (r) {
            t = void 0
        }
        return t && !t.getElementsByTagName("parsererror").length || Z.error("Invalid XML: " + e), t
    };
    var ft, pt, dt = /#.*$/,
        ht = /([?&])_=[^&]*/,
        gt = /^(.*?):[ \t]*([^\r\n]*)$/gm,
        mt = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
        vt = /^(?:GET|HEAD)$/,
        yt = /^\/\//,
        xt = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,
        bt = {},
        wt = {},
        Tt = "*/".concat("*");
    try {
        pt = location.href
    } catch (Ct) {
        pt = J.createElement("a"), pt.href = "", pt = pt.href
    }
    ft = xt.exec(pt.toLowerCase()) || [], Z.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: pt,
            type: "GET",
            isLocal: mt.test(ft[1]),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": Tt,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /xml/,
                html: /html/,
                json: /json/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": !0,
                "text json": Z.parseJSON,
                "text xml": Z.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function(e, t) {
            return t ? M(M(e, Z.ajaxSettings), t) : M(Z.ajaxSettings, e)
        },
        ajaxPrefilter: F(bt),
        ajaxTransport: F(wt),
        ajax: function(e, t) {
            function n(e, t, n, s) {
                var u, c, v, y, b, T = t;
                2 !== x && (x = 2, a && clearTimeout(a), r = void 0, o = s || "", w.readyState = e > 0 ? 4 : 0, u = e >= 200 && e < 300 || 304 === e, n && (y = R(f, w, n)), y = W(f, y, w, u), u ? (f.ifModified && (b = w.getResponseHeader("Last-Modified"), b && (Z.lastModified[i] = b), b = w.getResponseHeader("etag"), b && (Z.etag[i] = b)), 204 === e || "HEAD" === f.type ? T = "nocontent" : 304 === e ? T = "notmodified" : (T = y.state, c = y.data, v = y.error, u = !v)) : (v = T, !e && T || (T = "error", e < 0 && (e = 0))), w.status = e, w.statusText = (t || T) + "", u ? h.resolveWith(p, [c, T, w]) : h.rejectWith(p, [w, T, v]), w.statusCode(m), m = void 0, l && d.trigger(u ? "ajaxSuccess" : "ajaxError", [w, f, u ? c : v]), g.fireWith(p, [w, T]), l && (d.trigger("ajaxComplete", [w, f]), --Z.active || Z.event.trigger("ajaxStop")))
            }
            "object" == typeof e && (t = e, e = void 0), t = t || {};
            var r, i, o, s, a, u, l, c, f = Z.ajaxSetup({}, t),
                p = f.context || f,
                d = f.context && (p.nodeType || p.jquery) ? Z(p) : Z.event,
                h = Z.Deferred(),
                g = Z.Callbacks("once memory"),
                m = f.statusCode || {},
                v = {},
                y = {},
                x = 0,
                b = "canceled",
                w = {
                    readyState: 0,
                    getResponseHeader: function(e) {
                        var t;
                        if (2 === x) {
                            if (!s)
                                for (s = {}; t = gt.exec(o);) s[t[1].toLowerCase()] = t[2];
                            t = s[e.toLowerCase()]
                        }
                        return null == t ? null : t
                    },
                    getAllResponseHeaders: function() {
                        return 2 === x ? o : null
                    },
                    setRequestHeader: function(e, t) {
                        var n = e.toLowerCase();
                        return x || (e = y[n] = y[n] || e, v[e] = t), this
                    },
                    overrideMimeType: function(e) {
                        return x || (f.mimeType = e), this
                    },
                    statusCode: function(e) {
                        var t;
                        if (e)
                            if (x < 2)
                                for (t in e) m[t] = [m[t], e[t]];
                            else w.always(e[w.status]);
                        return this
                    },
                    abort: function(e) {
                        var t = e || b;
                        return r && r.abort(t), n(0, t), this
                    }
                };
            if (h.promise(w).complete = g.add, w.success = w.done, w.error = w.fail, f.url = ((e || f.url || pt) + "").replace(dt, "").replace(yt, ft[1] + "//"), f.type = t.method || t.type || f.method || f.type, f.dataTypes = Z.trim(f.dataType || "*").toLowerCase().match(de) || [""], null == f.crossDomain && (u = xt.exec(f.url.toLowerCase()), f.crossDomain = !(!u || u[1] === ft[1] && u[2] === ft[2] && (u[3] || ("http:" === u[1] ? "80" : "443")) === (ft[3] || ("http:" === ft[1] ? "80" : "443")))), f.data && f.processData && "string" != typeof f.data && (f.data = Z.param(f.data, f.traditional)), P(bt, f, t, w), 2 === x) return w;
            l = f.global, l && 0 === Z.active++ && Z.event.trigger("ajaxStart"), f.type = f.type.toUpperCase(), f.hasContent = !vt.test(f.type), i = f.url, f.hasContent || (f.data && (i = f.url += (ct.test(i) ? "&" : "?") + f.data, delete f.data), f.cache === !1 && (f.url = ht.test(i) ? i.replace(ht, "$1_=" + lt++) : i + (ct.test(i) ? "&" : "?") + "_=" + lt++)), f.ifModified && (Z.lastModified[i] && w.setRequestHeader("If-Modified-Since", Z.lastModified[i]), Z.etag[i] && w.setRequestHeader("If-None-Match", Z.etag[i])), (f.data && f.hasContent && f.contentType !== !1 || t.contentType) && w.setRequestHeader("Content-Type", f.contentType), w.setRequestHeader("Accept", f.dataTypes[0] && f.accepts[f.dataTypes[0]] ? f.accepts[f.dataTypes[0]] + ("*" !== f.dataTypes[0] ? ", " + Tt + "; q=0.01" : "") : f.accepts["*"]);
            for (c in f.headers) w.setRequestHeader(c, f.headers[c]);
            if (f.beforeSend && (f.beforeSend.call(p, w, f) === !1 || 2 === x)) return w.abort();
            b = "abort";
            for (c in {
                    success: 1,
                    error: 1,
                    complete: 1
                }) w[c](f[c]);
            if (r = P(wt, f, t, w)) {
                w.readyState = 1, l && d.trigger("ajaxSend", [w, f]), f.async && f.timeout > 0 && (a = setTimeout(function() {
                    w.abort("timeout")
                }, f.timeout));
                try {
                    x = 1, r.send(v, n)
                } catch (T) {
                    if (!(x < 2)) throw T;
                    n(-1, T)
                }
            } else n(-1, "No Transport");
            return w
        },
        getJSON: function(e, t, n) {
            return Z.get(e, t, n, "json")
        },
        getScript: function(e, t) {
            return Z.get(e, void 0, t, "script")
        }
    }), Z.each(["get", "post"], function(e, t) {
        Z[t] = function(e, n, r, i) {
            return Z.isFunction(n) && (i = i || r, r = n, n = void 0), Z.ajax({
                url: e,
                type: t,
                dataType: i,
                data: n,
                success: r
            })
        }
    }), Z.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(e, t) {
        Z.fn[t] = function(e) {
            return this.on(t, e)
        }
    }), Z._evalUrl = function(e) {
        return Z.ajax({
            url: e,
            type: "GET",
            dataType: "script",
            async: !1,
            global: !1,
            "throws": !0
        })
    }, Z.fn.extend({
        wrapAll: function(e) {
            var t;
            return Z.isFunction(e) ? this.each(function(t) {
                Z(this).wrapAll(e.call(this, t))
            }) : (this[0] && (t = Z(e, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && t.insertBefore(this[0]), t.map(function() {
                for (var e = this; e.firstElementChild;) e = e.firstElementChild;
                return e
            }).append(this)), this)
        },
        wrapInner: function(e) {
            return Z.isFunction(e) ? this.each(function(t) {
                Z(this).wrapInner(e.call(this, t))
            }) : this.each(function() {
                var t = Z(this),
                    n = t.contents();
                n.length ? n.wrapAll(e) : t.append(e)
            })
        },
        wrap: function(e) {
            var t = Z.isFunction(e);
            return this.each(function(n) {
                Z(this).wrapAll(t ? e.call(this, n) : e)
            })
        },
        unwrap: function() {
            return this.parent().each(function() {
                Z.nodeName(this, "body") || Z(this).replaceWith(this.childNodes)
            }).end()
        }
    }), Z.expr.filters.hidden = function(e) {
        return e.offsetWidth <= 0 && e.offsetHeight <= 0
    }, Z.expr.filters.visible = function(e) {
        return !Z.expr.filters.hidden(e)
    };
    var Nt = /%20/g,
        kt = /\[\]$/,
        Et = /\r?\n/g,
        St = /^(?:submit|button|image|reset|file)$/i,
        jt = /^(?:input|select|textarea|keygen)/i;
    Z.param = function(e, t) {
        var n, r = [],
            i = function(e, t) {
                t = Z.isFunction(t) ? t() : null == t ? "" : t, r[r.length] = encodeURIComponent(e) + "=" + encodeURIComponent(t)
            };
        if (void 0 === t && (t = Z.ajaxSettings && Z.ajaxSettings.traditional), Z.isArray(e) || e.jquery && !Z.isPlainObject(e)) Z.each(e, function() {
            i(this.name, this.value)
        });
        else
            for (n in e) $(n, e[n], t, i);
        return r.join("&").replace(Nt, "+")
    }, Z.fn.extend({
        serialize: function() {
            return Z.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map(function() {
                var e = Z.prop(this, "elements");
                return e ? Z.makeArray(e) : this
            }).filter(function() {
                var e = this.type;
                return this.name && !Z(this).is(":disabled") && jt.test(this.nodeName) && !St.test(e) && (this.checked || !Ne.test(e))
            }).map(function(e, t) {
                var n = Z(this).val();
                return null == n ? null : Z.isArray(n) ? Z.map(n, function(e) {
                    return {
                        name: t.name,
                        value: e.replace(Et, "\r\n")
                    }
                }) : {
                    name: t.name,
                    value: n.replace(Et, "\r\n")
                }
            }).get()
        }
    }), Z.ajaxSettings.xhr = function() {
        try {
            return new XMLHttpRequest
        } catch (e) {}
    };
    var Dt = 0,
        At = {},
        Lt = {
            0: 200,
            1223: 204
        },
        qt = Z.ajaxSettings.xhr();
    e.ActiveXObject && Z(e).on("unload", function() {
        for (var e in At) At[e]()
    }), Q.cors = !!qt && "withCredentials" in qt, Q.ajax = qt = !!qt, Z.ajaxTransport(function(e) {
        var t;
        if (Q.cors || qt && !e.crossDomain) return {
            send: function(n, r) {
                var i, o = e.xhr(),
                    s = ++Dt;
                if (o.open(e.type, e.url, e.async, e.username, e.password), e.xhrFields)
                    for (i in e.xhrFields) o[i] = e.xhrFields[i];
                e.mimeType && o.overrideMimeType && o.overrideMimeType(e.mimeType), e.crossDomain || n["X-Requested-With"] || (n["X-Requested-With"] = "XMLHttpRequest");
                for (i in n) o.setRequestHeader(i, n[i]);
                t = function(e) {
                    return function() {
                        t && (delete At[s], t = o.onload = o.onerror = null, "abort" === e ? o.abort() : "error" === e ? r(o.status, o.statusText) : r(Lt[o.status] || o.status, o.statusText, "string" == typeof o.responseText ? {
                            text: o.responseText
                        } : void 0, o.getAllResponseHeaders()))
                    }
                }, o.onload = t(), o.onerror = t("error"), t = At[s] = t("abort");
                try {
                    o.send(e.hasContent && e.data || null)
                } catch (a) {
                    if (t) throw a
                }
            },
            abort: function() {
                t && t()
            }
        }
    }), Z.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /(?:java|ecma)script/
        },
        converters: {
            "text script": function(e) {
                return Z.globalEval(e), e
            }
        }
    }), Z.ajaxPrefilter("script", function(e) {
        void 0 === e.cache && (e.cache = !1), e.crossDomain && (e.type = "GET")
    }), Z.ajaxTransport("script", function(e) {
        if (e.crossDomain) {
            var t, n;
            return {
                send: function(r, i) {
                    t = Z("<script>").prop({
                        async: !0,
                        charset: e.scriptCharset,
                        src: e.url
                    }).on("load error", n = function(e) {
                        t.remove(), n = null, e && i("error" === e.type ? 404 : 200, e.type)
                    }), J.head.appendChild(t[0])
                },
                abort: function() {
                    n && n()
                }
            }
        }
    });
    var Ht = [],
        Ot = /(=)\?(?=&|$)|\?\?/;
    Z.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var e = Ht.pop() || Z.expando + "_" + lt++;
            return this[e] = !0, e
        }
    }), Z.ajaxPrefilter("json jsonp", function(t, n, r) {
        var i, o, s, a = t.jsonp !== !1 && (Ot.test(t.url) ? "url" : "string" == typeof t.data && !(t.contentType || "").indexOf("application/x-www-form-urlencoded") && Ot.test(t.data) && "data");
        if (a || "jsonp" === t.dataTypes[0]) return i = t.jsonpCallback = Z.isFunction(t.jsonpCallback) ? t.jsonpCallback() : t.jsonpCallback, a ? t[a] = t[a].replace(Ot, "$1" + i) : t.jsonp !== !1 && (t.url += (ct.test(t.url) ? "&" : "?") + t.jsonp + "=" + i), t.converters["script json"] = function() {
            return s || Z.error(i + " was not called"), s[0]
        }, t.dataTypes[0] = "json", o = e[i], e[i] = function() {
            s = arguments
        }, r.always(function() {
            e[i] = o, t[i] && (t.jsonpCallback = n.jsonpCallback, Ht.push(i)), s && Z.isFunction(o) && o(s[0]), s = o = void 0
        }), "script"
    }), Z.parseHTML = function(e, t, n) {
        if (!e || "string" != typeof e) return null;
        "boolean" == typeof t && (n = t, t = !1), t = t || J;
        var r = se.exec(e),
            i = !n && [];
        return r ? [t.createElement(r[1])] : (r = Z.buildFragment([e], t, i), i && i.length && Z(i).remove(), Z.merge([], r.childNodes))
    };
    var Ft = Z.fn.load;
    Z.fn.load = function(e, t, n) {
        if ("string" != typeof e && Ft) return Ft.apply(this, arguments);
        var r, i, o, s = this,
            a = e.indexOf(" ");
        return a >= 0 && (r = Z.trim(e.slice(a)), e = e.slice(0, a)), Z.isFunction(t) ? (n = t, t = void 0) : t && "object" == typeof t && (i = "POST"), s.length > 0 && Z.ajax({
            url: e,
            type: i,
            dataType: "html",
            data: t
        }).done(function(e) {
            o = arguments, s.html(r ? Z("<div>").append(Z.parseHTML(e)).find(r) : e)
        }).complete(n && function(e, t) {
            s.each(n, o || [e.responseText, t, e])
        }), this
    }, Z.expr.filters.animated = function(e) {
        return Z.grep(Z.timers, function(t) {
            return e === t.elem
        }).length
    };
    var Pt = e.document.documentElement;
    Z.offset = {
        setOffset: function(e, t, n) {
            var r, i, o, s, a, u, l, c = Z.css(e, "position"),
                f = Z(e),
                p = {};
            "static" === c && (e.style.position = "relative"), a = f.offset(), o = Z.css(e, "top"), u = Z.css(e, "left"), l = ("absolute" === c || "fixed" === c) && (o + u).indexOf("auto") > -1, l ? (r = f.position(), s = r.top, i = r.left) : (s = parseFloat(o) || 0, i = parseFloat(u) || 0), Z.isFunction(t) && (t = t.call(e, n, a)), null != t.top && (p.top = t.top - a.top + s), null != t.left && (p.left = t.left - a.left + i), "using" in t ? t.using.call(e, p) : f.css(p)
        }
    }, Z.fn.extend({
        offset: function(e) {
            if (arguments.length) return void 0 === e ? this : this.each(function(t) {
                Z.offset.setOffset(this, e, t)
            });
            var t, n, r = this[0],
                i = {
                    top: 0,
                    left: 0
                },
                o = r && r.ownerDocument;
            if (o) return t = o.documentElement, Z.contains(t, r) ? (typeof r.getBoundingClientRect !== ke && (i = r.getBoundingClientRect()), n = B(o), {
                top: i.top + n.pageYOffset - t.clientTop,
                left: i.left + n.pageXOffset - t.clientLeft
            }) : i
        },
        position: function() {
            if (this[0]) {
                var e, t, n = this[0],
                    r = {
                        top: 0,
                        left: 0
                    };
                return "fixed" === Z.css(n, "position") ? t = n.getBoundingClientRect() : (e = this.offsetParent(), t = this.offset(), Z.nodeName(e[0], "html") || (r = e.offset()), r.top += Z.css(e[0], "borderTopWidth", !0), r.left += Z.css(e[0], "borderLeftWidth", !0)), {
                    top: t.top - r.top - Z.css(n, "marginTop", !0),
                    left: t.left - r.left - Z.css(n, "marginLeft", !0)
                }
            }
        },
        offsetParent: function() {
            return this.map(function() {
                for (var e = this.offsetParent || Pt; e && !Z.nodeName(e, "html") && "static" === Z.css(e, "position");) e = e.offsetParent;
                return e || Pt
            })
        }
    }), Z.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function(t, n) {
        var r = "pageYOffset" === n;
        Z.fn[t] = function(i) {
            return me(this, function(t, i, o) {
                var s = B(t);
                return void 0 === o ? s ? s[n] : t[i] : void(s ? s.scrollTo(r ? e.pageXOffset : o, r ? o : e.pageYOffset) : t[i] = o)
            }, t, i, arguments.length, null)
        }
    }), Z.each(["top", "left"], function(e, t) {
        Z.cssHooks[t] = T(Q.pixelPosition, function(e, n) {
            if (n) return n = w(e, t), Ie.test(n) ? Z(e).position()[t] + "px" : n
        })
    }), Z.each({
        Height: "height",
        Width: "width"
    }, function(e, t) {
        Z.each({
            padding: "inner" + e,
            content: t,
            "": "outer" + e
        }, function(n, r) {
            Z.fn[r] = function(r, i) {
                var o = arguments.length && (n || "boolean" != typeof r),
                    s = n || (r === !0 || i === !0 ? "margin" : "border");
                return me(this, function(t, n, r) {
                    var i;
                    return Z.isWindow(t) ? t.document.documentElement["client" + e] : 9 === t.nodeType ? (i = t.documentElement, Math.max(t.body["scroll" + e], i["scroll" + e], t.body["offset" + e], i["offset" + e], i["client" + e])) : void 0 === r ? Z.css(t, n, s) : Z.style(t, n, r, s)
                }, t, o ? r : void 0, o, null)
            }
        })
    }), Z.fn.size = function() {
        return this.length
    }, Z.fn.andSelf = Z.fn.addBack, "function" == typeof define && define.amd && define("jquery", [], function() {
        return Z
    });
    var Mt = e.jQuery,
        Rt = e.$;
    return Z.noConflict = function(t) {
        return e.$ === Z && (e.$ = Rt), t && e.jQuery === Z && (e.jQuery = Mt), Z
    }, typeof t === ke && (e.jQuery = e.$ = Z), Z
});
! function(t, e) {
    function i(e, i) {
        var n, o, a, r = e.nodeName.toLowerCase();
        return "area" === r ? (n = e.parentNode, o = n.name, !(!e.href || !o || "map" !== n.nodeName.toLowerCase()) && (a = t("img[usemap=#" + o + "]")[0], !!a && s(a))) : (/input|select|textarea|button|object/.test(r) ? !e.disabled : "a" === r ? e.href || i : i) && s(e)
    }

    function s(e) {
        return t.expr.filters.visible(e) && !t(e).parents().addBack().filter(function() {
            return "hidden" === t.css(this, "visibility")
        }).length
    }
    var n = 0,
        o = /^ui-id-\d+$/;
    t.ui = t.ui || {}, t.extend(t.ui, {
        version: "1.10.4",
        keyCode: {
            BACKSPACE: 8,
            COMMA: 188,
            DELETE: 46,
            DOWN: 40,
            END: 35,
            ENTER: 13,
            ESCAPE: 27,
            HOME: 36,
            LEFT: 37,
            NUMPAD_ADD: 107,
            NUMPAD_DECIMAL: 110,
            NUMPAD_DIVIDE: 111,
            NUMPAD_ENTER: 108,
            NUMPAD_MULTIPLY: 106,
            NUMPAD_SUBTRACT: 109,
            PAGE_DOWN: 34,
            PAGE_UP: 33,
            PERIOD: 190,
            RIGHT: 39,
            SPACE: 32,
            TAB: 9,
            UP: 38
        }
    }), t.fn.extend({
        focus: function(e) {
            return function(i, s) {
                return "number" == typeof i ? this.each(function() {
                    var e = this;
                    setTimeout(function() {
                        t(e).focus(), s && s.call(e)
                    }, i)
                }) : e.apply(this, arguments)
            }
        }(t.fn.focus),
        scrollParent: function() {
            var e;
            return e = t.ui.ie && /(static|relative)/.test(this.css("position")) || /absolute/.test(this.css("position")) ? this.parents().filter(function() {
                return /(relative|absolute|fixed)/.test(t.css(this, "position")) && /(auto|scroll)/.test(t.css(this, "overflow") + t.css(this, "overflow-y") + t.css(this, "overflow-x"))
            }).eq(0) : this.parents().filter(function() {
                return /(auto|scroll)/.test(t.css(this, "overflow") + t.css(this, "overflow-y") + t.css(this, "overflow-x"))
            }).eq(0), /fixed/.test(this.css("position")) || !e.length ? t(document) : e
        },
        zIndex: function(i) {
            if (i !== e) return this.css("zIndex", i);
            if (this.length)
                for (var s, n, o = t(this[0]); o.length && o[0] !== document;) {
                    if (s = o.css("position"), ("absolute" === s || "relative" === s || "fixed" === s) && (n = parseInt(o.css("zIndex"), 10), !isNaN(n) && 0 !== n)) return n;
                    o = o.parent()
                }
            return 0
        },
        uniqueId: function() {
            return this.each(function() {
                this.id || (this.id = "ui-id-" + ++n)
            })
        },
        removeUniqueId: function() {
            return this.each(function() {
                o.test(this.id) && t(this).removeAttr("id")
            })
        }
    }), t.extend(t.expr[":"], {
        data: t.expr.createPseudo ? t.expr.createPseudo(function(e) {
            return function(i) {
                return !!t.data(i, e)
            }
        }) : function(e, i, s) {
            return !!t.data(e, s[3])
        },
        focusable: function(e) {
            return i(e, !isNaN(t.attr(e, "tabindex")))
        },
        tabbable: function(e) {
            var s = t.attr(e, "tabindex"),
                n = isNaN(s);
            return (n || s >= 0) && i(e, !n)
        }
    }), t("<a>").outerWidth(1).jquery || t.each(["Width", "Height"], function(i, s) {
        function n(e, i, s, n) {
            return t.each(o, function() {
                i -= parseFloat(t.css(e, "padding" + this)) || 0, s && (i -= parseFloat(t.css(e, "border" + this + "Width")) || 0), n && (i -= parseFloat(t.css(e, "margin" + this)) || 0)
            }), i
        }
        var o = "Width" === s ? ["Left", "Right"] : ["Top", "Bottom"],
            a = s.toLowerCase(),
            r = {
                innerWidth: t.fn.innerWidth,
                innerHeight: t.fn.innerHeight,
                outerWidth: t.fn.outerWidth,
                outerHeight: t.fn.outerHeight
            };
        t.fn["inner" + s] = function(i) {
            return i === e ? r["inner" + s].call(this) : this.each(function() {
                t(this).css(a, n(this, i) + "px")
            })
        }, t.fn["outer" + s] = function(e, i) {
            return "number" != typeof e ? r["outer" + s].call(this, e) : this.each(function() {
                t(this).css(a, n(this, e, !0, i) + "px")
            })
        }
    }), t.fn.addBack || (t.fn.addBack = function(t) {
        return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
    }), t("<a>").data("a-b", "a").removeData("a-b").data("a-b") && (t.fn.removeData = function(e) {
        return function(i) {
            return arguments.length ? e.call(this, t.camelCase(i)) : e.call(this)
        }
    }(t.fn.removeData)), t.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()), t.support.selectstart = "onselectstart" in document.createElement("div"), t.fn.extend({
        disableSelection: function() {
            return this.bind((t.support.selectstart ? "selectstart" : "mousedown") + ".ui-disableSelection", function(t) {
                t.preventDefault()
            })
        },
        enableSelection: function() {
            return this.unbind(".ui-disableSelection")
        }
    }), t.extend(t.ui, {
        plugin: {
            add: function(e, i, s) {
                var n, o = t.ui[e].prototype;
                for (n in s) o.plugins[n] = o.plugins[n] || [], o.plugins[n].push([i, s[n]])
            },
            call: function(t, e, i) {
                var s, n = t.plugins[e];
                if (n && t.element[0].parentNode && 11 !== t.element[0].parentNode.nodeType)
                    for (s = 0; s < n.length; s++) t.options[n[s][0]] && n[s][1].apply(t.element, i)
            }
        },
        hasScroll: function(e, i) {
            if ("hidden" === t(e).css("overflow")) return !1;
            var s = i && "left" === i ? "scrollLeft" : "scrollTop",
                n = !1;
            return e[s] > 0 || (e[s] = 1, n = e[s] > 0, e[s] = 0, n)
        }
    })
}(jQuery),
function(t, e) {
    var i = 0,
        s = Array.prototype.slice,
        n = t.cleanData;
    t.cleanData = function(e) {
        for (var i, s = 0; null != (i = e[s]); s++) try {
            t(i).triggerHandler("remove")
        } catch (o) {}
        n(e)
    }, t.widget = function(e, i, s) {
        var n, o, a, r, h = {},
            l = e.split(".")[0];
        e = e.split(".")[1], n = l + "-" + e, s || (s = i, i = t.Widget), t.expr[":"][n.toLowerCase()] = function(e) {
            return !!t.data(e, n)
        }, t[l] = t[l] || {}, o = t[l][e], a = t[l][e] = function(t, e) {
            return this._createWidget ? void(arguments.length && this._createWidget(t, e)) : new a(t, e)
        }, t.extend(a, o, {
            version: s.version,
            _proto: t.extend({}, s),
            _childConstructors: []
        }), r = new i, r.options = t.widget.extend({}, r.options), t.each(s, function(e, s) {
            return t.isFunction(s) ? void(h[e] = function() {
                var t = function() {
                        return i.prototype[e].apply(this, arguments)
                    },
                    n = function(t) {
                        return i.prototype[e].apply(this, t)
                    };
                return function() {
                    var e, i = this._super,
                        o = this._superApply;
                    return this._super = t, this._superApply = n, e = s.apply(this, arguments), this._super = i, this._superApply = o, e
                }
            }()) : void(h[e] = s)
        }), a.prototype = t.widget.extend(r, {
            widgetEventPrefix: o ? r.widgetEventPrefix || e : e
        }, h, {
            constructor: a,
            namespace: l,
            widgetName: e,
            widgetFullName: n
        }), o ? (t.each(o._childConstructors, function(e, i) {
            var s = i.prototype;
            t.widget(s.namespace + "." + s.widgetName, a, i._proto)
        }), delete o._childConstructors) : i._childConstructors.push(a), t.widget.bridge(e, a)
    }, t.widget.extend = function(i) {
        for (var n, o, a = s.call(arguments, 1), r = 0, h = a.length; r < h; r++)
            for (n in a[r]) o = a[r][n], a[r].hasOwnProperty(n) && o !== e && (t.isPlainObject(o) ? i[n] = t.isPlainObject(i[n]) ? t.widget.extend({}, i[n], o) : t.widget.extend({}, o) : i[n] = o);
        return i
    }, t.widget.bridge = function(i, n) {
        var o = n.prototype.widgetFullName || i;
        t.fn[i] = function(a) {
            var r = "string" == typeof a,
                h = s.call(arguments, 1),
                l = this;
            return a = !r && h.length ? t.widget.extend.apply(null, [a].concat(h)) : a, r ? this.each(function() {
                var s, n = t.data(this, o);
                return n ? t.isFunction(n[a]) && "_" !== a.charAt(0) ? (s = n[a].apply(n, h), s !== n && s !== e ? (l = s && s.jquery ? l.pushStack(s.get()) : s, !1) : void 0) : t.error("no such method '" + a + "' for " + i + " widget instance") : t.error("cannot call methods on " + i + " prior to initialization; attempted to call method '" + a + "'")
            }) : this.each(function() {
                var e = t.data(this, o);
                e ? e.option(a || {})._init() : t.data(this, o, new n(a, this))
            }), l
        }
    }, t.Widget = function() {}, t.Widget._childConstructors = [], t.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "<div>",
        options: {
            disabled: !1,
            create: null
        },
        _createWidget: function(e, s) {
            s = t(s || this.defaultElement || this)[0], this.element = t(s), this.uuid = i++, this.eventNamespace = "." + this.widgetName + this.uuid, this.options = t.widget.extend({}, this.options, this._getCreateOptions(), e), this.bindings = t(), this.hoverable = t(), this.focusable = t(), s !== this && (t.data(s, this.widgetFullName, this), this._on(!0, this.element, {
                remove: function(t) {
                    t.target === s && this.destroy()
                }
            }), this.document = t(s.style ? s.ownerDocument : s.document || s), this.window = t(this.document[0].defaultView || this.document[0].parentWindow)), this._create(), this._trigger("create", null, this._getCreateEventData()), this._init()
        },
        _getCreateOptions: t.noop,
        _getCreateEventData: t.noop,
        _create: t.noop,
        _init: t.noop,
        destroy: function() {
            this._destroy(), this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)), this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled ui-state-disabled"), this.bindings.unbind(this.eventNamespace), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus")
        },
        _destroy: t.noop,
        widget: function() {
            return this.element
        },
        option: function(i, s) {
            var n, o, a, r = i;
            if (0 === arguments.length) return t.widget.extend({}, this.options);
            if ("string" == typeof i)
                if (r = {}, n = i.split("."), i = n.shift(), n.length) {
                    for (o = r[i] = t.widget.extend({}, this.options[i]), a = 0; a < n.length - 1; a++) o[n[a]] = o[n[a]] || {}, o = o[n[a]];
                    if (i = n.pop(), 1 === arguments.length) return o[i] === e ? null : o[i];
                    o[i] = s
                } else {
                    if (1 === arguments.length) return this.options[i] === e ? null : this.options[i];
                    r[i] = s
                }
            return this._setOptions(r), this
        },
        _setOptions: function(t) {
            var e;
            for (e in t) this._setOption(e, t[e]);
            return this
        },
        _setOption: function(t, e) {
            return this.options[t] = e, "disabled" === t && (this.widget().toggleClass(this.widgetFullName + "-disabled ui-state-disabled", !!e).attr("aria-disabled", e), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus")), this
        },
        enable: function() {
            return this._setOption("disabled", !1)
        },
        disable: function() {
            return this._setOption("disabled", !0)
        },
        _on: function(e, i, s) {
            var n, o = this;
            "boolean" != typeof e && (s = i, i = e, e = !1), s ? (i = n = t(i), this.bindings = this.bindings.add(i)) : (s = i, i = this.element, n = this.widget()), t.each(s, function(s, a) {
                function r() {
                    if (e || o.options.disabled !== !0 && !t(this).hasClass("ui-state-disabled")) return ("string" == typeof a ? o[a] : a).apply(o, arguments)
                }
                "string" != typeof a && (r.guid = a.guid = a.guid || r.guid || t.guid++);
                var h = s.match(/^(\w+)\s*(.*)$/),
                    l = h[1] + o.eventNamespace,
                    c = h[2];
                c ? n.delegate(c, l, r) : i.bind(l, r)
            })
        },
        _off: function(t, e) {
            e = (e || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace, t.unbind(e).undelegate(e)
        },
        _delay: function(t, e) {
            function i() {
                return ("string" == typeof t ? s[t] : t).apply(s, arguments)
            }
            var s = this;
            return setTimeout(i, e || 0)
        },
        _hoverable: function(e) {
            this.hoverable = this.hoverable.add(e), this._on(e, {
                mouseenter: function(e) {
                    t(e.currentTarget).addClass("ui-state-hover")
                },
                mouseleave: function(e) {
                    t(e.currentTarget).removeClass("ui-state-hover")
                }
            })
        },
        _focusable: function(e) {
            this.focusable = this.focusable.add(e), this._on(e, {
                focusin: function(e) {
                    t(e.currentTarget).addClass("ui-state-focus")
                },
                focusout: function(e) {
                    t(e.currentTarget).removeClass("ui-state-focus")
                }
            })
        },
        _trigger: function(e, i, s) {
            var n, o, a = this.options[e];
            if (s = s || {}, i = t.Event(i), i.type = (e === this.widgetEventPrefix ? e : this.widgetEventPrefix + e).toLowerCase(), i.target = this.element[0], o = i.originalEvent)
                for (n in o) n in i || (i[n] = o[n]);
            return this.element.trigger(i, s), !(t.isFunction(a) && a.apply(this.element[0], [i].concat(s)) === !1 || i.isDefaultPrevented())
        }
    }, t.each({
        show: "fadeIn",
        hide: "fadeOut"
    }, function(e, i) {
        t.Widget.prototype["_" + e] = function(s, n, o) {
            "string" == typeof n && (n = {
                effect: n
            });
            var a, r = n ? n === !0 || "number" == typeof n ? i : n.effect || i : e;
            n = n || {}, "number" == typeof n && (n = {
                duration: n
            }), a = !t.isEmptyObject(n), n.complete = o, n.delay && s.delay(n.delay), a && t.effects && t.effects.effect[r] ? s[e](n) : r !== e && s[r] ? s[r](n.duration, n.easing, o) : s.queue(function(i) {
                t(this)[e](), o && o.call(s[0]), i()
            })
        }
    })
}(jQuery),
function(t, e) {
    var i = !1;
    t(document).mouseup(function() {
        i = !1
    }), t.widget("ui.mouse", {
        version: "1.10.4",
        options: {
            cancel: "input,textarea,button,select,option",
            distance: 1,
            delay: 0
        },
        _mouseInit: function() {
            var e = this;
            this.element.bind("mousedown." + this.widgetName, function(t) {
                return e._mouseDown(t)
            }).bind("click." + this.widgetName, function(i) {
                if (!0 === t.data(i.target, e.widgetName + ".preventClickEvent")) return t.removeData(i.target, e.widgetName + ".preventClickEvent"), i.stopImmediatePropagation(), !1
            }), this.started = !1
        },
        _mouseDestroy: function() {
            this.element.unbind("." + this.widgetName), this._mouseMoveDelegate && t(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate)
        },
        _mouseDown: function(e) {
            if (!i) {
                this._mouseStarted && this._mouseUp(e), this._mouseDownEvent = e;
                var s = this,
                    n = 1 === e.which,
                    o = !("string" != typeof this.options.cancel || !e.target.nodeName) && t(e.target).closest(this.options.cancel).length;
                return !(n && !o && this._mouseCapture(e)) || (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function() {
                    s.mouseDelayMet = !0
                }, this.options.delay)), this._mouseDistanceMet(e) && this._mouseDelayMet(e) && (this._mouseStarted = this._mouseStart(e) !== !1, !this._mouseStarted) ? (e.preventDefault(), !0) : (!0 === t.data(e.target, this.widgetName + ".preventClickEvent") && t.removeData(e.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function(t) {
                    return s._mouseMove(t)
                }, this._mouseUpDelegate = function(t) {
                    return s._mouseUp(t)
                }, t(document).bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate), e.preventDefault(), i = !0, !0))
            }
        },
        _mouseMove: function(e) {
            return t.ui.ie && (!document.documentMode || document.documentMode < 9) && !e.button ? this._mouseUp(e) : this._mouseStarted ? (this._mouseDrag(e), e.preventDefault()) : (this._mouseDistanceMet(e) && this._mouseDelayMet(e) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, e) !== !1, this._mouseStarted ? this._mouseDrag(e) : this._mouseUp(e)), !this._mouseStarted)
        },
        _mouseUp: function(e) {
            return t(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, e.target === this._mouseDownEvent.target && t.data(e.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(e)), !1
        },
        _mouseDistanceMet: function(t) {
            return Math.max(Math.abs(this._mouseDownEvent.pageX - t.pageX), Math.abs(this._mouseDownEvent.pageY - t.pageY)) >= this.options.distance
        },
        _mouseDelayMet: function() {
            return this.mouseDelayMet
        },
        _mouseStart: function() {},
        _mouseDrag: function() {},
        _mouseStop: function() {},
        _mouseCapture: function() {
            return !0
        }
    })
}(jQuery),
function(t, e) {
    t.widget("ui.draggable", t.ui.mouse, {
        version: "1.10.4",
        widgetEventPrefix: "drag",
        options: {
            addClasses: !0,
            appendTo: "parent",
            axis: !1,
            connectToSortable: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            iframeFix: !1,
            opacity: !1,
            refreshPositions: !1,
            revert: !1,
            revertDuration: 500,
            scope: "default",
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            snap: !1,
            snapMode: "both",
            snapTolerance: 20,
            stack: !1,
            zIndex: !1,
            drag: null,
            start: null,
            stop: null
        },
        _create: function() {
            "original" !== this.options.helper || /^(?:r|a|f)/.test(this.element.css("position")) || (this.element[0].style.position = "relative"), this.options.addClasses && this.element.addClass("ui-draggable"), this.options.disabled && this.element.addClass("ui-draggable-disabled"), this._mouseInit()
        },
        _destroy: function() {
            this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"), this._mouseDestroy()
        },
        _mouseCapture: function(e) {
            var i = this.options;
            return !(this.helper || i.disabled || t(e.target).closest(".ui-resizable-handle").length > 0) && (this.handle = this._getHandle(e), !!this.handle && (t(i.iframeFix === !0 ? "iframe" : i.iframeFix).each(function() {
                t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({
                    width: this.offsetWidth + "px",
                    height: this.offsetHeight + "px",
                    position: "absolute",
                    opacity: "0.001",
                    zIndex: 1e3
                }).css(t(this).offset()).appendTo("body")
            }), !0))
        },
        _mouseStart: function(e) {
            var i = this.options;
            return this.helper = this._createHelper(e), this.helper.addClass("ui-draggable-dragging"), this._cacheHelperProportions(), t.ui.ddmanager && (t.ui.ddmanager.current = this), this._cacheMargins(), this.cssPosition = this.helper.css("position"), this.scrollParent = this.helper.scrollParent(), this.offsetParent = this.helper.offsetParent(), this.offsetParentCssPosition = this.offsetParent.css("position"), this.offset = this.positionAbs = this.element.offset(), this.offset = {
                top: this.offset.top - this.margins.top,
                left: this.offset.left - this.margins.left
            }, this.offset.scroll = !1, t.extend(this.offset, {
                click: {
                    left: e.pageX - this.offset.left,
                    top: e.pageY - this.offset.top
                },
                parent: this._getParentOffset(),
                relative: this._getRelativeOffset()
            }), this.originalPosition = this.position = this._generatePosition(e), this.originalPageX = e.pageX, this.originalPageY = e.pageY, i.cursorAt && this._adjustOffsetFromHelper(i.cursorAt), this._setContainment(), this._trigger("start", e) === !1 ? (this._clear(), !1) : (this._cacheHelperProportions(), t.ui.ddmanager && !i.dropBehaviour && t.ui.ddmanager.prepareOffsets(this, e), this._mouseDrag(e, !0), t.ui.ddmanager && t.ui.ddmanager.dragStart(this, e), !0)
        },
        _mouseDrag: function(e, i) {
            if ("fixed" === this.offsetParentCssPosition && (this.offset.parent = this._getParentOffset()), this.position = this._generatePosition(e), this.positionAbs = this._convertPositionTo("absolute"), !i) {
                var s = this._uiHash();
                if (this._trigger("drag", e, s) === !1) return this._mouseUp({}), !1;
                this.position = s.position
            }
            return this.options.axis && "y" === this.options.axis || (this.helper[0].style.left = this.position.left + "px"), this.options.axis && "x" === this.options.axis || (this.helper[0].style.top = this.position.top + "px"), t.ui.ddmanager && t.ui.ddmanager.drag(this, e), !1
        },
        _mouseStop: function(e) {
            var i = this,
                s = !1;
            return t.ui.ddmanager && !this.options.dropBehaviour && (s = t.ui.ddmanager.drop(this, e)), this.dropped && (s = this.dropped, this.dropped = !1), !("original" === this.options.helper && !t.contains(this.element[0].ownerDocument, this.element[0])) && ("invalid" === this.options.revert && !s || "valid" === this.options.revert && s || this.options.revert === !0 || t.isFunction(this.options.revert) && this.options.revert.call(this.element, s) ? t(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {
                i._trigger("stop", e) !== !1 && i._clear()
            }) : this._trigger("stop", e) !== !1 && this._clear(), !1)
        },
        _mouseUp: function(e) {
            return t("div.ui-draggable-iframeFix").each(function() {
                this.parentNode.removeChild(this)
            }), t.ui.ddmanager && t.ui.ddmanager.dragStop(this, e), t.ui.mouse.prototype._mouseUp.call(this, e)
        },
        cancel: function() {
            return this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear(), this
        },
        _getHandle: function(e) {
            return !this.options.handle || !!t(e.target).closest(this.element.find(this.options.handle)).length
        },
        _createHelper: function(e) {
            var i = this.options,
                s = t.isFunction(i.helper) ? t(i.helper.apply(this.element[0], [e])) : "clone" === i.helper ? this.element.clone().removeAttr("id") : this.element;
            return s.parents("body").length || s.appendTo("parent" === i.appendTo ? this.element[0].parentNode : i.appendTo), s[0] === this.element[0] || /(fixed|absolute)/.test(s.css("position")) || s.css("position", "absolute"), s
        },
        _adjustOffsetFromHelper: function(e) {
            "string" == typeof e && (e = e.split(" ")), t.isArray(e) && (e = {
                left: +e[0],
                top: +e[1] || 0
            }), "left" in e && (this.offset.click.left = e.left + this.margins.left), "right" in e && (this.offset.click.left = this.helperProportions.width - e.right + this.margins.left), "top" in e && (this.offset.click.top = e.top + this.margins.top), "bottom" in e && (this.offset.click.top = this.helperProportions.height - e.bottom + this.margins.top)
        },
        _getParentOffset: function() {
            var e = this.offsetParent.offset();
            return "absolute" === this.cssPosition && this.scrollParent[0] !== document && t.contains(this.scrollParent[0], this.offsetParent[0]) && (e.left += this.scrollParent.scrollLeft(), e.top += this.scrollParent.scrollTop()), (this.offsetParent[0] === document.body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && t.ui.ie) && (e = {
                top: 0,
                left: 0
            }), {
                top: e.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: e.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function() {
            if ("relative" === this.cssPosition) {
                var t = this.element.position();
                return {
                    top: t.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                    left: t.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                }
            }
            return {
                top: 0,
                left: 0
            }
        },
        _cacheMargins: function() {
            this.margins = {
                left: parseInt(this.element.css("marginLeft"), 10) || 0,
                top: parseInt(this.element.css("marginTop"), 10) || 0,
                right: parseInt(this.element.css("marginRight"), 10) || 0,
                bottom: parseInt(this.element.css("marginBottom"), 10) || 0
            }
        },
        _cacheHelperProportions: function() {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function() {
            var e, i, s, n = this.options;
            return n.containment ? "window" === n.containment ? void(this.containment = [t(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, t(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, t(window).scrollLeft() + t(window).width() - this.helperProportions.width - this.margins.left, t(window).scrollTop() + (t(window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]) : "document" === n.containment ? void(this.containment = [0, 0, t(document).width() - this.helperProportions.width - this.margins.left, (t(document).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]) : n.containment.constructor === Array ? void(this.containment = n.containment) : ("parent" === n.containment && (n.containment = this.helper[0].parentNode), i = t(n.containment), s = i[0], void(s && (e = "hidden" !== i.css("overflow"), this.containment = [(parseInt(i.css("borderLeftWidth"), 10) || 0) + (parseInt(i.css("paddingLeft"), 10) || 0), (parseInt(i.css("borderTopWidth"), 10) || 0) + (parseInt(i.css("paddingTop"), 10) || 0), (e ? Math.max(s.scrollWidth, s.offsetWidth) : s.offsetWidth) - (parseInt(i.css("borderRightWidth"), 10) || 0) - (parseInt(i.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (e ? Math.max(s.scrollHeight, s.offsetHeight) : s.offsetHeight) - (parseInt(i.css("borderBottomWidth"), 10) || 0) - (parseInt(i.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom], this.relative_container = i))) : void(this.containment = null)
        },
        _convertPositionTo: function(e, i) {
            i || (i = this.position);
            var s = "absolute" === e ? 1 : -1,
                n = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && t.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent;
            return this.offset.scroll || (this.offset.scroll = {
                top: n.scrollTop(),
                left: n.scrollLeft()
            }), {
                top: i.top + this.offset.relative.top * s + this.offset.parent.top * s - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : this.offset.scroll.top) * s,
                left: i.left + this.offset.relative.left * s + this.offset.parent.left * s - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : this.offset.scroll.left) * s
            }
        },
        _generatePosition: function(e) {
            var i, s, n, o, a = this.options,
                r = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && t.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
                h = e.pageX,
                l = e.pageY;
            return this.offset.scroll || (this.offset.scroll = {
                top: r.scrollTop(),
                left: r.scrollLeft()
            }), this.originalPosition && (this.containment && (this.relative_container ? (s = this.relative_container.offset(), i = [this.containment[0] + s.left, this.containment[1] + s.top, this.containment[2] + s.left, this.containment[3] + s.top]) : i = this.containment, e.pageX - this.offset.click.left < i[0] && (h = i[0] + this.offset.click.left), e.pageY - this.offset.click.top < i[1] && (l = i[1] + this.offset.click.top), e.pageX - this.offset.click.left > i[2] && (h = i[2] + this.offset.click.left), e.pageY - this.offset.click.top > i[3] && (l = i[3] + this.offset.click.top)), a.grid && (n = a.grid[1] ? this.originalPageY + Math.round((l - this.originalPageY) / a.grid[1]) * a.grid[1] : this.originalPageY, l = i ? n - this.offset.click.top >= i[1] || n - this.offset.click.top > i[3] ? n : n - this.offset.click.top >= i[1] ? n - a.grid[1] : n + a.grid[1] : n, o = a.grid[0] ? this.originalPageX + Math.round((h - this.originalPageX) / a.grid[0]) * a.grid[0] : this.originalPageX, h = i ? o - this.offset.click.left >= i[0] || o - this.offset.click.left > i[2] ? o : o - this.offset.click.left >= i[0] ? o - a.grid[0] : o + a.grid[0] : o)), {
                top: l - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : this.offset.scroll.top),
                left: h - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : this.offset.scroll.left)
            }
        },
        _clear: function() {
            this.helper.removeClass("ui-draggable-dragging"), this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove(), this.helper = null, this.cancelHelperRemoval = !1
        },
        _trigger: function(e, i, s) {
            return s = s || this._uiHash(), t.ui.plugin.call(this, e, [i, s]), "drag" === e && (this.positionAbs = this._convertPositionTo("absolute")), t.Widget.prototype._trigger.call(this, e, i, s)
        },
        plugins: {},
        _uiHash: function() {
            return {
                helper: this.helper,
                position: this.position,
                originalPosition: this.originalPosition,
                offset: this.positionAbs
            }
        }
    }), t.ui.plugin.add("draggable", "connectToSortable", {
        start: function(e, i) {
            var s = t(this).data("ui-draggable"),
                n = s.options,
                o = t.extend({}, i, {
                    item: s.element
                });
            s.sortables = [], t(n.connectToSortable).each(function() {
                var i = t.data(this, "ui-sortable");
                i && !i.options.disabled && (s.sortables.push({
                    instance: i,
                    shouldRevert: i.options.revert
                }), i.refreshPositions(), i._trigger("activate", e, o))
            })
        },
        stop: function(e, i) {
            var s = t(this).data("ui-draggable"),
                n = t.extend({}, i, {
                    item: s.element
                });
            t.each(s.sortables, function() {
                this.instance.isOver ? (this.instance.isOver = 0, s.cancelHelperRemoval = !0, this.instance.cancelHelperRemoval = !1, this.shouldRevert && (this.instance.options.revert = this.shouldRevert), this.instance._mouseStop(e), this.instance.options.helper = this.instance.options._helper, "original" === s.options.helper && this.instance.currentItem.css({
                    top: "auto",
                    left: "auto"
                })) : (this.instance.cancelHelperRemoval = !1, this.instance._trigger("deactivate", e, n))
            })
        },
        drag: function(e, i) {
            var s = t(this).data("ui-draggable"),
                n = this;
            t.each(s.sortables, function() {
                var o = !1,
                    a = this;
                this.instance.positionAbs = s.positionAbs, this.instance.helperProportions = s.helperProportions, this.instance.offset.click = s.offset.click, this.instance._intersectsWith(this.instance.containerCache) && (o = !0, t.each(s.sortables, function() {
                    return this.instance.positionAbs = s.positionAbs, this.instance.helperProportions = s.helperProportions, this.instance.offset.click = s.offset.click, this !== a && this.instance._intersectsWith(this.instance.containerCache) && t.contains(a.instance.element[0], this.instance.element[0]) && (o = !1), o
                })), o ? (this.instance.isOver || (this.instance.isOver = 1, this.instance.currentItem = t(n).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item", !0), this.instance.options._helper = this.instance.options.helper, this.instance.options.helper = function() {
                    return i.helper[0]
                }, e.target = this.instance.currentItem[0], this.instance._mouseCapture(e, !0), this.instance._mouseStart(e, !0, !0), this.instance.offset.click.top = s.offset.click.top, this.instance.offset.click.left = s.offset.click.left, this.instance.offset.parent.left -= s.offset.parent.left - this.instance.offset.parent.left, this.instance.offset.parent.top -= s.offset.parent.top - this.instance.offset.parent.top, s._trigger("toSortable", e), s.dropped = this.instance.element, s.currentItem = s.element, this.instance.fromOutside = s), this.instance.currentItem && this.instance._mouseDrag(e)) : this.instance.isOver && (this.instance.isOver = 0, this.instance.cancelHelperRemoval = !0, this.instance.options.revert = !1, this.instance._trigger("out", e, this.instance._uiHash(this.instance)), this.instance._mouseStop(e, !0), this.instance.options.helper = this.instance.options._helper, this.instance.currentItem.remove(), this.instance.placeholder && this.instance.placeholder.remove(), s._trigger("fromSortable", e), s.dropped = !1)
            })
        }
    }), t.ui.plugin.add("draggable", "cursor", {
        start: function() {
            var e = t("body"),
                i = t(this).data("ui-draggable").options;
            e.css("cursor") && (i._cursor = e.css("cursor")), e.css("cursor", i.cursor)
        },
        stop: function() {
            var e = t(this).data("ui-draggable").options;
            e._cursor && t("body").css("cursor", e._cursor)
        }
    }), t.ui.plugin.add("draggable", "opacity", {
        start: function(e, i) {
            var s = t(i.helper),
                n = t(this).data("ui-draggable").options;
            s.css("opacity") && (n._opacity = s.css("opacity")), s.css("opacity", n.opacity)
        },
        stop: function(e, i) {
            var s = t(this).data("ui-draggable").options;
            s._opacity && t(i.helper).css("opacity", s._opacity)
        }
    }), t.ui.plugin.add("draggable", "scroll", {
        start: function() {
            var e = t(this).data("ui-draggable");
            e.scrollParent[0] !== document && "HTML" !== e.scrollParent[0].tagName && (e.overflowOffset = e.scrollParent.offset())
        },
        drag: function(e) {
            var i = t(this).data("ui-draggable"),
                s = i.options,
                n = !1;
            i.scrollParent[0] !== document && "HTML" !== i.scrollParent[0].tagName ? (s.axis && "x" === s.axis || (i.overflowOffset.top + i.scrollParent[0].offsetHeight - e.pageY < s.scrollSensitivity ? i.scrollParent[0].scrollTop = n = i.scrollParent[0].scrollTop + s.scrollSpeed : e.pageY - i.overflowOffset.top < s.scrollSensitivity && (i.scrollParent[0].scrollTop = n = i.scrollParent[0].scrollTop - s.scrollSpeed)), s.axis && "y" === s.axis || (i.overflowOffset.left + i.scrollParent[0].offsetWidth - e.pageX < s.scrollSensitivity ? i.scrollParent[0].scrollLeft = n = i.scrollParent[0].scrollLeft + s.scrollSpeed : e.pageX - i.overflowOffset.left < s.scrollSensitivity && (i.scrollParent[0].scrollLeft = n = i.scrollParent[0].scrollLeft - s.scrollSpeed))) : (s.axis && "x" === s.axis || (e.pageY - t(document).scrollTop() < s.scrollSensitivity ? n = t(document).scrollTop(t(document).scrollTop() - s.scrollSpeed) : t(window).height() - (e.pageY - t(document).scrollTop()) < s.scrollSensitivity && (n = t(document).scrollTop(t(document).scrollTop() + s.scrollSpeed))), s.axis && "y" === s.axis || (e.pageX - t(document).scrollLeft() < s.scrollSensitivity ? n = t(document).scrollLeft(t(document).scrollLeft() - s.scrollSpeed) : t(window).width() - (e.pageX - t(document).scrollLeft()) < s.scrollSensitivity && (n = t(document).scrollLeft(t(document).scrollLeft() + s.scrollSpeed)))), n !== !1 && t.ui.ddmanager && !s.dropBehaviour && t.ui.ddmanager.prepareOffsets(i, e)
        }
    }), t.ui.plugin.add("draggable", "snap", {
        start: function() {
            var e = t(this).data("ui-draggable"),
                i = e.options;
            e.snapElements = [], t(i.snap.constructor !== String ? i.snap.items || ":data(ui-draggable)" : i.snap).each(function() {
                var i = t(this),
                    s = i.offset();
                this !== e.element[0] && e.snapElements.push({
                    item: this,
                    width: i.outerWidth(),
                    height: i.outerHeight(),
                    top: s.top,
                    left: s.left
                })
            })
        },
        drag: function(e, i) {
            var s, n, o, a, r, h, l, c, u, d, p = t(this).data("ui-draggable"),
                f = p.options,
                g = f.snapTolerance,
                m = i.offset.left,
                v = m + p.helperProportions.width,
                _ = i.offset.top,
                b = _ + p.helperProportions.height;
            for (u = p.snapElements.length - 1; u >= 0; u--) r = p.snapElements[u].left, h = r + p.snapElements[u].width, l = p.snapElements[u].top, c = l + p.snapElements[u].height, v < r - g || m > h + g || b < l - g || _ > c + g || !t.contains(p.snapElements[u].item.ownerDocument, p.snapElements[u].item) ? (p.snapElements[u].snapping && p.options.snap.release && p.options.snap.release.call(p.element, e, t.extend(p._uiHash(), {
                snapItem: p.snapElements[u].item
            })), p.snapElements[u].snapping = !1) : ("inner" !== f.snapMode && (s = Math.abs(l - b) <= g, n = Math.abs(c - _) <= g, o = Math.abs(r - v) <= g, a = Math.abs(h - m) <= g, s && (i.position.top = p._convertPositionTo("relative", {
                top: l - p.helperProportions.height,
                left: 0
            }).top - p.margins.top), n && (i.position.top = p._convertPositionTo("relative", {
                top: c,
                left: 0
            }).top - p.margins.top), o && (i.position.left = p._convertPositionTo("relative", {
                top: 0,
                left: r - p.helperProportions.width
            }).left - p.margins.left), a && (i.position.left = p._convertPositionTo("relative", {
                top: 0,
                left: h
            }).left - p.margins.left)), d = s || n || o || a, "outer" !== f.snapMode && (s = Math.abs(l - _) <= g, n = Math.abs(c - b) <= g, o = Math.abs(r - m) <= g, a = Math.abs(h - v) <= g, s && (i.position.top = p._convertPositionTo("relative", {
                top: l,
                left: 0
            }).top - p.margins.top), n && (i.position.top = p._convertPositionTo("relative", {
                top: c - p.helperProportions.height,
                left: 0
            }).top - p.margins.top), o && (i.position.left = p._convertPositionTo("relative", {
                top: 0,
                left: r
            }).left - p.margins.left), a && (i.position.left = p._convertPositionTo("relative", {
                top: 0,
                left: h - p.helperProportions.width
            }).left - p.margins.left)), !p.snapElements[u].snapping && (s || n || o || a || d) && p.options.snap.snap && p.options.snap.snap.call(p.element, e, t.extend(p._uiHash(), {
                snapItem: p.snapElements[u].item
            })), p.snapElements[u].snapping = s || n || o || a || d)
        }
    }), t.ui.plugin.add("draggable", "stack", {
        start: function() {
            var e, i = this.data("ui-draggable").options,
                s = t.makeArray(t(i.stack)).sort(function(e, i) {
                    return (parseInt(t(e).css("zIndex"), 10) || 0) - (parseInt(t(i).css("zIndex"), 10) || 0)
                });
            s.length && (e = parseInt(t(s[0]).css("zIndex"), 10) || 0, t(s).each(function(i) {
                t(this).css("zIndex", e + i)
            }), this.css("zIndex", e + s.length))
        }
    }), t.ui.plugin.add("draggable", "zIndex", {
        start: function(e, i) {
            var s = t(i.helper),
                n = t(this).data("ui-draggable").options;
            s.css("zIndex") && (n._zIndex = s.css("zIndex")), s.css("zIndex", n.zIndex)
        },
        stop: function(e, i) {
            var s = t(this).data("ui-draggable").options;
            s._zIndex && t(i.helper).css("zIndex", s._zIndex)
        }
    })
}(jQuery),
function(t, e) {
    function i(t, e, i) {
        return t > e && t < e + i
    }
    t.widget("ui.droppable", {
        version: "1.10.4",
        widgetEventPrefix: "drop",
        options: {
            accept: "*",
            activeClass: !1,
            addClasses: !0,
            greedy: !1,
            hoverClass: !1,
            scope: "default",
            tolerance: "intersect",
            activate: null,
            deactivate: null,
            drop: null,
            out: null,
            over: null
        },
        _create: function() {
            var e, i = this.options,
                s = i.accept;
            this.isover = !1,
                this.isout = !0, this.accept = t.isFunction(s) ? s : function(t) {
                    return t.is(s)
                }, this.proportions = function() {
                    return arguments.length ? void(e = arguments[0]) : e ? e : e = {
                        width: this.element[0].offsetWidth,
                        height: this.element[0].offsetHeight
                    }
                }, t.ui.ddmanager.droppables[i.scope] = t.ui.ddmanager.droppables[i.scope] || [], t.ui.ddmanager.droppables[i.scope].push(this), i.addClasses && this.element.addClass("ui-droppable")
        },
        _destroy: function() {
            for (var e = 0, i = t.ui.ddmanager.droppables[this.options.scope]; e < i.length; e++) i[e] === this && i.splice(e, 1);
            this.element.removeClass("ui-droppable ui-droppable-disabled")
        },
        _setOption: function(e, i) {
            "accept" === e && (this.accept = t.isFunction(i) ? i : function(t) {
                return t.is(i)
            }), t.Widget.prototype._setOption.apply(this, arguments)
        },
        _activate: function(e) {
            var i = t.ui.ddmanager.current;
            this.options.activeClass && this.element.addClass(this.options.activeClass), i && this._trigger("activate", e, this.ui(i))
        },
        _deactivate: function(e) {
            var i = t.ui.ddmanager.current;
            this.options.activeClass && this.element.removeClass(this.options.activeClass), i && this._trigger("deactivate", e, this.ui(i))
        },
        _over: function(e) {
            var i = t.ui.ddmanager.current;
            i && (i.currentItem || i.element)[0] !== this.element[0] && this.accept.call(this.element[0], i.currentItem || i.element) && (this.options.hoverClass && this.element.addClass(this.options.hoverClass), this._trigger("over", e, this.ui(i)))
        },
        _out: function(e) {
            var i = t.ui.ddmanager.current;
            i && (i.currentItem || i.element)[0] !== this.element[0] && this.accept.call(this.element[0], i.currentItem || i.element) && (this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("out", e, this.ui(i)))
        },
        _drop: function(e, i) {
            var s = i || t.ui.ddmanager.current,
                n = !1;
            return !(!s || (s.currentItem || s.element)[0] === this.element[0]) && (this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function() {
                var e = t.data(this, "ui-droppable");
                if (e.options.greedy && !e.options.disabled && e.options.scope === s.options.scope && e.accept.call(e.element[0], s.currentItem || s.element) && t.ui.intersect(s, t.extend(e, {
                        offset: e.element.offset()
                    }), e.options.tolerance)) return n = !0, !1
            }), !n && (!!this.accept.call(this.element[0], s.currentItem || s.element) && (this.options.activeClass && this.element.removeClass(this.options.activeClass), this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("drop", e, this.ui(s)), this.element)))
        },
        ui: function(t) {
            return {
                draggable: t.currentItem || t.element,
                helper: t.helper,
                position: t.position,
                offset: t.positionAbs
            }
        }
    }), t.ui.intersect = function(t, e, s) {
        if (!e.offset) return !1;
        var n, o, a = (t.positionAbs || t.position.absolute).left,
            r = (t.positionAbs || t.position.absolute).top,
            h = a + t.helperProportions.width,
            l = r + t.helperProportions.height,
            c = e.offset.left,
            u = e.offset.top,
            d = c + e.proportions().width,
            p = u + e.proportions().height;
        switch (s) {
            case "fit":
                return c <= a && h <= d && u <= r && l <= p;
            case "intersect":
                return c < a + t.helperProportions.width / 2 && h - t.helperProportions.width / 2 < d && u < r + t.helperProportions.height / 2 && l - t.helperProportions.height / 2 < p;
            case "pointer":
                return n = (t.positionAbs || t.position.absolute).left + (t.clickOffset || t.offset.click).left, o = (t.positionAbs || t.position.absolute).top + (t.clickOffset || t.offset.click).top, i(o, u, e.proportions().height) && i(n, c, e.proportions().width);
            case "touch":
                return (r >= u && r <= p || l >= u && l <= p || r < u && l > p) && (a >= c && a <= d || h >= c && h <= d || a < c && h > d);
            default:
                return !1
        }
    }, t.ui.ddmanager = {
        current: null,
        droppables: {
            "default": []
        },
        prepareOffsets: function(e, i) {
            var s, n, o = t.ui.ddmanager.droppables[e.options.scope] || [],
                a = i ? i.type : null,
                r = (e.currentItem || e.element).find(":data(ui-droppable)").addBack();
            t: for (s = 0; s < o.length; s++)
                if (!(o[s].options.disabled || e && !o[s].accept.call(o[s].element[0], e.currentItem || e.element))) {
                    for (n = 0; n < r.length; n++)
                        if (r[n] === o[s].element[0]) {
                            o[s].proportions().height = 0;
                            continue t
                        }
                    o[s].visible = "none" !== o[s].element.css("display"), o[s].visible && ("mousedown" === a && o[s]._activate.call(o[s], i), o[s].offset = o[s].element.offset(), o[s].proportions({
                        width: o[s].element[0].offsetWidth,
                        height: o[s].element[0].offsetHeight
                    }))
                }
        },
        drop: function(e, i) {
            var s = !1;
            return t.each((t.ui.ddmanager.droppables[e.options.scope] || []).slice(), function() {
                this.options && (!this.options.disabled && this.visible && t.ui.intersect(e, this, this.options.tolerance) && (s = this._drop.call(this, i) || s), !this.options.disabled && this.visible && this.accept.call(this.element[0], e.currentItem || e.element) && (this.isout = !0, this.isover = !1, this._deactivate.call(this, i)))
            }), s
        },
        dragStart: function(e, i) {
            e.element.parentsUntil("body").bind("scroll.droppable", function() {
                e.options.refreshPositions || t.ui.ddmanager.prepareOffsets(e, i)
            })
        },
        drag: function(e, i) {
            e.options.refreshPositions && t.ui.ddmanager.prepareOffsets(e, i), t.each(t.ui.ddmanager.droppables[e.options.scope] || [], function() {
                if (!this.options.disabled && !this.greedyChild && this.visible) {
                    var s, n, o, a = t.ui.intersect(e, this, this.options.tolerance),
                        r = !a && this.isover ? "isout" : a && !this.isover ? "isover" : null;
                    r && (this.options.greedy && (n = this.options.scope, o = this.element.parents(":data(ui-droppable)").filter(function() {
                        return t.data(this, "ui-droppable").options.scope === n
                    }), o.length && (s = t.data(o[0], "ui-droppable"), s.greedyChild = "isover" === r)), s && "isover" === r && (s.isover = !1, s.isout = !0, s._out.call(s, i)), this[r] = !0, this["isout" === r ? "isover" : "isout"] = !1, this["isover" === r ? "_over" : "_out"].call(this, i), s && "isout" === r && (s.isout = !1, s.isover = !0, s._over.call(s, i)))
                }
            })
        },
        dragStop: function(e, i) {
            e.element.parentsUntil("body").unbind("scroll.droppable"), e.options.refreshPositions || t.ui.ddmanager.prepareOffsets(e, i)
        }
    }
}(jQuery),
function(t, e) {
    function i(t) {
        return parseInt(t, 10) || 0
    }

    function s(t) {
        return !isNaN(parseInt(t, 10))
    }
    t.widget("ui.resizable", t.ui.mouse, {
        version: "1.10.4",
        widgetEventPrefix: "resize",
        options: {
            alsoResize: !1,
            animate: !1,
            animateDuration: "slow",
            animateEasing: "swing",
            aspectRatio: !1,
            autoHide: !1,
            containment: !1,
            ghost: !1,
            grid: !1,
            handles: "e,s,se",
            helper: !1,
            maxHeight: null,
            maxWidth: null,
            minHeight: 10,
            minWidth: 10,
            zIndex: 90,
            resize: null,
            start: null,
            stop: null
        },
        _create: function() {
            var e, i, s, n, o, a = this,
                r = this.options;
            if (this.element.addClass("ui-resizable"), t.extend(this, {
                    _aspectRatio: !!r.aspectRatio,
                    aspectRatio: r.aspectRatio,
                    originalElement: this.element,
                    _proportionallyResizeElements: [],
                    _helper: r.helper || r.ghost || r.animate ? r.helper || "ui-resizable-helper" : null
                }), this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i) && (this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
                    position: this.element.css("position"),
                    width: this.element.outerWidth(),
                    height: this.element.outerHeight(),
                    top: this.element.css("top"),
                    left: this.element.css("left")
                })), this.element = this.element.parent().data("ui-resizable", this.element.data("ui-resizable")), this.elementIsWrapper = !0, this.element.css({
                    marginLeft: this.originalElement.css("marginLeft"),
                    marginTop: this.originalElement.css("marginTop"),
                    marginRight: this.originalElement.css("marginRight"),
                    marginBottom: this.originalElement.css("marginBottom")
                }), this.originalElement.css({
                    marginLeft: 0,
                    marginTop: 0,
                    marginRight: 0,
                    marginBottom: 0
                }), this.originalResizeStyle = this.originalElement.css("resize"), this.originalElement.css("resize", "none"), this._proportionallyResizeElements.push(this.originalElement.css({
                    position: "static",
                    zoom: 1,
                    display: "block"
                })), this.originalElement.css({
                    margin: this.originalElement.css("margin")
                }), this._proportionallyResize()), this.handles = r.handles || (t(".ui-resizable-handle", this.element).length ? {
                    n: ".ui-resizable-n",
                    e: ".ui-resizable-e",
                    s: ".ui-resizable-s",
                    w: ".ui-resizable-w",
                    se: ".ui-resizable-se",
                    sw: ".ui-resizable-sw",
                    ne: ".ui-resizable-ne",
                    nw: ".ui-resizable-nw"
                } : "e,s,se"), this.handles.constructor === String)
                for ("all" === this.handles && (this.handles = "n,e,s,w,se,sw,ne,nw"), e = this.handles.split(","), this.handles = {}, i = 0; i < e.length; i++) s = t.trim(e[i]), o = "ui-resizable-" + s, n = t("<div class='ui-resizable-handle " + o + "'></div>"), n.css({
                    zIndex: r.zIndex
                }), "se" === s && n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"), this.handles[s] = ".ui-resizable-" + s, this.element.append(n);
            this._renderAxis = function(e) {
                var i, s, n, o;
                e = e || this.element;
                for (i in this.handles) this.handles[i].constructor === String && (this.handles[i] = t(this.handles[i], this.element).show()), this.elementIsWrapper && this.originalElement[0].nodeName.match(/textarea|input|select|button/i) && (s = t(this.handles[i], this.element), o = /sw|ne|nw|se|n|s/.test(i) ? s.outerHeight() : s.outerWidth(), n = ["padding", /ne|nw|n/.test(i) ? "Top" : /se|sw|s/.test(i) ? "Bottom" : /^e$/.test(i) ? "Right" : "Left"].join(""), e.css(n, o), this._proportionallyResize()), t(this.handles[i]).length
            }, this._renderAxis(this.element), this._handles = t(".ui-resizable-handle", this.element).disableSelection(), this._handles.mouseover(function() {
                a.resizing || (this.className && (n = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)), a.axis = n && n[1] ? n[1] : "se")
            }), r.autoHide && (this._handles.hide(), t(this.element).addClass("ui-resizable-autohide").mouseenter(function() {
                r.disabled || (t(this).removeClass("ui-resizable-autohide"), a._handles.show())
            }).mouseleave(function() {
                r.disabled || a.resizing || (t(this).addClass("ui-resizable-autohide"), a._handles.hide())
            })), this._mouseInit()
        },
        _destroy: function() {
            this._mouseDestroy();
            var e, i = function(e) {
                t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()
            };
            return this.elementIsWrapper && (i(this.element), e = this.element, this.originalElement.css({
                position: e.css("position"),
                width: e.outerWidth(),
                height: e.outerHeight(),
                top: e.css("top"),
                left: e.css("left")
            }).insertAfter(e), e.remove()), this.originalElement.css("resize", this.originalResizeStyle), i(this.originalElement), this
        },
        _mouseCapture: function(e) {
            var i, s, n = !1;
            for (i in this.handles) s = t(this.handles[i])[0], (s === e.target || t.contains(s, e.target)) && (n = !0);
            return !this.options.disabled && n
        },
        _mouseStart: function(e) {
            var s, n, o, a = this.options,
                r = this.element.position(),
                h = this.element;
            return this.resizing = !0, /absolute/.test(h.css("position")) ? h.css({
                position: "absolute",
                top: h.css("top"),
                left: h.css("left")
            }) : h.is(".ui-draggable") && h.css({
                position: "absolute",
                top: r.top,
                left: r.left
            }), this._renderProxy(), s = i(this.helper.css("left")), n = i(this.helper.css("top")), a.containment && (s += t(a.containment).scrollLeft() || 0, n += t(a.containment).scrollTop() || 0), this.offset = this.helper.offset(), this.position = {
                left: s,
                top: n
            }, this.size = this._helper ? {
                width: this.helper.width(),
                height: this.helper.height()
            } : {
                width: h.width(),
                height: h.height()
            }, this.originalSize = this._helper ? {
                width: h.outerWidth(),
                height: h.outerHeight()
            } : {
                width: h.width(),
                height: h.height()
            }, this.originalPosition = {
                left: s,
                top: n
            }, this.sizeDiff = {
                width: h.outerWidth() - h.width(),
                height: h.outerHeight() - h.height()
            }, this.originalMousePosition = {
                left: e.pageX,
                top: e.pageY
            }, this.aspectRatio = "number" == typeof a.aspectRatio ? a.aspectRatio : this.originalSize.width / this.originalSize.height || 1, o = t(".ui-resizable-" + this.axis).css("cursor"), t("body").css("cursor", "auto" === o ? this.axis + "-resize" : o), h.addClass("ui-resizable-resizing"), this._propagate("start", e), !0
        },
        _mouseDrag: function(e) {
            var i, s = this.helper,
                n = {},
                o = this.originalMousePosition,
                a = this.axis,
                r = this.position.top,
                h = this.position.left,
                l = this.size.width,
                c = this.size.height,
                u = e.pageX - o.left || 0,
                d = e.pageY - o.top || 0,
                p = this._change[a];
            return !!p && (i = p.apply(this, [e, u, d]), this._updateVirtualBoundaries(e.shiftKey), (this._aspectRatio || e.shiftKey) && (i = this._updateRatio(i, e)), i = this._respectSize(i, e), this._updateCache(i), this._propagate("resize", e), this.position.top !== r && (n.top = this.position.top + "px"), this.position.left !== h && (n.left = this.position.left + "px"), this.size.width !== l && (n.width = this.size.width + "px"), this.size.height !== c && (n.height = this.size.height + "px"), s.css(n), !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(), t.isEmptyObject(n) || this._trigger("resize", e, this.ui()), !1)
        },
        _mouseStop: function(e) {
            this.resizing = !1;
            var i, s, n, o, a, r, h, l = this.options,
                c = this;
            return this._helper && (i = this._proportionallyResizeElements, s = i.length && /textarea/i.test(i[0].nodeName), n = s && t.ui.hasScroll(i[0], "left") ? 0 : c.sizeDiff.height, o = s ? 0 : c.sizeDiff.width, a = {
                width: c.helper.width() - o,
                height: c.helper.height() - n
            }, r = parseInt(c.element.css("left"), 10) + (c.position.left - c.originalPosition.left) || null, h = parseInt(c.element.css("top"), 10) + (c.position.top - c.originalPosition.top) || null, l.animate || this.element.css(t.extend(a, {
                top: h,
                left: r
            })), c.helper.height(c.size.height), c.helper.width(c.size.width), this._helper && !l.animate && this._proportionallyResize()), t("body").css("cursor", "auto"), this.element.removeClass("ui-resizable-resizing"), this._propagate("stop", e), this._helper && this.helper.remove(), !1
        },
        _updateVirtualBoundaries: function(t) {
            var e, i, n, o, a, r = this.options;
            a = {
                minWidth: s(r.minWidth) ? r.minWidth : 0,
                maxWidth: s(r.maxWidth) ? r.maxWidth : 1 / 0,
                minHeight: s(r.minHeight) ? r.minHeight : 0,
                maxHeight: s(r.maxHeight) ? r.maxHeight : 1 / 0
            }, (this._aspectRatio || t) && (e = a.minHeight * this.aspectRatio, n = a.minWidth / this.aspectRatio, i = a.maxHeight * this.aspectRatio, o = a.maxWidth / this.aspectRatio, e > a.minWidth && (a.minWidth = e), n > a.minHeight && (a.minHeight = n), i < a.maxWidth && (a.maxWidth = i), o < a.maxHeight && (a.maxHeight = o)), this._vBoundaries = a
        },
        _updateCache: function(t) {
            this.offset = this.helper.offset(), s(t.left) && (this.position.left = t.left), s(t.top) && (this.position.top = t.top), s(t.height) && (this.size.height = t.height), s(t.width) && (this.size.width = t.width)
        },
        _updateRatio: function(t) {
            var e = this.position,
                i = this.size,
                n = this.axis;
            return s(t.height) ? t.width = t.height * this.aspectRatio : s(t.width) && (t.height = t.width / this.aspectRatio), "sw" === n && (t.left = e.left + (i.width - t.width), t.top = null), "nw" === n && (t.top = e.top + (i.height - t.height), t.left = e.left + (i.width - t.width)), t
        },
        _respectSize: function(t) {
            var e = this._vBoundaries,
                i = this.axis,
                n = s(t.width) && e.maxWidth && e.maxWidth < t.width,
                o = s(t.height) && e.maxHeight && e.maxHeight < t.height,
                a = s(t.width) && e.minWidth && e.minWidth > t.width,
                r = s(t.height) && e.minHeight && e.minHeight > t.height,
                h = this.originalPosition.left + this.originalSize.width,
                l = this.position.top + this.size.height,
                c = /sw|nw|w/.test(i),
                u = /nw|ne|n/.test(i);
            return a && (t.width = e.minWidth), r && (t.height = e.minHeight), n && (t.width = e.maxWidth), o && (t.height = e.maxHeight), a && c && (t.left = h - e.minWidth), n && c && (t.left = h - e.maxWidth), r && u && (t.top = l - e.minHeight), o && u && (t.top = l - e.maxHeight), t.width || t.height || t.left || !t.top ? t.width || t.height || t.top || !t.left || (t.left = null) : t.top = null, t
        },
        _proportionallyResize: function() {
            if (this._proportionallyResizeElements.length) {
                var t, e, i, s, n, o = this.helper || this.element;
                for (t = 0; t < this._proportionallyResizeElements.length; t++) {
                    if (n = this._proportionallyResizeElements[t], !this.borderDif)
                        for (this.borderDif = [], i = [n.css("borderTopWidth"), n.css("borderRightWidth"), n.css("borderBottomWidth"), n.css("borderLeftWidth")], s = [n.css("paddingTop"), n.css("paddingRight"), n.css("paddingBottom"), n.css("paddingLeft")], e = 0; e < i.length; e++) this.borderDif[e] = (parseInt(i[e], 10) || 0) + (parseInt(s[e], 10) || 0);
                    n.css({
                        height: o.height() - this.borderDif[0] - this.borderDif[2] || 0,
                        width: o.width() - this.borderDif[1] - this.borderDif[3] || 0
                    })
                }
            }
        },
        _renderProxy: function() {
            var e = this.element,
                i = this.options;
            this.elementOffset = e.offset(), this._helper ? (this.helper = this.helper || t("<div style='overflow:hidden;'></div>"), this.helper.addClass(this._helper).css({
                width: this.element.outerWidth() - 1,
                height: this.element.outerHeight() - 1,
                position: "absolute",
                left: this.elementOffset.left + "px",
                top: this.elementOffset.top + "px",
                zIndex: ++i.zIndex
            }), this.helper.appendTo("body").disableSelection()) : this.helper = this.element
        },
        _change: {
            e: function(t, e) {
                return {
                    width: this.originalSize.width + e
                }
            },
            w: function(t, e) {
                var i = this.originalSize,
                    s = this.originalPosition;
                return {
                    left: s.left + e,
                    width: i.width - e
                }
            },
            n: function(t, e, i) {
                var s = this.originalSize,
                    n = this.originalPosition;
                return {
                    top: n.top + i,
                    height: s.height - i
                }
            },
            s: function(t, e, i) {
                return {
                    height: this.originalSize.height + i
                }
            },
            se: function(e, i, s) {
                return t.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [e, i, s]))
            },
            sw: function(e, i, s) {
                return t.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [e, i, s]))
            },
            ne: function(e, i, s) {
                return t.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [e, i, s]))
            },
            nw: function(e, i, s) {
                return t.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [e, i, s]))
            }
        },
        _propagate: function(e, i) {
            t.ui.plugin.call(this, e, [i, this.ui()]), "resize" !== e && this._trigger(e, i, this.ui())
        },
        plugins: {},
        ui: function() {
            return {
                originalElement: this.originalElement,
                element: this.element,
                helper: this.helper,
                position: this.position,
                size: this.size,
                originalSize: this.originalSize,
                originalPosition: this.originalPosition
            }
        }
    }), t.ui.plugin.add("resizable", "animate", {
        stop: function(e) {
            var i = t(this).data("ui-resizable"),
                s = i.options,
                n = i._proportionallyResizeElements,
                o = n.length && /textarea/i.test(n[0].nodeName),
                a = o && t.ui.hasScroll(n[0], "left") ? 0 : i.sizeDiff.height,
                r = o ? 0 : i.sizeDiff.width,
                h = {
                    width: i.size.width - r,
                    height: i.size.height - a
                },
                l = parseInt(i.element.css("left"), 10) + (i.position.left - i.originalPosition.left) || null,
                c = parseInt(i.element.css("top"), 10) + (i.position.top - i.originalPosition.top) || null;
            i.element.animate(t.extend(h, c && l ? {
                top: c,
                left: l
            } : {}), {
                duration: s.animateDuration,
                easing: s.animateEasing,
                step: function() {
                    var s = {
                        width: parseInt(i.element.css("width"), 10),
                        height: parseInt(i.element.css("height"), 10),
                        top: parseInt(i.element.css("top"), 10),
                        left: parseInt(i.element.css("left"), 10)
                    };
                    n && n.length && t(n[0]).css({
                        width: s.width,
                        height: s.height
                    }), i._updateCache(s), i._propagate("resize", e)
                }
            })
        }
    }), t.ui.plugin.add("resizable", "containment", {
        start: function() {
            var e, s, n, o, a, r, h, l = t(this).data("ui-resizable"),
                c = l.options,
                u = l.element,
                d = c.containment,
                p = d instanceof t ? d.get(0) : /parent/.test(d) ? u.parent().get(0) : d;
            p && (l.containerElement = t(p), /document/.test(d) || d === document ? (l.containerOffset = {
                left: 0,
                top: 0
            }, l.containerPosition = {
                left: 0,
                top: 0
            }, l.parentData = {
                element: t(document),
                left: 0,
                top: 0,
                width: t(document).width(),
                height: t(document).height() || document.body.parentNode.scrollHeight
            }) : (e = t(p), s = [], t(["Top", "Right", "Left", "Bottom"]).each(function(t, n) {
                s[t] = i(e.css("padding" + n))
            }), l.containerOffset = e.offset(), l.containerPosition = e.position(), l.containerSize = {
                height: e.innerHeight() - s[3],
                width: e.innerWidth() - s[1]
            }, n = l.containerOffset, o = l.containerSize.height, a = l.containerSize.width, r = t.ui.hasScroll(p, "left") ? p.scrollWidth : a, h = t.ui.hasScroll(p) ? p.scrollHeight : o, l.parentData = {
                element: p,
                left: n.left,
                top: n.top,
                width: r,
                height: h
            }))
        },
        resize: function(e) {
            var i, s, n, o, a = t(this).data("ui-resizable"),
                r = a.options,
                h = a.containerOffset,
                l = a.position,
                c = a._aspectRatio || e.shiftKey,
                u = {
                    top: 0,
                    left: 0
                },
                d = a.containerElement;
            d[0] !== document && /static/.test(d.css("position")) && (u = h), l.left < (a._helper ? h.left : 0) && (a.size.width = a.size.width + (a._helper ? a.position.left - h.left : a.position.left - u.left), c && (a.size.height = a.size.width / a.aspectRatio), a.position.left = r.helper ? h.left : 0), l.top < (a._helper ? h.top : 0) && (a.size.height = a.size.height + (a._helper ? a.position.top - h.top : a.position.top), c && (a.size.width = a.size.height * a.aspectRatio), a.position.top = a._helper ? h.top : 0), a.offset.left = a.parentData.left + a.position.left, a.offset.top = a.parentData.top + a.position.top, i = Math.abs((a._helper ? a.offset.left - u.left : a.offset.left - u.left) + a.sizeDiff.width), s = Math.abs((a._helper ? a.offset.top - u.top : a.offset.top - h.top) + a.sizeDiff.height), n = a.containerElement.get(0) === a.element.parent().get(0), o = /relative|absolute/.test(a.containerElement.css("position")), n && o && (i -= Math.abs(a.parentData.left)), i + a.size.width >= a.parentData.width && (a.size.width = a.parentData.width - i, c && (a.size.height = a.size.width / a.aspectRatio)), s + a.size.height >= a.parentData.height && (a.size.height = a.parentData.height - s, c && (a.size.width = a.size.height * a.aspectRatio))
        },
        stop: function() {
            var e = t(this).data("ui-resizable"),
                i = e.options,
                s = e.containerOffset,
                n = e.containerPosition,
                o = e.containerElement,
                a = t(e.helper),
                r = a.offset(),
                h = a.outerWidth() - e.sizeDiff.width,
                l = a.outerHeight() - e.sizeDiff.height;
            e._helper && !i.animate && /relative/.test(o.css("position")) && t(this).css({
                left: r.left - n.left - s.left,
                width: h,
                height: l
            }), e._helper && !i.animate && /static/.test(o.css("position")) && t(this).css({
                left: r.left - n.left - s.left,
                width: h,
                height: l
            })
        }
    }), t.ui.plugin.add("resizable", "alsoResize", {
        start: function() {
            var e = t(this).data("ui-resizable"),
                i = e.options,
                s = function(e) {
                    t(e).each(function() {
                        var e = t(this);
                        e.data("ui-resizable-alsoresize", {
                            width: parseInt(e.width(), 10),
                            height: parseInt(e.height(), 10),
                            left: parseInt(e.css("left"), 10),
                            top: parseInt(e.css("top"), 10)
                        })
                    })
                };
            "object" != typeof i.alsoResize || i.alsoResize.parentNode ? s(i.alsoResize) : i.alsoResize.length ? (i.alsoResize = i.alsoResize[0], s(i.alsoResize)) : t.each(i.alsoResize, function(t) {
                s(t)
            })
        },
        resize: function(e, i) {
            var s = t(this).data("ui-resizable"),
                n = s.options,
                o = s.originalSize,
                a = s.originalPosition,
                r = {
                    height: s.size.height - o.height || 0,
                    width: s.size.width - o.width || 0,
                    top: s.position.top - a.top || 0,
                    left: s.position.left - a.left || 0
                },
                h = function(e, s) {
                    t(e).each(function() {
                        var e = t(this),
                            n = t(this).data("ui-resizable-alsoresize"),
                            o = {},
                            a = s && s.length ? s : e.parents(i.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"];
                        t.each(a, function(t, e) {
                            var i = (n[e] || 0) + (r[e] || 0);
                            i && i >= 0 && (o[e] = i || null)
                        }), e.css(o)
                    })
                };
            "object" != typeof n.alsoResize || n.alsoResize.nodeType ? h(n.alsoResize) : t.each(n.alsoResize, function(t, e) {
                h(t, e)
            })
        },
        stop: function() {
            t(this).removeData("resizable-alsoresize")
        }
    }), t.ui.plugin.add("resizable", "ghost", {
        start: function() {
            var e = t(this).data("ui-resizable"),
                i = e.options,
                s = e.size;
            e.ghost = e.originalElement.clone(), e.ghost.css({
                opacity: .25,
                display: "block",
                position: "relative",
                height: s.height,
                width: s.width,
                margin: 0,
                left: 0,
                top: 0
            }).addClass("ui-resizable-ghost").addClass("string" == typeof i.ghost ? i.ghost : ""), e.ghost.appendTo(e.helper)
        },
        resize: function() {
            var e = t(this).data("ui-resizable");
            e.ghost && e.ghost.css({
                position: "relative",
                height: e.size.height,
                width: e.size.width
            })
        },
        stop: function() {
            var e = t(this).data("ui-resizable");
            e.ghost && e.helper && e.helper.get(0).removeChild(e.ghost.get(0))
        }
    }), t.ui.plugin.add("resizable", "grid", {
        resize: function() {
            var e = t(this).data("ui-resizable"),
                i = e.options,
                s = e.size,
                n = e.originalSize,
                o = e.originalPosition,
                a = e.axis,
                r = "number" == typeof i.grid ? [i.grid, i.grid] : i.grid,
                h = r[0] || 1,
                l = r[1] || 1,
                c = Math.round((s.width - n.width) / h) * h,
                u = Math.round((s.height - n.height) / l) * l,
                d = n.width + c,
                p = n.height + u,
                f = i.maxWidth && i.maxWidth < d,
                g = i.maxHeight && i.maxHeight < p,
                m = i.minWidth && i.minWidth > d,
                v = i.minHeight && i.minHeight > p;
            i.grid = r, m && (d += h), v && (p += l), f && (d -= h), g && (p -= l), /^(se|s|e)$/.test(a) ? (e.size.width = d, e.size.height = p) : /^(ne)$/.test(a) ? (e.size.width = d, e.size.height = p, e.position.top = o.top - u) : /^(sw)$/.test(a) ? (e.size.width = d, e.size.height = p, e.position.left = o.left - c) : (p - l > 0 ? (e.size.height = p, e.position.top = o.top - u) : (e.size.height = l, e.position.top = o.top + n.height - l), d - h > 0 ? (e.size.width = d, e.position.left = o.left - c) : (e.size.width = h, e.position.left = o.left + n.width - h))
        }
    })
}(jQuery),
function(t, e) {
    t.widget("ui.selectable", t.ui.mouse, {
        version: "1.10.4",
        options: {
            appendTo: "body",
            autoRefresh: !0,
            distance: 0,
            filter: "*",
            tolerance: "touch",
            selected: null,
            selecting: null,
            start: null,
            stop: null,
            unselected: null,
            unselecting: null
        },
        _create: function() {
            var e, i = this;
            this.element.addClass("ui-selectable"), this.dragged = !1, this.refresh = function() {
                e = t(i.options.filter, i.element[0]), e.addClass("ui-selectee"), e.each(function() {
                    var e = t(this),
                        i = e.offset();
                    t.data(this, "selectable-item", {
                        element: this,
                        $element: e,
                        left: i.left,
                        top: i.top,
                        right: i.left + e.outerWidth(),
                        bottom: i.top + e.outerHeight(),
                        startselected: !1,
                        selected: e.hasClass("ui-selected"),
                        selecting: e.hasClass("ui-selecting"),
                        unselecting: e.hasClass("ui-unselecting")
                    })
                })
            }, this.refresh(), this.selectees = e.addClass("ui-selectee"), this._mouseInit(), this.helper = t("<div class='ui-selectable-helper'></div>")
        },
        _destroy: function() {
            this.selectees.removeClass("ui-selectee").removeData("selectable-item"), this.element.removeClass("ui-selectable ui-selectable-disabled"), this._mouseDestroy()
        },
        _mouseStart: function(e) {
            var i = this,
                s = this.options;
            this.opos = [e.pageX, e.pageY], this.options.disabled || (this.selectees = t(s.filter, this.element[0]), this._trigger("start", e), t(s.appendTo).append(this.helper), this.helper.css({
                left: e.pageX,
                top: e.pageY,
                width: 0,
                height: 0
            }), s.autoRefresh && this.refresh(), this.selectees.filter(".ui-selected").each(function() {
                var s = t.data(this, "selectable-item");
                s.startselected = !0, e.metaKey || e.ctrlKey || (s.$element.removeClass("ui-selected"), s.selected = !1, s.$element.addClass("ui-unselecting"), s.unselecting = !0, i._trigger("unselecting", e, {
                    unselecting: s.element
                }))
            }), t(e.target).parents().addBack().each(function() {
                var s, n = t.data(this, "selectable-item");
                if (n) return s = !e.metaKey && !e.ctrlKey || !n.$element.hasClass("ui-selected"), n.$element.removeClass(s ? "ui-unselecting" : "ui-selected").addClass(s ? "ui-selecting" : "ui-unselecting"), n.unselecting = !s, n.selecting = s, n.selected = s, s ? i._trigger("selecting", e, {
                    selecting: n.element
                }) : i._trigger("unselecting", e, {
                    unselecting: n.element
                }), !1
            }))
        },
        _mouseDrag: function(e) {
            if (this.dragged = !0, !this.options.disabled) {
                var i, s = this,
                    n = this.options,
                    o = this.opos[0],
                    a = this.opos[1],
                    r = e.pageX,
                    h = e.pageY;
                return o > r && (i = r, r = o, o = i), a > h && (i = h, h = a, a = i), this.helper.css({
                    left: o,
                    top: a,
                    width: r - o,
                    height: h - a
                }), this.selectees.each(function() {
                    var i = t.data(this, "selectable-item"),
                        l = !1;
                    i && i.element !== s.element[0] && ("touch" === n.tolerance ? l = !(i.left > r || i.right < o || i.top > h || i.bottom < a) : "fit" === n.tolerance && (l = i.left > o && i.right < r && i.top > a && i.bottom < h), l ? (i.selected && (i.$element.removeClass("ui-selected"), i.selected = !1), i.unselecting && (i.$element.removeClass("ui-unselecting"), i.unselecting = !1), i.selecting || (i.$element.addClass("ui-selecting"), i.selecting = !0, s._trigger("selecting", e, {
                        selecting: i.element
                    }))) : (i.selecting && ((e.metaKey || e.ctrlKey) && i.startselected ? (i.$element.removeClass("ui-selecting"), i.selecting = !1, i.$element.addClass("ui-selected"), i.selected = !0) : (i.$element.removeClass("ui-selecting"), i.selecting = !1, i.startselected && (i.$element.addClass("ui-unselecting"), i.unselecting = !0), s._trigger("unselecting", e, {
                        unselecting: i.element
                    }))), i.selected && (e.metaKey || e.ctrlKey || i.startselected || (i.$element.removeClass("ui-selected"), i.selected = !1, i.$element.addClass("ui-unselecting"), i.unselecting = !0, s._trigger("unselecting", e, {
                        unselecting: i.element
                    })))))
                }), !1
            }
        },
        _mouseStop: function(e) {
            var i = this;
            return this.dragged = !1, t(".ui-unselecting", this.element[0]).each(function() {
                var s = t.data(this, "selectable-item");
                s.$element.removeClass("ui-unselecting"), s.unselecting = !1, s.startselected = !1, i._trigger("unselected", e, {
                    unselected: s.element
                })
            }), t(".ui-selecting", this.element[0]).each(function() {
                var s = t.data(this, "selectable-item");
                s.$element.removeClass("ui-selecting").addClass("ui-selected"), s.selecting = !1, s.selected = !0, s.startselected = !0, i._trigger("selected", e, {
                    selected: s.element
                })
            }), this._trigger("stop", e), this.helper.remove(), !1
        }
    })
}(jQuery),
function(t, e) {
    function i(t, e, i) {
        return t > e && t < e + i
    }

    function s(t) {
        return /left|right/.test(t.css("float")) || /inline|table-cell/.test(t.css("display"))
    }
    t.widget("ui.sortable", t.ui.mouse, {
        version: "1.10.4",
        widgetEventPrefix: "sort",
        ready: !1,
        options: {
            appendTo: "parent",
            axis: !1,
            connectWith: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            dropOnEmpty: !0,
            forcePlaceholderSize: !1,
            forceHelperSize: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            items: "> *",
            opacity: !1,
            placeholder: !1,
            revert: !1,
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            scope: "default",
            tolerance: "intersect",
            zIndex: 1e3,
            activate: null,
            beforeStop: null,
            change: null,
            deactivate: null,
            out: null,
            over: null,
            receive: null,
            remove: null,
            sort: null,
            start: null,
            stop: null,
            update: null
        },
        _create: function() {
            var t = this.options;
            this.containerCache = {}, this.element.addClass("ui-sortable"), this.refresh(), this.floating = !!this.items.length && ("x" === t.axis || s(this.items[0].item)), this.offset = this.element.offset(), this._mouseInit(), this.ready = !0
        },
        _destroy: function() {
            this.element.removeClass("ui-sortable ui-sortable-disabled"), this._mouseDestroy();
            for (var t = this.items.length - 1; t >= 0; t--) this.items[t].item.removeData(this.widgetName + "-item");
            return this
        },
        _setOption: function(e, i) {
            "disabled" === e ? (this.options[e] = i, this.widget().toggleClass("ui-sortable-disabled", !!i)) : t.Widget.prototype._setOption.apply(this, arguments)
        },
        _mouseCapture: function(e, i) {
            var s = null,
                n = !1,
                o = this;
            return !this.reverting && (!this.options.disabled && "static" !== this.options.type && (this._refreshItems(e), t(e.target).parents().each(function() {
                if (t.data(this, o.widgetName + "-item") === o) return s = t(this), !1
            }), t.data(e.target, o.widgetName + "-item") === o && (s = t(e.target)), !!s && (!(this.options.handle && !i && (t(this.options.handle, s).find("*").addBack().each(function() {
                this === e.target && (n = !0)
            }), !n)) && (this.currentItem = s, this._removeCurrentsFromItems(), !0))))
        },
        _mouseStart: function(e, i, s) {
            var n, o, a = this.options;
            if (this.currentContainer = this, this.refreshPositions(), this.helper = this._createHelper(e), this._cacheHelperProportions(), this._cacheMargins(), this.scrollParent = this.helper.scrollParent(), this.offset = this.currentItem.offset(), this.offset = {
                    top: this.offset.top - this.margins.top,
                    left: this.offset.left - this.margins.left
                }, t.extend(this.offset, {
                    click: {
                        left: e.pageX - this.offset.left,
                        top: e.pageY - this.offset.top
                    },
                    parent: this._getParentOffset(),
                    relative: this._getRelativeOffset()
                }), this.helper.css("position", "absolute"), this.cssPosition = this.helper.css("position"), this.originalPosition = this._generatePosition(e), this.originalPageX = e.pageX, this.originalPageY = e.pageY, a.cursorAt && this._adjustOffsetFromHelper(a.cursorAt), this.domPosition = {
                    prev: this.currentItem.prev()[0],
                    parent: this.currentItem.parent()[0]
                }, this.helper[0] !== this.currentItem[0] && this.currentItem.hide(), this._createPlaceholder(), a.containment && this._setContainment(), a.cursor && "auto" !== a.cursor && (o = this.document.find("body"), this.storedCursor = o.css("cursor"), o.css("cursor", a.cursor), this.storedStylesheet = t("<style>*{ cursor: " + a.cursor + " !important; }</style>").appendTo(o)), a.opacity && (this.helper.css("opacity") && (this._storedOpacity = this.helper.css("opacity")), this.helper.css("opacity", a.opacity)), a.zIndex && (this.helper.css("zIndex") && (this._storedZIndex = this.helper.css("zIndex")), this.helper.css("zIndex", a.zIndex)), this.scrollParent[0] !== document && "HTML" !== this.scrollParent[0].tagName && (this.overflowOffset = this.scrollParent.offset()), this._trigger("start", e, this._uiHash()), this._preserveHelperProportions || this._cacheHelperProportions(), !s)
                for (n = this.containers.length - 1; n >= 0; n--) this.containers[n]._trigger("activate", e, this._uiHash(this));
            return t.ui.ddmanager && (t.ui.ddmanager.current = this), t.ui.ddmanager && !a.dropBehaviour && t.ui.ddmanager.prepareOffsets(this, e), this.dragging = !0, this.helper.addClass("ui-sortable-helper"), this._mouseDrag(e), !0
        },
        _mouseDrag: function(e) {
            var i, s, n, o, a = this.options,
                r = !1;
            for (this.position = this._generatePosition(e), this.positionAbs = this._convertPositionTo("absolute"), this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs), this.options.scroll && (this.scrollParent[0] !== document && "HTML" !== this.scrollParent[0].tagName ? (this.overflowOffset.top + this.scrollParent[0].offsetHeight - e.pageY < a.scrollSensitivity ? this.scrollParent[0].scrollTop = r = this.scrollParent[0].scrollTop + a.scrollSpeed : e.pageY - this.overflowOffset.top < a.scrollSensitivity && (this.scrollParent[0].scrollTop = r = this.scrollParent[0].scrollTop - a.scrollSpeed), this.overflowOffset.left + this.scrollParent[0].offsetWidth - e.pageX < a.scrollSensitivity ? this.scrollParent[0].scrollLeft = r = this.scrollParent[0].scrollLeft + a.scrollSpeed : e.pageX - this.overflowOffset.left < a.scrollSensitivity && (this.scrollParent[0].scrollLeft = r = this.scrollParent[0].scrollLeft - a.scrollSpeed)) : (e.pageY - t(document).scrollTop() < a.scrollSensitivity ? r = t(document).scrollTop(t(document).scrollTop() - a.scrollSpeed) : t(window).height() - (e.pageY - t(document).scrollTop()) < a.scrollSensitivity && (r = t(document).scrollTop(t(document).scrollTop() + a.scrollSpeed)), e.pageX - t(document).scrollLeft() < a.scrollSensitivity ? r = t(document).scrollLeft(t(document).scrollLeft() - a.scrollSpeed) : t(window).width() - (e.pageX - t(document).scrollLeft()) < a.scrollSensitivity && (r = t(document).scrollLeft(t(document).scrollLeft() + a.scrollSpeed))), r !== !1 && t.ui.ddmanager && !a.dropBehaviour && t.ui.ddmanager.prepareOffsets(this, e)), this.positionAbs = this._convertPositionTo("absolute"),
                this.options.axis && "y" === this.options.axis || (this.helper[0].style.left = this.position.left + "px"), this.options.axis && "x" === this.options.axis || (this.helper[0].style.top = this.position.top + "px"), i = this.items.length - 1; i >= 0; i--)
                if (s = this.items[i], n = s.item[0], o = this._intersectsWithPointer(s), o && s.instance === this.currentContainer && !(n === this.currentItem[0] || this.placeholder[1 === o ? "next" : "prev"]()[0] === n || t.contains(this.placeholder[0], n) || "semi-dynamic" === this.options.type && t.contains(this.element[0], n))) {
                    if (this.direction = 1 === o ? "down" : "up", "pointer" !== this.options.tolerance && !this._intersectsWithSides(s)) break;
                    this._rearrange(e, s), this._trigger("change", e, this._uiHash());
                    break
                }
            return this._contactContainers(e), t.ui.ddmanager && t.ui.ddmanager.drag(this, e), this._trigger("sort", e, this._uiHash()), this.lastPositionAbs = this.positionAbs, !1
        },
        _mouseStop: function(e, i) {
            if (e) {
                if (t.ui.ddmanager && !this.options.dropBehaviour && t.ui.ddmanager.drop(this, e), this.options.revert) {
                    var s = this,
                        n = this.placeholder.offset(),
                        o = this.options.axis,
                        a = {};
                    o && "x" !== o || (a.left = n.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollLeft)), o && "y" !== o || (a.top = n.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollTop)), this.reverting = !0, t(this.helper).animate(a, parseInt(this.options.revert, 10) || 500, function() {
                        s._clear(e)
                    })
                } else this._clear(e, i);
                return !1
            }
        },
        cancel: function() {
            if (this.dragging) {
                this._mouseUp({
                    target: null
                }), "original" === this.options.helper ? this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper") : this.currentItem.show();
                for (var e = this.containers.length - 1; e >= 0; e--) this.containers[e]._trigger("deactivate", null, this._uiHash(this)), this.containers[e].containerCache.over && (this.containers[e]._trigger("out", null, this._uiHash(this)), this.containers[e].containerCache.over = 0)
            }
            return this.placeholder && (this.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]), "original" !== this.options.helper && this.helper && this.helper[0].parentNode && this.helper.remove(), t.extend(this, {
                helper: null,
                dragging: !1,
                reverting: !1,
                _noFinalSort: null
            }), this.domPosition.prev ? t(this.domPosition.prev).after(this.currentItem) : t(this.domPosition.parent).prepend(this.currentItem)), this
        },
        serialize: function(e) {
            var i = this._getItemsAsjQuery(e && e.connected),
                s = [];
            return e = e || {}, t(i).each(function() {
                var i = (t(e.item || this).attr(e.attribute || "id") || "").match(e.expression || /(.+)[\-=_](.+)/);
                i && s.push((e.key || i[1] + "[]") + "=" + (e.key && e.expression ? i[1] : i[2]))
            }), !s.length && e.key && s.push(e.key + "="), s.join("&")
        },
        toArray: function(e) {
            var i = this._getItemsAsjQuery(e && e.connected),
                s = [];
            return e = e || {}, i.each(function() {
                s.push(t(e.item || this).attr(e.attribute || "id") || "")
            }), s
        },
        _intersectsWith: function(t) {
            var e = this.positionAbs.left,
                i = e + this.helperProportions.width,
                s = this.positionAbs.top,
                n = s + this.helperProportions.height,
                o = t.left,
                a = o + t.width,
                r = t.top,
                h = r + t.height,
                l = this.offset.click.top,
                c = this.offset.click.left,
                u = "x" === this.options.axis || s + l > r && s + l < h,
                d = "y" === this.options.axis || e + c > o && e + c < a,
                p = u && d;
            return "pointer" === this.options.tolerance || this.options.forcePointerForContainers || "pointer" !== this.options.tolerance && this.helperProportions[this.floating ? "width" : "height"] > t[this.floating ? "width" : "height"] ? p : o < e + this.helperProportions.width / 2 && i - this.helperProportions.width / 2 < a && r < s + this.helperProportions.height / 2 && n - this.helperProportions.height / 2 < h
        },
        _intersectsWithPointer: function(t) {
            var e = "x" === this.options.axis || i(this.positionAbs.top + this.offset.click.top, t.top, t.height),
                s = "y" === this.options.axis || i(this.positionAbs.left + this.offset.click.left, t.left, t.width),
                n = e && s,
                o = this._getDragVerticalDirection(),
                a = this._getDragHorizontalDirection();
            return !!n && (this.floating ? a && "right" === a || "down" === o ? 2 : 1 : o && ("down" === o ? 2 : 1))
        },
        _intersectsWithSides: function(t) {
            var e = i(this.positionAbs.top + this.offset.click.top, t.top + t.height / 2, t.height),
                s = i(this.positionAbs.left + this.offset.click.left, t.left + t.width / 2, t.width),
                n = this._getDragVerticalDirection(),
                o = this._getDragHorizontalDirection();
            return this.floating && o ? "right" === o && s || "left" === o && !s : n && ("down" === n && e || "up" === n && !e)
        },
        _getDragVerticalDirection: function() {
            var t = this.positionAbs.top - this.lastPositionAbs.top;
            return 0 !== t && (t > 0 ? "down" : "up")
        },
        _getDragHorizontalDirection: function() {
            var t = this.positionAbs.left - this.lastPositionAbs.left;
            return 0 !== t && (t > 0 ? "right" : "left")
        },
        refresh: function(t) {
            return this._refreshItems(t), this.refreshPositions(), this
        },
        _connectWith: function() {
            var t = this.options;
            return t.connectWith.constructor === String ? [t.connectWith] : t.connectWith
        },
        _getItemsAsjQuery: function(e) {
            function i() {
                r.push(this)
            }
            var s, n, o, a, r = [],
                h = [],
                l = this._connectWith();
            if (l && e)
                for (s = l.length - 1; s >= 0; s--)
                    for (o = t(l[s]), n = o.length - 1; n >= 0; n--) a = t.data(o[n], this.widgetFullName), a && a !== this && !a.options.disabled && h.push([t.isFunction(a.options.items) ? a.options.items.call(a.element) : t(a.options.items, a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), a]);
            for (h.push([t.isFunction(this.options.items) ? this.options.items.call(this.element, null, {
                    options: this.options,
                    item: this.currentItem
                }) : t(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]), s = h.length - 1; s >= 0; s--) h[s][0].each(i);
            return t(r)
        },
        _removeCurrentsFromItems: function() {
            var e = this.currentItem.find(":data(" + this.widgetName + "-item)");
            this.items = t.grep(this.items, function(t) {
                for (var i = 0; i < e.length; i++)
                    if (e[i] === t.item[0]) return !1;
                return !0
            })
        },
        _refreshItems: function(e) {
            this.items = [], this.containers = [this];
            var i, s, n, o, a, r, h, l, c = this.items,
                u = [
                    [t.isFunction(this.options.items) ? this.options.items.call(this.element[0], e, {
                        item: this.currentItem
                    }) : t(this.options.items, this.element), this]
                ],
                d = this._connectWith();
            if (d && this.ready)
                for (i = d.length - 1; i >= 0; i--)
                    for (n = t(d[i]), s = n.length - 1; s >= 0; s--) o = t.data(n[s], this.widgetFullName), o && o !== this && !o.options.disabled && (u.push([t.isFunction(o.options.items) ? o.options.items.call(o.element[0], e, {
                        item: this.currentItem
                    }) : t(o.options.items, o.element), o]), this.containers.push(o));
            for (i = u.length - 1; i >= 0; i--)
                for (a = u[i][1], r = u[i][0], s = 0, l = r.length; s < l; s++) h = t(r[s]), h.data(this.widgetName + "-item", a), c.push({
                    item: h,
                    instance: a,
                    width: 0,
                    height: 0,
                    left: 0,
                    top: 0
                })
        },
        refreshPositions: function(e) {
            this.offsetParent && this.helper && (this.offset.parent = this._getParentOffset());
            var i, s, n, o;
            for (i = this.items.length - 1; i >= 0; i--) s = this.items[i], s.instance !== this.currentContainer && this.currentContainer && s.item[0] !== this.currentItem[0] || (n = this.options.toleranceElement ? t(this.options.toleranceElement, s.item) : s.item, e || (s.width = n.outerWidth(), s.height = n.outerHeight()), o = n.offset(), s.left = o.left, s.top = o.top);
            if (this.options.custom && this.options.custom.refreshContainers) this.options.custom.refreshContainers.call(this);
            else
                for (i = this.containers.length - 1; i >= 0; i--) o = this.containers[i].element.offset(), this.containers[i].containerCache.left = o.left, this.containers[i].containerCache.top = o.top, this.containers[i].containerCache.width = this.containers[i].element.outerWidth(), this.containers[i].containerCache.height = this.containers[i].element.outerHeight();
            return this
        },
        _createPlaceholder: function(e) {
            e = e || this;
            var i, s = e.options;
            s.placeholder && s.placeholder.constructor !== String || (i = s.placeholder, s.placeholder = {
                element: function() {
                    var s = e.currentItem[0].nodeName.toLowerCase(),
                        n = t("<" + s + ">", e.document[0]).addClass(i || e.currentItem[0].className + " ui-sortable-placeholder").removeClass("ui-sortable-helper");
                    return "tr" === s ? e.currentItem.children().each(function() {
                        t("<td>&#160;</td>", e.document[0]).attr("colspan", t(this).attr("colspan") || 1).appendTo(n)
                    }) : "img" === s && n.attr("src", e.currentItem.attr("src")), i || n.css("visibility", "hidden"), n
                },
                update: function(t, n) {
                    i && !s.forcePlaceholderSize || (n.height() || n.height(e.currentItem.innerHeight() - parseInt(e.currentItem.css("paddingTop") || 0, 10) - parseInt(e.currentItem.css("paddingBottom") || 0, 10)), n.width() || n.width(e.currentItem.innerWidth() - parseInt(e.currentItem.css("paddingLeft") || 0, 10) - parseInt(e.currentItem.css("paddingRight") || 0, 10)))
                }
            }), e.placeholder = t(s.placeholder.element.call(e.element, e.currentItem)), e.currentItem.after(e.placeholder), s.placeholder.update(e, e.placeholder)
        },
        _contactContainers: function(e) {
            var n, o, a, r, h, l, c, u, d, p, f = null,
                g = null;
            for (n = this.containers.length - 1; n >= 0; n--)
                if (!t.contains(this.currentItem[0], this.containers[n].element[0]))
                    if (this._intersectsWith(this.containers[n].containerCache)) {
                        if (f && t.contains(this.containers[n].element[0], f.element[0])) continue;
                        f = this.containers[n], g = n
                    } else this.containers[n].containerCache.over && (this.containers[n]._trigger("out", e, this._uiHash(this)), this.containers[n].containerCache.over = 0);
            if (f)
                if (1 === this.containers.length) this.containers[g].containerCache.over || (this.containers[g]._trigger("over", e, this._uiHash(this)), this.containers[g].containerCache.over = 1);
                else {
                    for (a = 1e4, r = null, p = f.floating || s(this.currentItem), h = p ? "left" : "top", l = p ? "width" : "height", c = this.positionAbs[h] + this.offset.click[h], o = this.items.length - 1; o >= 0; o--) t.contains(this.containers[g].element[0], this.items[o].item[0]) && this.items[o].item[0] !== this.currentItem[0] && (p && !i(this.positionAbs.top + this.offset.click.top, this.items[o].top, this.items[o].height) || (u = this.items[o].item.offset()[h], d = !1, Math.abs(u - c) > Math.abs(u + this.items[o][l] - c) && (d = !0, u += this.items[o][l]), Math.abs(u - c) < a && (a = Math.abs(u - c), r = this.items[o], this.direction = d ? "up" : "down")));
                    if (!r && !this.options.dropOnEmpty) return;
                    if (this.currentContainer === this.containers[g]) return;
                    r ? this._rearrange(e, r, null, !0) : this._rearrange(e, null, this.containers[g].element, !0), this._trigger("change", e, this._uiHash()), this.containers[g]._trigger("change", e, this._uiHash(this)), this.currentContainer = this.containers[g], this.options.placeholder.update(this.currentContainer, this.placeholder), this.containers[g]._trigger("over", e, this._uiHash(this)), this.containers[g].containerCache.over = 1
                }
        },
        _createHelper: function(e) {
            var i = this.options,
                s = t.isFunction(i.helper) ? t(i.helper.apply(this.element[0], [e, this.currentItem])) : "clone" === i.helper ? this.currentItem.clone() : this.currentItem;
            return s.parents("body").length || t("parent" !== i.appendTo ? i.appendTo : this.currentItem[0].parentNode)[0].appendChild(s[0]), s[0] === this.currentItem[0] && (this._storedCSS = {
                width: this.currentItem[0].style.width,
                height: this.currentItem[0].style.height,
                position: this.currentItem.css("position"),
                top: this.currentItem.css("top"),
                left: this.currentItem.css("left")
            }), s[0].style.width && !i.forceHelperSize || s.width(this.currentItem.width()), s[0].style.height && !i.forceHelperSize || s.height(this.currentItem.height()), s
        },
        _adjustOffsetFromHelper: function(e) {
            "string" == typeof e && (e = e.split(" ")), t.isArray(e) && (e = {
                left: +e[0],
                top: +e[1] || 0
            }), "left" in e && (this.offset.click.left = e.left + this.margins.left), "right" in e && (this.offset.click.left = this.helperProportions.width - e.right + this.margins.left), "top" in e && (this.offset.click.top = e.top + this.margins.top), "bottom" in e && (this.offset.click.top = this.helperProportions.height - e.bottom + this.margins.top)
        },
        _getParentOffset: function() {
            this.offsetParent = this.helper.offsetParent();
            var e = this.offsetParent.offset();
            return "absolute" === this.cssPosition && this.scrollParent[0] !== document && t.contains(this.scrollParent[0], this.offsetParent[0]) && (e.left += this.scrollParent.scrollLeft(), e.top += this.scrollParent.scrollTop()), (this.offsetParent[0] === document.body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && t.ui.ie) && (e = {
                top: 0,
                left: 0
            }), {
                top: e.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: e.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function() {
            if ("relative" === this.cssPosition) {
                var t = this.currentItem.position();
                return {
                    top: t.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                    left: t.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                }
            }
            return {
                top: 0,
                left: 0
            }
        },
        _cacheMargins: function() {
            this.margins = {
                left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
                top: parseInt(this.currentItem.css("marginTop"), 10) || 0
            }
        },
        _cacheHelperProportions: function() {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function() {
            var e, i, s, n = this.options;
            "parent" === n.containment && (n.containment = this.helper[0].parentNode), "document" !== n.containment && "window" !== n.containment || (this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, t("document" === n.containment ? document : window).width() - this.helperProportions.width - this.margins.left, (t("document" === n.containment ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]), /^(document|window|parent)$/.test(n.containment) || (e = t(n.containment)[0], i = t(n.containment).offset(), s = "hidden" !== t(e).css("overflow"), this.containment = [i.left + (parseInt(t(e).css("borderLeftWidth"), 10) || 0) + (parseInt(t(e).css("paddingLeft"), 10) || 0) - this.margins.left, i.top + (parseInt(t(e).css("borderTopWidth"), 10) || 0) + (parseInt(t(e).css("paddingTop"), 10) || 0) - this.margins.top, i.left + (s ? Math.max(e.scrollWidth, e.offsetWidth) : e.offsetWidth) - (parseInt(t(e).css("borderLeftWidth"), 10) || 0) - (parseInt(t(e).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, i.top + (s ? Math.max(e.scrollHeight, e.offsetHeight) : e.offsetHeight) - (parseInt(t(e).css("borderTopWidth"), 10) || 0) - (parseInt(t(e).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top])
        },
        _convertPositionTo: function(e, i) {
            i || (i = this.position);
            var s = "absolute" === e ? 1 : -1,
                n = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && t.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
                o = /(html|body)/i.test(n[0].tagName);
            return {
                top: i.top + this.offset.relative.top * s + this.offset.parent.top * s - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : o ? 0 : n.scrollTop()) * s,
                left: i.left + this.offset.relative.left * s + this.offset.parent.left * s - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : o ? 0 : n.scrollLeft()) * s
            }
        },
        _generatePosition: function(e) {
            var i, s, n = this.options,
                o = e.pageX,
                a = e.pageY,
                r = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && t.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
                h = /(html|body)/i.test(r[0].tagName);
            return "relative" !== this.cssPosition || this.scrollParent[0] !== document && this.scrollParent[0] !== this.offsetParent[0] || (this.offset.relative = this._getRelativeOffset()), this.originalPosition && (this.containment && (e.pageX - this.offset.click.left < this.containment[0] && (o = this.containment[0] + this.offset.click.left), e.pageY - this.offset.click.top < this.containment[1] && (a = this.containment[1] + this.offset.click.top), e.pageX - this.offset.click.left > this.containment[2] && (o = this.containment[2] + this.offset.click.left), e.pageY - this.offset.click.top > this.containment[3] && (a = this.containment[3] + this.offset.click.top)), n.grid && (i = this.originalPageY + Math.round((a - this.originalPageY) / n.grid[1]) * n.grid[1], a = this.containment ? i - this.offset.click.top >= this.containment[1] && i - this.offset.click.top <= this.containment[3] ? i : i - this.offset.click.top >= this.containment[1] ? i - n.grid[1] : i + n.grid[1] : i, s = this.originalPageX + Math.round((o - this.originalPageX) / n.grid[0]) * n.grid[0], o = this.containment ? s - this.offset.click.left >= this.containment[0] && s - this.offset.click.left <= this.containment[2] ? s : s - this.offset.click.left >= this.containment[0] ? s - n.grid[0] : s + n.grid[0] : s)), {
                top: a - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : h ? 0 : r.scrollTop()),
                left: o - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : h ? 0 : r.scrollLeft())
            }
        },
        _rearrange: function(t, e, i, s) {
            i ? i[0].appendChild(this.placeholder[0]) : e.item[0].parentNode.insertBefore(this.placeholder[0], "down" === this.direction ? e.item[0] : e.item[0].nextSibling), this.counter = this.counter ? ++this.counter : 1;
            var n = this.counter;
            this._delay(function() {
                n === this.counter && this.refreshPositions(!s)
            })
        },
        _clear: function(t, e) {
            function i(t, e, i) {
                return function(s) {
                    i._trigger(t, s, e._uiHash(e))
                }
            }
            this.reverting = !1;
            var s, n = [];
            if (!this._noFinalSort && this.currentItem.parent().length && this.placeholder.before(this.currentItem), this._noFinalSort = null, this.helper[0] === this.currentItem[0]) {
                for (s in this._storedCSS) "auto" !== this._storedCSS[s] && "static" !== this._storedCSS[s] || (this._storedCSS[s] = "");
                this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")
            } else this.currentItem.show();
            for (this.fromOutside && !e && n.push(function(t) {
                    this._trigger("receive", t, this._uiHash(this.fromOutside))
                }), !this.fromOutside && this.domPosition.prev === this.currentItem.prev().not(".ui-sortable-helper")[0] && this.domPosition.parent === this.currentItem.parent()[0] || e || n.push(function(t) {
                    this._trigger("update", t, this._uiHash())
                }), this !== this.currentContainer && (e || (n.push(function(t) {
                    this._trigger("remove", t, this._uiHash())
                }), n.push(function(t) {
                    return function(e) {
                        t._trigger("receive", e, this._uiHash(this))
                    }
                }.call(this, this.currentContainer)), n.push(function(t) {
                    return function(e) {
                        t._trigger("update", e, this._uiHash(this))
                    }
                }.call(this, this.currentContainer)))), s = this.containers.length - 1; s >= 0; s--) e || n.push(i("deactivate", this, this.containers[s])), this.containers[s].containerCache.over && (n.push(i("out", this, this.containers[s])), this.containers[s].containerCache.over = 0);
            if (this.storedCursor && (this.document.find("body").css("cursor", this.storedCursor), this.storedStylesheet.remove()), this._storedOpacity && this.helper.css("opacity", this._storedOpacity), this._storedZIndex && this.helper.css("zIndex", "auto" === this._storedZIndex ? "" : this._storedZIndex), this.dragging = !1, this.cancelHelperRemoval) {
                if (!e) {
                    for (this._trigger("beforeStop", t, this._uiHash()), s = 0; s < n.length; s++) n[s].call(this, t);
                    this._trigger("stop", t, this._uiHash())
                }
                return this.fromOutside = !1, !1
            }
            if (e || this._trigger("beforeStop", t, this._uiHash()), this.placeholder[0].parentNode.removeChild(this.placeholder[0]), this.helper[0] !== this.currentItem[0] && this.helper.remove(), this.helper = null, !e) {
                for (s = 0; s < n.length; s++) n[s].call(this, t);
                this._trigger("stop", t, this._uiHash())
            }
            return this.fromOutside = !1, !0
        },
        _trigger: function() {
            t.Widget.prototype._trigger.apply(this, arguments) === !1 && this.cancel()
        },
        _uiHash: function(e) {
            var i = e || this;
            return {
                helper: i.helper,
                placeholder: i.placeholder || t([]),
                position: i.position,
                originalPosition: i.originalPosition,
                offset: i.positionAbs,
                item: i.currentItem,
                sender: e ? e.element : null
            }
        }
    })
}(jQuery),
function(t, e) {
    var i = "ui-effects-";
    t.effects = {
            effect: {}
        },
        function(t, e) {
            function i(t, e, i) {
                var s = u[e.type] || {};
                return null == t ? i || !e.def ? null : e.def : (t = s.floor ? ~~t : parseFloat(t), isNaN(t) ? e.def : s.mod ? (t + s.mod) % s.mod : 0 > t ? 0 : s.max < t ? s.max : t)
            }

            function s(e) {
                var i = l(),
                    s = i._rgba = [];
                return e = e.toLowerCase(), f(h, function(t, n) {
                    var o, a = n.re.exec(e),
                        r = a && n.parse(a),
                        h = n.space || "rgba";
                    if (r) return o = i[h](r), i[c[h].cache] = o[c[h].cache], s = i._rgba = o._rgba, !1
                }), s.length ? ("0,0,0,0" === s.join() && t.extend(s, o.transparent), i) : o[e]
            }

            function n(t, e, i) {
                return i = (i + 1) % 1, 6 * i < 1 ? t + (e - t) * i * 6 : 2 * i < 1 ? e : 3 * i < 2 ? t + (e - t) * (2 / 3 - i) * 6 : t
            }
            var o, a = "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",
                r = /^([\-+])=\s*(\d+\.?\d*)/,
                h = [{
                    re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                    parse: function(t) {
                        return [t[1], t[2], t[3], t[4]]
                    }
                }, {
                    re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                    parse: function(t) {
                        return [2.55 * t[1], 2.55 * t[2], 2.55 * t[3], t[4]]
                    }
                }, {
                    re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
                    parse: function(t) {
                        return [parseInt(t[1], 16), parseInt(t[2], 16), parseInt(t[3], 16)]
                    }
                }, {
                    re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
                    parse: function(t) {
                        return [parseInt(t[1] + t[1], 16), parseInt(t[2] + t[2], 16), parseInt(t[3] + t[3], 16)]
                    }
                }, {
                    re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                    space: "hsla",
                    parse: function(t) {
                        return [t[1], t[2] / 100, t[3] / 100, t[4]]
                    }
                }],
                l = t.Color = function(e, i, s, n) {
                    return new t.Color.fn.parse(e, i, s, n)
                },
                c = {
                    rgba: {
                        props: {
                            red: {
                                idx: 0,
                                type: "byte"
                            },
                            green: {
                                idx: 1,
                                type: "byte"
                            },
                            blue: {
                                idx: 2,
                                type: "byte"
                            }
                        }
                    },
                    hsla: {
                        props: {
                            hue: {
                                idx: 0,
                                type: "degrees"
                            },
                            saturation: {
                                idx: 1,
                                type: "percent"
                            },
                            lightness: {
                                idx: 2,
                                type: "percent"
                            }
                        }
                    }
                },
                u = {
                    "byte": {
                        floor: !0,
                        max: 255
                    },
                    percent: {
                        max: 1
                    },
                    degrees: {
                        mod: 360,
                        floor: !0
                    }
                },
                d = l.support = {},
                p = t("<p>")[0],
                f = t.each;
            p.style.cssText = "background-color:rgba(1,1,1,.5)", d.rgba = p.style.backgroundColor.indexOf("rgba") > -1, f(c, function(t, e) {
                e.cache = "_" + t, e.props.alpha = {
                    idx: 3,
                    type: "percent",
                    def: 1
                }
            }), l.fn = t.extend(l.prototype, {
                parse: function(n, a, r, h) {
                    if (n === e) return this._rgba = [null, null, null, null], this;
                    (n.jquery || n.nodeType) && (n = t(n).css(a), a = e);
                    var u = this,
                        d = t.type(n),
                        p = this._rgba = [];
                    return a !== e && (n = [n, a, r, h], d = "array"), "string" === d ? this.parse(s(n) || o._default) : "array" === d ? (f(c.rgba.props, function(t, e) {
                        p[e.idx] = i(n[e.idx], e)
                    }), this) : "object" === d ? (n instanceof l ? f(c, function(t, e) {
                        n[e.cache] && (u[e.cache] = n[e.cache].slice())
                    }) : f(c, function(e, s) {
                        var o = s.cache;
                        f(s.props, function(t, e) {
                            if (!u[o] && s.to) {
                                if ("alpha" === t || null == n[t]) return;
                                u[o] = s.to(u._rgba)
                            }
                            u[o][e.idx] = i(n[t], e, !0)
                        }), u[o] && t.inArray(null, u[o].slice(0, 3)) < 0 && (u[o][3] = 1, s.from && (u._rgba = s.from(u[o])))
                    }), this) : void 0
                },
                is: function(t) {
                    var e = l(t),
                        i = !0,
                        s = this;
                    return f(c, function(t, n) {
                        var o, a = e[n.cache];
                        return a && (o = s[n.cache] || n.to && n.to(s._rgba) || [], f(n.props, function(t, e) {
                            if (null != a[e.idx]) return i = a[e.idx] === o[e.idx]
                        })), i
                    }), i
                },
                _space: function() {
                    var t = [],
                        e = this;
                    return f(c, function(i, s) {
                        e[s.cache] && t.push(i)
                    }), t.pop()
                },
                transition: function(t, e) {
                    var s = l(t),
                        n = s._space(),
                        o = c[n],
                        a = 0 === this.alpha() ? l("transparent") : this,
                        r = a[o.cache] || o.to(a._rgba),
                        h = r.slice();
                    return s = s[o.cache], f(o.props, function(t, n) {
                        var o = n.idx,
                            a = r[o],
                            l = s[o],
                            c = u[n.type] || {};
                        null !== l && (null === a ? h[o] = l : (c.mod && (l - a > c.mod / 2 ? a += c.mod : a - l > c.mod / 2 && (a -= c.mod)), h[o] = i((l - a) * e + a, n)))
                    }), this[n](h)
                },
                blend: function(e) {
                    if (1 === this._rgba[3]) return this;
                    var i = this._rgba.slice(),
                        s = i.pop(),
                        n = l(e)._rgba;
                    return l(t.map(i, function(t, e) {
                        return (1 - s) * n[e] + s * t
                    }))
                },
                toRgbaString: function() {
                    var e = "rgba(",
                        i = t.map(this._rgba, function(t, e) {
                            return null == t ? e > 2 ? 1 : 0 : t
                        });
                    return 1 === i[3] && (i.pop(), e = "rgb("), e + i.join() + ")"
                },
                toHslaString: function() {
                    var e = "hsla(",
                        i = t.map(this.hsla(), function(t, e) {
                            return null == t && (t = e > 2 ? 1 : 0), e && e < 3 && (t = Math.round(100 * t) + "%"), t
                        });
                    return 1 === i[3] && (i.pop(), e = "hsl("), e + i.join() + ")"
                },
                toHexString: function(e) {
                    var i = this._rgba.slice(),
                        s = i.pop();
                    return e && i.push(~~(255 * s)), "#" + t.map(i, function(t) {
                        return t = (t || 0).toString(16), 1 === t.length ? "0" + t : t
                    }).join("")
                },
                toString: function() {
                    return 0 === this._rgba[3] ? "transparent" : this.toRgbaString()
                }
            }), l.fn.parse.prototype = l.fn, c.hsla.to = function(t) {
                if (null == t[0] || null == t[1] || null == t[2]) return [null, null, null, t[3]];
                var e, i, s = t[0] / 255,
                    n = t[1] / 255,
                    o = t[2] / 255,
                    a = t[3],
                    r = Math.max(s, n, o),
                    h = Math.min(s, n, o),
                    l = r - h,
                    c = r + h,
                    u = .5 * c;
                return e = h === r ? 0 : s === r ? 60 * (n - o) / l + 360 : n === r ? 60 * (o - s) / l + 120 : 60 * (s - n) / l + 240, i = 0 === l ? 0 : u <= .5 ? l / c : l / (2 - c), [Math.round(e) % 360, i, u, null == a ? 1 : a]
            }, c.hsla.from = function(t) {
                if (null == t[0] || null == t[1] || null == t[2]) return [null, null, null, t[3]];
                var e = t[0] / 360,
                    i = t[1],
                    s = t[2],
                    o = t[3],
                    a = s <= .5 ? s * (1 + i) : s + i - s * i,
                    r = 2 * s - a;
                return [Math.round(255 * n(r, a, e + 1 / 3)), Math.round(255 * n(r, a, e)), Math.round(255 * n(r, a, e - 1 / 3)), o]
            }, f(c, function(s, n) {
                var o = n.props,
                    a = n.cache,
                    h = n.to,
                    c = n.from;
                l.fn[s] = function(s) {
                    if (h && !this[a] && (this[a] = h(this._rgba)), s === e) return this[a].slice();
                    var n, r = t.type(s),
                        u = "array" === r || "object" === r ? s : arguments,
                        d = this[a].slice();
                    return f(o, function(t, e) {
                        var s = u["object" === r ? t : e.idx];
                        null == s && (s = d[e.idx]), d[e.idx] = i(s, e)
                    }), c ? (n = l(c(d)), n[a] = d, n) : l(d)
                }, f(o, function(e, i) {
                    l.fn[e] || (l.fn[e] = function(n) {
                        var o, a = t.type(n),
                            h = "alpha" === e ? this._hsla ? "hsla" : "rgba" : s,
                            l = this[h](),
                            c = l[i.idx];
                        return "undefined" === a ? c : ("function" === a && (n = n.call(this, c), a = t.type(n)), null == n && i.empty ? this : ("string" === a && (o = r.exec(n), o && (n = c + parseFloat(o[2]) * ("+" === o[1] ? 1 : -1))), l[i.idx] = n, this[h](l)))
                    })
                })
            }), l.hook = function(e) {
                var i = e.split(" ");
                f(i, function(e, i) {
                    t.cssHooks[i] = {
                        set: function(e, n) {
                            var o, a, r = "";
                            if ("transparent" !== n && ("string" !== t.type(n) || (o = s(n)))) {
                                if (n = l(o || n), !d.rgba && 1 !== n._rgba[3]) {
                                    for (a = "backgroundColor" === i ? e.parentNode : e;
                                        ("" === r || "transparent" === r) && a && a.style;) try {
                                        r = t.css(a, "backgroundColor"), a = a.parentNode
                                    } catch (h) {}
                                    n = n.blend(r && "transparent" !== r ? r : "_default")
                                }
                                n = n.toRgbaString()
                            }
                            try {
                                e.style[i] = n
                            } catch (h) {}
                        }
                    }, t.fx.step[i] = function(e) {
                        e.colorInit || (e.start = l(e.elem, i), e.end = l(e.end), e.colorInit = !0), t.cssHooks[i].set(e.elem, e.start.transition(e.end, e.pos))
                    }
                })
            }, l.hook(a), t.cssHooks.borderColor = {
                expand: function(t) {
                    var e = {};
                    return f(["Top", "Right", "Bottom", "Left"], function(i, s) {
                        e["border" + s + "Color"] = t
                    }), e
                }
            }, o = t.Color.names = {
                aqua: "#00ffff",
                black: "#000000",
                blue: "#0000ff",
                fuchsia: "#ff00ff",
                gray: "#808080",
                green: "#008000",
                lime: "#00ff00",
                maroon: "#800000",
                navy: "#000080",
                olive: "#808000",
                purple: "#800080",
                red: "#ff0000",
                silver: "#c0c0c0",
                teal: "#008080",
                white: "#ffffff",
                yellow: "#ffff00",
                transparent: [null, null, null, 0],
                _default: "#ffffff"
            }
        }(jQuery),
        function() {
            function i(e) {
                var i, s, n = e.ownerDocument.defaultView ? e.ownerDocument.defaultView.getComputedStyle(e, null) : e.currentStyle,
                    o = {};
                if (n && n.length && n[0] && n[n[0]])
                    for (s = n.length; s--;) i = n[s], "string" == typeof n[i] && (o[t.camelCase(i)] = n[i]);
                else
                    for (i in n) "string" == typeof n[i] && (o[i] = n[i]);
                return o
            }

            function s(e, i) {
                var s, n, a = {};
                for (s in i) n = i[s], e[s] !== n && (o[s] || !t.fx.step[s] && isNaN(parseFloat(n)) || (a[s] = n));
                return a
            }
            var n = ["add", "remove", "toggle"],
                o = {
                    border: 1,
                    borderBottom: 1,
                    borderColor: 1,
                    borderLeft: 1,
                    borderRight: 1,
                    borderTop: 1,
                    borderWidth: 1,
                    margin: 1,
                    padding: 1
                };
            t.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"], function(e, i) {
                t.fx.step[i] = function(t) {
                    ("none" !== t.end && !t.setAttr || 1 === t.pos && !t.setAttr) && (jQuery.style(t.elem, i, t.end), t.setAttr = !0)
                }
            }), t.fn.addBack || (t.fn.addBack = function(t) {
                return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
            }), t.effects.animateClass = function(e, o, a, r) {
                var h = t.speed(o, a, r);
                return this.queue(function() {
                    var o, a = t(this),
                        r = a.attr("class") || "",
                        l = h.children ? a.find("*").addBack() : a;
                    l = l.map(function() {
                        var e = t(this);
                        return {
                            el: e,
                            start: i(this)
                        }
                    }), o = function() {
                        t.each(n, function(t, i) {
                            e[i] && a[i + "Class"](e[i])
                        })
                    }, o(), l = l.map(function() {
                        return this.end = i(this.el[0]), this.diff = s(this.start, this.end), this
                    }), a.attr("class", r), l = l.map(function() {
                        var e = this,
                            i = t.Deferred(),
                            s = t.extend({}, h, {
                                queue: !1,
                                complete: function() {
                                    i.resolve(e)
                                }
                            });
                        return this.el.animate(this.diff, s), i.promise()
                    }), t.when.apply(t, l.get()).done(function() {
                        o(), t.each(arguments, function() {
                            var e = this.el;
                            t.each(this.diff, function(t) {
                                e.css(t, "")
                            })
                        }), h.complete.call(a[0])
                    })
                })
            }, t.fn.extend({
                addClass: function(e) {
                    return function(i, s, n, o) {
                        return s ? t.effects.animateClass.call(this, {
                            add: i
                        }, s, n, o) : e.apply(this, arguments)
                    }
                }(t.fn.addClass),
                removeClass: function(e) {
                    return function(i, s, n, o) {
                        return arguments.length > 1 ? t.effects.animateClass.call(this, {
                            remove: i
                        }, s, n, o) : e.apply(this, arguments)
                    }
                }(t.fn.removeClass),
                toggleClass: function(i) {
                    return function(s, n, o, a, r) {
                        return "boolean" == typeof n || n === e ? o ? t.effects.animateClass.call(this, n ? {
                            add: s
                        } : {
                            remove: s
                        }, o, a, r) : i.apply(this, arguments) : t.effects.animateClass.call(this, {
                            toggle: s
                        }, n, o, a)
                    }
                }(t.fn.toggleClass),
                switchClass: function(e, i, s, n, o) {
                    return t.effects.animateClass.call(this, {
                        add: i,
                        remove: e
                    }, s, n, o)
                }
            })
        }(),
        function() {
            function s(e, i, s, n) {
                return t.isPlainObject(e) && (i = e, e = e.effect), e = {
                    effect: e
                }, null == i && (i = {}), t.isFunction(i) && (n = i, s = null, i = {}), ("number" == typeof i || t.fx.speeds[i]) && (n = s, s = i, i = {}), t.isFunction(s) && (n = s, s = null), i && t.extend(e, i), s = s || i.duration, e.duration = t.fx.off ? 0 : "number" == typeof s ? s : s in t.fx.speeds ? t.fx.speeds[s] : t.fx.speeds._default, e.complete = n || i.complete, e
            }

            function n(e) {
                return !(e && "number" != typeof e && !t.fx.speeds[e]) || ("string" == typeof e && !t.effects.effect[e] || (!!t.isFunction(e) || "object" == typeof e && !e.effect))
            }
            t.extend(t.effects, {
                version: "1.10.4",
                save: function(t, e) {
                    for (var s = 0; s < e.length; s++) null !== e[s] && t.data(i + e[s], t[0].style[e[s]])
                },
                restore: function(t, s) {
                    var n, o;
                    for (o = 0; o < s.length; o++) null !== s[o] && (n = t.data(i + s[o]), n === e && (n = ""), t.css(s[o], n))
                },
                setMode: function(t, e) {
                    return "toggle" === e && (e = t.is(":hidden") ? "show" : "hide"), e
                },
                getBaseline: function(t, e) {
                    var i, s;
                    switch (t[0]) {
                        case "top":
                            i = 0;
                            break;
                        case "middle":
                            i = .5;
                            break;
                        case "bottom":
                            i = 1;
                            break;
                        default:
                            i = t[0] / e.height
                    }
                    switch (t[1]) {
                        case "left":
                            s = 0;
                            break;
                        case "center":
                            s = .5;
                            break;
                        case "right":
                            s = 1;
                            break;
                        default:
                            s = t[1] / e.width
                    }
                    return {
                        x: s,
                        y: i
                    }
                },
                createWrapper: function(e) {
                    if (e.parent().is(".ui-effects-wrapper")) return e.parent();
                    var i = {
                            width: e.outerWidth(!0),
                            height: e.outerHeight(!0),
                            "float": e.css("float")
                        },
                        s = t("<div></div>").addClass("ui-effects-wrapper").css({
                            fontSize: "100%",
                            background: "transparent",
                            border: "none",
                            margin: 0,
                            padding: 0
                        }),
                        n = {
                            width: e.width(),
                            height: e.height()
                        },
                        o = document.activeElement;
                    try {
                        o.id
                    } catch (a) {
                        o = document.body
                    }
                    return e.wrap(s), (e[0] === o || t.contains(e[0], o)) && t(o).focus(), s = e.parent(), "static" === e.css("position") ? (s.css({
                        position: "relative"
                    }), e.css({
                        position: "relative"
                    })) : (t.extend(i, {
                        position: e.css("position"),
                        zIndex: e.css("z-index")
                    }), t.each(["top", "left", "bottom", "right"], function(t, s) {
                        i[s] = e.css(s), isNaN(parseInt(i[s], 10)) && (i[s] = "auto")
                    }), e.css({
                        position: "relative",
                        top: 0,
                        left: 0,
                        right: "auto",
                        bottom: "auto"
                    })), e.css(n), s.css(i).show()
                },
                removeWrapper: function(e) {
                    var i = document.activeElement;
                    return e.parent().is(".ui-effects-wrapper") && (e.parent().replaceWith(e), (e[0] === i || t.contains(e[0], i)) && t(i).focus()), e
                },
                setTransition: function(e, i, s, n) {
                    return n = n || {}, t.each(i, function(t, i) {
                        var o = e.cssUnit(i);
                        o[0] > 0 && (n[i] = o[0] * s + o[1])
                    }), n
                }
            }), t.fn.extend({
                effect: function() {
                    function e(e) {
                        function s() {
                            t.isFunction(o) && o.call(n[0]), t.isFunction(e) && e()
                        }
                        var n = t(this),
                            o = i.complete,
                            r = i.mode;
                        (n.is(":hidden") ? "hide" === r : "show" === r) ? (n[r](), s()) : a.call(n[0], i, s)
                    }
                    var i = s.apply(this, arguments),
                        n = i.mode,
                        o = i.queue,
                        a = t.effects.effect[i.effect];
                    return t.fx.off || !a ? n ? this[n](i.duration, i.complete) : this.each(function() {
                        i.complete && i.complete.call(this)
                    }) : o === !1 ? this.each(e) : this.queue(o || "fx", e)
                },
                show: function(t) {
                    return function(e) {
                        if (n(e)) return t.apply(this, arguments);
                        var i = s.apply(this, arguments);
                        return i.mode = "show", this.effect.call(this, i)
                    }
                }(t.fn.show),
                hide: function(t) {
                    return function(e) {
                        if (n(e)) return t.apply(this, arguments);
                        var i = s.apply(this, arguments);
                        return i.mode = "hide", this.effect.call(this, i)
                    }
                }(t.fn.hide),
                toggle: function(t) {
                    return function(e) {
                        if (n(e) || "boolean" == typeof e) return t.apply(this, arguments);
                        var i = s.apply(this, arguments);
                        return i.mode = "toggle", this.effect.call(this, i)
                    }
                }(t.fn.toggle),
                cssUnit: function(e) {
                    var i = this.css(e),
                        s = [];
                    return t.each(["em", "px", "%", "pt"], function(t, e) {
                        i.indexOf(e) > 0 && (s = [parseFloat(i), e])
                    }), s
                }
            })
        }(),
        function() {
            var e = {};
            t.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function(t, i) {
                e[i] = function(e) {
                    return Math.pow(e, t + 2)
                }
            }), t.extend(e, {
                Sine: function(t) {
                    return 1 - Math.cos(t * Math.PI / 2)
                },
                Circ: function(t) {
                    return 1 - Math.sqrt(1 - t * t)
                },
                Elastic: function(t) {
                    return 0 === t || 1 === t ? t : -Math.pow(2, 8 * (t - 1)) * Math.sin((80 * (t - 1) - 7.5) * Math.PI / 15)
                },
                Back: function(t) {
                    return t * t * (3 * t - 2)
                },
                Bounce: function(t) {
                    for (var e, i = 4; t < ((e = Math.pow(2, --i)) - 1) / 11;);
                    return 1 / Math.pow(4, 3 - i) - 7.5625 * Math.pow((3 * e - 2) / 22 - t, 2)
                }
            }), t.each(e, function(e, i) {
                t.easing["easeIn" + e] = i, t.easing["easeOut" + e] = function(t) {
                    return 1 - i(1 - t)
                }, t.easing["easeInOut" + e] = function(t) {
                    return t < .5 ? i(2 * t) / 2 : 1 - i(t * -2 + 2) / 2
                }
            })
        }()
}(jQuery),
function(t, e) {
    var i = 0,
        s = {},
        n = {};
    s.height = s.paddingTop = s.paddingBottom = s.borderTopWidth = s.borderBottomWidth = "hide", n.height = n.paddingTop = n.paddingBottom = n.borderTopWidth = n.borderBottomWidth = "show", t.widget("ui.accordion", {
        version: "1.10.4",
        options: {
            active: 0,
            animate: {},
            collapsible: !1,
            event: "click",
            header: "> li > :first-child,> :not(li):even",
            heightStyle: "auto",
            icons: {
                activeHeader: "ui-icon-triangle-1-s",
                header: "ui-icon-triangle-1-e"
            },
            activate: null,
            beforeActivate: null
        },
        _create: function() {
            var e = this.options;
            this.prevShow = this.prevHide = t(), this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role", "tablist"),
                e.collapsible || e.active !== !1 && null != e.active || (e.active = 0), this._processPanels(), e.active < 0 && (e.active += this.headers.length), this._refresh()
        },
        _getCreateEventData: function() {
            return {
                header: this.active,
                panel: this.active.length ? this.active.next() : t(),
                content: this.active.length ? this.active.next() : t()
            }
        },
        _createIcons: function() {
            var e = this.options.icons;
            e && (t("<span>").addClass("ui-accordion-header-icon ui-icon " + e.header).prependTo(this.headers), this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader), this.headers.addClass("ui-accordion-icons"))
        },
        _destroyIcons: function() {
            this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()
        },
        _destroy: function() {
            var t;
            this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"), this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function() {
                /^ui-accordion/.test(this.id) && this.removeAttribute("id")
            }), this._destroyIcons(), t = this.headers.next().css("display", "").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function() {
                /^ui-accordion/.test(this.id) && this.removeAttribute("id")
            }), "content" !== this.options.heightStyle && t.css("height", "")
        },
        _setOption: function(t, e) {
            return "active" === t ? void this._activate(e) : ("event" === t && (this.options.event && this._off(this.headers, this.options.event), this._setupEvents(e)), this._super(t, e), "collapsible" !== t || e || this.options.active !== !1 || this._activate(0), "icons" === t && (this._destroyIcons(), e && this._createIcons()), void("disabled" === t && this.headers.add(this.headers.next()).toggleClass("ui-state-disabled", !!e)))
        },
        _keydown: function(e) {
            if (!e.altKey && !e.ctrlKey) {
                var i = t.ui.keyCode,
                    s = this.headers.length,
                    n = this.headers.index(e.target),
                    o = !1;
                switch (e.keyCode) {
                    case i.RIGHT:
                    case i.DOWN:
                        o = this.headers[(n + 1) % s];
                        break;
                    case i.LEFT:
                    case i.UP:
                        o = this.headers[(n - 1 + s) % s];
                        break;
                    case i.SPACE:
                    case i.ENTER:
                        this._eventHandler(e);
                        break;
                    case i.HOME:
                        o = this.headers[0];
                        break;
                    case i.END:
                        o = this.headers[s - 1]
                }
                o && (t(e.target).attr("tabIndex", -1), t(o).attr("tabIndex", 0), o.focus(), e.preventDefault())
            }
        },
        _panelKeyDown: function(e) {
            e.keyCode === t.ui.keyCode.UP && e.ctrlKey && t(e.currentTarget).prev().focus()
        },
        refresh: function() {
            var e = this.options;
            this._processPanels(), e.active === !1 && e.collapsible === !0 || !this.headers.length ? (e.active = !1, this.active = t()) : e.active === !1 ? this._activate(0) : this.active.length && !t.contains(this.element[0], this.active[0]) ? this.headers.length === this.headers.find(".ui-state-disabled").length ? (e.active = !1, this.active = t()) : this._activate(Math.max(0, e.active - 1)) : e.active = this.headers.index(this.active), this._destroyIcons(), this._refresh()
        },
        _processPanels: function() {
            this.headers = this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"), this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()
        },
        _refresh: function() {
            var e, s = this.options,
                n = s.heightStyle,
                o = this.element.parent(),
                a = this.accordionId = "ui-accordion-" + (this.element.attr("id") || ++i);
            this.active = this._findActive(s.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"), this.active.next().addClass("ui-accordion-content-active").show(), this.headers.attr("role", "tab").each(function(e) {
                var i = t(this),
                    s = i.attr("id"),
                    n = i.next(),
                    o = n.attr("id");
                s || (s = a + "-header-" + e, i.attr("id", s)), o || (o = a + "-panel-" + e, n.attr("id", o)), i.attr("aria-controls", o), n.attr("aria-labelledby", s)
            }).next().attr("role", "tabpanel"), this.headers.not(this.active).attr({
                "aria-selected": "false",
                "aria-expanded": "false",
                tabIndex: -1
            }).next().attr({
                "aria-hidden": "true"
            }).hide(), this.active.length ? this.active.attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            }).next().attr({
                "aria-hidden": "false"
            }) : this.headers.eq(0).attr("tabIndex", 0), this._createIcons(), this._setupEvents(s.event), "fill" === n ? (e = o.height(), this.element.siblings(":visible").each(function() {
                var i = t(this),
                    s = i.css("position");
                "absolute" !== s && "fixed" !== s && (e -= i.outerHeight(!0))
            }), this.headers.each(function() {
                e -= t(this).outerHeight(!0)
            }), this.headers.next().each(function() {
                t(this).height(Math.max(0, e - t(this).innerHeight() + t(this).height()))
            }).css("overflow", "auto")) : "auto" === n && (e = 0, this.headers.next().each(function() {
                e = Math.max(e, t(this).css("height", "").height())
            }).height(e))
        },
        _activate: function(e) {
            var i = this._findActive(e)[0];
            i !== this.active[0] && (i = i || this.active[0], this._eventHandler({
                target: i,
                currentTarget: i,
                preventDefault: t.noop
            }))
        },
        _findActive: function(e) {
            return "number" == typeof e ? this.headers.eq(e) : t()
        },
        _setupEvents: function(e) {
            var i = {
                keydown: "_keydown"
            };
            e && t.each(e.split(" "), function(t, e) {
                i[e] = "_eventHandler"
            }), this._off(this.headers.add(this.headers.next())), this._on(this.headers, i), this._on(this.headers.next(), {
                keydown: "_panelKeyDown"
            }), this._hoverable(this.headers), this._focusable(this.headers)
        },
        _eventHandler: function(e) {
            var i = this.options,
                s = this.active,
                n = t(e.currentTarget),
                o = n[0] === s[0],
                a = o && i.collapsible,
                r = a ? t() : n.next(),
                h = s.next(),
                l = {
                    oldHeader: s,
                    oldPanel: h,
                    newHeader: a ? t() : n,
                    newPanel: r
                };
            e.preventDefault(), o && !i.collapsible || this._trigger("beforeActivate", e, l) === !1 || (i.active = !a && this.headers.index(n), this.active = o ? t() : n, this._toggle(l), s.removeClass("ui-accordion-header-active ui-state-active"), i.icons && s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header), o || (n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"), i.icons && n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader), n.next().addClass("ui-accordion-content-active")))
        },
        _toggle: function(e) {
            var i = e.newPanel,
                s = this.prevShow.length ? this.prevShow : e.oldPanel;
            this.prevShow.add(this.prevHide).stop(!0, !0), this.prevShow = i, this.prevHide = s, this.options.animate ? this._animate(i, s, e) : (s.hide(), i.show(), this._toggleComplete(e)), s.attr({
                "aria-hidden": "true"
            }), s.prev().attr("aria-selected", "false"), i.length && s.length ? s.prev().attr({
                tabIndex: -1,
                "aria-expanded": "false"
            }) : i.length && this.headers.filter(function() {
                return 0 === t(this).attr("tabIndex")
            }).attr("tabIndex", -1), i.attr("aria-hidden", "false").prev().attr({
                "aria-selected": "true",
                tabIndex: 0,
                "aria-expanded": "true"
            })
        },
        _animate: function(t, e, i) {
            var o, a, r, h = this,
                l = 0,
                c = t.length && (!e.length || t.index() < e.index()),
                u = this.options.animate || {},
                d = c && u.down || u,
                p = function() {
                    h._toggleComplete(i)
                };
            return "number" == typeof d && (r = d), "string" == typeof d && (a = d), a = a || d.easing || u.easing, r = r || d.duration || u.duration, e.length ? t.length ? (o = t.show().outerHeight(), e.animate(s, {
                duration: r,
                easing: a,
                step: function(t, e) {
                    e.now = Math.round(t)
                }
            }), void t.hide().animate(n, {
                duration: r,
                easing: a,
                complete: p,
                step: function(t, i) {
                    i.now = Math.round(t), "height" !== i.prop ? l += i.now : "content" !== h.options.heightStyle && (i.now = Math.round(o - e.outerHeight() - l), l = 0)
                }
            })) : e.animate(s, r, a, p) : t.animate(n, r, a, p)
        },
        _toggleComplete: function(t) {
            var e = t.oldPanel;
            e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"), e.length && (e.parent()[0].className = e.parent()[0].className), this._trigger("activate", null, t)
        }
    })
}(jQuery),
function(t, e) {
    t.widget("ui.autocomplete", {
        version: "1.10.4",
        defaultElement: "<input>",
        options: {
            appendTo: null,
            autoFocus: !1,
            delay: 300,
            minLength: 1,
            position: {
                my: "left top",
                at: "left bottom",
                collision: "none"
            },
            source: null,
            change: null,
            close: null,
            focus: null,
            open: null,
            response: null,
            search: null,
            select: null
        },
        requestIndex: 0,
        pending: 0,
        _create: function() {
            var e, i, s, n = this.element[0].nodeName.toLowerCase(),
                o = "textarea" === n,
                a = "input" === n;
            this.isMultiLine = !!o || !a && this.element.prop("isContentEditable"), this.valueMethod = this.element[o || a ? "val" : "text"], this.isNewMenu = !0, this.element.addClass("ui-autocomplete-input").attr("autocomplete", "off"), this._on(this.element, {
                keydown: function(n) {
                    if (this.element.prop("readOnly")) return e = !0, s = !0, void(i = !0);
                    e = !1, s = !1, i = !1;
                    var o = t.ui.keyCode;
                    switch (n.keyCode) {
                        case o.PAGE_UP:
                            e = !0, this._move("previousPage", n);
                            break;
                        case o.PAGE_DOWN:
                            e = !0, this._move("nextPage", n);
                            break;
                        case o.UP:
                            e = !0, this._keyEvent("previous", n);
                            break;
                        case o.DOWN:
                            e = !0, this._keyEvent("next", n);
                            break;
                        case o.ENTER:
                        case o.NUMPAD_ENTER:
                            this.menu.active && (e = !0, n.preventDefault(), this.menu.select(n));
                            break;
                        case o.TAB:
                            this.menu.active && this.menu.select(n);
                            break;
                        case o.ESCAPE:
                            this.menu.element.is(":visible") && (this._value(this.term), this.close(n), n.preventDefault());
                            break;
                        default:
                            i = !0, this._searchTimeout(n)
                    }
                },
                keypress: function(s) {
                    if (e) return e = !1, void(this.isMultiLine && !this.menu.element.is(":visible") || s.preventDefault());
                    if (!i) {
                        var n = t.ui.keyCode;
                        switch (s.keyCode) {
                            case n.PAGE_UP:
                                this._move("previousPage", s);
                                break;
                            case n.PAGE_DOWN:
                                this._move("nextPage", s);
                                break;
                            case n.UP:
                                this._keyEvent("previous", s);
                                break;
                            case n.DOWN:
                                this._keyEvent("next", s)
                        }
                    }
                },
                input: function(t) {
                    return s ? (s = !1, void t.preventDefault()) : void this._searchTimeout(t)
                },
                focus: function() {
                    this.selectedItem = null, this.previous = this._value()
                },
                blur: function(t) {
                    return this.cancelBlur ? void delete this.cancelBlur : (clearTimeout(this.searching), this.close(t), void this._change(t))
                }
            }), this._initSource(), this.menu = t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({
                role: null
            }).hide().data("ui-menu"), this._on(this.menu.element, {
                mousedown: function(e) {
                    e.preventDefault(), this.cancelBlur = !0, this._delay(function() {
                        delete this.cancelBlur
                    });
                    var i = this.menu.element[0];
                    t(e.target).closest(".ui-menu-item").length || this._delay(function() {
                        var e = this;
                        this.document.one("mousedown", function(s) {
                            s.target === e.element[0] || s.target === i || t.contains(i, s.target) || e.close()
                        })
                    })
                },
                menufocus: function(e, i) {
                    if (this.isNewMenu && (this.isNewMenu = !1, e.originalEvent && /^mouse/.test(e.originalEvent.type))) return this.menu.blur(), void this.document.one("mousemove", function() {
                        t(e.target).trigger(e.originalEvent)
                    });
                    var s = i.item.data("ui-autocomplete-item");
                    !1 !== this._trigger("focus", e, {
                        item: s
                    }) ? e.originalEvent && /^key/.test(e.originalEvent.type) && this._value(s.value) : this.liveRegion.text(s.value)
                },
                menuselect: function(t, e) {
                    var i = e.item.data("ui-autocomplete-item"),
                        s = this.previous;
                    this.element[0] !== this.document[0].activeElement && (this.element.focus(), this.previous = s, this._delay(function() {
                        this.previous = s, this.selectedItem = i
                    })), !1 !== this._trigger("select", t, {
                        item: i
                    }) && this._value(i.value), this.term = this._value(), this.close(t), this.selectedItem = i
                }
            }), this.liveRegion = t("<span>", {
                role: "status",
                "aria-live": "polite"
            }).addClass("ui-helper-hidden-accessible").insertBefore(this.element), this._on(this.window, {
                beforeunload: function() {
                    this.element.removeAttr("autocomplete")
                }
            })
        },
        _destroy: function() {
            clearTimeout(this.searching), this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"), this.menu.element.remove(), this.liveRegion.remove()
        },
        _setOption: function(t, e) {
            this._super(t, e), "source" === t && this._initSource(), "appendTo" === t && this.menu.element.appendTo(this._appendTo()), "disabled" === t && e && this.xhr && this.xhr.abort()
        },
        _appendTo: function() {
            var e = this.options.appendTo;
            return e && (e = e.jquery || e.nodeType ? t(e) : this.document.find(e).eq(0)), e || (e = this.element.closest(".ui-front")), e.length || (e = this.document[0].body), e
        },
        _initSource: function() {
            var e, i, s = this;
            t.isArray(this.options.source) ? (e = this.options.source, this.source = function(i, s) {
                s(t.ui.autocomplete.filter(e, i.term))
            }) : "string" == typeof this.options.source ? (i = this.options.source, this.source = function(e, n) {
                s.xhr && s.xhr.abort(), s.xhr = t.ajax({
                    url: i,
                    data: e,
                    dataType: "json",
                    success: function(t) {
                        n(t)
                    },
                    error: function() {
                        n([])
                    }
                })
            }) : this.source = this.options.source
        },
        _searchTimeout: function(t) {
            clearTimeout(this.searching), this.searching = this._delay(function() {
                this.term !== this._value() && (this.selectedItem = null, this.search(null, t))
            }, this.options.delay)
        },
        search: function(t, e) {
            return t = null != t ? t : this._value(), this.term = this._value(), t.length < this.options.minLength ? this.close(e) : this._trigger("search", e) !== !1 ? this._search(t) : void 0
        },
        _search: function(t) {
            this.pending++, this.element.addClass("ui-autocomplete-loading"), this.cancelSearch = !1, this.source({
                term: t
            }, this._response())
        },
        _response: function() {
            var e = ++this.requestIndex;
            return t.proxy(function(t) {
                e === this.requestIndex && this.__response(t), this.pending--, this.pending || this.element.removeClass("ui-autocomplete-loading")
            }, this)
        },
        __response: function(t) {
            t && (t = this._normalize(t)), this._trigger("response", null, {
                content: t
            }), !this.options.disabled && t && t.length && !this.cancelSearch ? (this._suggest(t), this._trigger("open")) : this._close()
        },
        close: function(t) {
            this.cancelSearch = !0, this._close(t)
        },
        _close: function(t) {
            this.menu.element.is(":visible") && (this.menu.element.hide(), this.menu.blur(), this.isNewMenu = !0, this._trigger("close", t))
        },
        _change: function(t) {
            this.previous !== this._value() && this._trigger("change", t, {
                item: this.selectedItem
            })
        },
        _normalize: function(e) {
            return e.length && e[0].label && e[0].value ? e : t.map(e, function(e) {
                return "string" == typeof e ? {
                    label: e,
                    value: e
                } : t.extend({
                    label: e.label || e.value,
                    value: e.value || e.label
                }, e)
            })
        },
        _suggest: function(e) {
            var i = this.menu.element.empty();
            this._renderMenu(i, e), this.isNewMenu = !0, this.menu.refresh(), i.show(), this._resizeMenu(), i.position(t.extend({
                of: this.element
            }, this.options.position)), this.options.autoFocus && this.menu.next()
        },
        _resizeMenu: function() {
            var t = this.menu.element;
            t.outerWidth(Math.max(t.width("").outerWidth() + 1, this.element.outerWidth()))
        },
        _renderMenu: function(e, i) {
            var s = this;
            t.each(i, function(t, i) {
                s._renderItemData(e, i)
            })
        },
        _renderItemData: function(t, e) {
            return this._renderItem(t, e).data("ui-autocomplete-item", e)
        },
        _renderItem: function(e, i) {
            return t("<li>").append(t("<a>").text(i.label)).appendTo(e)
        },
        _move: function(t, e) {
            return this.menu.element.is(":visible") ? this.menu.isFirstItem() && /^previous/.test(t) || this.menu.isLastItem() && /^next/.test(t) ? (this._value(this.term), void this.menu.blur()) : void this.menu[t](e) : void this.search(null, e)
        },
        widget: function() {
            return this.menu.element
        },
        _value: function() {
            return this.valueMethod.apply(this.element, arguments)
        },
        _keyEvent: function(t, e) {
            this.isMultiLine && !this.menu.element.is(":visible") || (this._move(t, e), e.preventDefault())
        }
    }), t.extend(t.ui.autocomplete, {
        escapeRegex: function(t) {
            return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
        },
        filter: function(e, i) {
            var s = new RegExp(t.ui.autocomplete.escapeRegex(i), "i");
            return t.grep(e, function(t) {
                return s.test(t.label || t.value || t)
            })
        }
    }), t.widget("ui.autocomplete", t.ui.autocomplete, {
        options: {
            messages: {
                noResults: "No search results.",
                results: function(t) {
                    return t + (t > 1 ? " results are" : " result is") + " available, use up and down arrow keys to navigate."
                }
            }
        },
        __response: function(t) {
            var e;
            this._superApply(arguments), this.options.disabled || this.cancelSearch || (e = t && t.length ? this.options.messages.results(t.length) : this.options.messages.noResults, this.liveRegion.text(e))
        }
    })
}(jQuery),
function(t, e) {
    var i, s = "ui-button ui-widget ui-state-default ui-corner-all",
        n = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",
        o = function() {
            var e = t(this);
            setTimeout(function() {
                e.find(":ui-button").button("refresh")
            }, 1)
        },
        a = function(e) {
            var i = e.name,
                s = e.form,
                n = t([]);
            return i && (i = i.replace(/'/g, "\\'"), n = s ? t(s).find("[name='" + i + "']") : t("[name='" + i + "']", e.ownerDocument).filter(function() {
                return !this.form
            })), n
        };
    t.widget("ui.button", {
        version: "1.10.4",
        defaultElement: "<button>",
        options: {
            disabled: null,
            text: !0,
            label: null,
            icons: {
                primary: null,
                secondary: null
            }
        },
        _create: function() {
            this.element.closest("form").unbind("reset" + this.eventNamespace).bind("reset" + this.eventNamespace, o), "boolean" != typeof this.options.disabled ? this.options.disabled = !!this.element.prop("disabled") : this.element.prop("disabled", this.options.disabled), this._determineButtonType(), this.hasTitle = !!this.buttonElement.attr("title");
            var e = this,
                n = this.options,
                r = "checkbox" === this.type || "radio" === this.type,
                h = r ? "" : "ui-state-active";
            null === n.label && (n.label = "input" === this.type ? this.buttonElement.val() : this.buttonElement.html()), this._hoverable(this.buttonElement), this.buttonElement.addClass(s).attr("role", "button").bind("mouseenter" + this.eventNamespace, function() {
                n.disabled || this === i && t(this).addClass("ui-state-active")
            }).bind("mouseleave" + this.eventNamespace, function() {
                n.disabled || t(this).removeClass(h)
            }).bind("click" + this.eventNamespace, function(t) {
                n.disabled && (t.preventDefault(), t.stopImmediatePropagation())
            }), this._on({
                focus: function() {
                    this.buttonElement.addClass("ui-state-focus")
                },
                blur: function() {
                    this.buttonElement.removeClass("ui-state-focus")
                }
            }), r && this.element.bind("change" + this.eventNamespace, function() {
                e.refresh()
            }), "checkbox" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function() {
                if (n.disabled) return !1
            }) : "radio" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function() {
                if (n.disabled) return !1;
                t(this).addClass("ui-state-active"), e.buttonElement.attr("aria-pressed", "true");
                var i = e.element[0];
                a(i).not(i).map(function() {
                    return t(this).button("widget")[0]
                }).removeClass("ui-state-active").attr("aria-pressed", "false")
            }) : (this.buttonElement.bind("mousedown" + this.eventNamespace, function() {
                return !n.disabled && (t(this).addClass("ui-state-active"), i = this, void e.document.one("mouseup", function() {
                    i = null
                }))
            }).bind("mouseup" + this.eventNamespace, function() {
                return !n.disabled && void t(this).removeClass("ui-state-active")
            }).bind("keydown" + this.eventNamespace, function(e) {
                return !n.disabled && void(e.keyCode !== t.ui.keyCode.SPACE && e.keyCode !== t.ui.keyCode.ENTER || t(this).addClass("ui-state-active"))
            }).bind("keyup" + this.eventNamespace + " blur" + this.eventNamespace, function() {
                t(this).removeClass("ui-state-active")
            }), this.buttonElement.is("a") && this.buttonElement.keyup(function(e) {
                e.keyCode === t.ui.keyCode.SPACE && t(this).click()
            })), this._setOption("disabled", n.disabled), this._resetButton()
        },
        _determineButtonType: function() {
            var t, e, i;
            this.element.is("[type=checkbox]") ? this.type = "checkbox" : this.element.is("[type=radio]") ? this.type = "radio" : this.element.is("input") ? this.type = "input" : this.type = "button", "checkbox" === this.type || "radio" === this.type ? (t = this.element.parents().last(), e = "label[for='" + this.element.attr("id") + "']", this.buttonElement = t.find(e), this.buttonElement.length || (t = t.length ? t.siblings() : this.element.siblings(), this.buttonElement = t.filter(e), this.buttonElement.length || (this.buttonElement = t.find(e))), this.element.addClass("ui-helper-hidden-accessible"), i = this.element.is(":checked"), i && this.buttonElement.addClass("ui-state-active"), this.buttonElement.prop("aria-pressed", i)) : this.buttonElement = this.element
        },
        widget: function() {
            return this.buttonElement
        },
        _destroy: function() {
            this.element.removeClass("ui-helper-hidden-accessible"), this.buttonElement.removeClass(s + " ui-state-active " + n).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()), this.hasTitle || this.buttonElement.removeAttr("title")
        },
        _setOption: function(t, e) {
            return this._super(t, e), "disabled" === t ? (this.element.prop("disabled", !!e), void(e && this.buttonElement.removeClass("ui-state-focus"))) : void this._resetButton()
        },
        refresh: function() {
            var e = this.element.is("input, button") ? this.element.is(":disabled") : this.element.hasClass("ui-button-disabled");
            e !== this.options.disabled && this._setOption("disabled", e), "radio" === this.type ? a(this.element[0]).each(function() {
                t(this).is(":checked") ? t(this).button("widget").addClass("ui-state-active").attr("aria-pressed", "true") : t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed", "false")
            }) : "checkbox" === this.type && (this.element.is(":checked") ? this.buttonElement.addClass("ui-state-active").attr("aria-pressed", "true") : this.buttonElement.removeClass("ui-state-active").attr("aria-pressed", "false"))
        },
        _resetButton: function() {
            if ("input" === this.type) return void(this.options.label && this.element.val(this.options.label));
            var e = this.buttonElement.removeClass(n),
                i = t("<span></span>", this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),
                s = this.options.icons,
                o = s.primary && s.secondary,
                a = [];
            s.primary || s.secondary ? (this.options.text && a.push("ui-button-text-icon" + (o ? "s" : s.primary ? "-primary" : "-secondary")), s.primary && e.prepend("<span class='ui-button-icon-primary ui-icon " + s.primary + "'></span>"), s.secondary && e.append("<span class='ui-button-icon-secondary ui-icon " + s.secondary + "'></span>"), this.options.text || (a.push(o ? "ui-button-icons-only" : "ui-button-icon-only"), this.hasTitle || e.attr("title", t.trim(i)))) : a.push("ui-button-text-only"), e.addClass(a.join(" "))
        }
    }), t.widget("ui.buttonset", {
        version: "1.10.4",
        options: {
            items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"
        },
        _create: function() {
            this.element.addClass("ui-buttonset")
        },
        _init: function() {
            this.refresh()
        },
        _setOption: function(t, e) {
            "disabled" === t && this.buttons.button("option", t, e), this._super(t, e)
        },
        refresh: function() {
            var e = "rtl" === this.element.css("direction");
            this.buttons = this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function() {
                return t(this).button("widget")[0]
            }).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e ? "ui-corner-right" : "ui-corner-left").end().filter(":last").addClass(e ? "ui-corner-left" : "ui-corner-right").end().end()
        },
        _destroy: function() {
            this.element.removeClass("ui-buttonset"), this.buttons.map(function() {
                return t(this).button("widget")[0]
            }).removeClass("ui-corner-left ui-corner-right").end().button("destroy")
        }
    })
}(jQuery),
function(t, e) {
    function i() {
        this._curInst = null, this._keyEvent = !1, this._disabledInputs = [], this._datepickerShowing = !1, this._inDialog = !1, this._mainDivId = "ui-datepicker-div", this._inlineClass = "ui-datepicker-inline", this._appendClass = "ui-datepicker-append", this._triggerClass = "ui-datepicker-trigger", this._dialogClass = "ui-datepicker-dialog", this._disableClass = "ui-datepicker-disabled", this._unselectableClass = "ui-datepicker-unselectable", this._currentClass = "ui-datepicker-current-day", this._dayOverClass = "ui-datepicker-days-cell-over", this.regional = [], this.regional[""] = {
            closeText: "Done",
            prevText: "Prev",
            nextText: "Next",
            currentText: "Today",
            monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
            monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
            dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
            weekHeader: "Wk",
            dateFormat: "mm/dd/yy",
            firstDay: 0,
            isRTL: !1,
            showMonthAfterYear: !1,
            yearSuffix: ""
        }, this._defaults = {
            showOn: "focus",
            showAnim: "fadeIn",
            showOptions: {},
            defaultDate: null,
            appendText: "",
            buttonText: "...",
            buttonImage: "",
            buttonImageOnly: !1,
            hideIfNoPrevNext: !1,
            navigationAsDateFormat: !1,
            gotoCurrent: !1,
            changeMonth: !1,
            changeYear: !1,
            yearRange: "c-10:c+10",
            showOtherMonths: !1,
            selectOtherMonths: !1,
            showWeek: !1,
            calculateWeek: this.iso8601Week,
            shortYearCutoff: "+10",
            minDate: null,
            maxDate: null,
            duration: "fast",
            beforeShowDay: null,
            beforeShow: null,
            onSelect: null,
            onChangeMonthYear: null,
            onClose: null,
            numberOfMonths: 1,
            showCurrentAtPos: 0,
            stepMonths: 1,
            stepBigMonths: 12,
            altField: "",
            altFormat: "",
            constrainInput: !0,
            showButtonPanel: !1,
            autoSize: !1,
            disabled: !1
        }, t.extend(this._defaults, this.regional[""]), this.dpDiv = s(t("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))
    }

    function s(e) {
        var i = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
        return e.delegate(i, "mouseout", function() {
            t(this).removeClass("ui-state-hover"), this.className.indexOf("ui-datepicker-prev") !== -1 && t(this).removeClass("ui-datepicker-prev-hover"), this.className.indexOf("ui-datepicker-next") !== -1 && t(this).removeClass("ui-datepicker-next-hover")
        }).delegate(i, "mouseover", function() {
            t.datepicker._isDisabledDatepicker(o.inline ? e.parent()[0] : o.input[0]) || (t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"), t(this).addClass("ui-state-hover"), this.className.indexOf("ui-datepicker-prev") !== -1 && t(this).addClass("ui-datepicker-prev-hover"), this.className.indexOf("ui-datepicker-next") !== -1 && t(this).addClass("ui-datepicker-next-hover"))
        })
    }

    function n(e, i) {
        t.extend(e, i);
        for (var s in i) null == i[s] && (e[s] = i[s]);
        return e
    }
    t.extend(t.ui, {
        datepicker: {
            version: "1.10.4"
        }
    });
    var o, a = "datepicker";
    t.extend(i.prototype, {
        markerClassName: "hasDatepicker",
        maxRows: 4,
        _widgetDatepicker: function() {
            return this.dpDiv
        },
        setDefaults: function(t) {
            return n(this._defaults, t || {}), this
        },
        _attachDatepicker: function(e, i) {
            var s, n, o;
            s = e.nodeName.toLowerCase(), n = "div" === s || "span" === s, e.id || (this.uuid += 1, e.id = "dp" + this.uuid), o = this._newInst(t(e), n), o.settings = t.extend({}, i || {}), "input" === s ? this._connectDatepicker(e, o) : n && this._inlineDatepicker(e, o)
        },
        _newInst: function(e, i) {
            var n = e[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1");
            return {
                id: n,
                input: e,
                selectedDay: 0,
                selectedMonth: 0,
                selectedYear: 0,
                drawMonth: 0,
                drawYear: 0,
                inline: i,
                dpDiv: i ? s(t("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")) : this.dpDiv
            }
        },
        _connectDatepicker: function(e, i) {
            var s = t(e);
            i.append = t([]), i.trigger = t([]), s.hasClass(this.markerClassName) || (this._attachments(s, i), s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp), this._autoSize(i), t.data(e, a, i), i.settings.disabled && this._disableDatepicker(e))
        },
        _attachments: function(e, i) {
            var s, n, o, a = this._get(i, "appendText"),
                r = this._get(i, "isRTL");
            i.append && i.append.remove(), a && (i.append = t("<span class='" + this._appendClass + "'>" + a + "</span>"), e[r ? "before" : "after"](i.append)), e.unbind("focus", this._showDatepicker), i.trigger && i.trigger.remove(), s = this._get(i, "showOn"), "focus" !== s && "both" !== s || e.focus(this._showDatepicker), "button" !== s && "both" !== s || (n = this._get(i, "buttonText"), o = this._get(i, "buttonImage"), i.trigger = t(this._get(i, "buttonImageOnly") ? t("<img/>").addClass(this._triggerClass).attr({
                src: o,
                alt: n,
                title: n
            }) : t("<button type='button'></button>").addClass(this._triggerClass).html(o ? t("<img/>").attr({
                src: o,
                alt: n,
                title: n
            }) : n)), e[r ? "before" : "after"](i.trigger), i.trigger.click(function() {
                return t.datepicker._datepickerShowing && t.datepicker._lastInput === e[0] ? t.datepicker._hideDatepicker() : t.datepicker._datepickerShowing && t.datepicker._lastInput !== e[0] ? (t.datepicker._hideDatepicker(), t.datepicker._showDatepicker(e[0])) : t.datepicker._showDatepicker(e[0]), !1
            }))
        },
        _autoSize: function(t) {
            if (this._get(t, "autoSize") && !t.inline) {
                var e, i, s, n, o = new Date(2009, 11, 20),
                    a = this._get(t, "dateFormat");
                a.match(/[DM]/) && (e = function(t) {
                    for (i = 0, s = 0, n = 0; n < t.length; n++) t[n].length > i && (i = t[n].length, s = n);
                    return s
                }, o.setMonth(e(this._get(t, a.match(/MM/) ? "monthNames" : "monthNamesShort"))), o.setDate(e(this._get(t, a.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - o.getDay())), t.input.attr("size", this._formatDate(t, o).length)
            }
        },
        _inlineDatepicker: function(e, i) {
            var s = t(e);
            s.hasClass(this.markerClassName) || (s.addClass(this.markerClassName).append(i.dpDiv), t.data(e, a, i), this._setDate(i, this._getDefaultDate(i), !0), this._updateDatepicker(i), this._updateAlternate(i), i.settings.disabled && this._disableDatepicker(e), i.dpDiv.css("display", "block"))
        },
        _dialogDatepicker: function(e, i, s, o, r) {
            var h, l, c, u, d, p = this._dialogInst;
            return p || (this.uuid += 1, h = "dp" + this.uuid, this._dialogInput = t("<input type='text' id='" + h + "' style='position: absolute; top: -100px; width: 0px;'/>"), this._dialogInput.keydown(this._doKeyDown), t("body").append(this._dialogInput), p = this._dialogInst = this._newInst(this._dialogInput, !1), p.settings = {}, t.data(this._dialogInput[0], a, p)), n(p.settings, o || {}), i = i && i.constructor === Date ? this._formatDate(p, i) : i, this._dialogInput.val(i), this._pos = r ? r.length ? r : [r.pageX, r.pageY] : null, this._pos || (l = document.documentElement.clientWidth, c = document.documentElement.clientHeight, u = document.documentElement.scrollLeft || document.body.scrollLeft, d = document.documentElement.scrollTop || document.body.scrollTop, this._pos = [l / 2 - 100 + u, c / 2 - 150 + d]), this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px"), p.settings.onSelect = s, this._inDialog = !0, this.dpDiv.addClass(this._dialogClass), this._showDatepicker(this._dialogInput[0]), t.blockUI && t.blockUI(this.dpDiv), t.data(this._dialogInput[0], a, p), this
        },
        _destroyDatepicker: function(e) {
            var i, s = t(e),
                n = t.data(e, a);
            s.hasClass(this.markerClassName) && (i = e.nodeName.toLowerCase(), t.removeData(e, a), "input" === i ? (n.append.remove(), n.trigger.remove(), s.removeClass(this.markerClassName).unbind("focus", this._showDatepicker).unbind("keydown", this._doKeyDown).unbind("keypress", this._doKeyPress).unbind("keyup", this._doKeyUp)) : "div" !== i && "span" !== i || s.removeClass(this.markerClassName).empty())
        },
        _enableDatepicker: function(e) {
            var i, s, n = t(e),
                o = t.data(e, a);
            n.hasClass(this.markerClassName) && (i = e.nodeName.toLowerCase(), "input" === i ? (e.disabled = !1, o.trigger.filter("button").each(function() {
                this.disabled = !1
            }).end().filter("img").css({
                opacity: "1.0",
                cursor: ""
            })) : "div" !== i && "span" !== i || (s = n.children("." + this._inlineClass), s.children().removeClass("ui-state-disabled"), s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !1)), this._disabledInputs = t.map(this._disabledInputs, function(t) {
                return t === e ? null : t
            }))
        },
        _disableDatepicker: function(e) {
            var i, s, n = t(e),
                o = t.data(e, a);
            n.hasClass(this.markerClassName) && (i = e.nodeName.toLowerCase(), "input" === i ? (e.disabled = !0, o.trigger.filter("button").each(function() {
                this.disabled = !0
            }).end().filter("img").css({
                opacity: "0.5",
                cursor: "default"
            })) : "div" !== i && "span" !== i || (s = n.children("." + this._inlineClass), s.children().addClass("ui-state-disabled"), s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !0)), this._disabledInputs = t.map(this._disabledInputs, function(t) {
                return t === e ? null : t
            }), this._disabledInputs[this._disabledInputs.length] = e)
        },
        _isDisabledDatepicker: function(t) {
            if (!t) return !1;
            for (var e = 0; e < this._disabledInputs.length; e++)
                if (this._disabledInputs[e] === t) return !0;
            return !1
        },
        _getInst: function(e) {
            try {
                return t.data(e, a)
            } catch (i) {
                throw "Missing instance data for this datepicker"
            }
        },
        _optionDatepicker: function(i, s, o) {
            var a, r, h, l, c = this._getInst(i);
            return 2 === arguments.length && "string" == typeof s ? "defaults" === s ? t.extend({}, t.datepicker._defaults) : c ? "all" === s ? t.extend({}, c.settings) : this._get(c, s) : null : (a = s || {}, "string" == typeof s && (a = {}, a[s] = o), void(c && (this._curInst === c && this._hideDatepicker(), r = this._getDateDatepicker(i, !0), h = this._getMinMaxDate(c, "min"), l = this._getMinMaxDate(c, "max"), n(c.settings, a), null !== h && a.dateFormat !== e && a.minDate === e && (c.settings.minDate = this._formatDate(c, h)), null !== l && a.dateFormat !== e && a.maxDate === e && (c.settings.maxDate = this._formatDate(c, l)), "disabled" in a && (a.disabled ? this._disableDatepicker(i) : this._enableDatepicker(i)), this._attachments(t(i), c), this._autoSize(c), this._setDate(c, r), this._updateAlternate(c), this._updateDatepicker(c))))
        },
        _changeDatepicker: function(t, e, i) {
            this._optionDatepicker(t, e, i)
        },
        _refreshDatepicker: function(t) {
            var e = this._getInst(t);
            e && this._updateDatepicker(e)
        },
        _setDateDatepicker: function(t, e) {
            var i = this._getInst(t);
            i && (this._setDate(i, e), this._updateDatepicker(i), this._updateAlternate(i))
        },
        _getDateDatepicker: function(t, e) {
            var i = this._getInst(t);
            return i && !i.inline && this._setDateFromField(i, e), i ? this._getDate(i) : null
        },
        _doKeyDown: function(e) {
            var i, s, n, o = t.datepicker._getInst(e.target),
                a = !0,
                r = o.dpDiv.is(".ui-datepicker-rtl");
            if (o._keyEvent = !0, t.datepicker._datepickerShowing) switch (e.keyCode) {
                case 9:
                    t.datepicker._hideDatepicker(), a = !1;
                    break;
                case 13:
                    return n = t("td." + t.datepicker._dayOverClass + ":not(." + t.datepicker._currentClass + ")", o.dpDiv),
                        n[0] && t.datepicker._selectDay(e.target, o.selectedMonth, o.selectedYear, n[0]), i = t.datepicker._get(o, "onSelect"), i ? (s = t.datepicker._formatDate(o), i.apply(o.input ? o.input[0] : null, [s, o])) : t.datepicker._hideDatepicker(), !1;
                case 27:
                    t.datepicker._hideDatepicker();
                    break;
                case 33:
                    t.datepicker._adjustDate(e.target, e.ctrlKey ? -t.datepicker._get(o, "stepBigMonths") : -t.datepicker._get(o, "stepMonths"), "M");
                    break;
                case 34:
                    t.datepicker._adjustDate(e.target, e.ctrlKey ? +t.datepicker._get(o, "stepBigMonths") : +t.datepicker._get(o, "stepMonths"), "M");
                    break;
                case 35:
                    (e.ctrlKey || e.metaKey) && t.datepicker._clearDate(e.target), a = e.ctrlKey || e.metaKey;
                    break;
                case 36:
                    (e.ctrlKey || e.metaKey) && t.datepicker._gotoToday(e.target), a = e.ctrlKey || e.metaKey;
                    break;
                case 37:
                    (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, r ? 1 : -1, "D"), a = e.ctrlKey || e.metaKey, e.originalEvent.altKey && t.datepicker._adjustDate(e.target, e.ctrlKey ? -t.datepicker._get(o, "stepBigMonths") : -t.datepicker._get(o, "stepMonths"), "M");
                    break;
                case 38:
                    (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, -7, "D"), a = e.ctrlKey || e.metaKey;
                    break;
                case 39:
                    (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, r ? -1 : 1, "D"), a = e.ctrlKey || e.metaKey, e.originalEvent.altKey && t.datepicker._adjustDate(e.target, e.ctrlKey ? +t.datepicker._get(o, "stepBigMonths") : +t.datepicker._get(o, "stepMonths"), "M");
                    break;
                case 40:
                    (e.ctrlKey || e.metaKey) && t.datepicker._adjustDate(e.target, 7, "D"), a = e.ctrlKey || e.metaKey;
                    break;
                default:
                    a = !1
            } else 36 === e.keyCode && e.ctrlKey ? t.datepicker._showDatepicker(this) : a = !1;
            a && (e.preventDefault(), e.stopPropagation())
        },
        _doKeyPress: function(e) {
            var i, s, n = t.datepicker._getInst(e.target);
            if (t.datepicker._get(n, "constrainInput")) return i = t.datepicker._possibleChars(t.datepicker._get(n, "dateFormat")), s = String.fromCharCode(null == e.charCode ? e.keyCode : e.charCode), e.ctrlKey || e.metaKey || s < " " || !i || i.indexOf(s) > -1
        },
        _doKeyUp: function(e) {
            var i, s = t.datepicker._getInst(e.target);
            if (s.input.val() !== s.lastVal) try {
                i = t.datepicker.parseDate(t.datepicker._get(s, "dateFormat"), s.input ? s.input.val() : null, t.datepicker._getFormatConfig(s)), i && (t.datepicker._setDateFromField(s), t.datepicker._updateAlternate(s), t.datepicker._updateDatepicker(s))
            } catch (n) {}
            return !0
        },
        _showDatepicker: function(e) {
            if (e = e.target || e, "input" !== e.nodeName.toLowerCase() && (e = t("input", e.parentNode)[0]), !t.datepicker._isDisabledDatepicker(e) && t.datepicker._lastInput !== e) {
                var i, s, o, a, r, h, l;
                i = t.datepicker._getInst(e), t.datepicker._curInst && t.datepicker._curInst !== i && (t.datepicker._curInst.dpDiv.stop(!0, !0), i && t.datepicker._datepickerShowing && t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])), s = t.datepicker._get(i, "beforeShow"), o = s ? s.apply(e, [e, i]) : {}, o !== !1 && (n(i.settings, o), i.lastVal = null, t.datepicker._lastInput = e, t.datepicker._setDateFromField(i), t.datepicker._inDialog && (e.value = ""), t.datepicker._pos || (t.datepicker._pos = t.datepicker._findPos(e), t.datepicker._pos[1] += e.offsetHeight), a = !1, t(e).parents().each(function() {
                    return a |= "fixed" === t(this).css("position"), !a
                }), r = {
                    left: t.datepicker._pos[0],
                    top: t.datepicker._pos[1]
                }, t.datepicker._pos = null, i.dpDiv.empty(), i.dpDiv.css({
                    position: "absolute",
                    display: "block",
                    top: "-1000px"
                }), t.datepicker._updateDatepicker(i), r = t.datepicker._checkOffset(i, r, a), i.dpDiv.css({
                    position: t.datepicker._inDialog && t.blockUI ? "static" : a ? "fixed" : "absolute",
                    display: "none",
                    left: r.left + "px",
                    top: r.top + "px"
                }), i.inline || (h = t.datepicker._get(i, "showAnim"), l = t.datepicker._get(i, "duration"), i.dpDiv.zIndex(t(e).zIndex() + 1), t.datepicker._datepickerShowing = !0, t.effects && t.effects.effect[h] ? i.dpDiv.show(h, t.datepicker._get(i, "showOptions"), l) : i.dpDiv[h || "show"](h ? l : null), t.datepicker._shouldFocusInput(i) && i.input.focus(), t.datepicker._curInst = i))
            }
        },
        _updateDatepicker: function(e) {
            this.maxRows = 4, o = e, e.dpDiv.empty().append(this._generateHTML(e)), this._attachHandlers(e), e.dpDiv.find("." + this._dayOverClass + " a").mouseover();
            var i, s = this._getNumberOfMonths(e),
                n = s[1],
                a = 17;
            e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""), n > 1 && e.dpDiv.addClass("ui-datepicker-multi-" + n).css("width", a * n + "em"), e.dpDiv[(1 !== s[0] || 1 !== s[1] ? "add" : "remove") + "Class"]("ui-datepicker-multi"), e.dpDiv[(this._get(e, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl"), e === t.datepicker._curInst && t.datepicker._datepickerShowing && t.datepicker._shouldFocusInput(e) && e.input.focus(), e.yearshtml && (i = e.yearshtml, setTimeout(function() {
                i === e.yearshtml && e.yearshtml && e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml), i = e.yearshtml = null
            }, 0))
        },
        _shouldFocusInput: function(t) {
            return t.input && t.input.is(":visible") && !t.input.is(":disabled") && !t.input.is(":focus")
        },
        _checkOffset: function(e, i, s) {
            var n = e.dpDiv.outerWidth(),
                o = e.dpDiv.outerHeight(),
                a = e.input ? e.input.outerWidth() : 0,
                r = e.input ? e.input.outerHeight() : 0,
                h = document.documentElement.clientWidth + (s ? 0 : t(document).scrollLeft()),
                l = document.documentElement.clientHeight + (s ? 0 : t(document).scrollTop());
            return i.left -= this._get(e, "isRTL") ? n - a : 0, i.left -= s && i.left === e.input.offset().left ? t(document).scrollLeft() : 0, i.top -= s && i.top === e.input.offset().top + r ? t(document).scrollTop() : 0, i.left -= Math.min(i.left, i.left + n > h && h > n ? Math.abs(i.left + n - h) : 0), i.top -= Math.min(i.top, i.top + o > l && l > o ? Math.abs(o + r) : 0), i
        },
        _findPos: function(e) {
            for (var i, s = this._getInst(e), n = this._get(s, "isRTL"); e && ("hidden" === e.type || 1 !== e.nodeType || t.expr.filters.hidden(e));) e = e[n ? "previousSibling" : "nextSibling"];
            return i = t(e).offset(), [i.left, i.top]
        },
        _hideDatepicker: function(e) {
            var i, s, n, o, r = this._curInst;
            !r || e && r !== t.data(e, a) || this._datepickerShowing && (i = this._get(r, "showAnim"), s = this._get(r, "duration"), n = function() {
                t.datepicker._tidyDialog(r)
            }, t.effects && (t.effects.effect[i] || t.effects[i]) ? r.dpDiv.hide(i, t.datepicker._get(r, "showOptions"), s, n) : r.dpDiv["slideDown" === i ? "slideUp" : "fadeIn" === i ? "fadeOut" : "hide"](i ? s : null, n), i || n(), this._datepickerShowing = !1, o = this._get(r, "onClose"), o && o.apply(r.input ? r.input[0] : null, [r.input ? r.input.val() : "", r]), this._lastInput = null, this._inDialog && (this._dialogInput.css({
                position: "absolute",
                left: "0",
                top: "-100px"
            }), t.blockUI && (t.unblockUI(), t("body").append(this.dpDiv))), this._inDialog = !1)
        },
        _tidyDialog: function(t) {
            t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")
        },
        _checkExternalClick: function(e) {
            if (t.datepicker._curInst) {
                var i = t(e.target),
                    s = t.datepicker._getInst(i[0]);
                (i[0].id === t.datepicker._mainDivId || 0 !== i.parents("#" + t.datepicker._mainDivId).length || i.hasClass(t.datepicker.markerClassName) || i.closest("." + t.datepicker._triggerClass).length || !t.datepicker._datepickerShowing || t.datepicker._inDialog && t.blockUI) && (!i.hasClass(t.datepicker.markerClassName) || t.datepicker._curInst === s) || t.datepicker._hideDatepicker()
            }
        },
        _adjustDate: function(e, i, s) {
            var n = t(e),
                o = this._getInst(n[0]);
            this._isDisabledDatepicker(n[0]) || (this._adjustInstDate(o, i + ("M" === s ? this._get(o, "showCurrentAtPos") : 0), s), this._updateDatepicker(o))
        },
        _gotoToday: function(e) {
            var i, s = t(e),
                n = this._getInst(s[0]);
            this._get(n, "gotoCurrent") && n.currentDay ? (n.selectedDay = n.currentDay, n.drawMonth = n.selectedMonth = n.currentMonth, n.drawYear = n.selectedYear = n.currentYear) : (i = new Date, n.selectedDay = i.getDate(), n.drawMonth = n.selectedMonth = i.getMonth(), n.drawYear = n.selectedYear = i.getFullYear()), this._notifyChange(n), this._adjustDate(s)
        },
        _selectMonthYear: function(e, i, s) {
            var n = t(e),
                o = this._getInst(n[0]);
            o["selected" + ("M" === s ? "Month" : "Year")] = o["draw" + ("M" === s ? "Month" : "Year")] = parseInt(i.options[i.selectedIndex].value, 10), this._notifyChange(o), this._adjustDate(n)
        },
        _selectDay: function(e, i, s, n) {
            var o, a = t(e);
            t(n).hasClass(this._unselectableClass) || this._isDisabledDatepicker(a[0]) || (o = this._getInst(a[0]), o.selectedDay = o.currentDay = t("a", n).html(), o.selectedMonth = o.currentMonth = i, o.selectedYear = o.currentYear = s, this._selectDate(e, this._formatDate(o, o.currentDay, o.currentMonth, o.currentYear)))
        },
        _clearDate: function(e) {
            var i = t(e);
            this._selectDate(i, "")
        },
        _selectDate: function(e, i) {
            var s, n = t(e),
                o = this._getInst(n[0]);
            i = null != i ? i : this._formatDate(o), o.input && o.input.val(i), this._updateAlternate(o), s = this._get(o, "onSelect"), s ? s.apply(o.input ? o.input[0] : null, [i, o]) : o.input && o.input.trigger("change"), o.inline ? this._updateDatepicker(o) : (this._hideDatepicker(), this._lastInput = o.input[0], "object" != typeof o.input[0] && o.input.focus(), this._lastInput = null)
        },
        _updateAlternate: function(e) {
            var i, s, n, o = this._get(e, "altField");
            o && (i = this._get(e, "altFormat") || this._get(e, "dateFormat"), s = this._getDate(e), n = this.formatDate(i, s, this._getFormatConfig(e)), t(o).each(function() {
                t(this).val(n)
            }))
        },
        noWeekends: function(t) {
            var e = t.getDay();
            return [e > 0 && e < 6, ""]
        },
        iso8601Week: function(t) {
            var e, i = new Date(t.getTime());
            return i.setDate(i.getDate() + 4 - (i.getDay() || 7)), e = i.getTime(), i.setMonth(0), i.setDate(1), Math.floor(Math.round((e - i) / 864e5) / 7) + 1
        },
        parseDate: function(e, i, s) {
            if (null == e || null == i) throw "Invalid arguments";
            if (i = "object" == typeof i ? i.toString() : i + "", "" === i) return null;
            var n, o, a, r, h = 0,
                l = (s ? s.shortYearCutoff : null) || this._defaults.shortYearCutoff,
                c = "string" != typeof l ? l : (new Date).getFullYear() % 100 + parseInt(l, 10),
                u = (s ? s.dayNamesShort : null) || this._defaults.dayNamesShort,
                d = (s ? s.dayNames : null) || this._defaults.dayNames,
                p = (s ? s.monthNamesShort : null) || this._defaults.monthNamesShort,
                f = (s ? s.monthNames : null) || this._defaults.monthNames,
                g = -1,
                m = -1,
                v = -1,
                _ = -1,
                b = !1,
                y = function(t) {
                    var i = n + 1 < e.length && e.charAt(n + 1) === t;
                    return i && n++, i
                },
                w = function(t) {
                    var e = y(t),
                        s = "@" === t ? 14 : "!" === t ? 20 : "y" === t && e ? 4 : "o" === t ? 3 : 2,
                        n = new RegExp("^\\d{1," + s + "}"),
                        o = i.substring(h).match(n);
                    if (!o) throw "Missing number at position " + h;
                    return h += o[0].length, parseInt(o[0], 10)
                },
                x = function(e, s, n) {
                    var o = -1,
                        a = t.map(y(e) ? n : s, function(t, e) {
                            return [
                                [e, t]
                            ]
                        }).sort(function(t, e) {
                            return -(t[1].length - e[1].length)
                        });
                    if (t.each(a, function(t, e) {
                            var s = e[1];
                            if (i.substr(h, s.length).toLowerCase() === s.toLowerCase()) return o = e[0], h += s.length, !1
                        }), o !== -1) return o + 1;
                    throw "Unknown name at position " + h
                },
                k = function() {
                    if (i.charAt(h) !== e.charAt(n)) throw "Unexpected literal at position " + h;
                    h++
                };
            for (n = 0; n < e.length; n++)
                if (b) "'" !== e.charAt(n) || y("'") ? k() : b = !1;
                else switch (e.charAt(n)) {
                    case "d":
                        v = w("d");
                        break;
                    case "D":
                        x("D", u, d);
                        break;
                    case "o":
                        _ = w("o");
                        break;
                    case "m":
                        m = w("m");
                        break;
                    case "M":
                        m = x("M", p, f);
                        break;
                    case "y":
                        g = w("y");
                        break;
                    case "@":
                        r = new Date(w("@")), g = r.getFullYear(), m = r.getMonth() + 1, v = r.getDate();
                        break;
                    case "!":
                        r = new Date((w("!") - this._ticksTo1970) / 1e4), g = r.getFullYear(), m = r.getMonth() + 1, v = r.getDate();
                        break;
                    case "'":
                        y("'") ? k() : b = !0;
                        break;
                    default:
                        k()
                }
                if (h < i.length && (a = i.substr(h), !/^\s+/.test(a))) throw "Extra/unparsed characters found in date: " + a;
            if (g === -1 ? g = (new Date).getFullYear() : g < 100 && (g += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (g <= c ? 0 : -100)), _ > -1)
                for (m = 1, v = _;;) {
                    if (o = this._getDaysInMonth(g, m - 1), v <= o) break;
                    m++, v -= o
                }
            if (r = this._daylightSavingAdjust(new Date(g, m - 1, v)), r.getFullYear() !== g || r.getMonth() + 1 !== m || r.getDate() !== v) throw "Invalid date";
            return r
        },
        ATOM: "yy-mm-dd",
        COOKIE: "D, dd M yy",
        ISO_8601: "yy-mm-dd",
        RFC_822: "D, d M y",
        RFC_850: "DD, dd-M-y",
        RFC_1036: "D, d M y",
        RFC_1123: "D, d M yy",
        RFC_2822: "D, d M yy",
        RSS: "D, d M y",
        TICKS: "!",
        TIMESTAMP: "@",
        W3C: "yy-mm-dd",
        _ticksTo1970: 24 * (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)) * 60 * 60 * 1e7,
        formatDate: function(t, e, i) {
            if (!e) return "";
            var s, n = (i ? i.dayNamesShort : null) || this._defaults.dayNamesShort,
                o = (i ? i.dayNames : null) || this._defaults.dayNames,
                a = (i ? i.monthNamesShort : null) || this._defaults.monthNamesShort,
                r = (i ? i.monthNames : null) || this._defaults.monthNames,
                h = function(e) {
                    var i = s + 1 < t.length && t.charAt(s + 1) === e;
                    return i && s++, i
                },
                l = function(t, e, i) {
                    var s = "" + e;
                    if (h(t))
                        for (; s.length < i;) s = "0" + s;
                    return s
                },
                c = function(t, e, i, s) {
                    return h(t) ? s[e] : i[e]
                },
                u = "",
                d = !1;
            if (e)
                for (s = 0; s < t.length; s++)
                    if (d) "'" !== t.charAt(s) || h("'") ? u += t.charAt(s) : d = !1;
                    else switch (t.charAt(s)) {
                        case "d":
                            u += l("d", e.getDate(), 2);
                            break;
                        case "D":
                            u += c("D", e.getDay(), n, o);
                            break;
                        case "o":
                            u += l("o", Math.round((new Date(e.getFullYear(), e.getMonth(), e.getDate()).getTime() - new Date(e.getFullYear(), 0, 0).getTime()) / 864e5), 3);
                            break;
                        case "m":
                            u += l("m", e.getMonth() + 1, 2);
                            break;
                        case "M":
                            u += c("M", e.getMonth(), a, r);
                            break;
                        case "y":
                            u += h("y") ? e.getFullYear() : (e.getYear() % 100 < 10 ? "0" : "") + e.getYear() % 100;
                            break;
                        case "@":
                            u += e.getTime();
                            break;
                        case "!":
                            u += 1e4 * e.getTime() + this._ticksTo1970;
                            break;
                        case "'":
                            h("'") ? u += "'" : d = !0;
                            break;
                        default:
                            u += t.charAt(s)
                    }
                    return u
        },
        _possibleChars: function(t) {
            var e, i = "",
                s = !1,
                n = function(i) {
                    var s = e + 1 < t.length && t.charAt(e + 1) === i;
                    return s && e++, s
                };
            for (e = 0; e < t.length; e++)
                if (s) "'" !== t.charAt(e) || n("'") ? i += t.charAt(e) : s = !1;
                else switch (t.charAt(e)) {
                    case "d":
                    case "m":
                    case "y":
                    case "@":
                        i += "0123456789";
                        break;
                    case "D":
                    case "M":
                        return null;
                    case "'":
                        n("'") ? i += "'" : s = !0;
                        break;
                    default:
                        i += t.charAt(e)
                }
                return i
        },
        _get: function(t, i) {
            return t.settings[i] !== e ? t.settings[i] : this._defaults[i]
        },
        _setDateFromField: function(t, e) {
            if (t.input.val() !== t.lastVal) {
                var i = this._get(t, "dateFormat"),
                    s = t.lastVal = t.input ? t.input.val() : null,
                    n = this._getDefaultDate(t),
                    o = n,
                    a = this._getFormatConfig(t);
                try {
                    o = this.parseDate(i, s, a) || n
                } catch (r) {
                    s = e ? "" : s
                }
                t.selectedDay = o.getDate(), t.drawMonth = t.selectedMonth = o.getMonth(), t.drawYear = t.selectedYear = o.getFullYear(), t.currentDay = s ? o.getDate() : 0, t.currentMonth = s ? o.getMonth() : 0, t.currentYear = s ? o.getFullYear() : 0, this._adjustInstDate(t)
            }
        },
        _getDefaultDate: function(t) {
            return this._restrictMinMax(t, this._determineDate(t, this._get(t, "defaultDate"), new Date))
        },
        _determineDate: function(e, i, s) {
            var n = function(t) {
                    var e = new Date;
                    return e.setDate(e.getDate() + t), e
                },
                o = function(i) {
                    try {
                        return t.datepicker.parseDate(t.datepicker._get(e, "dateFormat"), i, t.datepicker._getFormatConfig(e))
                    } catch (s) {}
                    for (var n = (i.toLowerCase().match(/^c/) ? t.datepicker._getDate(e) : null) || new Date, o = n.getFullYear(), a = n.getMonth(), r = n.getDate(), h = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g, l = h.exec(i); l;) {
                        switch (l[2] || "d") {
                            case "d":
                            case "D":
                                r += parseInt(l[1], 10);
                                break;
                            case "w":
                            case "W":
                                r += 7 * parseInt(l[1], 10);
                                break;
                            case "m":
                            case "M":
                                a += parseInt(l[1], 10), r = Math.min(r, t.datepicker._getDaysInMonth(o, a));
                                break;
                            case "y":
                            case "Y":
                                o += parseInt(l[1], 10), r = Math.min(r, t.datepicker._getDaysInMonth(o, a))
                        }
                        l = h.exec(i)
                    }
                    return new Date(o, a, r)
                },
                a = null == i || "" === i ? s : "string" == typeof i ? o(i) : "number" == typeof i ? isNaN(i) ? s : n(i) : new Date(i.getTime());
            return a = a && "Invalid Date" === a.toString() ? s : a, a && (a.setHours(0), a.setMinutes(0), a.setSeconds(0), a.setMilliseconds(0)), this._daylightSavingAdjust(a)
        },
        _daylightSavingAdjust: function(t) {
            return t ? (t.setHours(t.getHours() > 12 ? t.getHours() + 2 : 0), t) : null
        },
        _setDate: function(t, e, i) {
            var s = !e,
                n = t.selectedMonth,
                o = t.selectedYear,
                a = this._restrictMinMax(t, this._determineDate(t, e, new Date));
            t.selectedDay = t.currentDay = a.getDate(), t.drawMonth = t.selectedMonth = t.currentMonth = a.getMonth(), t.drawYear = t.selectedYear = t.currentYear = a.getFullYear(), n === t.selectedMonth && o === t.selectedYear || i || this._notifyChange(t), this._adjustInstDate(t), t.input && t.input.val(s ? "" : this._formatDate(t))
        },
        _getDate: function(t) {
            var e = !t.currentYear || t.input && "" === t.input.val() ? null : this._daylightSavingAdjust(new Date(t.currentYear, t.currentMonth, t.currentDay));
            return e
        },
        _attachHandlers: function(e) {
            var i = this._get(e, "stepMonths"),
                s = "#" + e.id.replace(/\\\\/g, "\\");
            e.dpDiv.find("[data-handler]").map(function() {
                var e = {
                    prev: function() {
                        t.datepicker._adjustDate(s, -i, "M")
                    },
                    next: function() {
                        t.datepicker._adjustDate(s, +i, "M")
                    },
                    hide: function() {
                        t.datepicker._hideDatepicker()
                    },
                    today: function() {
                        t.datepicker._gotoToday(s)
                    },
                    selectDay: function() {
                        return t.datepicker._selectDay(s, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this), !1
                    },
                    selectMonth: function() {
                        return t.datepicker._selectMonthYear(s, this, "M"), !1
                    },
                    selectYear: function() {
                        return t.datepicker._selectMonthYear(s, this, "Y"), !1
                    }
                };
                t(this).bind(this.getAttribute("data-event"), e[this.getAttribute("data-handler")])
            })
        },
        _generateHTML: function(t) {
            var e, i, s, n, o, a, r, h, l, c, u, d, p, f, g, m, v, _, b, y, w, x, k, D, C, I, P, T, M, S, z, A, H, W, E, N, O, F, R, L = new Date,
                j = this._daylightSavingAdjust(new Date(L.getFullYear(), L.getMonth(), L.getDate())),
                Y = this._get(t, "isRTL"),
                B = this._get(t, "showButtonPanel"),
                K = this._get(t, "hideIfNoPrevNext"),
                q = this._get(t, "navigationAsDateFormat"),
                U = this._getNumberOfMonths(t),
                V = this._get(t, "showCurrentAtPos"),
                Q = this._get(t, "stepMonths"),
                X = 1 !== U[0] || 1 !== U[1],
                $ = this._daylightSavingAdjust(t.currentDay ? new Date(t.currentYear, t.currentMonth, t.currentDay) : new Date(9999, 9, 9)),
                G = this._getMinMaxDate(t, "min"),
                J = this._getMinMaxDate(t, "max"),
                Z = t.drawMonth - V,
                tt = t.drawYear;
            if (Z < 0 && (Z += 12, tt--), J)
                for (e = this._daylightSavingAdjust(new Date(J.getFullYear(), J.getMonth() - U[0] * U[1] + 1, J.getDate())), e = G && e < G ? G : e; this._daylightSavingAdjust(new Date(tt, Z, 1)) > e;) Z--, Z < 0 && (Z = 11, tt--);
            for (t.drawMonth = Z, t.drawYear = tt, i = this._get(t, "prevText"), i = q ? this.formatDate(i, this._daylightSavingAdjust(new Date(tt, Z - Q, 1)), this._getFormatConfig(t)) : i, s = this._canAdjustMonth(t, -1, tt, Z) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "e" : "w") + "'>" + i + "</span></a>" : K ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "e" : "w") + "'>" + i + "</span></a>", n = this._get(t, "nextText"), n = q ? this.formatDate(n, this._daylightSavingAdjust(new Date(tt, Z + Q, 1)), this._getFormatConfig(t)) : n, o = this._canAdjustMonth(t, 1, tt, Z) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "w" : "e") + "'>" + n + "</span></a>" : K ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "w" : "e") + "'>" + n + "</span></a>", a = this._get(t, "currentText"), r = this._get(t, "gotoCurrent") && t.currentDay ? $ : j, a = q ? this.formatDate(a, r, this._getFormatConfig(t)) : a, h = t.inline ? "" : "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(t, "closeText") + "</button>", l = B ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (Y ? h : "") + (this._isInRange(t, r) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" + a + "</button>" : "") + (Y ? "" : h) + "</div>" : "", c = parseInt(this._get(t, "firstDay"), 10), c = isNaN(c) ? 0 : c, u = this._get(t, "showWeek"), d = this._get(t, "dayNames"), p = this._get(t, "dayNamesMin"), f = this._get(t, "monthNames"), g = this._get(t, "monthNamesShort"), m = this._get(t, "beforeShowDay"), v = this._get(t, "showOtherMonths"), _ = this._get(t, "selectOtherMonths"), b = this._getDefaultDate(t), y = "", x = 0; x < U[0]; x++) {
                for (k = "", this.maxRows = 4, D = 0; D < U[1]; D++) {
                    if (C = this._daylightSavingAdjust(new Date(tt, Z, t.selectedDay)), I = " ui-corner-all", P = "", X) {
                        if (P += "<div class='ui-datepicker-group", U[1] > 1) switch (D) {
                            case 0:
                                P += " ui-datepicker-group-first", I = " ui-corner-" + (Y ? "right" : "left");
                                break;
                            case U[1] - 1:
                                P += " ui-datepicker-group-last", I = " ui-corner-" + (Y ? "left" : "right");
                                break;
                            default:
                                P += " ui-datepicker-group-middle", I = ""
                        }
                        P += "'>"
                    }
                    for (P += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + I + "'>" + (/all|left/.test(I) && 0 === x ? Y ? o : s : "") + (/all|right/.test(I) && 0 === x ? Y ? s : o : "") + this._generateMonthYearHeader(t, Z, tt, G, J, x > 0 || D > 0, f, g) + "</div><table class='ui-datepicker-calendar'><thead><tr>", T = u ? "<th class='ui-datepicker-week-col'>" + this._get(t, "weekHeader") + "</th>" : "", w = 0; w < 7; w++) M = (w + c) % 7, T += "<th" + ((w + c + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + "><span title='" + d[M] + "'>" + p[M] + "</span></th>";
                    for (P += T + "</tr></thead><tbody>", S = this._getDaysInMonth(tt, Z), tt === t.selectedYear && Z === t.selectedMonth && (t.selectedDay = Math.min(t.selectedDay, S)), z = (this._getFirstDayOfMonth(tt, Z) - c + 7) % 7, A = Math.ceil((z + S) / 7), H = X && this.maxRows > A ? this.maxRows : A, this.maxRows = H, W = this._daylightSavingAdjust(new Date(tt, Z, 1 - z)), E = 0; E < H; E++) {
                        for (P += "<tr>", N = u ? "<td class='ui-datepicker-week-col'>" + this._get(t, "calculateWeek")(W) + "</td>" : "", w = 0; w < 7; w++) O = m ? m.apply(t.input ? t.input[0] : null, [W]) : [!0, ""], F = W.getMonth() !== Z, R = F && !_ || !O[0] || G && W < G || J && W > J, N += "<td class='" + ((w + c + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (F ? " ui-datepicker-other-month" : "") + (W.getTime() === C.getTime() && Z === t.selectedMonth && t._keyEvent || b.getTime() === W.getTime() && b.getTime() === C.getTime() ? " " + this._dayOverClass : "") + (R ? " " + this._unselectableClass + " ui-state-disabled" : "") + (F && !v ? "" : " " + O[1] + (W.getTime() === $.getTime() ? " " + this._currentClass : "") + (W.getTime() === j.getTime() ? " ui-datepicker-today" : "")) + "'" + (F && !v || !O[2] ? "" : " title='" + O[2].replace(/'/g, "&#39;") + "'") + (R ? "" : " data-handler='selectDay' data-event='click' data-month='" + W.getMonth() + "' data-year='" + W.getFullYear() + "'") + ">" + (F && !v ? "&#xa0;" : R ? "<span class='ui-state-default'>" + W.getDate() + "</span>" : "<a class='ui-state-default" + (W.getTime() === j.getTime() ? " ui-state-highlight" : "") + (W.getTime() === $.getTime() ? " ui-state-active" : "") + (F ? " ui-priority-secondary" : "") + "' href='#'>" + W.getDate() + "</a>") + "</td>", W.setDate(W.getDate() + 1), W = this._daylightSavingAdjust(W);
                        P += N + "</tr>"
                    }
                    Z++, Z > 11 && (Z = 0, tt++), P += "</tbody></table>" + (X ? "</div>" + (U[0] > 0 && D === U[1] - 1 ? "<div class='ui-datepicker-row-break'></div>" : "") : ""), k += P
                }
                y += k
            }
            return y += l, t._keyEvent = !1, y
        },
        _generateMonthYearHeader: function(t, e, i, s, n, o, a, r) {
            var h, l, c, u, d, p, f, g, m = this._get(t, "changeMonth"),
                v = this._get(t, "changeYear"),
                _ = this._get(t, "showMonthAfterYear"),
                b = "<div class='ui-datepicker-title'>",
                y = "";
            if (o || !m) y += "<span class='ui-datepicker-month'>" + a[e] + "</span>";
            else {
                for (h = s && s.getFullYear() === i, l = n && n.getFullYear() === i, y += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>", c = 0; c < 12; c++)(!h || c >= s.getMonth()) && (!l || c <= n.getMonth()) && (y += "<option value='" + c + "'" + (c === e ? " selected='selected'" : "") + ">" + r[c] + "</option>");
                y += "</select>"
            }
            if (_ || (b += y + (!o && m && v ? "" : "&#xa0;")), !t.yearshtml)
                if (t.yearshtml = "", o || !v) b += "<span class='ui-datepicker-year'>" + i + "</span>";
                else {
                    for (u = this._get(t, "yearRange").split(":"), d = (new Date).getFullYear(), p = function(t) {
                            var e = t.match(/c[+\-].*/) ? i + parseInt(t.substring(1), 10) : t.match(/[+\-].*/) ? d + parseInt(t, 10) : parseInt(t, 10);
                            return isNaN(e) ? d : e
                        }, f = p(u[0]), g = Math.max(f, p(u[1] || "")), f = s ? Math.max(f, s.getFullYear()) : f, g = n ? Math.min(g, n.getFullYear()) : g, t.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>"; f <= g; f++) t.yearshtml += "<option value='" + f + "'" + (f === i ? " selected='selected'" : "") + ">" + f + "</option>";
                    t.yearshtml += "</select>", b += t.yearshtml, t.yearshtml = null
                }
            return b += this._get(t, "yearSuffix"), _ && (b += (!o && m && v ? "" : "&#xa0;") + y), b += "</div>"
        },
        _adjustInstDate: function(t, e, i) {
            var s = t.drawYear + ("Y" === i ? e : 0),
                n = t.drawMonth + ("M" === i ? e : 0),
                o = Math.min(t.selectedDay, this._getDaysInMonth(s, n)) + ("D" === i ? e : 0),
                a = this._restrictMinMax(t, this._daylightSavingAdjust(new Date(s, n, o)));
            t.selectedDay = a.getDate(), t.drawMonth = t.selectedMonth = a.getMonth(), t.drawYear = t.selectedYear = a.getFullYear(), "M" !== i && "Y" !== i || this._notifyChange(t)
        },
        _restrictMinMax: function(t, e) {
            var i = this._getMinMaxDate(t, "min"),
                s = this._getMinMaxDate(t, "max"),
                n = i && e < i ? i : e;
            return s && n > s ? s : n
        },
        _notifyChange: function(t) {
            var e = this._get(t, "onChangeMonthYear");
            e && e.apply(t.input ? t.input[0] : null, [t.selectedYear, t.selectedMonth + 1, t])
        },
        _getNumberOfMonths: function(t) {
            var e = this._get(t, "numberOfMonths");
            return null == e ? [1, 1] : "number" == typeof e ? [1, e] : e
        },
        _getMinMaxDate: function(t, e) {
            return this._determineDate(t, this._get(t, e + "Date"), null)
        },
        _getDaysInMonth: function(t, e) {
            return 32 - this._daylightSavingAdjust(new Date(t, e, 32)).getDate()
        },
        _getFirstDayOfMonth: function(t, e) {
            return new Date(t, e, 1).getDay()
        },
        _canAdjustMonth: function(t, e, i, s) {
            var n = this._getNumberOfMonths(t),
                o = this._daylightSavingAdjust(new Date(i, s + (e < 0 ? e : n[0] * n[1]), 1));
            return e < 0 && o.setDate(this._getDaysInMonth(o.getFullYear(), o.getMonth())), this._isInRange(t, o)
        },
        _isInRange: function(t, e) {
            var i, s, n = this._getMinMaxDate(t, "min"),
                o = this._getMinMaxDate(t, "max"),
                a = null,
                r = null,
                h = this._get(t, "yearRange");
            return h && (i = h.split(":"), s = (new Date).getFullYear(), a = parseInt(i[0], 10), r = parseInt(i[1], 10), i[0].match(/[+\-].*/) && (a += s), i[1].match(/[+\-].*/) && (r += s)), (!n || e.getTime() >= n.getTime()) && (!o || e.getTime() <= o.getTime()) && (!a || e.getFullYear() >= a) && (!r || e.getFullYear() <= r)
        },
        _getFormatConfig: function(t) {
            var e = this._get(t, "shortYearCutoff");
            return e = "string" != typeof e ? e : (new Date).getFullYear() % 100 + parseInt(e, 10), {
                shortYearCutoff: e,
                dayNamesShort: this._get(t, "dayNamesShort"),
                dayNames: this._get(t, "dayNames"),
                monthNamesShort: this._get(t, "monthNamesShort"),
                monthNames: this._get(t, "monthNames")
            }
        },
        _formatDate: function(t, e, i, s) {
            e || (t.currentDay = t.selectedDay, t.currentMonth = t.selectedMonth, t.currentYear = t.selectedYear);
            var n = e ? "object" == typeof e ? e : this._daylightSavingAdjust(new Date(s, i, e)) : this._daylightSavingAdjust(new Date(t.currentYear, t.currentMonth, t.currentDay));
            return this.formatDate(this._get(t, "dateFormat"), n, this._getFormatConfig(t))
        }
    }), t.fn.datepicker = function(e) {
        if (!this.length) return this;
        t.datepicker.initialized || (t(document).mousedown(t.datepicker._checkExternalClick), t.datepicker.initialized = !0), 0 === t("#" + t.datepicker._mainDivId).length && t("body").append(t.datepicker.dpDiv);
        var i = Array.prototype.slice.call(arguments, 1);
        return "string" != typeof e || "isDisabled" !== e && "getDate" !== e && "widget" !== e ? "option" === e && 2 === arguments.length && "string" == typeof arguments[1] ? t.datepicker["_" + e + "Datepicker"].apply(t.datepicker, [this[0]].concat(i)) : this.each(function() {
            "string" == typeof e ? t.datepicker["_" + e + "Datepicker"].apply(t.datepicker, [this].concat(i)) : t.datepicker._attachDatepicker(this, e)
        }) : t.datepicker["_" + e + "Datepicker"].apply(t.datepicker, [this[0]].concat(i))
    }, t.datepicker = new i, t.datepicker.initialized = !1, t.datepicker.uuid = (new Date).getTime(), t.datepicker.version = "1.10.4"
}(jQuery),
function(t, e) {
    var i = {
            buttons: !0,
            height: !0,
            maxHeight: !0,
            maxWidth: !0,
            minHeight: !0,
            minWidth: !0,
            width: !0
        },
        s = {
            maxHeight: !0,
            maxWidth: !0,
            minHeight: !0,
            minWidth: !0
        };
    t.widget("ui.dialog", {
        version: "1.10.4",
        options: {
            appendTo: "body",
            autoOpen: !0,
            buttons: [],
            closeOnEscape: !0,
            closeText: "close",
            dialogClass: "",
            draggable: !0,
            hide: null,
            height: "auto",
            maxHeight: null,
            maxWidth: null,
            minHeight: 150,
            minWidth: 150,
            modal: !1,
            position: {
                my: "center",
                at: "center",
                of: window,
                collision: "fit",
                using: function(e) {
                    var i = t(this).css(e).offset().top;
                    i < 0 && t(this).css("top", e.top - i)
                }
            },
            resizable: !0,
            show: null,
            title: null,
            width: 300,
            beforeClose: null,
            close: null,
            drag: null,
            dragStart: null,
            dragStop: null,
            focus: null,
            open: null,
            resize: null,
            resizeStart: null,
            resizeStop: null
        },
        _create: function() {
            this.originalCss = {
                display: this.element[0].style.display,
                width: this.element[0].style.width,
                minHeight: this.element[0].style.minHeight,
                maxHeight: this.element[0].style.maxHeight,
                height: this.element[0].style.height
            }, this.originalPosition = {
                parent: this.element.parent(),
                index: this.element.parent().children().index(this.element)
            }, this.originalTitle = this.element.attr("title"), this.options.title = this.options.title || this.originalTitle, this._createWrapper(), this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog), this._createTitlebar(), this._createButtonPane(), this.options.draggable && t.fn.draggable && this._makeDraggable(), this.options.resizable && t.fn.resizable && this._makeResizable(), this._isOpen = !1
        },
        _init: function() {
            this.options.autoOpen && this.open()
        },
        _appendTo: function() {
            var e = this.options.appendTo;
            return e && (e.jquery || e.nodeType) ? t(e) : this.document.find(e || "body").eq(0)
        },
        _destroy: function() {
            var t, e = this.originalPosition;
            this._destroyOverlay(), this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(), this.uiDialog.stop(!0, !0).remove(), this.originalTitle && this.element.attr("title", this.originalTitle), t = e.parent.children().eq(e.index), t.length && t[0] !== this.element[0] ? t.before(this.element) : e.parent.append(this.element)
        },
        widget: function() {
            return this.uiDialog
        },
        disable: t.noop,
        enable: t.noop,
        close: function(e) {
            var i, s = this;
            if (this._isOpen && this._trigger("beforeClose", e) !== !1) {
                if (this._isOpen = !1, this._destroyOverlay(), !this.opener.filter(":focusable").focus().length) try {
                    i = this.document[0].activeElement, i && "body" !== i.nodeName.toLowerCase() && t(i).blur()
                } catch (n) {}
                this._hide(this.uiDialog, this.options.hide, function() {
                    s._trigger("close", e)
                })
            }
        },
        isOpen: function() {
            return this._isOpen
        },
        moveToTop: function() {
            this._moveToTop()
        },
        _moveToTop: function(t, e) {
            var i = !!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;
            return i && !e && this._trigger("focus", t), i
        },
        open: function() {
            var e = this;
            return this._isOpen ? void(this._moveToTop() && this._focusTabbable()) : (this._isOpen = !0, this.opener = t(this.document[0].activeElement), this._size(), this._position(), this._createOverlay(), this._moveToTop(null, !0), this._show(this.uiDialog, this.options.show, function() {
                e._focusTabbable(), e._trigger("focus")
            }), void this._trigger("open"))
        },
        _focusTabbable: function() {
            var t = this.element.find("[autofocus]");
            t.length || (t = this.element.find(":tabbable")), t.length || (t = this.uiDialogButtonPane.find(":tabbable")), t.length || (t = this.uiDialogTitlebarClose.filter(":tabbable")), t.length || (t = this.uiDialog), t.eq(0).focus()
        },
        _keepFocus: function(e) {
            function i() {
                var e = this.document[0].activeElement,
                    i = this.uiDialog[0] === e || t.contains(this.uiDialog[0], e);
                i || this._focusTabbable()
            }
            e.preventDefault(), i.call(this), this._delay(i)
        },
        _createWrapper: function() {
            this.uiDialog = t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " + this.options.dialogClass).hide().attr({
                tabIndex: -1,
                role: "dialog"
            }).appendTo(this._appendTo()), this._on(this.uiDialog, {
                keydown: function(e) {
                    if (this.options.closeOnEscape && !e.isDefaultPrevented() && e.keyCode && e.keyCode === t.ui.keyCode.ESCAPE) return e.preventDefault(), void this.close(e);
                    if (e.keyCode === t.ui.keyCode.TAB) {
                        var i = this.uiDialog.find(":tabbable"),
                            s = i.filter(":first"),
                            n = i.filter(":last");
                        e.target !== n[0] && e.target !== this.uiDialog[0] || e.shiftKey ? e.target !== s[0] && e.target !== this.uiDialog[0] || !e.shiftKey || (n.focus(1), e.preventDefault()) : (s.focus(1), e.preventDefault())
                    }
                },
                mousedown: function(t) {
                    this._moveToTop(t) && this._focusTabbable()
                }
            }), this.element.find("[aria-describedby]").length || this.uiDialog.attr({
                "aria-describedby": this.element.uniqueId().attr("id")
            })
        },
        _createTitlebar: function() {
            var e;
            this.uiDialogTitlebar = t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog), this._on(this.uiDialogTitlebar, {
                mousedown: function(e) {
                    t(e.target).closest(".ui-dialog-titlebar-close") || this.uiDialog.focus()
                }
            }), this.uiDialogTitlebarClose = t("<button type='button'></button>").button({
                label: this.options.closeText,
                icons: {
                    primary: "ui-icon-closethick"
                },
                text: !1
            }).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar), this._on(this.uiDialogTitlebarClose, {
                click: function(t) {
                    t.preventDefault(), this.close(t)
                }
            }), e = t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar), this._title(e), this.uiDialog.attr({
                "aria-labelledby": e.attr("id")
            })
        },
        _title: function(t) {
            this.options.title || t.html("&#160;"), t.text(this.options.title)
        },
        _createButtonPane: function() {
            this.uiDialogButtonPane = t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"), this.uiButtonSet = t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane), this._createButtons()
        },
        _createButtons: function() {
            var e = this,
                i = this.options.buttons;
            return this.uiDialogButtonPane.remove(), this.uiButtonSet.empty(), t.isEmptyObject(i) || t.isArray(i) && !i.length ? void this.uiDialog.removeClass("ui-dialog-buttons") : (t.each(i, function(i, s) {
                var n, o;
                s = t.isFunction(s) ? {
                    click: s,
                    text: i
                } : s, s = t.extend({
                    type: "button"
                }, s), n = s.click, s.click = function() {
                    n.apply(e.element[0], arguments)
                }, o = {
                    icons: s.icons,
                    text: s.showText
                }, delete s.icons, delete s.showText, t("<button></button>", s).button(o).appendTo(e.uiButtonSet)
            }), this.uiDialog.addClass("ui-dialog-buttons"), void this.uiDialogButtonPane.appendTo(this.uiDialog))
        },
        _makeDraggable: function() {
            function e(t) {
                return {
                    position: t.position,
                    offset: t.offset
                }
            }
            var i = this,
                s = this.options;
            this.uiDialog.draggable({
                cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
                handle: ".ui-dialog-titlebar",
                containment: "document",
                start: function(s, n) {
                    t(this).addClass("ui-dialog-dragging"), i._blockFrames(), i._trigger("dragStart", s, e(n));
                },
                drag: function(t, s) {
                    i._trigger("drag", t, e(s))
                },
                stop: function(n, o) {
                    s.position = [o.position.left - i.document.scrollLeft(), o.position.top - i.document.scrollTop()], t(this).removeClass("ui-dialog-dragging"), i._unblockFrames(), i._trigger("dragStop", n, e(o))
                }
            })
        },
        _makeResizable: function() {
            function e(t) {
                return {
                    originalPosition: t.originalPosition,
                    originalSize: t.originalSize,
                    position: t.position,
                    size: t.size
                }
            }
            var i = this,
                s = this.options,
                n = s.resizable,
                o = this.uiDialog.css("position"),
                a = "string" == typeof n ? n : "n,e,s,w,se,sw,ne,nw";
            this.uiDialog.resizable({
                cancel: ".ui-dialog-content",
                containment: "document",
                alsoResize: this.element,
                maxWidth: s.maxWidth,
                maxHeight: s.maxHeight,
                minWidth: s.minWidth,
                minHeight: this._minHeight(),
                handles: a,
                start: function(s, n) {
                    t(this).addClass("ui-dialog-resizing"), i._blockFrames(), i._trigger("resizeStart", s, e(n))
                },
                resize: function(t, s) {
                    i._trigger("resize", t, e(s))
                },
                stop: function(n, o) {
                    s.height = t(this).height(), s.width = t(this).width(), t(this).removeClass("ui-dialog-resizing"), i._unblockFrames(), i._trigger("resizeStop", n, e(o))
                }
            }).css("position", o)
        },
        _minHeight: function() {
            var t = this.options;
            return "auto" === t.height ? t.minHeight : Math.min(t.minHeight, t.height)
        },
        _position: function() {
            var t = this.uiDialog.is(":visible");
            t || this.uiDialog.show(), this.uiDialog.position(this.options.position), t || this.uiDialog.hide()
        },
        _setOptions: function(e) {
            var n = this,
                o = !1,
                a = {};
            t.each(e, function(t, e) {
                n._setOption(t, e), t in i && (o = !0), t in s && (a[t] = e)
            }), o && (this._size(), this._position()), this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", a)
        },
        _setOption: function(t, e) {
            var i, s, n = this.uiDialog;
            "dialogClass" === t && n.removeClass(this.options.dialogClass).addClass(e), "disabled" !== t && (this._super(t, e), "appendTo" === t && this.uiDialog.appendTo(this._appendTo()), "buttons" === t && this._createButtons(), "closeText" === t && this.uiDialogTitlebarClose.button({
                label: "" + e
            }), "draggable" === t && (i = n.is(":data(ui-draggable)"), i && !e && n.draggable("destroy"), !i && e && this._makeDraggable()), "position" === t && this._position(), "resizable" === t && (s = n.is(":data(ui-resizable)"), s && !e && n.resizable("destroy"), s && "string" == typeof e && n.resizable("option", "handles", e), s || e === !1 || this._makeResizable()), "title" === t && this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))
        },
        _size: function() {
            var t, e, i, s = this.options;
            this.element.show().css({
                width: "auto",
                minHeight: 0,
                maxHeight: "none",
                height: 0
            }), s.minWidth > s.width && (s.width = s.minWidth), t = this.uiDialog.css({
                height: "auto",
                width: s.width
            }).outerHeight(), e = Math.max(0, s.minHeight - t), i = "number" == typeof s.maxHeight ? Math.max(0, s.maxHeight - t) : "none", "auto" === s.height ? this.element.css({
                minHeight: e,
                maxHeight: i,
                height: "auto"
            }) : this.element.height(Math.max(0, s.height - t)), this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", "minHeight", this._minHeight())
        },
        _blockFrames: function() {
            this.iframeBlocks = this.document.find("iframe").map(function() {
                var e = t(this);
                return t("<div>").css({
                    position: "absolute",
                    width: e.outerWidth(),
                    height: e.outerHeight()
                }).appendTo(e.parent()).offset(e.offset())[0]
            })
        },
        _unblockFrames: function() {
            this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks)
        },
        _allowInteraction: function(e) {
            return !!t(e.target).closest(".ui-dialog").length || !!t(e.target).closest(".ui-datepicker").length
        },
        _createOverlay: function() {
            if (this.options.modal) {
                var e = this,
                    i = this.widgetFullName;
                t.ui.dialog.overlayInstances || this._delay(function() {
                    t.ui.dialog.overlayInstances && this.document.bind("focusin.dialog", function(s) {
                        e._allowInteraction(s) || (s.preventDefault(), t(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())
                    })
                }), this.overlay = t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()), this._on(this.overlay, {
                    mousedown: "_keepFocus"
                }), t.ui.dialog.overlayInstances++
            }
        },
        _destroyOverlay: function() {
            this.options.modal && this.overlay && (t.ui.dialog.overlayInstances--, t.ui.dialog.overlayInstances || this.document.unbind("focusin.dialog"), this.overlay.remove(), this.overlay = null)
        }
    }), t.ui.dialog.overlayInstances = 0, t.uiBackCompat !== !1 && t.widget("ui.dialog", t.ui.dialog, {
        _position: function() {
            var e, i = this.options.position,
                s = [],
                n = [0, 0];
            i ? (("string" == typeof i || "object" == typeof i && "0" in i) && (s = i.split ? i.split(" ") : [i[0], i[1]], 1 === s.length && (s[1] = s[0]), t.each(["left", "top"], function(t, e) {
                +s[t] === s[t] && (n[t] = s[t], s[t] = e)
            }), i = {
                my: s[0] + (n[0] < 0 ? n[0] : "+" + n[0]) + " " + s[1] + (n[1] < 0 ? n[1] : "+" + n[1]),
                at: s.join(" ")
            }), i = t.extend({}, t.ui.dialog.prototype.options.position, i)) : i = t.ui.dialog.prototype.options.position, e = this.uiDialog.is(":visible"), e || this.uiDialog.show(), this.uiDialog.position(i), e || this.uiDialog.hide()
        }
    })
}(jQuery),
function(t, e) {
    var i = /up|down|vertical/,
        s = /up|left|vertical|horizontal/;
    t.effects.effect.blind = function(e, n) {
        var o, a, r, h = t(this),
            l = ["position", "top", "bottom", "left", "right", "height", "width"],
            c = t.effects.setMode(h, e.mode || "hide"),
            u = e.direction || "up",
            d = i.test(u),
            p = d ? "height" : "width",
            f = d ? "top" : "left",
            g = s.test(u),
            m = {},
            v = "show" === c;
        h.parent().is(".ui-effects-wrapper") ? t.effects.save(h.parent(), l) : t.effects.save(h, l), h.show(), o = t.effects.createWrapper(h).css({
            overflow: "hidden"
        }), a = o[p](), r = parseFloat(o.css(f)) || 0, m[p] = v ? a : 0, g || (h.css(d ? "bottom" : "right", 0).css(d ? "top" : "left", "auto").css({
            position: "absolute"
        }), m[f] = v ? r : a + r), v && (o.css(p, 0), g || o.css(f, r + a)), o.animate(m, {
            duration: e.duration,
            easing: e.easing,
            queue: !1,
            complete: function() {
                "hide" === c && h.hide(), t.effects.restore(h, l), t.effects.removeWrapper(h), n()
            }
        })
    }
}(jQuery),
function(t, e) {
    t.effects.effect.bounce = function(e, i) {
        var s, n, o, a = t(this),
            r = ["position", "top", "bottom", "left", "right", "height", "width"],
            h = t.effects.setMode(a, e.mode || "effect"),
            l = "hide" === h,
            c = "show" === h,
            u = e.direction || "up",
            d = e.distance,
            p = e.times || 5,
            f = 2 * p + (c || l ? 1 : 0),
            g = e.duration / f,
            m = e.easing,
            v = "up" === u || "down" === u ? "top" : "left",
            _ = "up" === u || "left" === u,
            b = a.queue(),
            y = b.length;
        for ((c || l) && r.push("opacity"), t.effects.save(a, r), a.show(), t.effects.createWrapper(a), d || (d = a["top" === v ? "outerHeight" : "outerWidth"]() / 3), c && (o = {
                opacity: 1
            }, o[v] = 0, a.css("opacity", 0).css(v, _ ? 2 * -d : 2 * d).animate(o, g, m)), l && (d /= Math.pow(2, p - 1)), o = {}, o[v] = 0, s = 0; s < p; s++) n = {}, n[v] = (_ ? "-=" : "+=") + d, a.animate(n, g, m).animate(o, g, m), d = l ? 2 * d : d / 2;
        l && (n = {
            opacity: 0
        }, n[v] = (_ ? "-=" : "+=") + d, a.animate(n, g, m)), a.queue(function() {
            l && a.hide(), t.effects.restore(a, r), t.effects.removeWrapper(a), i()
        }), y > 1 && b.splice.apply(b, [1, 0].concat(b.splice(y, f + 1))), a.dequeue()
    }
}(jQuery),
function(t, e) {
    t.effects.effect.clip = function(e, i) {
        var s, n, o, a = t(this),
            r = ["position", "top", "bottom", "left", "right", "height", "width"],
            h = t.effects.setMode(a, e.mode || "hide"),
            l = "show" === h,
            c = e.direction || "vertical",
            u = "vertical" === c,
            d = u ? "height" : "width",
            p = u ? "top" : "left",
            f = {};
        t.effects.save(a, r), a.show(), s = t.effects.createWrapper(a).css({
            overflow: "hidden"
        }), n = "IMG" === a[0].tagName ? s : a, o = n[d](), l && (n.css(d, 0), n.css(p, o / 2)), f[d] = l ? o : 0, f[p] = l ? 0 : o / 2, n.animate(f, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: function() {
                l || a.hide(), t.effects.restore(a, r), t.effects.removeWrapper(a), i()
            }
        })
    }
}(jQuery),
function(t, e) {
    t.effects.effect.drop = function(e, i) {
        var s, n = t(this),
            o = ["position", "top", "bottom", "left", "right", "opacity", "height", "width"],
            a = t.effects.setMode(n, e.mode || "hide"),
            r = "show" === a,
            h = e.direction || "left",
            l = "up" === h || "down" === h ? "top" : "left",
            c = "up" === h || "left" === h ? "pos" : "neg",
            u = {
                opacity: r ? 1 : 0
            };
        t.effects.save(n, o), n.show(), t.effects.createWrapper(n), s = e.distance || n["top" === l ? "outerHeight" : "outerWidth"](!0) / 2, r && n.css("opacity", 0).css(l, "pos" === c ? -s : s), u[l] = (r ? "pos" === c ? "+=" : "-=" : "pos" === c ? "-=" : "+=") + s, n.animate(u, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: function() {
                "hide" === a && n.hide(), t.effects.restore(n, o), t.effects.removeWrapper(n), i()
            }
        })
    }
}(jQuery),
function(t, e) {
    t.effects.effect.explode = function(e, i) {
        function s() {
            b.push(this), b.length === u * d && n()
        }

        function n() {
            p.css({
                visibility: "visible"
            }), t(b).remove(), g || p.hide(), i()
        }
        var o, a, r, h, l, c, u = e.pieces ? Math.round(Math.sqrt(e.pieces)) : 3,
            d = u,
            p = t(this),
            f = t.effects.setMode(p, e.mode || "hide"),
            g = "show" === f,
            m = p.show().css("visibility", "hidden").offset(),
            v = Math.ceil(p.outerWidth() / d),
            _ = Math.ceil(p.outerHeight() / u),
            b = [];
        for (o = 0; o < u; o++)
            for (h = m.top + o * _, c = o - (u - 1) / 2, a = 0; a < d; a++) r = m.left + a * v, l = a - (d - 1) / 2, p.clone().appendTo("body").wrap("<div></div>").css({
                position: "absolute",
                visibility: "visible",
                left: -a * v,
                top: -o * _
            }).parent().addClass("ui-effects-explode").css({
                position: "absolute",
                overflow: "hidden",
                width: v,
                height: _,
                left: r + (g ? l * v : 0),
                top: h + (g ? c * _ : 0),
                opacity: g ? 0 : 1
            }).animate({
                left: r + (g ? 0 : l * v),
                top: h + (g ? 0 : c * _),
                opacity: g ? 1 : 0
            }, e.duration || 500, e.easing, s)
    }
}(jQuery),
function(t, e) {
    t.effects.effect.fade = function(e, i) {
        var s = t(this),
            n = t.effects.setMode(s, e.mode || "toggle");
        s.animate({
            opacity: n
        }, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: i
        })
    }
}(jQuery),
function(t, e) {
    t.effects.effect.fold = function(e, i) {
        var s, n, o = t(this),
            a = ["position", "top", "bottom", "left", "right", "height", "width"],
            r = t.effects.setMode(o, e.mode || "hide"),
            h = "show" === r,
            l = "hide" === r,
            c = e.size || 15,
            u = /([0-9]+)%/.exec(c),
            d = !!e.horizFirst,
            p = h !== d,
            f = p ? ["width", "height"] : ["height", "width"],
            g = e.duration / 2,
            m = {},
            v = {};
        t.effects.save(o, a), o.show(), s = t.effects.createWrapper(o).css({
            overflow: "hidden"
        }), n = p ? [s.width(), s.height()] : [s.height(), s.width()], u && (c = parseInt(u[1], 10) / 100 * n[l ? 0 : 1]), h && s.css(d ? {
            height: 0,
            width: c
        } : {
            height: c,
            width: 0
        }), m[f[0]] = h ? n[0] : c, v[f[1]] = h ? n[1] : 0, s.animate(m, g, e.easing).animate(v, g, e.easing, function() {
            l && o.hide(), t.effects.restore(o, a), t.effects.removeWrapper(o), i()
        })
    }
}(jQuery),
function(t, e) {
    t.effects.effect.highlight = function(e, i) {
        var s = t(this),
            n = ["backgroundImage", "backgroundColor", "opacity"],
            o = t.effects.setMode(s, e.mode || "show"),
            a = {
                backgroundColor: s.css("backgroundColor")
            };
        "hide" === o && (a.opacity = 0), t.effects.save(s, n), s.show().css({
            backgroundImage: "none",
            backgroundColor: e.color || "#ffff99"
        }).animate(a, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: function() {
                "hide" === o && s.hide(), t.effects.restore(s, n), i()
            }
        })
    }
}(jQuery),
function(t, e) {
    t.effects.effect.pulsate = function(e, i) {
        var s, n = t(this),
            o = t.effects.setMode(n, e.mode || "show"),
            a = "show" === o,
            r = "hide" === o,
            h = a || "hide" === o,
            l = 2 * (e.times || 5) + (h ? 1 : 0),
            c = e.duration / l,
            u = 0,
            d = n.queue(),
            p = d.length;
        for (!a && n.is(":visible") || (n.css("opacity", 0).show(), u = 1), s = 1; s < l; s++) n.animate({
            opacity: u
        }, c, e.easing), u = 1 - u;
        n.animate({
            opacity: u
        }, c, e.easing), n.queue(function() {
            r && n.hide(), i()
        }), p > 1 && d.splice.apply(d, [1, 0].concat(d.splice(p, l + 1))), n.dequeue()
    }
}(jQuery),
function(t, e) {
    t.effects.effect.puff = function(e, i) {
        var s = t(this),
            n = t.effects.setMode(s, e.mode || "hide"),
            o = "hide" === n,
            a = parseInt(e.percent, 10) || 150,
            r = a / 100,
            h = {
                height: s.height(),
                width: s.width(),
                outerHeight: s.outerHeight(),
                outerWidth: s.outerWidth()
            };
        t.extend(e, {
            effect: "scale",
            queue: !1,
            fade: !0,
            mode: n,
            complete: i,
            percent: o ? a : 100,
            from: o ? h : {
                height: h.height * r,
                width: h.width * r,
                outerHeight: h.outerHeight * r,
                outerWidth: h.outerWidth * r
            }
        }), s.effect(e)
    }, t.effects.effect.scale = function(e, i) {
        var s = t(this),
            n = t.extend(!0, {}, e),
            o = t.effects.setMode(s, e.mode || "effect"),
            a = parseInt(e.percent, 10) || (0 === parseInt(e.percent, 10) ? 0 : "hide" === o ? 0 : 100),
            r = e.direction || "both",
            h = e.origin,
            l = {
                height: s.height(),
                width: s.width(),
                outerHeight: s.outerHeight(),
                outerWidth: s.outerWidth()
            },
            c = {
                y: "horizontal" !== r ? a / 100 : 1,
                x: "vertical" !== r ? a / 100 : 1
            };
        n.effect = "size", n.queue = !1, n.complete = i, "effect" !== o && (n.origin = h || ["middle", "center"], n.restore = !0), n.from = e.from || ("show" === o ? {
            height: 0,
            width: 0,
            outerHeight: 0,
            outerWidth: 0
        } : l), n.to = {
            height: l.height * c.y,
            width: l.width * c.x,
            outerHeight: l.outerHeight * c.y,
            outerWidth: l.outerWidth * c.x
        }, n.fade && ("show" === o && (n.from.opacity = 0, n.to.opacity = 1), "hide" === o && (n.from.opacity = 1, n.to.opacity = 0)), s.effect(n)
    }, t.effects.effect.size = function(e, i) {
        var s, n, o, a = t(this),
            r = ["position", "top", "bottom", "left", "right", "width", "height", "overflow", "opacity"],
            h = ["position", "top", "bottom", "left", "right", "overflow", "opacity"],
            l = ["width", "height", "overflow"],
            c = ["fontSize"],
            u = ["borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom"],
            d = ["borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight"],
            p = t.effects.setMode(a, e.mode || "effect"),
            f = e.restore || "effect" !== p,
            g = e.scale || "both",
            m = e.origin || ["middle", "center"],
            v = a.css("position"),
            _ = f ? r : h,
            b = {
                height: 0,
                width: 0,
                outerHeight: 0,
                outerWidth: 0
            };
        "show" === p && a.show(), s = {
            height: a.height(),
            width: a.width(),
            outerHeight: a.outerHeight(),
            outerWidth: a.outerWidth()
        }, "toggle" === e.mode && "show" === p ? (a.from = e.to || b, a.to = e.from || s) : (a.from = e.from || ("show" === p ? b : s), a.to = e.to || ("hide" === p ? b : s)), o = {
            from: {
                y: a.from.height / s.height,
                x: a.from.width / s.width
            },
            to: {
                y: a.to.height / s.height,
                x: a.to.width / s.width
            }
        }, "box" !== g && "both" !== g || (o.from.y !== o.to.y && (_ = _.concat(u), a.from = t.effects.setTransition(a, u, o.from.y, a.from), a.to = t.effects.setTransition(a, u, o.to.y, a.to)), o.from.x !== o.to.x && (_ = _.concat(d), a.from = t.effects.setTransition(a, d, o.from.x, a.from), a.to = t.effects.setTransition(a, d, o.to.x, a.to))), "content" !== g && "both" !== g || o.from.y !== o.to.y && (_ = _.concat(c).concat(l), a.from = t.effects.setTransition(a, c, o.from.y, a.from), a.to = t.effects.setTransition(a, c, o.to.y, a.to)), t.effects.save(a, _), a.show(), t.effects.createWrapper(a), a.css("overflow", "hidden").css(a.from), m && (n = t.effects.getBaseline(m, s), a.from.top = (s.outerHeight - a.outerHeight()) * n.y, a.from.left = (s.outerWidth - a.outerWidth()) * n.x, a.to.top = (s.outerHeight - a.to.outerHeight) * n.y, a.to.left = (s.outerWidth - a.to.outerWidth) * n.x), a.css(a.from), "content" !== g && "both" !== g || (u = u.concat(["marginTop", "marginBottom"]).concat(c), d = d.concat(["marginLeft", "marginRight"]), l = r.concat(u).concat(d), a.find("*[width]").each(function() {
            var i = t(this),
                s = {
                    height: i.height(),
                    width: i.width(),
                    outerHeight: i.outerHeight(),
                    outerWidth: i.outerWidth()
                };
            f && t.effects.save(i, l), i.from = {
                height: s.height * o.from.y,
                width: s.width * o.from.x,
                outerHeight: s.outerHeight * o.from.y,
                outerWidth: s.outerWidth * o.from.x
            }, i.to = {
                height: s.height * o.to.y,
                width: s.width * o.to.x,
                outerHeight: s.height * o.to.y,
                outerWidth: s.width * o.to.x
            }, o.from.y !== o.to.y && (i.from = t.effects.setTransition(i, u, o.from.y, i.from), i.to = t.effects.setTransition(i, u, o.to.y, i.to)), o.from.x !== o.to.x && (i.from = t.effects.setTransition(i, d, o.from.x, i.from), i.to = t.effects.setTransition(i, d, o.to.x, i.to)), i.css(i.from), i.animate(i.to, e.duration, e.easing, function() {
                f && t.effects.restore(i, l)
            })
        })), a.animate(a.to, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: function() {
                0 === a.to.opacity && a.css("opacity", a.from.opacity), "hide" === p && a.hide(), t.effects.restore(a, _), f || ("static" === v ? a.css({
                    position: "relative",
                    top: a.to.top,
                    left: a.to.left
                }) : t.each(["top", "left"], function(t, e) {
                    a.css(e, function(e, i) {
                        var s = parseInt(i, 10),
                            n = t ? a.to.left : a.to.top;
                        return "auto" === i ? n + "px" : s + n + "px"
                    })
                })), t.effects.removeWrapper(a), i()
            }
        })
    }
}(jQuery),
function(t, e) {
    t.effects.effect.shake = function(e, i) {
        var s, n = t(this),
            o = ["position", "top", "bottom", "left", "right", "height", "width"],
            a = t.effects.setMode(n, e.mode || "effect"),
            r = e.direction || "left",
            h = e.distance || 20,
            l = e.times || 3,
            c = 2 * l + 1,
            u = Math.round(e.duration / c),
            d = "up" === r || "down" === r ? "top" : "left",
            p = "up" === r || "left" === r,
            f = {},
            g = {},
            m = {},
            v = n.queue(),
            _ = v.length;
        for (t.effects.save(n, o), n.show(), t.effects.createWrapper(n), f[d] = (p ? "-=" : "+=") + h, g[d] = (p ? "+=" : "-=") + 2 * h, m[d] = (p ? "-=" : "+=") + 2 * h, n.animate(f, u, e.easing), s = 1; s < l; s++) n.animate(g, u, e.easing).animate(m, u, e.easing);
        n.animate(g, u, e.easing).animate(f, u / 2, e.easing).queue(function() {
            "hide" === a && n.hide(), t.effects.restore(n, o), t.effects.removeWrapper(n), i()
        }), _ > 1 && v.splice.apply(v, [1, 0].concat(v.splice(_, c + 1))), n.dequeue()
    }
}(jQuery),
function(t, e) {
    t.effects.effect.slide = function(e, i) {
        var s, n = t(this),
            o = ["position", "top", "bottom", "left", "right", "width", "height"],
            a = t.effects.setMode(n, e.mode || "show"),
            r = "show" === a,
            h = e.direction || "left",
            l = "up" === h || "down" === h ? "top" : "left",
            c = "up" === h || "left" === h,
            u = {};
        t.effects.save(n, o), n.show(), s = e.distance || n["top" === l ? "outerHeight" : "outerWidth"](!0), t.effects.createWrapper(n).css({
            overflow: "hidden"
        }), r && n.css(l, c ? isNaN(s) ? "-" + s : -s : s), u[l] = (r ? c ? "+=" : "-=" : c ? "-=" : "+=") + s, n.animate(u, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: function() {
                "hide" === a && n.hide(), t.effects.restore(n, o), t.effects.removeWrapper(n), i()
            }
        })
    }
}(jQuery),
function(t, e) {
    t.effects.effect.transfer = function(e, i) {
        var s = t(this),
            n = t(e.to),
            o = "fixed" === n.css("position"),
            a = t("body"),
            r = o ? a.scrollTop() : 0,
            h = o ? a.scrollLeft() : 0,
            l = n.offset(),
            c = {
                top: l.top - r,
                left: l.left - h,
                height: n.innerHeight(),
                width: n.innerWidth()
            },
            u = s.offset(),
            d = t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({
                top: u.top - r,
                left: u.left - h,
                height: s.innerHeight(),
                width: s.innerWidth(),
                position: o ? "fixed" : "absolute"
            }).animate(c, e.duration, e.easing, function() {
                d.remove(), i()
            })
    }
}(jQuery),
function(t, e) {
    t.widget("ui.menu", {
        version: "1.10.4",
        defaultElement: "<ul>",
        delay: 300,
        options: {
            icons: {
                submenu: "ui-icon-carat-1-e"
            },
            menus: "ul",
            position: {
                my: "left top",
                at: "right top"
            },
            role: "menu",
            blur: null,
            focus: null,
            select: null
        },
        _create: function() {
            this.activeMenu = this.element, this.mouseHandled = !1, this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length).attr({
                role: this.options.role,
                tabIndex: 0
            }).bind("click" + this.eventNamespace, t.proxy(function(t) {
                this.options.disabled && t.preventDefault()
            }, this)), this.options.disabled && this.element.addClass("ui-state-disabled").attr("aria-disabled", "true"), this._on({
                "mousedown .ui-menu-item > a": function(t) {
                    t.preventDefault()
                },
                "click .ui-state-disabled > a": function(t) {
                    t.preventDefault()
                },
                "click .ui-menu-item:has(a)": function(e) {
                    var i = t(e.target).closest(".ui-menu-item");
                    !this.mouseHandled && i.not(".ui-state-disabled").length && (this.select(e), e.isPropagationStopped() || (this.mouseHandled = !0), i.has(".ui-menu").length ? this.expand(e) : !this.element.is(":focus") && t(this.document[0].activeElement).closest(".ui-menu").length && (this.element.trigger("focus", [!0]), this.active && 1 === this.active.parents(".ui-menu").length && clearTimeout(this.timer)))
                },
                "mouseenter .ui-menu-item": function(e) {
                    var i = t(e.currentTarget);
                    i.siblings().children(".ui-state-active").removeClass("ui-state-active"), this.focus(e, i)
                },
                mouseleave: "collapseAll",
                "mouseleave .ui-menu": "collapseAll",
                focus: function(t, e) {
                    var i = this.active || this.element.children(".ui-menu-item").eq(0);
                    e || this.focus(t, i)
                },
                blur: function(e) {
                    this._delay(function() {
                        t.contains(this.element[0], this.document[0].activeElement) || this.collapseAll(e)
                    })
                },
                keydown: "_keydown"
            }), this.refresh(), this._on(this.document, {
                click: function(e) {
                    t(e.target).closest(".ui-menu").length || this.collapseAll(e), this.mouseHandled = !1
                }
            })
        },
        _destroy: function() {
            this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(), this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function() {
                var e = t(this);
                e.data("ui-menu-submenu-carat") && e.remove()
            }), this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")
        },
        _keydown: function(e) {
            function i(t) {
                return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
            }
            var s, n, o, a, r, h = !0;
            switch (e.keyCode) {
                case t.ui.keyCode.PAGE_UP:
                    this.previousPage(e);
                    break;
                case t.ui.keyCode.PAGE_DOWN:
                    this.nextPage(e);
                    break;
                case t.ui.keyCode.HOME:
                    this._move("first", "first", e);
                    break;
                case t.ui.keyCode.END:
                    this._move("last", "last", e);
                    break;
                case t.ui.keyCode.UP:
                    this.previous(e);
                    break;
                case t.ui.keyCode.DOWN:
                    this.next(e);
                    break;
                case t.ui.keyCode.LEFT:
                    this.collapse(e);
                    break;
                case t.ui.keyCode.RIGHT:
                    this.active && !this.active.is(".ui-state-disabled") && this.expand(e);
                    break;
                case t.ui.keyCode.ENTER:
                case t.ui.keyCode.SPACE:
                    this._activate(e);
                    break;
                case t.ui.keyCode.ESCAPE:
                    this.collapse(e);
                    break;
                default:
                    h = !1, n = this.previousFilter || "", o = String.fromCharCode(e.keyCode), a = !1, clearTimeout(this.filterTimer), o === n ? a = !0 : o = n + o, r = new RegExp("^" + i(o), "i"), s = this.activeMenu.children(".ui-menu-item").filter(function() {
                        return r.test(t(this).children("a").text())
                    }), s = a && s.index(this.active.next()) !== -1 ? this.active.nextAll(".ui-menu-item") : s, s.length || (o = String.fromCharCode(e.keyCode), r = new RegExp("^" + i(o), "i"), s = this.activeMenu.children(".ui-menu-item").filter(function() {
                        return r.test(t(this).children("a").text())
                    })), s.length ? (this.focus(e, s), s.length > 1 ? (this.previousFilter = o, this.filterTimer = this._delay(function() {
                        delete this.previousFilter
                    }, 1e3)) : delete this.previousFilter) : delete this.previousFilter
            }
            h && e.preventDefault()
        },
        _activate: function(t) {
            this.active.is(".ui-state-disabled") || (this.active.children("a[aria-haspopup='true']").length ? this.expand(t) : this.select(t))
        },
        refresh: function() {
            var e, i = this.options.icons.submenu,
                s = this.element.find(this.options.menus);
            this.element.toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length), s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({
                role: this.options.role,
                "aria-hidden": "true",
                "aria-expanded": "false"
            }).each(function() {
                var e = t(this),
                    s = e.prev("a"),
                    n = t("<span>").addClass("ui-menu-icon ui-icon " + i).data("ui-menu-submenu-carat", !0);
                s.attr("aria-haspopup", "true").prepend(n), e.attr("aria-labelledby", s.attr("id"))
            }), e = s.add(this.element), e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role", "presentation").children("a").uniqueId().addClass("ui-corner-all").attr({
                tabIndex: -1,
                role: this._itemRole()
            }), e.children(":not(.ui-menu-item)").each(function() {
                var e = t(this);
                /[^\-\u2014\u2013\s]/.test(e.text()) || e.addClass("ui-widget-content ui-menu-divider")
            }), e.children(".ui-state-disabled").attr("aria-disabled", "true"), this.active && !t.contains(this.element[0], this.active[0]) && this.blur()
        },
        _itemRole: function() {
            return {
                menu: "menuitem",
                listbox: "option"
            }[this.options.role]
        },
        _setOption: function(t, e) {
            "icons" === t && this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu), this._super(t, e)
        },
        focus: function(t, e) {
            var i, s;
            this.blur(t, t && "focus" === t.type), this._scrollIntoView(e), this.active = e.first(), s = this.active.children("a").addClass("ui-state-focus"), this.options.role && this.element.attr("aria-activedescendant", s.attr("id")), this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"), t && "keydown" === t.type ? this._close() : this.timer = this._delay(function() {
                this._close()
            }, this.delay), i = e.children(".ui-menu"), i.length && t && /^mouse/.test(t.type) && this._startOpening(i), this.activeMenu = e.parent(), this._trigger("focus", t, {
                item: e
            })
        },
        _scrollIntoView: function(e) {
            var i, s, n, o, a, r;
            this._hasScroll() && (i = parseFloat(t.css(this.activeMenu[0], "borderTopWidth")) || 0, s = parseFloat(t.css(this.activeMenu[0], "paddingTop")) || 0, n = e.offset().top - this.activeMenu.offset().top - i - s, o = this.activeMenu.scrollTop(), a = this.activeMenu.height(), r = e.height(), n < 0 ? this.activeMenu.scrollTop(o + n) : n + r > a && this.activeMenu.scrollTop(o + n - a + r))
        },
        blur: function(t, e) {
            e || clearTimeout(this.timer), this.active && (this.active.children("a").removeClass("ui-state-focus"), this.active = null, this._trigger("blur", t, {
                item: this.active
            }))
        },
        _startOpening: function(t) {
            clearTimeout(this.timer), "true" === t.attr("aria-hidden") && (this.timer = this._delay(function() {
                this._close(), this._open(t)
            }, this.delay))
        },
        _open: function(e) {
            var i = t.extend({
                of: this.active
            }, this.options.position);
            clearTimeout(this.timer), this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden", "true"), e.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(i)
        },
        collapseAll: function(e, i) {
            clearTimeout(this.timer), this.timer = this._delay(function() {
                var s = i ? this.element : t(e && e.target).closest(this.element.find(".ui-menu"));
                s.length || (s = this.element), this._close(s), this.blur(e), this.activeMenu = s
            }, this.delay)
        },
        _close: function(t) {
            t || (t = this.active ? this.active.parent() : this.element), t.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false").end().find("a.ui-state-active").removeClass("ui-state-active")
        },
        collapse: function(t) {
            var e = this.active && this.active.parent().closest(".ui-menu-item", this.element);
            e && e.length && (this._close(), this.focus(t, e))
        },
        expand: function(t) {
            var e = this.active && this.active.children(".ui-menu ").children(".ui-menu-item").first();
            e && e.length && (this._open(e.parent()), this._delay(function() {
                this.focus(t, e)
            }))
        },
        next: function(t) {
            this._move("next", "first", t)
        },
        previous: function(t) {
            this._move("prev", "last", t)
        },
        isFirstItem: function() {
            return this.active && !this.active.prevAll(".ui-menu-item").length
        },
        isLastItem: function() {
            return this.active && !this.active.nextAll(".ui-menu-item").length
        },
        _move: function(t, e, i) {
            var s;
            this.active && (s = "first" === t || "last" === t ? this.active["first" === t ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1) : this.active[t + "All"](".ui-menu-item").eq(0)), s && s.length && this.active || (s = this.activeMenu.children(".ui-menu-item")[e]()), this.focus(i, s)
        },
        nextPage: function(e) {
            var i, s, n;
            return this.active ? void(this.isLastItem() || (this._hasScroll() ? (s = this.active.offset().top, n = this.element.height(), this.active.nextAll(".ui-menu-item").each(function() {
                return i = t(this), i.offset().top - s - n < 0
            }), this.focus(e, i)) : this.focus(e, this.activeMenu.children(".ui-menu-item")[this.active ? "last" : "first"]()))) : void this.next(e)
        },
        previousPage: function(e) {
            var i, s, n;
            return this.active ? void(this.isFirstItem() || (this._hasScroll() ? (s = this.active.offset().top, n = this.element.height(), this.active.prevAll(".ui-menu-item").each(function() {
                return i = t(this), i.offset().top - s + n > 0
            }), this.focus(e, i)) : this.focus(e, this.activeMenu.children(".ui-menu-item").first()))) : void this.next(e)
        },
        _hasScroll: function() {
            return this.element.outerHeight() < this.element.prop("scrollHeight")
        },
        select: function(e) {
            this.active = this.active || t(e.target).closest(".ui-menu-item");
            var i = {
                item: this.active
            };
            this.active.has(".ui-menu").length || this.collapseAll(e, !0), this._trigger("select", e, i)
        }
    })
}(jQuery),
function(t, e) {
    function i(t, e, i) {
        return [parseFloat(t[0]) * (p.test(t[0]) ? e / 100 : 1), parseFloat(t[1]) * (p.test(t[1]) ? i / 100 : 1)]
    }

    function s(e, i) {
        return parseInt(t.css(e, i), 10) || 0
    }

    function n(e) {
        var i = e[0];
        return 9 === i.nodeType ? {
            width: e.width(),
            height: e.height(),
            offset: {
                top: 0,
                left: 0
            }
        } : t.isWindow(i) ? {
            width: e.width(),
            height: e.height(),
            offset: {
                top: e.scrollTop(),
                left: e.scrollLeft()
            }
        } : i.preventDefault ? {
            width: 0,
            height: 0,
            offset: {
                top: i.pageY,
                left: i.pageX
            }
        } : {
            width: e.outerWidth(),
            height: e.outerHeight(),
            offset: e.offset()
        }
    }
    t.ui = t.ui || {};
    var o, a = Math.max,
        r = Math.abs,
        h = Math.round,
        l = /left|center|right/,
        c = /top|center|bottom/,
        u = /[\+\-]\d+(\.[\d]+)?%?/,
        d = /^\w+/,
        p = /%$/,
        f = t.fn.position;
    t.position = {
            scrollbarWidth: function() {
                if (o !== e) return o;
                var i, s, n = t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),
                    a = n.children()[0];
                return t("body").append(n), i = a.offsetWidth, n.css("overflow", "scroll"), s = a.offsetWidth, i === s && (s = n[0].clientWidth), n.remove(), o = i - s
            },
            getScrollInfo: function(e) {
                var i = e.isWindow || e.isDocument ? "" : e.element.css("overflow-x"),
                    s = e.isWindow || e.isDocument ? "" : e.element.css("overflow-y"),
                    n = "scroll" === i || "auto" === i && e.width < e.element[0].scrollWidth,
                    o = "scroll" === s || "auto" === s && e.height < e.element[0].scrollHeight;
                return {
                    width: o ? t.position.scrollbarWidth() : 0,
                    height: n ? t.position.scrollbarWidth() : 0
                }
            },
            getWithinInfo: function(e) {
                var i = t(e || window),
                    s = t.isWindow(i[0]),
                    n = !!i[0] && 9 === i[0].nodeType;
                return {
                    element: i,
                    isWindow: s,
                    isDocument: n,
                    offset: i.offset() || {
                        left: 0,
                        top: 0
                    },
                    scrollLeft: i.scrollLeft(),
                    scrollTop: i.scrollTop(),
                    width: s ? i.width() : i.outerWidth(),
                    height: s ? i.height() : i.outerHeight()
                }
            }
        }, t.fn.position = function(e) {
            if (!e || !e.of) return f.apply(this, arguments);
            e = t.extend({}, e);
            var o, p, g, m, v, _, b = t(e.of),
                y = t.position.getWithinInfo(e.within),
                w = t.position.getScrollInfo(y),
                x = (e.collision || "flip").split(" "),
                k = {};
            return _ = n(b), b[0].preventDefault && (e.at = "left top"), p = _.width, g = _.height, m = _.offset, v = t.extend({}, m), t.each(["my", "at"], function() {
                var t, i, s = (e[this] || "").split(" ");
                1 === s.length && (s = l.test(s[0]) ? s.concat(["center"]) : c.test(s[0]) ? ["center"].concat(s) : ["center", "center"]), s[0] = l.test(s[0]) ? s[0] : "center", s[1] = c.test(s[1]) ? s[1] : "center", t = u.exec(s[0]), i = u.exec(s[1]), k[this] = [t ? t[0] : 0, i ? i[0] : 0], e[this] = [d.exec(s[0])[0], d.exec(s[1])[0]]
            }), 1 === x.length && (x[1] = x[0]), "right" === e.at[0] ? v.left += p : "center" === e.at[0] && (v.left += p / 2), "bottom" === e.at[1] ? v.top += g : "center" === e.at[1] && (v.top += g / 2), o = i(k.at, p, g), v.left += o[0], v.top += o[1], this.each(function() {
                var n, l, c = t(this),
                    u = c.outerWidth(),
                    d = c.outerHeight(),
                    f = s(this, "marginLeft"),
                    _ = s(this, "marginTop"),
                    D = u + f + s(this, "marginRight") + w.width,
                    C = d + _ + s(this, "marginBottom") + w.height,
                    I = t.extend({}, v),
                    P = i(k.my, c.outerWidth(), c.outerHeight());
                "right" === e.my[0] ? I.left -= u : "center" === e.my[0] && (I.left -= u / 2), "bottom" === e.my[1] ? I.top -= d : "center" === e.my[1] && (I.top -= d / 2), I.left += P[0], I.top += P[1], t.support.offsetFractions || (I.left = h(I.left), I.top = h(I.top)), n = {
                    marginLeft: f,
                    marginTop: _
                }, t.each(["left", "top"], function(i, s) {
                    t.ui.position[x[i]] && t.ui.position[x[i]][s](I, {
                        targetWidth: p,
                        targetHeight: g,
                        elemWidth: u,
                        elemHeight: d,
                        collisionPosition: n,
                        collisionWidth: D,
                        collisionHeight: C,
                        offset: [o[0] + P[0], o[1] + P[1]],
                        my: e.my,
                        at: e.at,
                        within: y,
                        elem: c
                    })
                }), e.using && (l = function(t) {
                    var i = m.left - I.left,
                        s = i + p - u,
                        n = m.top - I.top,
                        o = n + g - d,
                        h = {
                            target: {
                                element: b,
                                left: m.left,
                                top: m.top,
                                width: p,
                                height: g
                            },
                            element: {
                                element: c,
                                left: I.left,
                                top: I.top,
                                width: u,
                                height: d
                            },
                            horizontal: s < 0 ? "left" : i > 0 ? "right" : "center",
                            vertical: o < 0 ? "top" : n > 0 ? "bottom" : "middle"
                        };
                    p < u && r(i + s) < p && (h.horizontal = "center"), g < d && r(n + o) < g && (h.vertical = "middle"), a(r(i), r(s)) > a(r(n), r(o)) ? h.important = "horizontal" : h.important = "vertical", e.using.call(this, t, h)
                }), c.offset(t.extend(I, {
                    using: l
                }))
            })
        }, t.ui.position = {
            fit: {
                left: function(t, e) {
                    var i, s = e.within,
                        n = s.isWindow ? s.scrollLeft : s.offset.left,
                        o = s.width,
                        r = t.left - e.collisionPosition.marginLeft,
                        h = n - r,
                        l = r + e.collisionWidth - o - n;
                    e.collisionWidth > o ? h > 0 && l <= 0 ? (i = t.left + h + e.collisionWidth - o - n, t.left += h - i) : l > 0 && h <= 0 ? t.left = n : h > l ? t.left = n + o - e.collisionWidth : t.left = n : h > 0 ? t.left += h : l > 0 ? t.left -= l : t.left = a(t.left - r, t.left)
                },
                top: function(t, e) {
                    var i, s = e.within,
                        n = s.isWindow ? s.scrollTop : s.offset.top,
                        o = e.within.height,
                        r = t.top - e.collisionPosition.marginTop,
                        h = n - r,
                        l = r + e.collisionHeight - o - n;
                    e.collisionHeight > o ? h > 0 && l <= 0 ? (i = t.top + h + e.collisionHeight - o - n, t.top += h - i) : l > 0 && h <= 0 ? t.top = n : h > l ? t.top = n + o - e.collisionHeight : t.top = n : h > 0 ? t.top += h : l > 0 ? t.top -= l : t.top = a(t.top - r, t.top)
                }
            },
            flip: {
                left: function(t, e) {
                    var i, s, n = e.within,
                        o = n.offset.left + n.scrollLeft,
                        a = n.width,
                        h = n.isWindow ? n.scrollLeft : n.offset.left,
                        l = t.left - e.collisionPosition.marginLeft,
                        c = l - h,
                        u = l + e.collisionWidth - a - h,
                        d = "left" === e.my[0] ? -e.elemWidth : "right" === e.my[0] ? e.elemWidth : 0,
                        p = "left" === e.at[0] ? e.targetWidth : "right" === e.at[0] ? -e.targetWidth : 0,
                        f = -2 * e.offset[0];
                    c < 0 ? (i = t.left + d + p + f + e.collisionWidth - a - o, (i < 0 || i < r(c)) && (t.left += d + p + f)) : u > 0 && (s = t.left - e.collisionPosition.marginLeft + d + p + f - h, (s > 0 || r(s) < u) && (t.left += d + p + f))
                },
                top: function(t, e) {
                    var i, s, n = e.within,
                        o = n.offset.top + n.scrollTop,
                        a = n.height,
                        h = n.isWindow ? n.scrollTop : n.offset.top,
                        l = t.top - e.collisionPosition.marginTop,
                        c = l - h,
                        u = l + e.collisionHeight - a - h,
                        d = "top" === e.my[1],
                        p = d ? -e.elemHeight : "bottom" === e.my[1] ? e.elemHeight : 0,
                        f = "top" === e.at[1] ? e.targetHeight : "bottom" === e.at[1] ? -e.targetHeight : 0,
                        g = -2 * e.offset[1];
                    c < 0 ? (s = t.top + p + f + g + e.collisionHeight - a - o, t.top + p + f + g > c && (s < 0 || s < r(c)) && (t.top += p + f + g)) : u > 0 && (i = t.top - e.collisionPosition.marginTop + p + f + g - h, t.top + p + f + g > u && (i > 0 || r(i) < u) && (t.top += p + f + g))
                }
            },
            flipfit: {
                left: function() {
                    t.ui.position.flip.left.apply(this, arguments), t.ui.position.fit.left.apply(this, arguments)
                },
                top: function() {
                    t.ui.position.flip.top.apply(this, arguments), t.ui.position.fit.top.apply(this, arguments)
                }
            }
        },
        function() {
            var e, i, s, n, o, a = document.getElementsByTagName("body")[0],
                r = document.createElement("div");
            e = document.createElement(a ? "div" : "body"), s = {
                visibility: "hidden",
                width: 0,
                height: 0,
                border: 0,
                margin: 0,
                background: "none"
            }, a && t.extend(s, {
                position: "absolute",
                left: "-1000px",
                top: "-1000px"
            });
            for (o in s) e.style[o] = s[o];
            e.appendChild(r), i = a || document.documentElement, i.insertBefore(e, i.firstChild),
                r.style.cssText = "position: absolute; left: 10.7432222px;", n = t(r).offset().left, t.support.offsetFractions = n > 10 && n < 11, e.innerHTML = "", i.removeChild(e)
        }()
}(jQuery),
function(t, e) {
    t.widget("ui.progressbar", {
        version: "1.10.4",
        options: {
            max: 100,
            value: 0,
            change: null,
            complete: null
        },
        min: 0,
        _create: function() {
            this.oldValue = this.options.value = this._constrainedValue(), this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({
                role: "progressbar",
                "aria-valuemin": this.min
            }), this.valueDiv = t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element), this._refreshValue()
        },
        _destroy: function() {
            this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"), this.valueDiv.remove()
        },
        value: function(t) {
            return t === e ? this.options.value : (this.options.value = this._constrainedValue(t), void this._refreshValue())
        },
        _constrainedValue: function(t) {
            return t === e && (t = this.options.value), this.indeterminate = t === !1, "number" != typeof t && (t = 0), !this.indeterminate && Math.min(this.options.max, Math.max(this.min, t))
        },
        _setOptions: function(t) {
            var e = t.value;
            delete t.value, this._super(t), this.options.value = this._constrainedValue(e), this._refreshValue()
        },
        _setOption: function(t, e) {
            "max" === t && (e = Math.max(this.min, e)), this._super(t, e)
        },
        _percentage: function() {
            return this.indeterminate ? 100 : 100 * (this.options.value - this.min) / (this.options.max - this.min)
        },
        _refreshValue: function() {
            var e = this.options.value,
                i = this._percentage();
            this.valueDiv.toggle(this.indeterminate || e > this.min).toggleClass("ui-corner-right", e === this.options.max).width(i.toFixed(0) + "%"), this.element.toggleClass("ui-progressbar-indeterminate", this.indeterminate), this.indeterminate ? (this.element.removeAttr("aria-valuenow"), this.overlayDiv || (this.overlayDiv = t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))) : (this.element.attr({
                "aria-valuemax": this.options.max,
                "aria-valuenow": e
            }), this.overlayDiv && (this.overlayDiv.remove(), this.overlayDiv = null)), this.oldValue !== e && (this.oldValue = e, this._trigger("change")), e === this.options.max && this._trigger("complete")
        }
    })
}(jQuery),
function(t, e) {
    var i = 5;
    t.widget("ui.slider", t.ui.mouse, {
        version: "1.10.4",
        widgetEventPrefix: "slide",
        options: {
            animate: !1,
            distance: 0,
            max: 100,
            min: 0,
            orientation: "horizontal",
            range: !1,
            step: 1,
            value: 0,
            values: null,
            change: null,
            slide: null,
            start: null,
            stop: null
        },
        _create: function() {
            this._keySliding = !1, this._mouseSliding = !1, this._animateOff = !0, this._handleIndex = null, this._detectOrientation(), this._mouseInit(), this.element.addClass("ui-slider ui-slider-" + this.orientation + " ui-widget ui-widget-content ui-corner-all"), this._refresh(), this._setOption("disabled", this.options.disabled), this._animateOff = !1
        },
        _refresh: function() {
            this._createRange(), this._createHandles(), this._setupEvents(), this._refreshValue()
        },
        _createHandles: function() {
            var e, i, s = this.options,
                n = this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),
                o = "<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",
                a = [];
            for (i = s.values && s.values.length || 1, n.length > i && (n.slice(i).remove(), n = n.slice(0, i)), e = n.length; e < i; e++) a.push(o);
            this.handles = n.add(t(a.join("")).appendTo(this.element)), this.handle = this.handles.eq(0), this.handles.each(function(e) {
                t(this).data("ui-slider-handle-index", e)
            })
        },
        _createRange: function() {
            var e = this.options,
                i = "";
            e.range ? (e.range === !0 && (e.values ? e.values.length && 2 !== e.values.length ? e.values = [e.values[0], e.values[0]] : t.isArray(e.values) && (e.values = e.values.slice(0)) : e.values = [this._valueMin(), this._valueMin()]), this.range && this.range.length ? this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({
                left: "",
                bottom: ""
            }) : (this.range = t("<div></div>").appendTo(this.element), i = "ui-slider-range ui-widget-header ui-corner-all"), this.range.addClass(i + ("min" === e.range || "max" === e.range ? " ui-slider-range-" + e.range : ""))) : (this.range && this.range.remove(), this.range = null)
        },
        _setupEvents: function() {
            var t = this.handles.add(this.range).filter("a");
            this._off(t), this._on(t, this._handleEvents), this._hoverable(t), this._focusable(t)
        },
        _destroy: function() {
            this.handles.remove(), this.range && this.range.remove(), this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"), this._mouseDestroy()
        },
        _mouseCapture: function(e) {
            var i, s, n, o, a, r, h, l, c = this,
                u = this.options;
            return !u.disabled && (this.elementSize = {
                width: this.element.outerWidth(),
                height: this.element.outerHeight()
            }, this.elementOffset = this.element.offset(), i = {
                x: e.pageX,
                y: e.pageY
            }, s = this._normValueFromMouse(i), n = this._valueMax() - this._valueMin() + 1, this.handles.each(function(e) {
                var i = Math.abs(s - c.values(e));
                (n > i || n === i && (e === c._lastChangedValue || c.values(e) === u.min)) && (n = i, o = t(this), a = e)
            }), r = this._start(e, a), r !== !1 && (this._mouseSliding = !0, this._handleIndex = a, o.addClass("ui-state-active").focus(), h = o.offset(), l = !t(e.target).parents().addBack().is(".ui-slider-handle"), this._clickOffset = l ? {
                left: 0,
                top: 0
            } : {
                left: e.pageX - h.left - o.width() / 2,
                top: e.pageY - h.top - o.height() / 2 - (parseInt(o.css("borderTopWidth"), 10) || 0) - (parseInt(o.css("borderBottomWidth"), 10) || 0) + (parseInt(o.css("marginTop"), 10) || 0)
            }, this.handles.hasClass("ui-state-hover") || this._slide(e, a, s), this._animateOff = !0, !0))
        },
        _mouseStart: function() {
            return !0
        },
        _mouseDrag: function(t) {
            var e = {
                    x: t.pageX,
                    y: t.pageY
                },
                i = this._normValueFromMouse(e);
            return this._slide(t, this._handleIndex, i), !1
        },
        _mouseStop: function(t) {
            return this.handles.removeClass("ui-state-active"), this._mouseSliding = !1, this._stop(t, this._handleIndex), this._change(t, this._handleIndex), this._handleIndex = null, this._clickOffset = null, this._animateOff = !1, !1
        },
        _detectOrientation: function() {
            this.orientation = "vertical" === this.options.orientation ? "vertical" : "horizontal"
        },
        _normValueFromMouse: function(t) {
            var e, i, s, n, o;
            return "horizontal" === this.orientation ? (e = this.elementSize.width, i = t.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (e = this.elementSize.height, i = t.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)), s = i / e, s > 1 && (s = 1), s < 0 && (s = 0), "vertical" === this.orientation && (s = 1 - s), n = this._valueMax() - this._valueMin(), o = this._valueMin() + s * n, this._trimAlignValue(o)
        },
        _start: function(t, e) {
            var i = {
                handle: this.handles[e],
                value: this.value()
            };
            return this.options.values && this.options.values.length && (i.value = this.values(e), i.values = this.values()), this._trigger("start", t, i)
        },
        _slide: function(t, e, i) {
            var s, n, o;
            this.options.values && this.options.values.length ? (s = this.values(e ? 0 : 1), 2 === this.options.values.length && this.options.range === !0 && (0 === e && i > s || 1 === e && i < s) && (i = s), i !== this.values(e) && (n = this.values(), n[e] = i, o = this._trigger("slide", t, {
                handle: this.handles[e],
                value: i,
                values: n
            }), s = this.values(e ? 0 : 1), o !== !1 && this.values(e, i))) : i !== this.value() && (o = this._trigger("slide", t, {
                handle: this.handles[e],
                value: i
            }), o !== !1 && this.value(i))
        },
        _stop: function(t, e) {
            var i = {
                handle: this.handles[e],
                value: this.value()
            };
            this.options.values && this.options.values.length && (i.value = this.values(e), i.values = this.values()), this._trigger("stop", t, i)
        },
        _change: function(t, e) {
            if (!this._keySliding && !this._mouseSliding) {
                var i = {
                    handle: this.handles[e],
                    value: this.value()
                };
                this.options.values && this.options.values.length && (i.value = this.values(e), i.values = this.values()), this._lastChangedValue = e, this._trigger("change", t, i)
            }
        },
        value: function(t) {
            return arguments.length ? (this.options.value = this._trimAlignValue(t), this._refreshValue(), void this._change(null, 0)) : this._value()
        },
        values: function(e, i) {
            var s, n, o;
            if (arguments.length > 1) return this.options.values[e] = this._trimAlignValue(i), this._refreshValue(), void this._change(null, e);
            if (!arguments.length) return this._values();
            if (!t.isArray(arguments[0])) return this.options.values && this.options.values.length ? this._values(e) : this.value();
            for (s = this.options.values, n = arguments[0], o = 0; o < s.length; o += 1) s[o] = this._trimAlignValue(n[o]), this._change(null, o);
            this._refreshValue()
        },
        _setOption: function(e, i) {
            var s, n = 0;
            switch ("range" === e && this.options.range === !0 && ("min" === i ? (this.options.value = this._values(0), this.options.values = null) : "max" === i && (this.options.value = this._values(this.options.values.length - 1), this.options.values = null)), t.isArray(this.options.values) && (n = this.options.values.length), t.Widget.prototype._setOption.apply(this, arguments), e) {
                case "orientation":
                    this._detectOrientation(), this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-" + this.orientation), this._refreshValue();
                    break;
                case "value":
                    this._animateOff = !0, this._refreshValue(), this._change(null, 0), this._animateOff = !1;
                    break;
                case "values":
                    for (this._animateOff = !0, this._refreshValue(), s = 0; s < n; s += 1) this._change(null, s);
                    this._animateOff = !1;
                    break;
                case "min":
                case "max":
                    this._animateOff = !0, this._refreshValue(), this._animateOff = !1;
                    break;
                case "range":
                    this._animateOff = !0, this._refresh(), this._animateOff = !1
            }
        },
        _value: function() {
            var t = this.options.value;
            return t = this._trimAlignValue(t)
        },
        _values: function(t) {
            var e, i, s;
            if (arguments.length) return e = this.options.values[t], e = this._trimAlignValue(e);
            if (this.options.values && this.options.values.length) {
                for (i = this.options.values.slice(), s = 0; s < i.length; s += 1) i[s] = this._trimAlignValue(i[s]);
                return i
            }
            return []
        },
        _trimAlignValue: function(t) {
            if (t <= this._valueMin()) return this._valueMin();
            if (t >= this._valueMax()) return this._valueMax();
            var e = this.options.step > 0 ? this.options.step : 1,
                i = (t - this._valueMin()) % e,
                s = t - i;
            return 2 * Math.abs(i) >= e && (s += i > 0 ? e : -e), parseFloat(s.toFixed(5))
        },
        _valueMin: function() {
            return this.options.min
        },
        _valueMax: function() {
            return this.options.max
        },
        _refreshValue: function() {
            var e, i, s, n, o, a = this.options.range,
                r = this.options,
                h = this,
                l = !this._animateOff && r.animate,
                c = {};
            this.options.values && this.options.values.length ? this.handles.each(function(s) {
                i = (h.values(s) - h._valueMin()) / (h._valueMax() - h._valueMin()) * 100, c["horizontal" === h.orientation ? "left" : "bottom"] = i + "%", t(this).stop(1, 1)[l ? "animate" : "css"](c, r.animate), h.options.range === !0 && ("horizontal" === h.orientation ? (0 === s && h.range.stop(1, 1)[l ? "animate" : "css"]({
                    left: i + "%"
                }, r.animate), 1 === s && h.range[l ? "animate" : "css"]({
                    width: i - e + "%"
                }, {
                    queue: !1,
                    duration: r.animate
                })) : (0 === s && h.range.stop(1, 1)[l ? "animate" : "css"]({
                    bottom: i + "%"
                }, r.animate), 1 === s && h.range[l ? "animate" : "css"]({
                    height: i - e + "%"
                }, {
                    queue: !1,
                    duration: r.animate
                }))), e = i
            }) : (s = this.value(), n = this._valueMin(), o = this._valueMax(), i = o !== n ? (s - n) / (o - n) * 100 : 0, c["horizontal" === this.orientation ? "left" : "bottom"] = i + "%", this.handle.stop(1, 1)[l ? "animate" : "css"](c, r.animate), "min" === a && "horizontal" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({
                width: i + "%"
            }, r.animate), "max" === a && "horizontal" === this.orientation && this.range[l ? "animate" : "css"]({
                width: 100 - i + "%"
            }, {
                queue: !1,
                duration: r.animate
            }), "min" === a && "vertical" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({
                height: i + "%"
            }, r.animate), "max" === a && "vertical" === this.orientation && this.range[l ? "animate" : "css"]({
                height: 100 - i + "%"
            }, {
                queue: !1,
                duration: r.animate
            }))
        },
        _handleEvents: {
            keydown: function(e) {
                var s, n, o, a, r = t(e.target).data("ui-slider-handle-index");
                switch (e.keyCode) {
                    case t.ui.keyCode.HOME:
                    case t.ui.keyCode.END:
                    case t.ui.keyCode.PAGE_UP:
                    case t.ui.keyCode.PAGE_DOWN:
                    case t.ui.keyCode.UP:
                    case t.ui.keyCode.RIGHT:
                    case t.ui.keyCode.DOWN:
                    case t.ui.keyCode.LEFT:
                        if (e.preventDefault(), !this._keySliding && (this._keySliding = !0, t(e.target).addClass("ui-state-active"), s = this._start(e, r), s === !1)) return
                }
                switch (a = this.options.step, n = o = this.options.values && this.options.values.length ? this.values(r) : this.value(), e.keyCode) {
                    case t.ui.keyCode.HOME:
                        o = this._valueMin();
                        break;
                    case t.ui.keyCode.END:
                        o = this._valueMax();
                        break;
                    case t.ui.keyCode.PAGE_UP:
                        o = this._trimAlignValue(n + (this._valueMax() - this._valueMin()) / i);
                        break;
                    case t.ui.keyCode.PAGE_DOWN:
                        o = this._trimAlignValue(n - (this._valueMax() - this._valueMin()) / i);
                        break;
                    case t.ui.keyCode.UP:
                    case t.ui.keyCode.RIGHT:
                        if (n === this._valueMax()) return;
                        o = this._trimAlignValue(n + a);
                        break;
                    case t.ui.keyCode.DOWN:
                    case t.ui.keyCode.LEFT:
                        if (n === this._valueMin()) return;
                        o = this._trimAlignValue(n - a)
                }
                this._slide(e, r, o)
            },
            click: function(t) {
                t.preventDefault()
            },
            keyup: function(e) {
                var i = t(e.target).data("ui-slider-handle-index");
                this._keySliding && (this._keySliding = !1, this._stop(e, i), this._change(e, i), t(e.target).removeClass("ui-state-active"))
            }
        }
    })
}(jQuery),
function(t) {
    function e(t) {
        return function() {
            var e = this.element.val();
            t.apply(this, arguments), this._refresh(), e !== this.element.val() && this._trigger("change")
        }
    }
    t.widget("ui.spinner", {
        version: "1.10.4",
        defaultElement: "<input>",
        widgetEventPrefix: "spin",
        options: {
            culture: null,
            icons: {
                down: "ui-icon-triangle-1-s",
                up: "ui-icon-triangle-1-n"
            },
            incremental: !0,
            max: null,
            min: null,
            numberFormat: null,
            page: 10,
            step: 1,
            change: null,
            spin: null,
            start: null,
            stop: null
        },
        _create: function() {
            this._setOption("max", this.options.max), this._setOption("min", this.options.min), this._setOption("step", this.options.step), "" !== this.value() && this._value(this.element.val(), !0), this._draw(), this._on(this._events), this._refresh(), this._on(this.window, {
                beforeunload: function() {
                    this.element.removeAttr("autocomplete")
                }
            })
        },
        _getCreateOptions: function() {
            var e = {},
                i = this.element;
            return t.each(["min", "max", "step"], function(t, s) {
                var n = i.attr(s);
                void 0 !== n && n.length && (e[s] = n)
            }), e
        },
        _events: {
            keydown: function(t) {
                this._start(t) && this._keydown(t) && t.preventDefault()
            },
            keyup: "_stop",
            focus: function() {
                this.previous = this.element.val()
            },
            blur: function(t) {
                return this.cancelBlur ? void delete this.cancelBlur : (this._stop(), this._refresh(), void(this.previous !== this.element.val() && this._trigger("change", t)))
            },
            mousewheel: function(t, e) {
                if (e) {
                    if (!this.spinning && !this._start(t)) return !1;
                    this._spin((e > 0 ? 1 : -1) * this.options.step, t), clearTimeout(this.mousewheelTimer), this.mousewheelTimer = this._delay(function() {
                        this.spinning && this._stop(t)
                    }, 100), t.preventDefault()
                }
            },
            "mousedown .ui-spinner-button": function(e) {
                function i() {
                    var t = this.element[0] === this.document[0].activeElement;
                    t || (this.element.focus(), this.previous = s, this._delay(function() {
                        this.previous = s
                    }))
                }
                var s;
                s = this.element[0] === this.document[0].activeElement ? this.previous : this.element.val(), e.preventDefault(), i.call(this), this.cancelBlur = !0, this._delay(function() {
                    delete this.cancelBlur, i.call(this)
                }), this._start(e) !== !1 && this._repeat(null, t(e.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, e)
            },
            "mouseup .ui-spinner-button": "_stop",
            "mouseenter .ui-spinner-button": function(e) {
                if (t(e.currentTarget).hasClass("ui-state-active")) return this._start(e) !== !1 && void this._repeat(null, t(e.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, e)
            },
            "mouseleave .ui-spinner-button": "_stop"
        },
        _draw: function() {
            var t = this.uiSpinner = this.element.addClass("ui-spinner-input").attr("autocomplete", "off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());
            this.element.attr("role", "spinbutton"), this.buttons = t.find(".ui-spinner-button").attr("tabIndex", -1).button().removeClass("ui-corner-all"), this.buttons.height() > Math.ceil(.5 * t.height()) && t.height() > 0 && t.height(t.height()), this.options.disabled && this.disable()
        },
        _keydown: function(e) {
            var i = this.options,
                s = t.ui.keyCode;
            switch (e.keyCode) {
                case s.UP:
                    return this._repeat(null, 1, e), !0;
                case s.DOWN:
                    return this._repeat(null, -1, e), !0;
                case s.PAGE_UP:
                    return this._repeat(null, i.page, e), !0;
                case s.PAGE_DOWN:
                    return this._repeat(null, -i.page, e), !0
            }
            return !1
        },
        _uiSpinnerHtml: function() {
            return "<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"
        },
        _buttonHtml: function() {
            return "<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon " + this.options.icons.up + "'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon " + this.options.icons.down + "'>&#9660;</span></a>"
        },
        _start: function(t) {
            return !(!this.spinning && this._trigger("start", t) === !1) && (this.counter || (this.counter = 1), this.spinning = !0, !0)
        },
        _repeat: function(t, e, i) {
            t = t || 500, clearTimeout(this.timer), this.timer = this._delay(function() {
                this._repeat(40, e, i)
            }, t), this._spin(e * this.options.step, i)
        },
        _spin: function(t, e) {
            var i = this.value() || 0;
            this.counter || (this.counter = 1), i = this._adjustValue(i + t * this._increment(this.counter)), this.spinning && this._trigger("spin", e, {
                value: i
            }) === !1 || (this._value(i), this.counter++)
        },
        _increment: function(e) {
            var i = this.options.incremental;
            return i ? t.isFunction(i) ? i(e) : Math.floor(e * e * e / 5e4 - e * e / 500 + 17 * e / 200 + 1) : 1
        },
        _precision: function() {
            var t = this._precisionOf(this.options.step);
            return null !== this.options.min && (t = Math.max(t, this._precisionOf(this.options.min))), t
        },
        _precisionOf: function(t) {
            var e = t.toString(),
                i = e.indexOf(".");
            return i === -1 ? 0 : e.length - i - 1
        },
        _adjustValue: function(t) {
            var e, i, s = this.options;
            return e = null !== s.min ? s.min : 0, i = t - e, i = Math.round(i / s.step) * s.step, t = e + i, t = parseFloat(t.toFixed(this._precision())), null !== s.max && t > s.max ? s.max : null !== s.min && t < s.min ? s.min : t
        },
        _stop: function(t) {
            this.spinning && (clearTimeout(this.timer), clearTimeout(this.mousewheelTimer), this.counter = 0, this.spinning = !1, this._trigger("stop", t))
        },
        _setOption: function(t, e) {
            if ("culture" === t || "numberFormat" === t) {
                var i = this._parse(this.element.val());
                return this.options[t] = e, void this.element.val(this._format(i))
            }
            "max" !== t && "min" !== t && "step" !== t || "string" == typeof e && (e = this._parse(e)), "icons" === t && (this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up), this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)), this._super(t, e), "disabled" === t && (e ? (this.element.prop("disabled", !0), this.buttons.button("disable")) : (this.element.prop("disabled", !1), this.buttons.button("enable")))
        },
        _setOptions: e(function(t) {
            this._super(t), this._value(this.element.val())
        }),
        _parse: function(t) {
            return "string" == typeof t && "" !== t && (t = window.Globalize && this.options.numberFormat ? Globalize.parseFloat(t, 10, this.options.culture) : +t), "" === t || isNaN(t) ? null : t
        },
        _format: function(t) {
            return "" === t ? "" : window.Globalize && this.options.numberFormat ? Globalize.format(t, this.options.numberFormat, this.options.culture) : t
        },
        _refresh: function() {
            this.element.attr({
                "aria-valuemin": this.options.min,
                "aria-valuemax": this.options.max,
                "aria-valuenow": this._parse(this.element.val())
            })
        },
        _value: function(t, e) {
            var i;
            "" !== t && (i = this._parse(t), null !== i && (e || (i = this._adjustValue(i)), t = this._format(i))), this.element.val(t), this._refresh()
        },
        _destroy: function() {
            this.element.removeClass("ui-spinner-input").prop("disabled", !1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"), this.uiSpinner.replaceWith(this.element)
        },
        stepUp: e(function(t) {
            this._stepUp(t)
        }),
        _stepUp: function(t) {
            this._start() && (this._spin((t || 1) * this.options.step), this._stop())
        },
        stepDown: e(function(t) {
            this._stepDown(t)
        }),
        _stepDown: function(t) {
            this._start() && (this._spin((t || 1) * -this.options.step), this._stop())
        },
        pageUp: e(function(t) {
            this._stepUp((t || 1) * this.options.page)
        }),
        pageDown: e(function(t) {
            this._stepDown((t || 1) * this.options.page)
        }),
        value: function(t) {
            return arguments.length ? void e(this._value).call(this, t) : this._parse(this.element.val())
        },
        widget: function() {
            return this.uiSpinner
        }
    })
}(jQuery),
function(t, e) {
    function i() {
        return ++n
    }

    function s(t) {
        return t = t.cloneNode(!1), t.hash.length > 1 && decodeURIComponent(t.href.replace(o, "")) === decodeURIComponent(location.href.replace(o, ""))
    }
    var n = 0,
        o = /#.*$/;
    t.widget("ui.tabs", {
        version: "1.10.4",
        delay: 300,
        options: {
            active: null,
            collapsible: !1,
            event: "click",
            heightStyle: "content",
            hide: null,
            show: null,
            activate: null,
            beforeActivate: null,
            beforeLoad: null,
            load: null
        },
        _create: function() {
            var e = this,
                i = this.options;
            this.running = !1, this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible", i.collapsible).delegate(".ui-tabs-nav > li", "mousedown" + this.eventNamespace, function(e) {
                t(this).is(".ui-state-disabled") && e.preventDefault()
            }).delegate(".ui-tabs-anchor", "focus" + this.eventNamespace, function() {
                t(this).closest("li").is(".ui-state-disabled") && this.blur()
            }), this._processTabs(), i.active = this._initialActive(), t.isArray(i.disabled) && (i.disabled = t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"), function(t) {
                return e.tabs.index(t)
            }))).sort()), this.options.active !== !1 && this.anchors.length ? this.active = this._findActive(i.active) : this.active = t(), this._refresh(), this.active.length && this.load(i.active)
        },
        _initialActive: function() {
            var e = this.options.active,
                i = this.options.collapsible,
                s = location.hash.substring(1);
            return null === e && (s && this.tabs.each(function(i, n) {
                if (t(n).attr("aria-controls") === s) return e = i, !1
            }), null === e && (e = this.tabs.index(this.tabs.filter(".ui-tabs-active"))), null !== e && e !== -1 || (e = !!this.tabs.length && 0)), e !== !1 && (e = this.tabs.index(this.tabs.eq(e)), e === -1 && (e = !i && 0)), !i && e === !1 && this.anchors.length && (e = 0), e
        },
        _getCreateEventData: function() {
            return {
                tab: this.active,
                panel: this.active.length ? this._getPanelForTab(this.active) : t()
            }
        },
        _tabKeydown: function(e) {
            var i = t(this.document[0].activeElement).closest("li"),
                s = this.tabs.index(i),
                n = !0;
            if (!this._handlePageNav(e)) {
                switch (e.keyCode) {
                    case t.ui.keyCode.RIGHT:
                    case t.ui.keyCode.DOWN:
                        s++;
                        break;
                    case t.ui.keyCode.UP:
                    case t.ui.keyCode.LEFT:
                        n = !1, s--;
                        break;
                    case t.ui.keyCode.END:
                        s = this.anchors.length - 1;
                        break;
                    case t.ui.keyCode.HOME:
                        s = 0;
                        break;
                    case t.ui.keyCode.SPACE:
                        return e.preventDefault(), clearTimeout(this.activating), void this._activate(s);
                    case t.ui.keyCode.ENTER:
                        return e.preventDefault(), clearTimeout(this.activating), void this._activate(s !== this.options.active && s);
                    default:
                        return
                }
                e.preventDefault(), clearTimeout(this.activating), s = this._focusNextTab(s, n), e.ctrlKey || (i.attr("aria-selected", "false"), this.tabs.eq(s).attr("aria-selected", "true"), this.activating = this._delay(function() {
                    this.option("active", s)
                }, this.delay))
            }
        },
        _panelKeydown: function(e) {
            this._handlePageNav(e) || e.ctrlKey && e.keyCode === t.ui.keyCode.UP && (e.preventDefault(), this.active.focus())
        },
        _handlePageNav: function(e) {
            return e.altKey && e.keyCode === t.ui.keyCode.PAGE_UP ? (this._activate(this._focusNextTab(this.options.active - 1, !1)), !0) : e.altKey && e.keyCode === t.ui.keyCode.PAGE_DOWN ? (this._activate(this._focusNextTab(this.options.active + 1, !0)), !0) : void 0
        },
        _findNextTab: function(e, i) {
            function s() {
                return e > n && (e = 0), e < 0 && (e = n), e
            }
            for (var n = this.tabs.length - 1; t.inArray(s(), this.options.disabled) !== -1;) e = i ? e + 1 : e - 1;
            return e
        },
        _focusNextTab: function(t, e) {
            return t = this._findNextTab(t, e), this.tabs.eq(t).focus(), t
        },
        _setOption: function(t, e) {
            return "active" === t ? void this._activate(e) : "disabled" === t ? void this._setupDisabled(e) : (this._super(t, e), "collapsible" === t && (this.element.toggleClass("ui-tabs-collapsible", e), e || this.options.active !== !1 || this._activate(0)), "event" === t && this._setupEvents(e), void("heightStyle" === t && this._setupHeightStyle(e)))
        },
        _tabId: function(t) {
            return t.attr("aria-controls") || "ui-tabs-" + i()
        },
        _sanitizeSelector: function(t) {
            return t ? t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : ""
        },
        refresh: function() {
            var e = this.options,
                i = this.tablist.children(":has(a[href])");
            e.disabled = t.map(i.filter(".ui-state-disabled"), function(t) {
                return i.index(t)
            }), this._processTabs(), e.active !== !1 && this.anchors.length ? this.active.length && !t.contains(this.tablist[0], this.active[0]) ? this.tabs.length === e.disabled.length ? (e.active = !1, this.active = t()) : this._activate(this._findNextTab(Math.max(0, e.active - 1), !1)) : e.active = this.tabs.index(this.active) : (e.active = !1, this.active = t()), this._refresh()
        },
        _refresh: function() {
            this._setupDisabled(this.options.disabled), this._setupEvents(this.options.event), this._setupHeightStyle(this.options.heightStyle), this.tabs.not(this.active).attr({
                "aria-selected": "false",
                tabIndex: -1
            }), this.panels.not(this._getPanelForTab(this.active)).hide().attr({
                "aria-expanded": "false",
                "aria-hidden": "true"
            }), this.active.length ? (this.active.addClass("ui-tabs-active ui-state-active").attr({
                "aria-selected": "true",
                tabIndex: 0
            }), this._getPanelForTab(this.active).show().attr({
                "aria-expanded": "true",
                "aria-hidden": "false"
            })) : this.tabs.eq(0).attr("tabIndex", 0)
        },
        _processTabs: function() {
            var e = this;
            this.tablist = this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role", "tablist"), this.tabs = this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({
                role: "tab",
                tabIndex: -1
            }), this.anchors = this.tabs.map(function() {
                return t("a", this)[0]
            }).addClass("ui-tabs-anchor").attr({
                role: "presentation",
                tabIndex: -1
            }), this.panels = t(), this.anchors.each(function(i, n) {
                var o, a, r, h = t(n).uniqueId().attr("id"),
                    l = t(n).closest("li"),
                    c = l.attr("aria-controls");
                s(n) ? (o = n.hash, a = e.element.find(e._sanitizeSelector(o))) : (r = e._tabId(l), o = "#" + r, a = e.element.find(o), a.length || (a = e._createPanel(r), a.insertAfter(e.panels[i - 1] || e.tablist)), a.attr("aria-live", "polite")), a.length && (e.panels = e.panels.add(a)), c && l.data("ui-tabs-aria-controls", c), l.attr({
                    "aria-controls": o.substring(1),
                    "aria-labelledby": h
                }), a.attr("aria-labelledby", h)
            }), this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role", "tabpanel")
        },
        _getList: function() {
            return this.tablist || this.element.find("ol,ul").eq(0)
        },
        _createPanel: function(e) {
            return t("<div>").attr("id", e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy", !0)
        },
        _setupDisabled: function(e) {
            t.isArray(e) && (e.length ? e.length === this.anchors.length && (e = !0) : e = !1);
            for (var i, s = 0; i = this.tabs[s]; s++) e === !0 || t.inArray(s, e) !== -1 ? t(i).addClass("ui-state-disabled").attr("aria-disabled", "true") : t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");
            this.options.disabled = e
        },
        _setupEvents: function(e) {
            var i = {
                click: function(t) {
                    t.preventDefault()
                }
            };
            e && t.each(e.split(" "), function(t, e) {
                i[e] = "_eventHandler"
            }), this._off(this.anchors.add(this.tabs).add(this.panels)), this._on(this.anchors, i), this._on(this.tabs, {
                keydown: "_tabKeydown"
            }), this._on(this.panels, {
                keydown: "_panelKeydown"
            }), this._focusable(this.tabs), this._hoverable(this.tabs)
        },
        _setupHeightStyle: function(e) {
            var i, s = this.element.parent();
            "fill" === e ? (i = s.height(), i -= this.element.outerHeight() - this.element.height(), this.element.siblings(":visible").each(function() {
                var e = t(this),
                    s = e.css("position");
                "absolute" !== s && "fixed" !== s && (i -= e.outerHeight(!0))
            }), this.element.children().not(this.panels).each(function() {
                i -= t(this).outerHeight(!0)
            }), this.panels.each(function() {
                t(this).height(Math.max(0, i - t(this).innerHeight() + t(this).height()))
            }).css("overflow", "auto")) : "auto" === e && (i = 0, this.panels.each(function() {
                i = Math.max(i, t(this).height("").height())
            }).height(i))
        },
        _eventHandler: function(e) {
            var i = this.options,
                s = this.active,
                n = t(e.currentTarget),
                o = n.closest("li"),
                a = o[0] === s[0],
                r = a && i.collapsible,
                h = r ? t() : this._getPanelForTab(o),
                l = s.length ? this._getPanelForTab(s) : t(),
                c = {
                    oldTab: s,
                    oldPanel: l,
                    newTab: r ? t() : o,
                    newPanel: h
                };
            e.preventDefault(), o.hasClass("ui-state-disabled") || o.hasClass("ui-tabs-loading") || this.running || a && !i.collapsible || this._trigger("beforeActivate", e, c) === !1 || (i.active = !r && this.tabs.index(o), this.active = a ? t() : o, this.xhr && this.xhr.abort(), l.length || h.length || t.error("jQuery UI Tabs: Mismatching fragment identifier."), h.length && this.load(this.tabs.index(o), e), this._toggle(e, c))
        },
        _toggle: function(e, i) {
            function s() {
                o.running = !1, o._trigger("activate", e, i)
            }

            function n() {
                i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"), a.length && o.options.show ? o._show(a, o.options.show, s) : (a.show(), s())
            }
            var o = this,
                a = i.newPanel,
                r = i.oldPanel;
            this.running = !0, r.length && this.options.hide ? this._hide(r, this.options.hide, function() {
                i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"), n()
            }) : (i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"), r.hide(), n()), r.attr({
                "aria-expanded": "false",
                "aria-hidden": "true"
            }), i.oldTab.attr("aria-selected", "false"), a.length && r.length ? i.oldTab.attr("tabIndex", -1) : a.length && this.tabs.filter(function() {
                return 0 === t(this).attr("tabIndex")
            }).attr("tabIndex", -1), a.attr({
                "aria-expanded": "true",
                "aria-hidden": "false"
            }), i.newTab.attr({
                "aria-selected": "true",
                tabIndex: 0
            })
        },
        _activate: function(e) {
            var i, s = this._findActive(e);
            s[0] !== this.active[0] && (s.length || (s = this.active), i = s.find(".ui-tabs-anchor")[0], this._eventHandler({
                target: i,
                currentTarget: i,
                preventDefault: t.noop
            }))
        },
        _findActive: function(e) {
            return e === !1 ? t() : this.tabs.eq(e)
        },
        _getIndex: function(t) {
            return "string" == typeof t && (t = this.anchors.index(this.anchors.filter("[href$='" + t + "']"))), t
        },
        _destroy: function() {
            this.xhr && this.xhr.abort(), this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"), this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"), this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(), this.tabs.add(this.panels).each(function() {
                t.data(this, "ui-tabs-destroy") ? t(this).remove() : t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")
            }), this.tabs.each(function() {
                var e = t(this),
                    i = e.data("ui-tabs-aria-controls");
                i ? e.attr("aria-controls", i).removeData("ui-tabs-aria-controls") : e.removeAttr("aria-controls")
            }), this.panels.show(), "content" !== this.options.heightStyle && this.panels.css("height", "")
        },
        enable: function(i) {
            var s = this.options.disabled;
            s !== !1 && (i === e ? s = !1 : (i = this._getIndex(i), s = t.isArray(s) ? t.map(s, function(t) {
                return t !== i ? t : null
            }) : t.map(this.tabs, function(t, e) {
                return e !== i ? e : null
            })), this._setupDisabled(s))
        },
        disable: function(i) {
            var s = this.options.disabled;
            if (s !== !0) {
                if (i === e) s = !0;
                else {
                    if (i = this._getIndex(i), t.inArray(i, s) !== -1) return;
                    s = t.isArray(s) ? t.merge([i], s).sort() : [i]
                }
                this._setupDisabled(s)
            }
        },
        load: function(e, i) {
            e = this._getIndex(e);
            var n = this,
                o = this.tabs.eq(e),
                a = o.find(".ui-tabs-anchor"),
                r = this._getPanelForTab(o),
                h = {
                    tab: o,
                    panel: r
                };
            s(a[0]) || (this.xhr = t.ajax(this._ajaxSettings(a, i, h)), this.xhr && "canceled" !== this.xhr.statusText && (o.addClass("ui-tabs-loading"), r.attr("aria-busy", "true"), this.xhr.success(function(t) {
                setTimeout(function() {
                    r.html(t), n._trigger("load", i, h)
                }, 1)
            }).complete(function(t, e) {
                setTimeout(function() {
                    "abort" === e && n.panels.stop(!1, !0), o.removeClass("ui-tabs-loading"), r.removeAttr("aria-busy"), t === n.xhr && delete n.xhr
                }, 1)
            })))
        },
        _ajaxSettings: function(e, i, s) {
            var n = this;
            return {
                url: e.attr("href"),
                beforeSend: function(e, o) {
                    return n._trigger("beforeLoad", i, t.extend({
                        jqXHR: e,
                        ajaxSettings: o
                    }, s))
                }
            }
        },
        _getPanelForTab: function(e) {
            var i = t(e).attr("aria-controls");
            return this.element.find(this._sanitizeSelector("#" + i))
        }
    })
}(jQuery),
function(t) {
    function e(e, i) {
        var s = (e.attr("aria-describedby") || "").split(/\s+/);
        s.push(i), e.data("ui-tooltip-id", i).attr("aria-describedby", t.trim(s.join(" ")))
    }

    function i(e) {
        var i = e.data("ui-tooltip-id"),
            s = (e.attr("aria-describedby") || "").split(/\s+/),
            n = t.inArray(i, s);
        n !== -1 && s.splice(n, 1), e.removeData("ui-tooltip-id"), s = t.trim(s.join(" ")), s ? e.attr("aria-describedby", s) : e.removeAttr("aria-describedby")
    }
    var s = 0;
    t.widget("ui.tooltip", {
        version: "1.10.4",
        options: {
            content: function() {
                var e = t(this).attr("title") || "";
                return t("<a>").text(e).html()
            },
            hide: !0,
            items: "[title]:not([disabled])",
            position: {
                my: "left top+15",
                at: "left bottom",
                collision: "flipfit flip"
            },
            show: !0,
            tooltipClass: null,
            track: !1,
            close: null,
            open: null
        },
        _create: function() {
            this._on({
                mouseover: "open",
                focusin: "open"
            }), this.tooltips = {}, this.parents = {}, this.options.disabled && this._disable()
        },
        _setOption: function(e, i) {
            var s = this;
            return "disabled" === e ? (this[i ? "_disable" : "_enable"](), void(this.options[e] = i)) : (this._super(e, i), void("content" === e && t.each(this.tooltips, function(t, e) {
                s._updateContent(e)
            })))
        },
        _disable: function() {
            var e = this;
            t.each(this.tooltips, function(i, s) {
                var n = t.Event("blur");
                n.target = n.currentTarget = s[0], e.close(n, !0)
            }), this.element.find(this.options.items).addBack().each(function() {
                var e = t(this);
                e.is("[title]") && e.data("ui-tooltip-title", e.attr("title")).attr("title", "")
            })
        },
        _enable: function() {
            this.element.find(this.options.items).addBack().each(function() {
                var e = t(this);
                e.data("ui-tooltip-title") && e.attr("title", e.data("ui-tooltip-title"));
            })
        },
        open: function(e) {
            var i = this,
                s = t(e ? e.target : this.element).closest(this.options.items);
            s.length && !s.data("ui-tooltip-id") && (s.attr("title") && s.data("ui-tooltip-title", s.attr("title")), s.data("ui-tooltip-open", !0), e && "mouseover" === e.type && s.parents().each(function() {
                var e, s = t(this);
                s.data("ui-tooltip-open") && (e = t.Event("blur"), e.target = e.currentTarget = this, i.close(e, !0)), s.attr("title") && (s.uniqueId(), i.parents[this.id] = {
                    element: this,
                    title: s.attr("title")
                }, s.attr("title", ""))
            }), this._updateContent(s, e))
        },
        _updateContent: function(t, e) {
            var i, s = this.options.content,
                n = this,
                o = e ? e.type : null;
            return "string" == typeof s ? this._open(e, t, s) : (i = s.call(t[0], function(i) {
                t.data("ui-tooltip-open") && n._delay(function() {
                    e && (e.type = o), this._open(e, t, i)
                })
            }), void(i && this._open(e, t, i)))
        },
        _open: function(i, s, n) {
            function o(t) {
                l.of = t, a.is(":hidden") || a.position(l)
            }
            var a, r, h, l = t.extend({}, this.options.position);
            if (n) {
                if (a = this._find(s), a.length) return void a.find(".ui-tooltip-content").html(n);
                s.is("[title]") && (i && "mouseover" === i.type ? s.attr("title", "") : s.removeAttr("title")), a = this._tooltip(s), e(s, a.attr("id")), a.find(".ui-tooltip-content").html(n), this.options.track && i && /^mouse/.test(i.type) ? (this._on(this.document, {
                    mousemove: o
                }), o(i)) : a.position(t.extend({
                    of: s
                }, this.options.position)), a.hide(), this._show(a, this.options.show), this.options.show && this.options.show.delay && (h = this.delayedShow = setInterval(function() {
                    a.is(":visible") && (o(l.of), clearInterval(h))
                }, t.fx.interval)), this._trigger("open", i, {
                    tooltip: a
                }), r = {
                    keyup: function(e) {
                        if (e.keyCode === t.ui.keyCode.ESCAPE) {
                            var i = t.Event(e);
                            i.currentTarget = s[0], this.close(i, !0)
                        }
                    },
                    remove: function() {
                        this._removeTooltip(a)
                    }
                }, i && "mouseover" !== i.type || (r.mouseleave = "close"), i && "focusin" !== i.type || (r.focusout = "close"), this._on(!0, s, r)
            }
        },
        close: function(e) {
            var s = this,
                n = t(e ? e.currentTarget : this.element),
                o = this._find(n);
            this.closing || (clearInterval(this.delayedShow), n.data("ui-tooltip-title") && n.attr("title", n.data("ui-tooltip-title")), i(n), o.stop(!0), this._hide(o, this.options.hide, function() {
                s._removeTooltip(t(this))
            }), n.removeData("ui-tooltip-open"), this._off(n, "mouseleave focusout keyup"), n[0] !== this.element[0] && this._off(n, "remove"), this._off(this.document, "mousemove"), e && "mouseleave" === e.type && t.each(this.parents, function(e, i) {
                t(i.element).attr("title", i.title), delete s.parents[e]
            }), this.closing = !0, this._trigger("close", e, {
                tooltip: o
            }), this.closing = !1)
        },
        _tooltip: function(e) {
            var i = "ui-tooltip-" + s++,
                n = t("<div>").attr({
                    id: i,
                    role: "tooltip"
                }).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content " + (this.options.tooltipClass || ""));
            return t("<div>").addClass("ui-tooltip-content").appendTo(n), n.appendTo(this.document[0].body), this.tooltips[i] = e, n
        },
        _find: function(e) {
            var i = e.data("ui-tooltip-id");
            return i ? t("#" + i) : t()
        },
        _removeTooltip: function(t) {
            t.remove(), delete this.tooltips[t.attr("id")]
        },
        _destroy: function() {
            var e = this;
            t.each(this.tooltips, function(i, s) {
                var n = t.Event("blur");
                n.target = n.currentTarget = s[0], e.close(n, !0), t("#" + i).remove(), s.data("ui-tooltip-title") && (s.attr("title", s.data("ui-tooltip-title")), s.removeData("ui-tooltip-title"))
            })
        }
    })
}(jQuery);
! function(o) {
    function t(o, t) {
        if (!(o.originalEvent.touches.length > 1)) {
            o.preventDefault();
            var e = o.originalEvent.changedTouches[0],
                u = document.createEvent("MouseEvents");
            u.initMouseEvent(t, !0, !0, window, 1, e.screenX, e.screenY, e.clientX, e.clientY, !1, !1, !1, !1, 0, null), o.target.dispatchEvent(u)
        }
    }
    if (o.support.touch = "ontouchend" in document, o.support.touch) {
        var e, u = o.ui.mouse.prototype,
            n = u._mouseInit,
            c = u._mouseDestroy;
        u._touchStart = function(o) {
            var u = this;
            !e && u._mouseCapture(o.originalEvent.changedTouches[0]) && (e = !0, u._touchMoved = !1, t(o, "mouseover"), t(o, "mousemove"), t(o, "mousedown"))
        }, u._touchMove = function(o) {
            e && (this._touchMoved = !0, t(o, "mousemove"))
        }, u._touchEnd = function(o) {
            e && (t(o, "mouseup"), t(o, "mouseout"), this._touchMoved || t(o, "click"), e = !1)
        }, u._mouseInit = function() {
            var t = this;
            t.element.bind({
                touchstart: o.proxy(t, "_touchStart"),
                touchmove: o.proxy(t, "_touchMove"),
                touchend: o.proxy(t, "_touchEnd")
            }), n.call(t)
        }, u._mouseDestroy = function() {
            var t = this;
            t.element.unbind({
                touchstart: o.proxy(t, "_touchStart"),
                touchmove: o.proxy(t, "_touchMove"),
                touchend: o.proxy(t, "_touchEnd")
            }), c.call(t)
        }
    }
}(jQuery);
(function() {
    function n(n) {
        function t(t, r, e, u, i, o) {
            for (; i >= 0 && i < o; i += n) {
                var a = u ? u[i] : i;
                e = r(e, t[a], a, t)
            }
            return e
        }
        return function(r, e, u, i) {
            e = b(e, i, 4);
            var o = !k(r) && m.keys(r),
                a = (o || r).length,
                c = n > 0 ? 0 : a - 1;
            return arguments.length < 3 && (u = r[o ? o[c] : c], c += n), t(r, e, u, o, c, a)
        }
    }

    function t(n) {
        return function(t, r, e) {
            r = x(r, e);
            for (var u = O(t), i = n > 0 ? 0 : u - 1; i >= 0 && i < u; i += n)
                if (r(t[i], i, t)) return i;
            return -1
        }
    }

    function r(n, t, r) {
        return function(e, u, i) {
            var o = 0,
                a = O(e);
            if ("number" == typeof i) n > 0 ? o = i >= 0 ? i : Math.max(i + a, o) : a = i >= 0 ? Math.min(i + 1, a) : i + a + 1;
            else if (r && i && a) return i = r(e, u), e[i] === u ? i : -1;
            if (u !== u) return i = t(l.call(e, o, a), m.isNaN), i >= 0 ? i + o : -1;
            for (i = n > 0 ? o : a - 1; i >= 0 && i < a; i += n)
                if (e[i] === u) return i;
            return -1
        }
    }

    function e(n, t) {
        var r = I.length,
            e = n.constructor,
            u = m.isFunction(e) && e.prototype || a,
            i = "constructor";
        for (m.has(n, i) && !m.contains(t, i) && t.push(i); r--;) i = I[r], i in n && n[i] !== u[i] && !m.contains(t, i) && t.push(i)
    }
    var u = this,
        i = u._,
        o = Array.prototype,
        a = Object.prototype,
        c = Function.prototype,
        f = o.push,
        l = o.slice,
        s = a.toString,
        p = a.hasOwnProperty,
        h = Array.isArray,
        v = Object.keys,
        y = c.bind,
        d = Object.create,
        g = function() {},
        m = function(n) {
            return n instanceof m ? n : this instanceof m ? void(this._wrapped = n) : new m(n)
        };
    "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = m), exports._ = m) : u._ = m, m.VERSION = "1.8.3";
    var b = function(n, t, r) {
            if (void 0 === t) return n;
            switch (null == r ? 3 : r) {
                case 1:
                    return function(r) {
                        return n.call(t, r)
                    };
                case 2:
                    return function(r, e) {
                        return n.call(t, r, e)
                    };
                case 3:
                    return function(r, e, u) {
                        return n.call(t, r, e, u)
                    };
                case 4:
                    return function(r, e, u, i) {
                        return n.call(t, r, e, u, i)
                    }
            }
            return function() {
                return n.apply(t, arguments)
            }
        },
        x = function(n, t, r) {
            return null == n ? m.identity : m.isFunction(n) ? b(n, t, r) : m.isObject(n) ? m.matcher(n) : m.property(n)
        };
    m.iteratee = function(n, t) {
        return x(n, t, 1 / 0)
    };
    var _ = function(n, t) {
            return function(r) {
                var e = arguments.length;
                if (e < 2 || null == r) return r;
                for (var u = 1; u < e; u++)
                    for (var i = arguments[u], o = n(i), a = o.length, c = 0; c < a; c++) {
                        var f = o[c];
                        t && void 0 !== r[f] || (r[f] = i[f])
                    }
                return r
            }
        },
        j = function(n) {
            if (!m.isObject(n)) return {};
            if (d) return d(n);
            g.prototype = n;
            var t = new g;
            return g.prototype = null, t
        },
        w = function(n) {
            return function(t) {
                return null == t ? void 0 : t[n]
            }
        },
        A = Math.pow(2, 53) - 1,
        O = w("length"),
        k = function(n) {
            var t = O(n);
            return "number" == typeof t && t >= 0 && t <= A
        };
    m.each = m.forEach = function(n, t, r) {
        t = b(t, r);
        var e, u;
        if (k(n))
            for (e = 0, u = n.length; e < u; e++) t(n[e], e, n);
        else {
            var i = m.keys(n);
            for (e = 0, u = i.length; e < u; e++) t(n[i[e]], i[e], n)
        }
        return n
    }, m.map = m.collect = function(n, t, r) {
        t = x(t, r);
        for (var e = !k(n) && m.keys(n), u = (e || n).length, i = Array(u), o = 0; o < u; o++) {
            var a = e ? e[o] : o;
            i[o] = t(n[a], a, n)
        }
        return i
    }, m.reduce = m.foldl = m.inject = n(1), m.reduceRight = m.foldr = n(-1), m.find = m.detect = function(n, t, r) {
        var e;
        if (e = k(n) ? m.findIndex(n, t, r) : m.findKey(n, t, r), void 0 !== e && e !== -1) return n[e]
    }, m.filter = m.select = function(n, t, r) {
        var e = [];
        return t = x(t, r), m.each(n, function(n, r, u) {
            t(n, r, u) && e.push(n)
        }), e
    }, m.reject = function(n, t, r) {
        return m.filter(n, m.negate(x(t)), r)
    }, m.every = m.all = function(n, t, r) {
        t = x(t, r);
        for (var e = !k(n) && m.keys(n), u = (e || n).length, i = 0; i < u; i++) {
            var o = e ? e[i] : i;
            if (!t(n[o], o, n)) return !1
        }
        return !0
    }, m.some = m.any = function(n, t, r) {
        t = x(t, r);
        for (var e = !k(n) && m.keys(n), u = (e || n).length, i = 0; i < u; i++) {
            var o = e ? e[i] : i;
            if (t(n[o], o, n)) return !0
        }
        return !1
    }, m.contains = m.includes = m.include = function(n, t, r, e) {
        return k(n) || (n = m.values(n)), ("number" != typeof r || e) && (r = 0), m.indexOf(n, t, r) >= 0
    }, m.invoke = function(n, t) {
        var r = l.call(arguments, 2),
            e = m.isFunction(t);
        return m.map(n, function(n) {
            var u = e ? t : n[t];
            return null == u ? u : u.apply(n, r)
        })
    }, m.pluck = function(n, t) {
        return m.map(n, m.property(t))
    }, m.where = function(n, t) {
        return m.filter(n, m.matcher(t))
    }, m.findWhere = function(n, t) {
        return m.find(n, m.matcher(t))
    }, m.max = function(n, t, r) {
        var e, u, i = -(1 / 0),
            o = -(1 / 0);
        if (null == t && null != n) {
            n = k(n) ? n : m.values(n);
            for (var a = 0, c = n.length; a < c; a++) e = n[a], e > i && (i = e)
        } else t = x(t, r), m.each(n, function(n, r, e) {
            u = t(n, r, e), (u > o || u === -(1 / 0) && i === -(1 / 0)) && (i = n, o = u)
        });
        return i
    }, m.min = function(n, t, r) {
        var e, u, i = 1 / 0,
            o = 1 / 0;
        if (null == t && null != n) {
            n = k(n) ? n : m.values(n);
            for (var a = 0, c = n.length; a < c; a++) e = n[a], e < i && (i = e)
        } else t = x(t, r), m.each(n, function(n, r, e) {
            u = t(n, r, e), (u < o || u === 1 / 0 && i === 1 / 0) && (i = n, o = u)
        });
        return i
    }, m.shuffle = function(n) {
        for (var t, r = k(n) ? n : m.values(n), e = r.length, u = Array(e), i = 0; i < e; i++) t = m.random(0, i), t !== i && (u[i] = u[t]), u[t] = r[i];
        return u
    }, m.sample = function(n, t, r) {
        return null == t || r ? (k(n) || (n = m.values(n)), n[m.random(n.length - 1)]) : m.shuffle(n).slice(0, Math.max(0, t))
    }, m.sortBy = function(n, t, r) {
        return t = x(t, r), m.pluck(m.map(n, function(n, r, e) {
            return {
                value: n,
                index: r,
                criteria: t(n, r, e)
            }
        }).sort(function(n, t) {
            var r = n.criteria,
                e = t.criteria;
            if (r !== e) {
                if (r > e || void 0 === r) return 1;
                if (r < e || void 0 === e) return -1
            }
            return n.index - t.index
        }), "value")
    };
    var F = function(n) {
        return function(t, r, e) {
            var u = {};
            return r = x(r, e), m.each(t, function(e, i) {
                var o = r(e, i, t);
                n(u, e, o)
            }), u
        }
    };
    m.groupBy = F(function(n, t, r) {
        m.has(n, r) ? n[r].push(t) : n[r] = [t]
    }), m.indexBy = F(function(n, t, r) {
        n[r] = t
    }), m.countBy = F(function(n, t, r) {
        m.has(n, r) ? n[r]++ : n[r] = 1
    }), m.toArray = function(n) {
        return n ? m.isArray(n) ? l.call(n) : k(n) ? m.map(n, m.identity) : m.values(n) : []
    }, m.size = function(n) {
        return null == n ? 0 : k(n) ? n.length : m.keys(n).length
    }, m.partition = function(n, t, r) {
        t = x(t, r);
        var e = [],
            u = [];
        return m.each(n, function(n, r, i) {
            (t(n, r, i) ? e : u).push(n)
        }), [e, u]
    }, m.first = m.head = m.take = function(n, t, r) {
        if (null != n) return null == t || r ? n[0] : m.initial(n, n.length - t)
    }, m.initial = function(n, t, r) {
        return l.call(n, 0, Math.max(0, n.length - (null == t || r ? 1 : t)))
    }, m.last = function(n, t, r) {
        if (null != n) return null == t || r ? n[n.length - 1] : m.rest(n, Math.max(0, n.length - t))
    }, m.rest = m.tail = m.drop = function(n, t, r) {
        return l.call(n, null == t || r ? 1 : t)
    }, m.compact = function(n) {
        return m.filter(n, m.identity)
    };
    var S = function(n, t, r, e) {
        for (var u = [], i = 0, o = e || 0, a = O(n); o < a; o++) {
            var c = n[o];
            if (k(c) && (m.isArray(c) || m.isArguments(c))) {
                t || (c = S(c, t, r));
                var f = 0,
                    l = c.length;
                for (u.length += l; f < l;) u[i++] = c[f++]
            } else r || (u[i++] = c)
        }
        return u
    };
    m.flatten = function(n, t) {
        return S(n, t, !1)
    }, m.without = function(n) {
        return m.difference(n, l.call(arguments, 1))
    }, m.uniq = m.unique = function(n, t, r, e) {
        m.isBoolean(t) || (e = r, r = t, t = !1), null != r && (r = x(r, e));
        for (var u = [], i = [], o = 0, a = O(n); o < a; o++) {
            var c = n[o],
                f = r ? r(c, o, n) : c;
            t ? (o && i === f || u.push(c), i = f) : r ? m.contains(i, f) || (i.push(f), u.push(c)) : m.contains(u, c) || u.push(c)
        }
        return u
    }, m.union = function() {
        return m.uniq(S(arguments, !0, !0))
    }, m.intersection = function(n) {
        for (var t = [], r = arguments.length, e = 0, u = O(n); e < u; e++) {
            var i = n[e];
            if (!m.contains(t, i)) {
                for (var o = 1; o < r && m.contains(arguments[o], i); o++);
                o === r && t.push(i)
            }
        }
        return t
    }, m.difference = function(n) {
        var t = S(arguments, !0, !0, 1);
        return m.filter(n, function(n) {
            return !m.contains(t, n)
        })
    }, m.zip = function() {
        return m.unzip(arguments)
    }, m.unzip = function(n) {
        for (var t = n && m.max(n, O).length || 0, r = Array(t), e = 0; e < t; e++) r[e] = m.pluck(n, e);
        return r
    }, m.object = function(n, t) {
        for (var r = {}, e = 0, u = O(n); e < u; e++) t ? r[n[e]] = t[e] : r[n[e][0]] = n[e][1];
        return r
    }, m.findIndex = t(1), m.findLastIndex = t(-1), m.sortedIndex = function(n, t, r, e) {
        r = x(r, e, 1);
        for (var u = r(t), i = 0, o = O(n); i < o;) {
            var a = Math.floor((i + o) / 2);
            r(n[a]) < u ? i = a + 1 : o = a
        }
        return i
    }, m.indexOf = r(1, m.findIndex, m.sortedIndex), m.lastIndexOf = r(-1, m.findLastIndex), m.range = function(n, t, r) {
        null == t && (t = n || 0, n = 0), r = r || 1;
        for (var e = Math.max(Math.ceil((t - n) / r), 0), u = Array(e), i = 0; i < e; i++, n += r) u[i] = n;
        return u
    };
    var E = function(n, t, r, e, u) {
        if (!(e instanceof t)) return n.apply(r, u);
        var i = j(n.prototype),
            o = n.apply(i, u);
        return m.isObject(o) ? o : i
    };
    m.bind = function(n, t) {
        if (y && n.bind === y) return y.apply(n, l.call(arguments, 1));
        if (!m.isFunction(n)) throw new TypeError("Bind must be called on a function");
        var r = l.call(arguments, 2),
            e = function() {
                return E(n, e, t, this, r.concat(l.call(arguments)))
            };
        return e
    }, m.partial = function(n) {
        var t = l.call(arguments, 1),
            r = function() {
                for (var e = 0, u = t.length, i = Array(u), o = 0; o < u; o++) i[o] = t[o] === m ? arguments[e++] : t[o];
                for (; e < arguments.length;) i.push(arguments[e++]);
                return E(n, r, this, this, i)
            };
        return r
    }, m.bindAll = function(n) {
        var t, r, e = arguments.length;
        if (e <= 1) throw new Error("bindAll must be passed function names");
        for (t = 1; t < e; t++) r = arguments[t], n[r] = m.bind(n[r], n);
        return n
    }, m.memoize = function(n, t) {
        var r = function(e) {
            var u = r.cache,
                i = "" + (t ? t.apply(this, arguments) : e);
            return m.has(u, i) || (u[i] = n.apply(this, arguments)), u[i]
        };
        return r.cache = {}, r
    }, m.delay = function(n, t) {
        var r = l.call(arguments, 2);
        return setTimeout(function() {
            return n.apply(null, r)
        }, t)
    }, m.defer = m.partial(m.delay, m, 1), m.throttle = function(n, t, r) {
        var e, u, i, o = null,
            a = 0;
        r || (r = {});
        var c = function() {
            a = r.leading === !1 ? 0 : m.now(), o = null, i = n.apply(e, u), o || (e = u = null)
        };
        return function() {
            var f = m.now();
            a || r.leading !== !1 || (a = f);
            var l = t - (f - a);
            return e = this, u = arguments, l <= 0 || l > t ? (o && (clearTimeout(o), o = null), a = f, i = n.apply(e, u), o || (e = u = null)) : o || r.trailing === !1 || (o = setTimeout(c, l)), i
        }
    }, m.debounce = function(n, t, r) {
        var e, u, i, o, a, c = function() {
            var f = m.now() - o;
            f < t && f >= 0 ? e = setTimeout(c, t - f) : (e = null, r || (a = n.apply(i, u), e || (i = u = null)))
        };
        return function() {
            i = this, u = arguments, o = m.now();
            var f = r && !e;
            return e || (e = setTimeout(c, t)), f && (a = n.apply(i, u), i = u = null), a
        }
    }, m.wrap = function(n, t) {
        return m.partial(t, n)
    }, m.negate = function(n) {
        return function() {
            return !n.apply(this, arguments)
        }
    }, m.compose = function() {
        var n = arguments,
            t = n.length - 1;
        return function() {
            for (var r = t, e = n[t].apply(this, arguments); r--;) e = n[r].call(this, e);
            return e
        }
    }, m.after = function(n, t) {
        return function() {
            if (--n < 1) return t.apply(this, arguments)
        }
    }, m.before = function(n, t) {
        var r;
        return function() {
            return --n > 0 && (r = t.apply(this, arguments)), n <= 1 && (t = null), r
        }
    }, m.once = m.partial(m.before, 2);
    var M = !{
            toString: null
        }.propertyIsEnumerable("toString"),
        I = ["valueOf", "isPrototypeOf", "toString", "propertyIsEnumerable", "hasOwnProperty", "toLocaleString"];
    m.keys = function(n) {
        if (!m.isObject(n)) return [];
        if (v) return v(n);
        var t = [];
        for (var r in n) m.has(n, r) && t.push(r);
        return M && e(n, t), t
    }, m.allKeys = function(n) {
        if (!m.isObject(n)) return [];
        var t = [];
        for (var r in n) t.push(r);
        return M && e(n, t), t
    }, m.values = function(n) {
        for (var t = m.keys(n), r = t.length, e = Array(r), u = 0; u < r; u++) e[u] = n[t[u]];
        return e
    }, m.mapObject = function(n, t, r) {
        t = x(t, r);
        for (var e, u = m.keys(n), i = u.length, o = {}, a = 0; a < i; a++) e = u[a], o[e] = t(n[e], e, n);
        return o
    }, m.pairs = function(n) {
        for (var t = m.keys(n), r = t.length, e = Array(r), u = 0; u < r; u++) e[u] = [t[u], n[t[u]]];
        return e
    }, m.invert = function(n) {
        for (var t = {}, r = m.keys(n), e = 0, u = r.length; e < u; e++) t[n[r[e]]] = r[e];
        return t
    }, m.functions = m.methods = function(n) {
        var t = [];
        for (var r in n) m.isFunction(n[r]) && t.push(r);
        return t.sort()
    }, m.extend = _(m.allKeys), m.extendOwn = m.assign = _(m.keys), m.findKey = function(n, t, r) {
        t = x(t, r);
        for (var e, u = m.keys(n), i = 0, o = u.length; i < o; i++)
            if (e = u[i], t(n[e], e, n)) return e
    }, m.pick = function(n, t, r) {
        var e, u, i = {},
            o = n;
        if (null == o) return i;
        m.isFunction(t) ? (u = m.allKeys(o), e = b(t, r)) : (u = S(arguments, !1, !1, 1), e = function(n, t, r) {
            return t in r
        }, o = Object(o));
        for (var a = 0, c = u.length; a < c; a++) {
            var f = u[a],
                l = o[f];
            e(l, f, o) && (i[f] = l)
        }
        return i
    }, m.omit = function(n, t, r) {
        if (m.isFunction(t)) t = m.negate(t);
        else {
            var e = m.map(S(arguments, !1, !1, 1), String);
            t = function(n, t) {
                return !m.contains(e, t)
            }
        }
        return m.pick(n, t, r)
    }, m.defaults = _(m.allKeys, !0), m.create = function(n, t) {
        var r = j(n);
        return t && m.extendOwn(r, t), r
    }, m.clone = function(n) {
        return m.isObject(n) ? m.isArray(n) ? n.slice() : m.extend({}, n) : n
    }, m.tap = function(n, t) {
        return t(n), n
    }, m.isMatch = function(n, t) {
        var r = m.keys(t),
            e = r.length;
        if (null == n) return !e;
        for (var u = Object(n), i = 0; i < e; i++) {
            var o = r[i];
            if (t[o] !== u[o] || !(o in u)) return !1
        }
        return !0
    };
    var N = function(n, t, r, e) {
        if (n === t) return 0 !== n || 1 / n === 1 / t;
        if (null == n || null == t) return n === t;
        n instanceof m && (n = n._wrapped), t instanceof m && (t = t._wrapped);
        var u = s.call(n);
        if (u !== s.call(t)) return !1;
        switch (u) {
            case "[object RegExp]":
            case "[object String]":
                return "" + n == "" + t;
            case "[object Number]":
                return +n !== +n ? +t !== +t : 0 === +n ? 1 / +n === 1 / t : +n === +t;
            case "[object Date]":
            case "[object Boolean]":
                return +n === +t
        }
        var i = "[object Array]" === u;
        if (!i) {
            if ("object" != typeof n || "object" != typeof t) return !1;
            var o = n.constructor,
                a = t.constructor;
            if (o !== a && !(m.isFunction(o) && o instanceof o && m.isFunction(a) && a instanceof a) && "constructor" in n && "constructor" in t) return !1
        }
        r = r || [], e = e || [];
        for (var c = r.length; c--;)
            if (r[c] === n) return e[c] === t;
        if (r.push(n), e.push(t), i) {
            if (c = n.length, c !== t.length) return !1;
            for (; c--;)
                if (!N(n[c], t[c], r, e)) return !1
        } else {
            var f, l = m.keys(n);
            if (c = l.length, m.keys(t).length !== c) return !1;
            for (; c--;)
                if (f = l[c], !m.has(t, f) || !N(n[f], t[f], r, e)) return !1
        }
        return r.pop(), e.pop(), !0
    };
    m.isEqual = function(n, t) {
        return N(n, t)
    }, m.isEmpty = function(n) {
        return null == n || (k(n) && (m.isArray(n) || m.isString(n) || m.isArguments(n)) ? 0 === n.length : 0 === m.keys(n).length)
    }, m.isElement = function(n) {
        return !(!n || 1 !== n.nodeType)
    }, m.isArray = h || function(n) {
        return "[object Array]" === s.call(n)
    }, m.isObject = function(n) {
        var t = typeof n;
        return "function" === t || "object" === t && !!n
    }, m.each(["Arguments", "Function", "String", "Number", "Date", "RegExp", "Error"], function(n) {
        m["is" + n] = function(t) {
            return s.call(t) === "[object " + n + "]"
        }
    }), m.isArguments(arguments) || (m.isArguments = function(n) {
        return m.has(n, "callee")
    }), "function" != typeof /./ && "object" != typeof Int8Array && (m.isFunction = function(n) {
        return "function" == typeof n || !1
    }), m.isFinite = function(n) {
        return isFinite(n) && !isNaN(parseFloat(n))
    }, m.isNaN = function(n) {
        return m.isNumber(n) && n !== +n
    }, m.isBoolean = function(n) {
        return n === !0 || n === !1 || "[object Boolean]" === s.call(n)
    }, m.isNull = function(n) {
        return null === n
    }, m.isUndefined = function(n) {
        return void 0 === n
    }, m.has = function(n, t) {
        return null != n && p.call(n, t)
    }, m.noConflict = function() {
        return u._ = i, this
    }, m.identity = function(n) {
        return n
    }, m.constant = function(n) {
        return function() {
            return n
        }
    }, m.noop = function() {}, m.property = w, m.propertyOf = function(n) {
        return null == n ? function() {} : function(t) {
            return n[t]
        }
    }, m.matcher = m.matches = function(n) {
        return n = m.extendOwn({}, n),
            function(t) {
                return m.isMatch(t, n)
            }
    }, m.times = function(n, t, r) {
        var e = Array(Math.max(0, n));
        t = b(t, r, 1);
        for (var u = 0; u < n; u++) e[u] = t(u);
        return e
    }, m.random = function(n, t) {
        return null == t && (t = n, n = 0), n + Math.floor(Math.random() * (t - n + 1))
    }, m.now = Date.now || function() {
        return (new Date).getTime()
    };
    var B = {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#x27;",
            "`": "&#x60;"
        },
        T = m.invert(B),
        R = function(n) {
            var t = function(t) {
                    return n[t]
                },
                r = "(?:" + m.keys(n).join("|") + ")",
                e = RegExp(r),
                u = RegExp(r, "g");
            return function(n) {
                return n = null == n ? "" : "" + n, e.test(n) ? n.replace(u, t) : n
            }
        };
    m.escape = R(B), m.unescape = R(T), m.result = function(n, t, r) {
        var e = null == n ? void 0 : n[t];
        return void 0 === e && (e = r), m.isFunction(e) ? e.call(n) : e
    };
    var q = 0;
    m.uniqueId = function(n) {
        var t = ++q + "";
        return n ? n + t : t
    }, m.templateSettings = {
        evaluate: /<%([\s\S]+?)%>/g,
        interpolate: /<%=([\s\S]+?)%>/g,
        escape: /<%-([\s\S]+?)%>/g
    };
    var K = /(.)^/,
        z = {
            "'": "'",
            "\\": "\\",
            "\r": "r",
            "\n": "n",
            "\u2028": "u2028",
            "\u2029": "u2029"
        },
        D = /\\|'|\r|\n|\u2028|\u2029/g,
        L = function(n) {
            return "\\" + z[n]
        };
    m.template = function(n, t, r) {
        !t && r && (t = r), t = m.defaults({}, t, m.templateSettings);
        var e = RegExp([(t.escape || K).source, (t.interpolate || K).source, (t.evaluate || K).source].join("|") + "|$", "g"),
            u = 0,
            i = "__p+='";
        n.replace(e, function(t, r, e, o, a) {
            return i += n.slice(u, a).replace(D, L), u = a + t.length, r ? i += "'+\n((__t=(" + r + "))==null?'':_.escape(__t))+\n'" : e ? i += "'+\n((__t=(" + e + "))==null?'':__t)+\n'" : o && (i += "';\n" + o + "\n__p+='"), t
        }), i += "';\n", t.variable || (i = "with(obj||{}){\n" + i + "}\n"), i = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + i + "return __p;\n";
        try {
            var o = new Function(t.variable || "obj", "_", i)
        } catch (a) {
            throw a.source = i, a
        }
        var c = function(n) {
                return o.call(this, n, m)
            },
            f = t.variable || "obj";
        return c.source = "function(" + f + "){\n" + i + "}", c
    }, m.chain = function(n) {
        var t = m(n);
        return t._chain = !0, t
    };
    var P = function(n, t) {
        return n._chain ? m(t).chain() : t
    };
    m.mixin = function(n) {
        m.each(m.functions(n), function(t) {
            var r = m[t] = n[t];
            m.prototype[t] = function() {
                var n = [this._wrapped];
                return f.apply(n, arguments), P(this, r.apply(m, n))
            }
        })
    }, m.mixin(m), m.each(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function(n) {
        var t = o[n];
        m.prototype[n] = function() {
            var r = this._wrapped;
            return t.apply(r, arguments), "shift" !== n && "splice" !== n || 0 !== r.length || delete r[0], P(this, r)
        }
    }), m.each(["concat", "join", "slice"], function(n) {
        var t = o[n];
        m.prototype[n] = function() {
            return P(this, t.apply(this._wrapped, arguments))
        }
    }), m.prototype.value = function() {
        return this._wrapped
    }, m.prototype.valueOf = m.prototype.toJSON = m.prototype.value, m.prototype.toString = function() {
        return "" + this._wrapped
    }, "function" == typeof define && define.amd && define("underscore", [], function() {
        return m
    })
}).call(this);
! function(t) {
    var e = "object" == typeof self && self.self == self && self || "object" == typeof global && global.global == global && global;
    if ("function" == typeof define && define.amd) define(["underscore", "jquery", "exports"], function(i, n, s) {
        e.Backbone = t(e, s, i, n)
    });
    else if ("undefined" != typeof exports) {
        var i, n = require("underscore");
        try {
            i = require("jquery")
        } catch (s) {}
        t(e, exports, n, i)
    } else e.Backbone = t(e, {}, e._, e.jQuery || e.Zepto || e.ender || e.$)
}(function(t, e, i, n) {
    var s = t.Backbone,
        r = Array.prototype.slice;
    e.VERSION = "1.2.3", e.$ = n, e.noConflict = function() {
        return t.Backbone = s, this
    }, e.emulateHTTP = !1, e.emulateJSON = !1;
    var a = function(t, e, n) {
            switch (t) {
                case 1:
                    return function() {
                        return i[e](this[n])
                    };
                case 2:
                    return function(t) {
                        return i[e](this[n], t)
                    };
                case 3:
                    return function(t, s) {
                        return i[e](this[n], h(t, this), s)
                    };
                case 4:
                    return function(t, s, r) {
                        return i[e](this[n], h(t, this), s, r)
                    };
                default:
                    return function() {
                        var t = r.call(arguments);
                        return t.unshift(this[n]), i[e].apply(i, t)
                    }
            }
        },
        o = function(t, e, n) {
            i.each(e, function(e, s) {
                i[s] && (t.prototype[s] = a(e, s, n))
            })
        },
        h = function(t, e) {
            return i.isFunction(t) ? t : i.isObject(t) && !e._isModel(t) ? u(t) : i.isString(t) ? function(e) {
                return e.get(t)
            } : t
        },
        u = function(t) {
            var e = i.matches(t);
            return function(t) {
                return e(t.attributes)
            }
        },
        c = e.Events = {},
        l = /\s+/,
        d = function(t, e, n, s, r) {
            var a, o = 0;
            if (n && "object" == typeof n) {
                void 0 !== s && "context" in r && void 0 === r.context && (r.context = s);
                for (a = i.keys(n); o < a.length; o++) e = d(t, e, a[o], n[a[o]], r)
            } else if (n && l.test(n))
                for (a = n.split(l); o < a.length; o++) e = t(e, a[o], s, r);
            else e = t(e, n, s, r);
            return e
        };
    c.on = function(t, e, i) {
        return f(this, t, e, i)
    };
    var f = function(t, e, i, n, s) {
        if (t._events = d(g, t._events || {}, e, i, {
                context: n,
                ctx: t,
                listening: s
            }), s) {
            var r = t._listeners || (t._listeners = {});
            r[s.id] = s
        }
        return t
    };
    c.listenTo = function(t, e, n) {
        if (!t) return this;
        var s = t._listenId || (t._listenId = i.uniqueId("l")),
            r = this._listeningTo || (this._listeningTo = {}),
            a = r[s];
        if (!a) {
            var o = this._listenId || (this._listenId = i.uniqueId("l"));
            a = r[s] = {
                obj: t,
                objId: s,
                id: o,
                listeningTo: r,
                count: 0
            }
        }
        return f(t, e, n, this, a), this
    };
    var g = function(t, e, i, n) {
        if (i) {
            var s = t[e] || (t[e] = []),
                r = n.context,
                a = n.ctx,
                o = n.listening;
            o && o.count++, s.push({
                callback: i,
                context: r,
                ctx: r || a,
                listening: o
            })
        }
        return t
    };
    c.off = function(t, e, i) {
        return this._events ? (this._events = d(v, this._events, t, e, {
            context: i,
            listeners: this._listeners
        }), this) : this
    }, c.stopListening = function(t, e, n) {
        var s = this._listeningTo;
        if (!s) return this;
        for (var r = t ? [t._listenId] : i.keys(s), a = 0; a < r.length; a++) {
            var o = s[r[a]];
            if (!o) break;
            o.obj.off(e, n, this)
        }
        return i.isEmpty(s) && (this._listeningTo = void 0), this
    };
    var v = function(t, e, n, s) {
        if (t) {
            var r, a = 0,
                o = s.context,
                h = s.listeners;
            if (e || n || o) {
                for (var u = e ? [e] : i.keys(t); a < u.length; a++) {
                    e = u[a];
                    var c = t[e];
                    if (!c) break;
                    for (var l = [], d = 0; d < c.length; d++) {
                        var f = c[d];
                        n && n !== f.callback && n !== f.callback._callback || o && o !== f.context ? l.push(f) : (r = f.listening, r && 0 === --r.count && (delete h[r.id], delete r.listeningTo[r.objId]))
                    }
                    l.length ? t[e] = l : delete t[e]
                }
                return i.size(t) ? t : void 0
            }
            for (var g = i.keys(h); a < g.length; a++) r = h[g[a]], delete h[r.id], delete r.listeningTo[r.objId]
        }
    };
    c.once = function(t, e, n) {
        var s = d(p, {}, t, e, i.bind(this.off, this));
        return this.on(s, void 0, n)
    }, c.listenToOnce = function(t, e, n) {
        var s = d(p, {}, e, n, i.bind(this.stopListening, this, t));
        return this.listenTo(t, s)
    };
    var p = function(t, e, n, s) {
        if (n) {
            var r = t[e] = i.once(function() {
                s(e, r), n.apply(this, arguments)
            });
            r._callback = n
        }
        return t
    };
    c.trigger = function(t) {
        if (!this._events) return this;
        for (var e = Math.max(0, arguments.length - 1), i = Array(e), n = 0; n < e; n++) i[n] = arguments[n + 1];
        return d(m, this._events, t, void 0, i), this
    };
    var m = function(t, e, i, n) {
            if (t) {
                var s = t[e],
                    r = t.all;
                s && r && (r = r.slice()), s && _(s, n), r && _(r, [e].concat(n))
            }
            return t
        },
        _ = function(t, e) {
            var i, n = -1,
                s = t.length,
                r = e[0],
                a = e[1],
                o = e[2];
            switch (e.length) {
                case 0:
                    for (; ++n < s;)(i = t[n]).callback.call(i.ctx);
                    return;
                case 1:
                    for (; ++n < s;)(i = t[n]).callback.call(i.ctx, r);
                    return;
                case 2:
                    for (; ++n < s;)(i = t[n]).callback.call(i.ctx, r, a);
                    return;
                case 3:
                    for (; ++n < s;)(i = t[n]).callback.call(i.ctx, r, a, o);
                    return;
                default:
                    for (; ++n < s;)(i = t[n]).callback.apply(i.ctx, e);
                    return
            }
        };
    c.bind = c.on, c.unbind = c.off, i.extend(e, c);
    var y = e.Model = function(t, e) {
        var n = t || {};
        e || (e = {}), this.cid = i.uniqueId(this.cidPrefix), this.attributes = {}, e.collection && (this.collection = e.collection), e.parse && (n = this.parse(n, e) || {}), n = i.defaults({}, n, i.result(this, "defaults")), this.set(n, e), this.changed = {}, this.initialize.apply(this, arguments)
    };
    i.extend(y.prototype, c, {
        changed: null,
        validationError: null,
        idAttribute: "id",
        cidPrefix: "c",
        initialize: function() {},
        toJSON: function(t) {
            return i.clone(this.attributes)
        },
        sync: function() {
            return e.sync.apply(this, arguments)
        },
        get: function(t) {
            return this.attributes[t]
        },
        escape: function(t) {
            return i.escape(this.get(t))
        },
        has: function(t) {
            return null != this.get(t)
        },
        matches: function(t) {
            return !!i.iteratee(t, this)(this.attributes)
        },
        set: function(t, e, n) {
            if (null == t) return this;
            var s;
            if ("object" == typeof t ? (s = t, n = e) : (s = {})[t] = e, n || (n = {}), !this._validate(s, n)) return !1;
            var r = n.unset,
                a = n.silent,
                o = [],
                h = this._changing;
            this._changing = !0, h || (this._previousAttributes = i.clone(this.attributes), this.changed = {});
            var u = this.attributes,
                c = this.changed,
                l = this._previousAttributes;
            for (var d in s) e = s[d], i.isEqual(u[d], e) || o.push(d), i.isEqual(l[d], e) ? delete c[d] : c[d] = e, r ? delete u[d] : u[d] = e;
            if (this.id = this.get(this.idAttribute), !a) {
                o.length && (this._pending = n);
                for (var f = 0; f < o.length; f++) this.trigger("change:" + o[f], this, u[o[f]], n)
            }
            if (h) return this;
            if (!a)
                for (; this._pending;) n = this._pending, this._pending = !1, this.trigger("change", this, n);
            return this._pending = !1, this._changing = !1, this
        },
        unset: function(t, e) {
            return this.set(t, void 0, i.extend({}, e, {
                unset: !0
            }))
        },
        clear: function(t) {
            var e = {};
            for (var n in this.attributes) e[n] = void 0;
            return this.set(e, i.extend({}, t, {
                unset: !0
            }))
        },
        hasChanged: function(t) {
            return null == t ? !i.isEmpty(this.changed) : i.has(this.changed, t)
        },
        changedAttributes: function(t) {
            if (!t) return !!this.hasChanged() && i.clone(this.changed);
            var e = this._changing ? this._previousAttributes : this.attributes,
                n = {};
            for (var s in t) {
                var r = t[s];
                i.isEqual(e[s], r) || (n[s] = r)
            }
            return !!i.size(n) && n
        },
        previous: function(t) {
            return null != t && this._previousAttributes ? this._previousAttributes[t] : null
        },
        previousAttributes: function() {
            return i.clone(this._previousAttributes)
        },
        fetch: function(t) {
            t = i.extend({
                parse: !0
            }, t);
            var e = this,
                n = t.success;
            return t.success = function(i) {
                var s = t.parse ? e.parse(i, t) : i;
                return !!e.set(s, t) && (n && n.call(t.context, e, i, t), void e.trigger("sync", e, i, t))
            }, z(this, t), this.sync("read", this, t)
        },
        save: function(t, e, n) {
            var s;
            null == t || "object" == typeof t ? (s = t, n = e) : (s = {})[t] = e, n = i.extend({
                validate: !0,
                parse: !0
            }, n);
            var r = n.wait;
            if (s && !r) {
                if (!this.set(s, n)) return !1
            } else if (!this._validate(s, n)) return !1;
            var a = this,
                o = n.success,
                h = this.attributes;
            n.success = function(t) {
                a.attributes = h;
                var e = n.parse ? a.parse(t, n) : t;
                return r && (e = i.extend({}, s, e)), !(e && !a.set(e, n)) && (o && o.call(n.context, a, t, n), void a.trigger("sync", a, t, n))
            }, z(this, n), s && r && (this.attributes = i.extend({}, h, s));
            var u = this.isNew() ? "create" : n.patch ? "patch" : "update";
            "patch" !== u || n.attrs || (n.attrs = s);
            var c = this.sync(u, this, n);
            return this.attributes = h, c
        },
        destroy: function(t) {
            t = t ? i.clone(t) : {};
            var e = this,
                n = t.success,
                s = t.wait,
                r = function() {
                    e.stopListening(), e.trigger("destroy", e, e.collection, t)
                };
            t.success = function(i) {
                s && r(), n && n.call(t.context, e, i, t), e.isNew() || e.trigger("sync", e, i, t)
            };
            var a = !1;
            return this.isNew() ? i.defer(t.success) : (z(this, t), a = this.sync("delete", this, t)), s || r(), a
        },
        url: function() {
            var t = i.result(this, "urlRoot") || i.result(this.collection, "url") || F();
            if (this.isNew()) return t;
            var e = this.get(this.idAttribute);
            return t.replace(/[^\/]$/, "$&/") + encodeURIComponent(e)
        },
        parse: function(t, e) {
            return t
        },
        clone: function() {
            return new this.constructor(this.attributes)
        },
        isNew: function() {
            return !this.has(this.idAttribute)
        },
        isValid: function(t) {
            return this._validate({}, i.defaults({
                validate: !0
            }, t))
        },
        _validate: function(t, e) {
            if (!e.validate || !this.validate) return !0;
            t = i.extend({}, this.attributes, t);
            var n = this.validationError = this.validate(t, e) || null;
            return !n || (this.trigger("invalid", this, n, i.extend(e, {
                validationError: n
            })), !1)
        }
    });
    var b = {
        keys: 1,
        values: 1,
        pairs: 1,
        invert: 1,
        pick: 0,
        omit: 0,
        chain: 1,
        isEmpty: 1
    };
    o(y, b, "attributes");
    var x = e.Collection = function(t, e) {
            e || (e = {}), e.model && (this.model = e.model), void 0 !== e.comparator && (this.comparator = e.comparator), this._reset(), this.initialize.apply(this, arguments), t && this.reset(t, i.extend({
                silent: !0
            }, e))
        },
        w = {
            add: !0,
            remove: !0,
            merge: !0
        },
        E = {
            add: !0,
            remove: !1
        },
        k = function(t, e, i) {
            i = Math.min(Math.max(i, 0), t.length);
            for (var n = Array(t.length - i), s = e.length, r = 0; r < n.length; r++) n[r] = t[r + i];
            for (r = 0; r < s; r++) t[r + i] = e[r];
            for (r = 0; r < n.length; r++) t[r + s + i] = n[r]
        };
    i.extend(x.prototype, c, {
        model: y,
        initialize: function() {},
        toJSON: function(t) {
            return this.map(function(e) {
                return e.toJSON(t)
            })
        },
        sync: function() {
            return e.sync.apply(this, arguments)
        },
        add: function(t, e) {
            return this.set(t, i.extend({
                merge: !1
            }, e, E))
        },
        remove: function(t, e) {
            e = i.extend({}, e);
            var n = !i.isArray(t);
            t = n ? [t] : i.clone(t);
            var s = this._removeModels(t, e);
            return !e.silent && s && this.trigger("update", this, e), n ? s[0] : s
        },
        set: function(t, e) {
            if (null != t) {
                e = i.defaults({}, e, w), e.parse && !this._isModel(t) && (t = this.parse(t, e));
                var n = !i.isArray(t);
                t = n ? [t] : t.slice();
                var s = e.at;
                null != s && (s = +s), s < 0 && (s += this.length + 1);
                for (var r, a = [], o = [], h = [], u = {}, c = e.add, l = e.merge, d = e.remove, f = !1, g = this.comparator && null == s && e.sort !== !1, v = i.isString(this.comparator) ? this.comparator : null, p = 0; p < t.length; p++) {
                    r = t[p];
                    var m = this.get(r);
                    if (m) {
                        if (l && r !== m) {
                            var _ = this._isModel(r) ? r.attributes : r;
                            e.parse && (_ = m.parse(_, e)), m.set(_, e), g && !f && (f = m.hasChanged(v))
                        }
                        u[m.cid] || (u[m.cid] = !0, a.push(m)), t[p] = m
                    } else c && (r = t[p] = this._prepareModel(r, e), r && (o.push(r), this._addReference(r, e), u[r.cid] = !0, a.push(r)))
                }
                if (d) {
                    for (p = 0; p < this.length; p++) r = this.models[p], u[r.cid] || h.push(r);
                    h.length && this._removeModels(h, e)
                }
                var y = !1,
                    b = !g && c && d;
                if (a.length && b ? (y = this.length != a.length || i.some(this.models, function(t, e) {
                        return t !== a[e]
                    }), this.models.length = 0, k(this.models, a, 0), this.length = this.models.length) : o.length && (g && (f = !0), k(this.models, o, null == s ? this.length : s), this.length = this.models.length), f && this.sort({
                        silent: !0
                    }), !e.silent) {
                    for (p = 0; p < o.length; p++) null != s && (e.index = s + p), r = o[p], r.trigger("add", r, this, e);
                    (f || y) && this.trigger("sort", this, e), (o.length || h.length) && this.trigger("update", this, e)
                }
                return n ? t[0] : t
            }
        },
        reset: function(t, e) {
            e = e ? i.clone(e) : {};
            for (var n = 0; n < this.models.length; n++) this._removeReference(this.models[n], e);
            return e.previousModels = this.models, this._reset(), t = this.add(t, i.extend({
                silent: !0
            }, e)), e.silent || this.trigger("reset", this, e), t
        },
        push: function(t, e) {
            return this.add(t, i.extend({
                at: this.length
            }, e))
        },
        pop: function(t) {
            var e = this.at(this.length - 1);
            return this.remove(e, t)
        },
        unshift: function(t, e) {
            return this.add(t, i.extend({
                at: 0
            }, e))
        },
        shift: function(t) {
            var e = this.at(0);
            return this.remove(e, t)
        },
        slice: function() {
            return r.apply(this.models, arguments)
        },
        get: function(t) {
            if (null != t) {
                var e = this.modelId(this._isModel(t) ? t.attributes : t);
                return this._byId[t] || this._byId[e] || this._byId[t.cid]
            }
        },
        at: function(t) {
            return t < 0 && (t += this.length), this.models[t]
        },
        where: function(t, e) {
            return this[e ? "find" : "filter"](t)
        },
        findWhere: function(t) {
            return this.where(t, !0)
        },
        sort: function(t) {
            var e = this.comparator;
            if (!e) throw new Error("Cannot sort a set without a comparator");
            t || (t = {});
            var n = e.length;
            return i.isFunction(e) && (e = i.bind(e, this)), 1 === n || i.isString(e) ? this.models = this.sortBy(e) : this.models.sort(e), t.silent || this.trigger("sort", this, t), this
        },
        pluck: function(t) {
            return i.invoke(this.models, "get", t)
        },
        fetch: function(t) {
            t = i.extend({
                parse: !0
            }, t);
            var e = t.success,
                n = this;
            return t.success = function(i) {
                var s = t.reset ? "reset" : "set";
                n[s](i, t), e && e.call(t.context, n, i, t), n.trigger("sync", n, i, t)
            }, z(this, t), this.sync("read", this, t)
        },
        create: function(t, e) {
            e = e ? i.clone(e) : {};
            var n = e.wait;
            if (t = this._prepareModel(t, e), !t) return !1;
            n || this.add(t, e);
            var s = this,
                r = e.success;
            return e.success = function(t, e, i) {
                n && s.add(t, i), r && r.call(i.context, t, e, i)
            }, t.save(null, e), t
        },
        parse: function(t, e) {
            return t
        },
        clone: function() {
            return new this.constructor(this.models, {
                model: this.model,
                comparator: this.comparator
            })
        },
        modelId: function(t) {
            return t[this.model.prototype.idAttribute || "id"]
        },
        _reset: function() {
            this.length = 0, this.models = [], this._byId = {}
        },
        _prepareModel: function(t, e) {
            if (this._isModel(t)) return t.collection || (t.collection = this), t;
            e = e ? i.clone(e) : {}, e.collection = this;
            var n = new this.model(t, e);
            return n.validationError ? (this.trigger("invalid", this, n.validationError, e), !1) : n
        },
        _removeModels: function(t, e) {
            for (var i = [], n = 0; n < t.length; n++) {
                var s = this.get(t[n]);
                if (s) {
                    var r = this.indexOf(s);
                    this.models.splice(r, 1), this.length--, e.silent || (e.index = r, s.trigger("remove", s, this, e)), i.push(s), this._removeReference(s, e)
                }
            }
            return !!i.length && i
        },
        _isModel: function(t) {
            return t instanceof y
        },
        _addReference: function(t, e) {
            this._byId[t.cid] = t;
            var i = this.modelId(t.attributes);
            null != i && (this._byId[i] = t), t.on("all", this._onModelEvent, this)
        },
        _removeReference: function(t, e) {
            delete this._byId[t.cid];
            var i = this.modelId(t.attributes);
            null != i && delete this._byId[i], this === t.collection && delete t.collection, t.off("all", this._onModelEvent, this)
        },
        _onModelEvent: function(t, e, i, n) {
            if ("add" !== t && "remove" !== t || i === this) {
                if ("destroy" === t && this.remove(e, n), "change" === t) {
                    var s = this.modelId(e.previousAttributes()),
                        r = this.modelId(e.attributes);
                    s !== r && (null != s && delete this._byId[s], null != r && (this._byId[r] = e))
                }
                this.trigger.apply(this, arguments)
            }
        }
    });
    var S = {
        forEach: 3,
        each: 3,
        map: 3,
        collect: 3,
        reduce: 4,
        foldl: 4,
        inject: 4,
        reduceRight: 4,
        foldr: 4,
        find: 3,
        detect: 3,
        filter: 3,
        select: 3,
        reject: 3,
        every: 3,
        all: 3,
        some: 3,
        any: 3,
        include: 3,
        includes: 3,
        contains: 3,
        invoke: 0,
        max: 3,
        min: 3,
        toArray: 1,
        size: 1,
        first: 3,
        head: 3,
        take: 3,
        initial: 3,
        rest: 3,
        tail: 3,
        drop: 3,
        last: 3,
        without: 0,
        difference: 0,
        indexOf: 3,
        shuffle: 1,
        lastIndexOf: 3,
        isEmpty: 1,
        chain: 1,
        sample: 3,
        partition: 3,
        groupBy: 3,
        countBy: 3,
        sortBy: 3,
        indexBy: 3
    };
    o(x, S, "models");
    var I = e.View = function(t) {
            this.cid = i.uniqueId("view"), i.extend(this, i.pick(t, P)), this._ensureElement(), this.initialize.apply(this, arguments)
        },
        T = /^(\S+)\s*(.*)$/,
        P = ["model", "collection", "el", "id", "attributes", "className", "tagName", "events"];
    i.extend(I.prototype, c, {
        tagName: "div",
        $: function(t) {
            return this.$el.find(t)
        },
        initialize: function() {},
        render: function() {
            return this
        },
        remove: function() {
            return this._removeElement(), this.stopListening(), this
        },
        _removeElement: function() {
            this.$el.remove()
        },
        setElement: function(t) {
            return this.undelegateEvents(), this._setElement(t), this.delegateEvents(), this
        },
        _setElement: function(t) {
            this.$el = t instanceof e.$ ? t : e.$(t), this.el = this.$el[0]
        },
        delegateEvents: function(t) {
            if (t || (t = i.result(this, "events")), !t) return this;
            this.undelegateEvents();
            for (var e in t) {
                var n = t[e];
                if (i.isFunction(n) || (n = this[n]), n) {
                    var s = e.match(T);
                    this.delegate(s[1], s[2], i.bind(n, this))
                }
            }
            return this
        },
        delegate: function(t, e, i) {
            return this.$el.on(t + ".delegateEvents" + this.cid, e, i), this
        },
        undelegateEvents: function() {
            return this.$el && this.$el.off(".delegateEvents" + this.cid), this
        },
        undelegate: function(t, e, i) {
            return this.$el.off(t + ".delegateEvents" + this.cid, e, i), this
        },
        _createElement: function(t) {
            return document.createElement(t)
        },
        _ensureElement: function() {
            if (this.el) this.setElement(i.result(this, "el"));
            else {
                var t = i.extend({}, i.result(this, "attributes"));
                this.id && (t.id = i.result(this, "id")), this.className && (t["class"] = i.result(this, "className")), this.setElement(this._createElement(i.result(this, "tagName"))), this._setAttributes(t)
            }
        },
        _setAttributes: function(t) {
            this.$el.attr(t)
        }
    }), e.sync = function(t, n, s) {
        var r = H[t];
        i.defaults(s || (s = {}), {
            emulateHTTP: e.emulateHTTP,
            emulateJSON: e.emulateJSON
        });
        var a = {
            type: r,
            dataType: "json"
        };
        if (s.url || (a.url = i.result(n, "url") || F()), null != s.data || !n || "create" !== t && "update" !== t && "patch" !== t || (a.contentType = "application/json", a.data = JSON.stringify(s.attrs || n.toJSON(s))), s.emulateJSON && (a.contentType = "application/x-www-form-urlencoded", a.data = a.data ? {
                model: a.data
            } : {}), s.emulateHTTP && ("PUT" === r || "DELETE" === r || "PATCH" === r)) {
            a.type = "POST", s.emulateJSON && (a.data._method = r);
            var o = s.beforeSend;
            s.beforeSend = function(t) {
                if (t.setRequestHeader("X-HTTP-Method-Override", r), o) return o.apply(this, arguments)
            }
        }
        "GET" === a.type || s.emulateJSON || (a.processData = !1);
        var h = s.error;
        s.error = function(t, e, i) {
            s.textStatus = e, s.errorThrown = i, h && h.call(s.context, t, e, i)
        };
        var u = s.xhr = e.ajax(i.extend(a, s));
        return n.trigger("request", n, u, s), u
    };
    var H = {
        create: "POST",
        update: "PUT",
        patch: "PATCH",
        "delete": "DELETE",
        read: "GET"
    };
    e.ajax = function() {
        return e.$.ajax.apply(e.$, arguments)
    };
    var $ = e.Router = function(t) {
            t || (t = {}), t.routes && (this.routes = t.routes), this._bindRoutes(), this.initialize.apply(this, arguments)
        },
        A = /\((.*?)\)/g,
        C = /(\(\?)?:\w+/g,
        R = /\*\w+/g,
        j = /[\-{}\[\]+?.,\\\^$|#\s]/g;
    i.extend($.prototype, c, {
        initialize: function() {},
        route: function(t, n, s) {
            i.isRegExp(t) || (t = this._routeToRegExp(t)), i.isFunction(n) && (s = n, n = ""), s || (s = this[n]);
            var r = this;
            return e.history.route(t, function(i) {
                var a = r._extractParameters(t, i);
                r.execute(s, a, n) !== !1 && (r.trigger.apply(r, ["route:" + n].concat(a)), r.trigger("route", n, a), e.history.trigger("route", r, n, a))
            }), this
        },
        execute: function(t, e, i) {
            t && t.apply(this, e)
        },
        navigate: function(t, i) {
            return e.history.navigate(t, i), this
        },
        _bindRoutes: function() {
            if (this.routes) {
                this.routes = i.result(this, "routes");
                for (var t, e = i.keys(this.routes); null != (t = e.pop());) this.route(t, this.routes[t])
            }
        },
        _routeToRegExp: function(t) {
            return t = t.replace(j, "\\$&").replace(A, "(?:$1)?").replace(C, function(t, e) {
                return e ? t : "([^/?]+)"
            }).replace(R, "([^?]*?)"), new RegExp("^" + t + "(?:\\?([\\s\\S]*))?$")
        },
        _extractParameters: function(t, e) {
            var n = t.exec(e).slice(1);
            return i.map(n, function(t, e) {
                return e === n.length - 1 ? t || null : t ? decodeURIComponent(t) : null
            })
        }
    });
    var M = e.History = function() {
            this.handlers = [], this.checkUrl = i.bind(this.checkUrl, this), "undefined" != typeof window && (this.location = window.location, this.history = window.history)
        },
        N = /^[#\/]|\s+$/g,
        O = /^\/+|\/+$/g,
        U = /#.*$/;
    M.started = !1, i.extend(M.prototype, c, {
        interval: 50,
        atRoot: function() {
            var t = this.location.pathname.replace(/[^\/]$/, "$&/");
            return t === this.root && !this.getSearch()
        },
        matchRoot: function() {
            var t = this.decodeFragment(this.location.pathname),
                e = t.slice(0, this.root.length - 1) + "/";
            return e === this.root
        },
        decodeFragment: function(t) {
            return decodeURI(t.replace(/%25/g, "%2525"))
        },
        getSearch: function() {
            var t = this.location.href.replace(/#.*/, "").match(/\?.+/);
            return t ? t[0] : ""
        },
        getHash: function(t) {
            var e = (t || this).location.href.match(/#(.*)$/);
            return e ? e[1] : ""
        },
        getPath: function() {
            var t = this.decodeFragment(this.location.pathname + this.getSearch()).slice(this.root.length - 1);
            return "/" === t.charAt(0) ? t.slice(1) : t
        },
        getFragment: function(t) {
            return null == t && (t = this._usePushState || !this._wantsHashChange ? this.getPath() : this.getHash()), t.replace(N, "")
        },
        start: function(t) {
            if (M.started) throw new Error("Backbone.history has already been started");
            if (M.started = !0, this.options = i.extend({
                    root: "/"
                }, this.options, t), this.root = this.options.root, this._wantsHashChange = this.options.hashChange !== !1, this._hasHashChange = "onhashchange" in window && (void 0 === document.documentMode || document.documentMode > 7), this._useHashChange = this._wantsHashChange && this._hasHashChange, this._wantsPushState = !!this.options.pushState, this._hasPushState = !(!this.history || !this.history.pushState), this._usePushState = this._wantsPushState && this._hasPushState, this.fragment = this.getFragment(), this.root = ("/" + this.root + "/").replace(O, "/"), this._wantsHashChange && this._wantsPushState) {
                if (!this._hasPushState && !this.atRoot()) {
                    var e = this.root.slice(0, -1) || "/";
                    return this.location.replace(e + "#" + this.getPath()), !0
                }
                this._hasPushState && this.atRoot() && this.navigate(this.getHash(), {
                    replace: !0
                })
            }
            if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {
                this.iframe = document.createElement("iframe"), this.iframe.src = "javascript:0", this.iframe.style.display = "none", this.iframe.tabIndex = -1;
                var n = document.body,
                    s = n.insertBefore(this.iframe, n.firstChild).contentWindow;
                s.document.open(), s.document.close(), s.location.hash = "#" + this.fragment
            }
            var r = window.addEventListener || function(t, e) {
                return attachEvent("on" + t, e)
            };
            if (this._usePushState ? r("popstate", this.checkUrl, !1) : this._useHashChange && !this.iframe ? r("hashchange", this.checkUrl, !1) : this._wantsHashChange && (this._checkUrlInterval = setInterval(this.checkUrl, this.interval)), !this.options.silent) return this.loadUrl()
        },
        stop: function() {
            var t = window.removeEventListener || function(t, e) {
                return detachEvent("on" + t, e)
            };
            this._usePushState ? t("popstate", this.checkUrl, !1) : this._useHashChange && !this.iframe && t("hashchange", this.checkUrl, !1), this.iframe && (document.body.removeChild(this.iframe), this.iframe = null), this._checkUrlInterval && clearInterval(this._checkUrlInterval), M.started = !1
        },
        route: function(t, e) {
            this.handlers.unshift({
                route: t,
                callback: e
            })
        },
        checkUrl: function(t) {
            var e = this.getFragment();
            return e === this.fragment && this.iframe && (e = this.getHash(this.iframe.contentWindow)), e !== this.fragment && (this.iframe && this.navigate(e), void this.loadUrl())
        },
        loadUrl: function(t) {
            return !!this.matchRoot() && (t = this.fragment = this.getFragment(t), i.some(this.handlers, function(e) {
                if (e.route.test(t)) return e.callback(t), !0
            }))
        },
        navigate: function(t, e) {
            if (!M.started) return !1;
            e && e !== !0 || (e = {
                trigger: !!e
            }), t = this.getFragment(t || "");
            var i = this.root;
            "" !== t && "?" !== t.charAt(0) || (i = i.slice(0, -1) || "/");
            var n = i + t;
            if (t = this.decodeFragment(t.replace(U, "")), this.fragment !== t) {
                if (this.fragment = t, this._usePushState) this.history[e.replace ? "replaceState" : "pushState"]({}, document.title, n);
                else {
                    if (!this._wantsHashChange) return this.location.assign(n);
                    if (this._updateHash(this.location, t, e.replace), this.iframe && t !== this.getHash(this.iframe.contentWindow)) {
                        var s = this.iframe.contentWindow;
                        e.replace || (s.document.open(), s.document.close()), this._updateHash(s.location, t, e.replace)
                    }
                }
                return e.trigger ? this.loadUrl(t) : void 0
            }
        },
        _updateHash: function(t, e, i) {
            if (i) {
                var n = t.href.replace(/(javascript:|#).*$/, "");
                t.replace(n + "#" + e)
            } else t.hash = "#" + e
        }
    }), e.history = new M;
    var q = function(t, e) {
        var n, s = this;
        n = t && i.has(t, "constructor") ? t.constructor : function() {
            return s.apply(this, arguments)
        }, i.extend(n, s, e);
        var r = function() {
            this.constructor = n
        };
        return r.prototype = s.prototype, n.prototype = new r, t && i.extend(n.prototype, t), n.__super__ = s.prototype, n
    };
    y.extend = x.extend = $.extend = I.extend = M.extend = q;
    var F = function() {
            throw new Error('A "url" property or function must be specified')
        },
        z = function(t, e) {
            var i = e.error;
            e.error = function(n) {
                i && i.call(e.context, t, n, e), t.trigger("error", t, n, e)
            }
        };
    return e
});
! function(e, n) {
    "function" == typeof define && define.amd ? define(["underscore", "backbone"], n) : "undefined" != typeof exports ? module.exports = n(require("underscore"), require("backbone")) : e.amdWeb = n(e._, e.Backbone)
}(this, function(e, n) {
    var r = window.btoa,
        t = function(e) {
            return r(unescape(encodeURIComponent([e.username, e.password].join(":"))))
        };
    n.BasicAuth = {
        getHeader: function(e) {
            return {
                Authorization: "Basic " + t(e)
            }
        }
    };
    var o = n.sync;
    n.sync = function(r, t, a) {
        a = a || {};
        var u, s;
        return t.credentials && (u = e.result(t, "credentials")), null == u && (remoteURL = a.url || e.result(t, "url"), s = remoteURL.match(/\/\/(.*):(.*)@/), s && 3 === s.length && (u = {
            username: s[1],
            password: s[2]
        })), null != u && (a.headers = a.headers || {}, e.extend(a.headers, n.BasicAuth.getHeader(u))), o.call(t, r, t, a)
    }
});
! function(t) {
    function e(e, a, s, o, i) {
        a = a || "GET", s = s || null, o = o || t.noop, this.options = t.extend({
            beforeSend: t.noop,
            ms: 3e4
        }, i || {}), this.url = e, this.method = a, this.data = s, this.type = "json", this.callback = o
    }

    function a(e) {
        try {
            var a = t.parseJSON(e.responseText)
        } catch (s) {
            throw console.error(e.responseText), {
                status: 0,
                errorCode: 0,
                userMessage: "Unable to open the project. Please try again or contact info@desygner.com for support"
            }
        }
        if (200 !== e.status) throw {
            status: e.status,
            errorCode: a.errorCode,
            userMessage: a.userMessage
        };
        return a
    }

    function s(e) {
        this.bad = t.extend({
            msie: "<= 9"
        }, e), this.browser = t.browser
    }

    function o(e, a) {
        switch (this.$container = t(a), this.$container.hide(), this.options = t.extend({
            html: !0,
            type: "default",
            message: "no message",
            alertType: "default",
            loader: !1,
            button: [],
            callback: [],
            skip: !1
        }, e), this.type = this.options.type, this.message = this.options.message, this.type) {
            case "topbar":
                this.topbar();
                break;
            default:
                this.windowAlert()
        }
    }
    t.inkiveCommon = !0, e.prototype.request = function() {
        var e = this;
        t.ajax({
            type: e.method,
            url: e.url,
            timeout: e.options.ms,
            data: e.data,
            beforeSend: e.options.beforeSend,
            complete: function(t) {
                if (e.callback.length < 2) try {
                    var s = a(t);
                    e.callback(s)
                } catch (o) {
                    console.log(o), alert(o.userMessage)
                } else {
                    try {
                        var s = a(t)
                    } catch (o) {
                        return void e.callback(s, !1, o.status, o.errorCode, o.userMessage)
                    }
                    e.callback(s, !0)
                }
            }
        })
    }, e.prototype.multipartRequest = function() {
        var e = this;
        t.ajax({
            type: "POST",
            url: e.url,
            data: e.data,
            beforeSend: e.options.beforeSend,
            async: !1,
            cache: !1,
            contentType: !1,
            processData: !1,
            complete: function(t) {
                try {
                    var s = a(t);
                    e.callback && e.callback(s)
                } catch (o) {
                    console.log(o), alert(o.userMessage)
                }
            }
        })
    }, s.prototype.checkVersion = function(t, e) {
        var a = e.split(" "),
            s = a[0],
            o = parseFloat(a[1]);
        switch (t = parseFloat(t), s) {
            case "<=":
                return t <= o;
            case "<":
                return t < o;
            case ">=":
                return t >= o;
            case ">":
                return t > o;
            case "==":
            default:
                return t == o
        }
    }, s.prototype.check = function() {
        var t = !1;
        for (var e in this.bad) this.browser.hasOwnProperty(e) && (t = this.checkVersion(this.browser.version, this.bad[e]));
        return t
    }, o.prototype.container = function() {
        return this.$container
    }, o.prototype.setMessage = function(e, a) {
        this.options.html ? t(e).find(".ik-alert-content").append(a) : t(e).find(".ik-alert-content").text(a)
    }, o.prototype.topbar = function() {
        function e() {
            s.css("display", "block"), t(".navbar-inkive").css("margin-top", s.height()), t("body").css("margin-top", s.height())
        }

        function a() {
            s.css("display", "none"), t(".navbar-inkive").css("margin-top", 0), t("body").css("margin-top", 0)
        }
        var s = this.$container,
            o = t.parseHTML('<div class="ik-alert-wrapper"><div class="ik-alert-content"></div><a><span class="ik-alert-close"><i class="fa fa-times fa-2x"></i></span></a></div>');
        t(o).addClass("ik-" + this.options.alertType), this.setMessage(o, this.message), t(o).find(".ik-alert-close").on("click", function(t) {
            a()
        }), this.$container.hasClass("ik-alert-topbar") || this.$container.addClass("ik-alert-topbar"), this.$container.append(o), this.$container.hide = a, this.$container.show = e, e()
    }, o.prototype.windowAlert = function() {
        window.alert(this.message)
    }, t.extend({
        api: function(t, a, s, o, i) {
            var n = new e(t, a, s, o, i);
            n.request()
        },
        apiMultipart: function(t, a, s, o) {
            var i = new e(t, "POST", a, s, o);
            i.multipartRequest()
        },
        badBrowser: function(t) {
            var e = new s(t);
            return e.check()
        },
        logoLoader: function(e) {
            e ? t(".logo-inkive img").fadeOut("slow", function(e) {
                t(".logo-inkive").append('<div class="pace pace-active"><div class="pace-activity"></div></div>'), t(".logo-inkive").trigger("ik.loading.start")
            }) : (t(".logo-inkive").on("ik.loading.start", function(e) {
                t(".logo-inkive .pace").remove(), t(".logo-inkive img").fadeIn("slow")
            }), t(".logo-inkive").trigger("ik.loading.start"), t(".logo-inkive").trigger("ik.loading.end"))
        }
    }), t.fn.extend({
        ikAlert: function(e, a, s) {
            return this.each(function(i) {
                var n = s || {};
                n.type = e, n.message = a;
                var r = new o(n, this);
                t.data(this, "ik-alert", r)
            })
        }
    })
}(jQuery);
var Base64 = {
    _keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
    encode: function(r) {
        var e, t, o, a, h, n, d, i = "",
            C = 0;
        for (r = Base64._utf8_encode(r); C < r.length;) e = r.charCodeAt(C++), t = r.charCodeAt(C++), o = r.charCodeAt(C++), a = e >> 2, h = (3 & e) << 4 | t >> 4, n = (15 & t) << 2 | o >> 6, d = 63 & o, isNaN(t) ? n = d = 64 : isNaN(o) && (d = 64), i = i + this._keyStr.charAt(a) + this._keyStr.charAt(h) + this._keyStr.charAt(n) + this._keyStr.charAt(d);
        return i
    },
    decode: function(r) {
        r = r || "";
        var e, t, o, a, h, n, d, i = "",
            C = 0;
        for (r = r.replace(/[^A-Za-z0-9\+\/\=]/g, ""); C < r.length;) a = this._keyStr.indexOf(r.charAt(C++)), h = this._keyStr.indexOf(r.charAt(C++)), n = this._keyStr.indexOf(r.charAt(C++)), d = this._keyStr.indexOf(r.charAt(C++)), e = a << 2 | h >> 4, t = (15 & h) << 4 | n >> 2, o = (3 & n) << 6 | d, i += String.fromCharCode(e), 64 != n && (i += String.fromCharCode(t)), 64 != d && (i += String.fromCharCode(o));
        return i = Base64._utf8_decode(i)
    },
    _utf8_encode: function(r) {
        r = r.replace(/\r\n/g, "\n");
        for (var e = "", t = 0; t < r.length; t++) {
            var o = r.charCodeAt(t);
            o < 128 ? e += String.fromCharCode(o) : o > 127 && o < 2048 ? (e += String.fromCharCode(o >> 6 | 192), e += String.fromCharCode(63 & o | 128)) : (e += String.fromCharCode(o >> 12 | 224), e += String.fromCharCode(o >> 6 & 63 | 128), e += String.fromCharCode(63 & o | 128))
        }
        return e
    },
    _utf8_decode: function(r) {
        for (var e = "", t = 0, o = 0, a = 0; t < r.length;)
            if (o = r.charCodeAt(t), o < 128) e += String.fromCharCode(o), t++;
            else if (o > 191 && o < 224) a = r.charCodeAt(t + 1), e += String.fromCharCode((31 & o) << 6 | 63 & a), t += 2;
        else {
            a = r.charCodeAt(t + 1);
            var h = r.charCodeAt(t + 2);
            e += String.fromCharCode((15 & o) << 12 | (63 & a) << 6 | 63 & h), t += 3
        }
        return e
    }
};
var APP = function() {
    this.Trigger = function(e) {
        var n = $('<iframe src="inkive://www.awesome.com/notyourbusiness.php?event=' + encodeURIComponent(JSON.stringify(e)) + '" width="0" height="0" border="0" style="display:none;" ></iframe>');
        $("body").append(n), setTimeout(function() {
            n.remove()
        }, 1e3)
    }, this.Event = function(e, n) {
        var t = new CustomEvent(e, n);
        document.dispatchEvent(t)
    }
};
String.prototype.sprintf = function() {
        for (var t, r = this.valueOf().replace(/%%/g, "\0\0"), e = arguments, n = "", i = 0, a = 0, o = /%(\d+[\$#])?([+-])?('.|0| )?(\d*)(\.\d*)?([bcdfosuxX])/g; t = o.exec(r);) {
            if (t[1]) var s = e[t[1].substring(0, t[1].length - 1)];
            else var s = e[a];
            switch (t[6]) {
                case "b":
                    s = Number(s).toString(2);
                    break;
                case "c":
                    s = String.fromCharCode(s);
                    break;
                case "d":
                case "u":
                    s = Number(s).toString(10);
                    break;
                case "f":
                    s = Number(s), s = t[5].length > 1 ? s.toFixed(t[5].substr(1)) : s.toExponential(t[4]);
                    break;
                case "o":
                    s = Number(s).toString(8);
                    break;
                case "s":
                    s = s.toString();
                    break;
                case "x":
                    s = Number(s).toString(16);
                    break;
                case "X":
                    s = Number(s).toString(16).toUpperCase()
            }
            n += r.substring(i, t.index), i = t.index + t[0].length, t[3] || (t[3] = ""), n += s.padding(t[2] + t[4], t[3].substr(t[3].length - 1)), a++
        }
        return i < r.length && (n += r.substr(i)), n = n.replace(/\0\0/g, "%")
    }, String.prototype.startsWith = function(t) {
        return 0 == this.indexOf(t)
    }, String.prototype.dup = function() {
        var t = this.valueOf();
        return t + t
    }, String.prototype.repeat = function(t) {
        if (!t || t <= 0) return "";
        this.origin || (this.origin = this.valueOf());
        var r = this.repeat(parseInt(t / 2));
        return (t % 2 ? this.origin : "") + r + r
    }, String.prototype.padding = function(t, r) {
        r || (r = " "), r.length > 1 && (r = r.charAt(0));
        var e = this.valueOf(),
            n = r.repeat(Math.abs(t) - this.length);
        return t < 0 ? e + n : n + e
    }, String.prototype.leftPad = function(t, r) {
        return this.padding(Math.abs(t), r)
    }, String.prototype.rightPad = function(t, r) {
        return this.padding(-Math.abs(t), r)
    }, String.prototype.trimToLength = function(t) {
        return this.length > t ? this.trim().substring(0, t).split(" ").slice(0, -1).join(" ") + "..." : this
    }, String.prototype.hashCode = function() {
        var t = 0;
        if (0 == this.length) return t;
        for (i = 0; i < this.length; i++) char = this.charCodeAt(i), t = (t << 5) - t + char, t &= t;
        return t
    }, Number.prototype.radix = function(t, r, e) {
        return e || (e = "0"), this.toString(t).padding(r, e)
    }, Number.prototype.bin = function(t, r) {
        return this.radix(2, t ? t : 16, r)
    }, Number.prototype.oct = function(t, r) {
        return this.radix(8, t ? t : 6, r)
    }, Number.prototype.dec = function(t, r) {
        return this.radix(10, t ? t : 2, r)
    }, Number.prototype.hexl = function(t, r) {
        return this.radix(16, t ? t : 4, r)
    }, Number.prototype.hex = function(t, r) {
        return r || (r = "0"), this.hexl().toUpperCase().padding(t, r)
    },
    function() {
        var t = function(r, e) {
                var n = r.nodeType;
                if (3 == n) e.push(r.textContent.replace(/&/, "&amp;").replace(/</, "&lt;").replace(">", "&gt;"));
                else if (1 == n) {
                    if (e.push("<", r.tagName), r.hasAttributes())
                        for (var i = r.attributes, a = 0, o = i.length; a < o; ++a) {
                            var s = i.item(a);
                            e.push(" ", s.name, "='", s.value, "'")
                        }
                    if (r.hasChildNodes()) {
                        e.push(">");
                        for (var h = r.childNodes, a = 0, o = h.length; a < o; ++a) t(h.item(a), e);
                        e.push("</", r.tagName, ">")
                    } else e.push("/>")
                } else {
                    if (8 != n) throw "Error serializing XML. Unhandled node of type: " + n;
                    e.push("<!--", r.nodeValue, "-->")
                }
            },
            r = function(t) {
                if ("parsererror" == t.tagName.toLowerCase()) return !0;
                var r = new DOMParser,
                    e = r.parseFromString("<", "text/xml"),
                    n = e.getElementsByTagName("parsererror")[0].namespaceURI;
                return "http://www.w3.org/1999/xhtml" === n ? t.getElementsByTagName("parsererror").length > 0 : t.getElementsByTagNameNS(n, "parsererror").length > 0
            };
        Object.defineProperty(SVGElement.prototype, "innerSVG", {
            get: function() {
                for (var r = [], e = this.firstChild; e;) t(e, r), e = e.nextSibling;
                return r.join("")
            },
            set: function(t) {
                for (; this.firstChild;) this.removeChild(this.firstChild);
                var e = "";
                t && t.length > 0 && (e = t.replace(/&emsp;/g, "\t").replace(/&nbsp;/gi, " ").replace(/&amp;/gi, "&").replace(/&/gi, "&"));
                try {
                    var n = window.DOMParser ? new DOMParser : new ActiveXObject("Microsoft.XMLDOM");
                    n.async = !1, sXML = "<svg xmlns='http://www.w3.org/2000/svg'>" + e + "</svg>";
                    var i = n.parseFromString(sXML, "text/xml").documentElement;
                    if (r(i)) throw new Error("Error parsing XML");
                    for (var a = i.firstChild; a;) this.appendChild(this.ownerDocument.importNode(a, !0)), a = a.nextSibling
                } catch (o) {
                    console.warn("Error parsing XML string"), this.textContent = t, this.innerHTML = this.textContent.replace(/\u0009/g, "&emsp;")
                }
            }
        })
    }();
INKIVE.Gesture = function(e) {
    function t(e) {
        return e.preventDefault(), !1
    }

    function n(e) {
        h = !0, 1 === e.button || g.canvas.spaceKey || (e.preventDefault(), g.onTouch(e, e.pageX, e.pageY))
    }

    function o(e) {
        1 === e.button || g.canvas.spaceKey || 2 === e.button || e.ctrlKey || (e.preventDefault(), g.onMove(e, e.pageX, e.pageY))
    }

    function a(e) {
        h && 2 !== e.button && !e.ctrlKey && (e.preventDefault(), h = !1, g.onTouchEnd(e, e.pageX, e.pageY))
    }

    function s(e) {
        g.onDblClick(e, e.pageX, e.pageY)
    }

    function r(e) {
        var t = e.touches[0].pageX - e.touches[1].pageX,
            n = e.touches[0].pageY - e.touches[1].pageY;
        return Math.sqrt(t * t + n * n)
    }

    function i(t) {
        var n, o, a = new Date,
            s = 1300,
            i = 20;
        t.preventDefault();
        var h = e.getSelectedElems(),
            m = 1 === h.length ? h[0] : null,
            v = $(m).parent().hasClass("background");
        switch (t.type) {
            case "touchstart":
                if (1 === t.touches.length) e.setMode("select"), n = t.changedTouches[0].pageX, o = t.changedTouches[0].pageY, u !== t.target || c && a - l > s ? (c = null, l = a) : u === t.target && (c = l, l = a), u = t.target, d = {
                    x: n,
                    y: o
                }, g.onTouch(t, n, o);
                else if (m && !v && g.isMovementAllowed) {
                    var p = m.getBoundingClientRect();
                    g.touchDistance = r(t), g.touchX = p.right, g.touchY = p.top, e.setMode("resize"), g.onTouch(t, g.touchX, g.touchY)
                } else {
                    INKIVE.EditorFacade.canvas.clearSelection(), g.handler = new INKIVE.GestureScroll(e);
                    var f = $(e.getSvgPanel()).find("g#selectorParentGroup")[0].getScreenCTM().inverse(),
                        _ = svgedit.math.transformPoint(t.touches[0].pageX, t.touches[0].pageY, f),
                        M = e.getMouseTarget(t, _);
                    n = (t.touches[0].pageX + t.touches[1].pageX) / 2, o = (t.touches[0].pageY + t.touches[1].pageY) / 2, g.handler.init(n, o, M), $(".antiscroll-scrollbar").removeClass("antiscroll-scrollbar-shown"), g.touchDistance = r(t), g.initialZoom = e.getZoom(), g.canvasSize = Math.sqrt(e.contentW * e.contentW + e.contentH * e.contentH), e.setMode("zooming")
                }
                break;
            case "touchmove":
                if (1 === t.touches.length) {
                    if (c) {
                        var E = d.x - t.changedTouches[0].pageX,
                            I = d.y - t.changedTouches[0].pageY,
                            y = E * E + I * I;
                        y > i && (c = null)
                    }
                    g.onMove(t, t.changedTouches[0].pageX, t.changedTouches[0].pageY)
                } else if (e.getSelectedElems()[0] && !v && g.isMovementAllowed) {
                    var C = r(t);
                    e.current_resize_mode = "ne", g.onMove(t, g.touchX + (C - g.touchDistance), g.touchY + (C - g.touchDistance))
                } else {
                    INKIVE.EditorFacade.canvas.clearSelection();
                    var b = r(t),
                        N = .1,
                        x = 5,
                        T = g.touchDistance,
                        w = g.canvasSize,
                        z = (b - T) / (w - T);
                    g.finalZoom = z * (x - g.initialZoom) + g.initialZoom, g.finalZoom < N && (g.finalZoom = N), e.setZoom(g.finalZoom), n = (t.touches[0].pageX + t.touches[1].pageX) / 2, o = (t.touches[0].pageY + t.touches[1].pageY) / 2, g.handler.update(n, o)
                }
                break;
            case "touchend":
            case "touchcancel":
                "zooming" === e.getMode() && (e.setMode("select"), e.call("editor.zoomChanged", g.finalZoom)), t.changedTouches && t.changedTouches.length && (n = t.changedTouches[0].pageX, o = t.changedTouches[0].pageY), g.onTouchEnd(t, n, o), g.isMultiTouch = !1, "touchend" == t.type && c && a - c < s && g.onDblClick(t, n, o)
        }
    }
    this.canvas = e, this.handler = null, this.isAnimated = !1, this.touchDistance = 0, this.touchX = 0, this.touchY = 0, this.initialZoom = e.getZoom(), this.finalZoom = this.initialZoom, this.canvasSize = null;
    var c, l, u, d, g = this,
        h = !1,
        m = e.getWorkarea();
    m.addEventListener("touchstart", i, !0), m.addEventListener("touchmove", i, !0), m.addEventListener("touchend", i, !0), m.addEventListener("touchcancel", i, !0), $(m).mousedown(n).dblclick(s), $(m).mousemove(o).click(t), $(document).mouseup(a)
}, INKIVE.Gesture.prototype = _.extend({
    constructor: INKIVE.Gesture,
    testResize: function(e, t) {
        function n(e, t, n, o, a) {
            var s = Math.PI / 180 * a,
                r = Math.cos(s),
                i = Math.sin(s),
                c = r * (n - e) + i * (o - t) + e,
                l = r * (o - t) - i * (n - e) + t;
            return {
                x: c,
                y: l
            }
        }

        function o(e, t, n, o, a) {
            var s = a * Math.PI / 180,
                r = Math.cos(s),
                i = Math.sin(s),
                c = n / 2,
                l = o / 2;
            return {
                x: e + c * r - l * i,
                y: t + c * i + l * r
            }
        }
        e = $(e)[0];
        var a = this,
            s = e.getBoundingClientRect(),
            r = a.canvas.getRotationAngle(e),
            i = $(a.canvas.getSvgPanel()).find("g#selectorParentGroup"),
            c = i.find("#selectorGrip_resize_ne")[0].getBoundingClientRect(0),
            l = o(c.left, c.top, c.width, c.height, r),
            u = l.x,
            d = l.y,
            g = .1 * s.width,
            h = (t ? 180 : 0) - r,
            m = n(0, 0, g, 0, h),
            v = u + m.x,
            p = d + m.y;
        this.canvas.current_resize_mode = "ne", this.canvas.setMode("resize"), this.onTouch({
            target: e
        }, u, d), this.onMove({
            target: e
        }, v, p, function() {
            a.onTouchEnd({
                target: e
            }, v, p)
        })
    },
    onDblClick: function(e, t, n) {
        var o = this,
            a = o.canvas;
        if (!_.contains(["plus", "minus"], a.current_resize_mode)) {
            var s = svgedit.math.transformPoint(t, n, o.root_sctm),
                r = a.getMouseTarget(e, s);
            a.runExtensions("dblClick", {
                event: e,
                mouse_target: r,
                mouse_x: s.x,
                mouse_y: s.y
            }), this.trigger("double_click", e), o.isAnimated = !1
        }
    },
    onTouch: function(e, t, n) {
        function o() {
            return !INKIVE.C.IS_MOBILE_APP || "select" !== c.getMode() || s()
        }

        function a() {
            return INKIVE.C.IS_MOBILE_APP && $("#ik-editor > .antiscroll-scrollbar").length && ("select" === c.getMode() || "multiselect" === c.getMode()) && (!h.length || !s())
        }

        function s() {
            var e = _.toArray(c.getSelectedElems());
            return e.length === h.length && _.all(e, function(e) {
                return _.any(h, function(t) {
                    return e.getAttribute("id") === t.getAttribute("id")
                })
            })
        }

        function r() {
            var e = M.getBoundingClientRect(),
                t = e.height > 15 && e.width > 15 || "plus" === c.current_resize_mode;
            t && (i.handler.update(u, u), _.delay(function() {
                c.current_resize_mode = "none", i.handler.destruct()
            }, 50))
        }
        var i = this,
            c = i.canvas;
        e.altKey && c.cloneSelectedElements(0, 0), i.root_sctm = $(c.getSvgPanel()).find("g#selectorParentGroup")[0].getScreenCTM().inverse();
        var l = svgedit.math.transformPoint(t, n, i.root_sctm),
            u = l.x,
            d = l.y,
            g = 2 === e.button || e.ctrlKey || $(e.target).is("#context-menu-layer");
        if (g) return "textedit" === c.getMode() || c.setMode("select"), c.lastClickPoint = l, void INKIVE.ContextMenu.handleContextMenu(e);
        var h = _.toArray(c.getSelectedElems()),
            m = c.getMouseTarget(e, l),
            v = $(e.target).closest(".subelement");
        if ($(m).contents().each(function() {
                $(this).is(".subelement.active") && $(this).removeClass("active")
            }), v.length && $.contains(m, v[0]) ? (v.addClass("active"), c.call("editor.sub_selected", [v[0]])) : c.call("editor.elem_selected", [m]), "a" === m.tagName && 1 === m.childNodes.length && (m = m.firstChild), "select" == c.getMode() && m == c.selectorManager.selectorParentGroup && null != c.getSelectedElems()[0]) {
            var p = e.target && e.target.nodeName ? e.target : e.target.correspondingUseElement,
                f = $.data(p, "type");
            "rotate" == f ? c.setMode("rotate") : "resize" == f && (c.setMode("resize"), c.current_resize_mode = $.data(p, "dir")), m = c.getSelectedElems()[0]
        }
        switch (c.startTransform = m.getAttribute("transform"), c.getMode()) {
            case "multiselect":
            case "select":
                i.handler = new INKIVE.GestureMove(c);
                break;
            case "rotate":
                i.handler = new INKIVE.GestureRotate(c);
                break;
            case "resize":
                i.handler = new INKIVE.GestureResize(c);
                break;
            default:
                i.handler = new INKIVE.GestureDraw(c)
        }
        var M = m;
        if (e.touches && e.touches.length > 1 && "resize" === c.getMode() && (M = h[0]), i.handler.init(u, d, M, g, e.shiftKey), _.contains(["plus", "minus"], c.current_resize_mode)) return void _.delay(r, 50);
        var E = c.runExtensions("mouseDown", {
            event: e,
            mouse_target: m,
            start_x: i.handler.start_x,
            start_y: i.handler.start_y,
            mouse_x: u,
            mouse_y: d,
            selectedElements: c.getSelectedElems()
        }, !0);
        i.isMovementAllowed = o(), a() ? (i.handler.destruct(), i.handler = new INKIVE.GestureScroll(c), i.handler.init(u, d, m, g, e.shiftKey), i.isMovementAllowed = c.started = !0) : i.isMovementAllowed && $.each(E, function(e, t) {
            t && t.started && (c.started = !0)
        }), i.isAnimated = !1
    },
    onMove: function(e, t, n, o) {
        o = o || $.noop;
        var a = this,
            s = a.canvas,
            r = INKIVE.RestrictionsFacade,
            i = s.getSelectedElems()[0];
        if (!_.contains(["plus", "minus"], s.current_resize_mode) && s.started && !a.isAnimated && a.isMovementAllowed) {
            if ("select" == s.getMode() && !r.canChange(i, "position") && !$(i).hasClass("layoutClipperImage")) return;
            if ("resize" == s.getMode() && !r.canChange(i, "size") && !$(i).hasClass("layoutClipperImage")) return;
            if ("rotate" == s.getMode() && !r.canChange(i, "rotation")) return;
            if ($(i).hasClass("locked") && "multiselect" != s.getMode()) {
                if (s.call("advice.show", "locked-element"), !$(i).hasClass("layoutBox")) return;
                a.onTouchEnd(e, t, n)
            }
            window.requestAnimationFrame(function() {
                if (s.started) {
                    var r = svgedit.math.transformPoint(t, n, a.root_sctm),
                        i = r.x,
                        c = r.y,
                        l = a.handler.update(i, c, e.shiftKey) || [],
                        u = s.getMouseTarget(e, r);
                    s.runExtensions("mouseMove", {
                        event: e,
                        mouse_target: u,
                        mouse_x: i,
                        mouse_y: c,
                        start_x: a.handler.start_x,
                        start_y: a.handler.start_y,
                        dx: l[0],
                        dy: l[1],
                        selected: s.getSelectedElems()
                    }), o()
                }
                a.isAnimated = !1
            }), a.isAnimated = !0
        }
    },
    onTouchEnd: function(e, t, n) {
        if (!(e.touches && e.touches.length > 1)) {
            var o = this,
                a = this.canvas,
                s = INKIVE.Tool.getInstance().editor.isClickInsideEditor(t, n);
            if (!_.contains(["plus", "minus"], a.current_resize_mode)) {
                if ("resize" === a.getMode()) {
                    var r = a.getSelectedElems()[0],
                        i = r.getAttribute("xlink:href");
                    svgedit.recalculate.recalculateDimensions(r), INKIVE.Helpers.isDataURL(i) || $(r).is(".resizing") || $(r).is(".video") || INKIVE.DesignFacade.set(r.getAttribute("id"), {
                        keep_box_size: !0,
                        source: {
                            url: i
                        }
                    })
                } else "multiselect" !== a.getMode() || a.getSelectedElems().length || s || "svgroot" === e.target.id && INKIVE.EditorFacade.trigger("click.outside", {});
                if (a.started) {
                    var c = svgedit.math.transformPoint(t, n, o.root_sctm),
                        l = c.x,
                        u = c.y,
                        d = a.getMouseTarget(e, c);
                    a.runExtensions("endResize");
                    var g = o.handler.destruct() || [],
                        h = g[0],
                        m = g[1],
                        v = a.runExtensions("mouseUp", {
                            event: e,
                            mouse_target: d,
                            mouse_x: l,
                            mouse_y: u
                        }, !0);
                    switch (this.recalculate(m), $.each(v, function(e, t) {
                        t && (h = t.keep || h, m = t.element, a.started = t.started || a.started)
                    }), a.validateSelectedElems(), a.call("editor.changed", a.getSelectedElems()), this.trigger("click", e), a.getMode()) {
                        case "select":
                            return
                    }
                    var p = _.includes(["fhpath", "square", "rect", "ellipse", "circle", "line"], a.getMode());
                    if (!h && null != m || p && !s) {
                        a.getCurrentDrawing().releaseId(a.getId()), m.parentNode.removeChild(m), m = null;
                        var f = e.target;
                        if (p && (a.setMode("select"), $("#workarea").css("cursor", "auto"), s)) {
                            var M = $(document.elementFromPoint(t, n));
                            M.is(".element") || (M = M.parents(".element")), a.selectOnly(M)
                        }
                        if (!f.parentNode) return;
                        for (;
                            "g" === f.parentNode.parentNode.tagName;) f = f.parentNode;
                        "path" !== a.getMode() && "selectorParentGroup" !== f.parentNode.id && "svgcanvas" !== f.id && "svgroot" !== f.id && (a.setMode("select"), a.selectOnly([f], !0))
                    } else if (null != m) {
                        a.addedNew = !0, m.setAttribute("opacity", a.cur_properties.opacity), m.setAttribute("style", "pointer-events:inherit"), svgedit.utilities.cleanupElement(m), "path" === a.getMode() ? a.pathActions.toEditMode(m) : a.curConfig.selectNew && (p || a.selectOnly([m], !0)), p || a.call("editor.added", [m]);
                        var E = INKIVE.Tool.getInstance();
                        INKIVE.History.onChange("draw", null, E.editor.getSvgString())
                    }
                    a.startTransform = null
                }
            }
        }
    },
    recalculate: function() {
        function e() {
            svgedit.recalculate.recalculateDimensions(t)
        }
        var t, n = _.debounce(e, 600);
        return function(o) {
            t && o !== t && e(), t = o, n()
        }
    }()
}, Backbone.Events);
INKIVE.GestureAbstract = function(t) {
    this.canvas = t, this.r_start_x = null, this.r_start_y = null, this.start_x = null, this.start_y = null
}, INKIVE.GestureAbstract.prototype = {
    constructor: INKIVE.GestureAbstract,
    init: function(t, s, r, i, a) {
        var n = this.canvas.getZoom();
        this.r_start_x = t / n, this.r_start_y = s / n, this.start_x = this.r_start_x, this.start_y = this.r_start_y
    },
    getSelectedBBox: function(t) {
        if (t) {
            var s = svgedit.utilities.getBBox(t),
                r = this.canvas.getZoom(),
                i = 1 / r,
                a = t.getAttribute("stroke-width");
            return "none" === t.getAttribute("stroke") || isNaN(a) || (i += a / 2), i *= r, {
                x: s.x + i,
                y: s.y + i,
                width: s.width - i,
                height: s.height - i
            }
        }
    },
    getSnappendCoordinates: function(t, s, r) {
        function i(t, s, r) {
            var i = this.canvas.curConfig.stepSize || 10;
            i *= this.canvas.zoomMultiplier, t = Math.floor(t / i) * i;
            var a = s + i,
                n = r / 2 - a,
                e = (n / i | 0) * i - n;
            return t - e
        }
        return this.canvas.curConfig.gridSnapping && (rs = [0, 0], r && (rs = r.call(this)), t = i.call(this, t, rs[0], this.canvas.contentW), s = i.call(this, s, rs[1], this.canvas.contentH)), [t, s]
    },
    update: function(t, s, r) {
        console.warn("Called abstract method")
    },
    destruct: function() {
        this.canvas.started = !1
    }
};
INKIVE.GestureMove = function(e) {
    INKIVE.GestureAbstract.call(this, e), this.justSelected = null
}, INKIVE.GestureMove.prototype = Object.create(INKIVE.GestureAbstract.prototype), INKIVE.GestureMove.prototype.constructor = INKIVE.GestureMove, INKIVE.GestureMove.prototype.init = function(e, t, r, s, i) {
    INKIVE.GestureAbstract.prototype.init.call(this, e, t, r, s, i);
    var a = this,
        o = a.canvas,
        n = o.getZoom(),
        l = o.getRootElem(),
        c = o.getSelectedElems();
    o.started = !s, o.current_resize_mode = "none";
    var u = r === l && c[0] && "svg_background_image" === $(c).attr("data-old-id");
    if (r !== l || u) {
        if (c.indexOf(r) !== -1 || u || (i || o.clearSelection(!0), o.addToSelection([r]), a.justSelected = r, o.pathActions.clear()), !s)
            for (var g = 0; g < c.length; ++g)
                if (null !== !c[g]) {
                    var d = svgedit.transformlist.getTransformList(c[g]);
                    d && (d.numberOfItems ? d.insertItemBefore(l.createSVGTransform(), 0) : d.appendItem(l.createSVGTransform()))
                }
    } else s || (o.clearSelection(), o.setMode("multiselect"), null == o.rubberBox && (o.rubberBox = o.selectorManager.getRubberBandBox()), a.r_start_x *= n, a.r_start_y *= n, svgedit.utilities.assignAttributes(o.rubberBox, {
        x: a.r_start_x,
        y: a.r_start_y,
        width: 0,
        height: 0,
        display: "inline"
    }, 100))
}, INKIVE.GestureMove.prototype.update = function(e, t, r) {
    var s = this,
        i = s.canvas,
        a = i.getZoom();
    e /= a, t /= a;
    var o = e,
        n = t,
        l = i.getSelectedElems(),
        c = 0,
        u = 0,
        g = i.getMode(),
        d = INKIVE.RestrictionsFacade;
    switch (g) {
        case "select":
            if (null !== l[0]) {
                if (r) {
                    var v = svgedit.math.snapToAngle(s.start_x, s.start_y, o, n);
                    o = v.x, n = v.y
                }
                if (0 != o || 0 != o)
                    for (var h = 0, m = l.length; h < m; ++h) {
                        var p = l[h];
                        if ($("#selector-rect-" + p.id).remove(), null == p) break;
                        var y = this.getSnappendCoordinates(o - s.start_x, n - s.start_y, function() {
                                var e = svgedit.utilities.getBBox(p);
                                return [e.x, e.y]
                            }),
                            I = d.applyRestriction(p, "margin", {
                                x: y[0],
                                y: y[1]
                            });
                        if (I = d.applyRestriction(p, "movement", I), c = I.x, u = I.y, $(p).hasClass("layoutClipperImage")) {
                            var b = i.runExtensions("moveLayoutClipperImage", {
                                dx: c,
                                dy: u,
                                selected: p
                            });
                            c = b.dx, u = b.dy;
                            var f = $(p).siblings("#layoutScreen"),
                                x = svgedit.utilities.getScale(p),
                                S = x.scale ? x.scale.matrix.a : 1,
                                _ = x.scale ? x.scale.matrix.d : 1;
                            f.length && svgedit.utilities.assignAttributes(f[0], {
                                x: parseFloat(p.getAttribute("x")) + c * S,
                                y: parseFloat(p.getAttribute("y")) + u * _
                            }, 100)
                        } else if ($(p).hasClass("backgroundTransitionLimit")) {
                            var E = svgedit.utilities.getBBox(p);
                            E.x + c <= 0 && (c = -E.x), E.x + E.width + c >= i.contentW && (c = i.contentW - (E.x + E.width)), E.y + u <= 0 && (u = -E.y), E.y + E.height + u >= i.contentH && (u = i.contentH - (E.y + E.height))
                        }
                        var M = svgroot.createSVGTransform(),
                            V = svgedit.transformlist.getTransformList(p);
                        M.setTranslate(c, u), V.numberOfItems ? V.replaceItem(M, 0) : V.appendItem(M), i.selectorManager.requestSelector(p).resize()
                    }
            }
            break;
        case "multiselect":
            e *= a, t *= a, svgedit.utilities.assignAttributes(i.rubberBox, {
                x: Math.min(s.r_start_x, e),
                y: Math.min(s.r_start_y, t),
                width: Math.abs(e - s.r_start_x),
                height: Math.abs(t - s.r_start_y)
            }, 100);
            var B = [],
                A = [],
                G = i.getIntersectionList();
            for (h = 0, m = l.length; h < m; ++h) {
                var N = G.indexOf(l[h]);
                N == -1 ? B.push(l[h]) : G[N] = null
            }
            for (h = 0, m = G.length; h < m; ++h) G[h] && A.push(G[h]);
            B.length > 0 && i.removeFromSelection(B), A.length > 0 && i.addToSelection(A)
    }
    return [c, u]
}, INKIVE.GestureMove.prototype.destruct = function() {
    INKIVE.GestureAbstract.prototype.destruct.call(this);
    var e = this.canvas,
        t = e.getSelectedElems(),
        r = e.getMode();
    switch (this.justSelected = null, r) {
        case "multiselect":
            null != e.rubberBox && (e.rubberBox.setAttribute("display", "none"), e.curBBoxes = []), e.setMode("select");
        case "select":
            if (null != t[0]) {
                null == t[1] && e.selectorManager.requestSelector(t[0]).showGrips(!0);
                var s, i = e.recalculateAllSelectedDimensions(),
                    a = t.length;
                for (s = 0; s < a && null != t[s]; ++s) t[s].firstChild || e.selectorManager.requestSelector(t[s]).resize();
                if (svgedit.browser.supportsNonScalingStroke()) {
                    var o = t[0];
                    o && (o.removeAttribute("style"), svgedit.utilities.walkTree(o, function(e) {
                        e.removeAttribute("style")
                    }))
                }
                _.each(t, function(t) {
                    e.runExtensions("generateOutsideCanvasSelectionBox", t)
                })
            }
    }
    if (i && i.length) {
        var n = INKIVE.Tool.getInstance();
        INKIVE.History.onChange("move", {
            elements: t
        }, n.editor.getSvgString())
    }
};
INKIVE.GestureResize = function(t) {
    INKIVE.GestureAbstract.call(this, t), this.init_bbox = {}
}, INKIVE.GestureResize.prototype = Object.create(INKIVE.GestureAbstract.prototype), INKIVE.GestureResize.prototype.constructor = INKIVE.GestureResize, INKIVE.GestureResize.prototype.init = function(t, e, i) {
    INKIVE.GestureAbstract.prototype.init.call(this, t, e);
    var r = this,
        s = r.canvas,
        n = s.getZoom(),
        o = $(i),
        a = svgedit.transformlist.getTransformList(i);
    if (this.isHorizontalTextResize = $(i).hasClass("textarea") && 1 == s.current_resize_mode.length, this.isHorizontalTextResize) {
        s.runExtensions("startResize", {
            elem: i
        });
        var h = svgedit.utilities.getBBox(i);
        this.textSourface = h.width * h.height;
        var g = i.getElementsByTagName("g")[0];
        i = i.getElementsByTagName("rect")[0], s.startTransform = i.getAttribute("transform"), a = svgedit.transformlist.getTransformList(i);
        var l = svgedit.utilities.getBBox(g),
            u = svgedit.utilities.getBBox(i);
        this.originalTextProportion = u.width / l.width, this.originalTextMargin = {
            left: l.x - u.x,
            right: u.x + u.width - (l.x + l.width)
        }
    }
    s.started = !0, r.init_bbox = svgedit.utilities.getBBox($("#selectedBox0")[0]);
    var d = {};
    $.each(r.init_bbox, function(t, e) {
        d[t] = e / n
    }), r.init_bbox = d, this.angle = svgedit.utilities.getRotationAngle(i);
    var c = this.angle ? 1 : 0;
    svgedit.math.hasMatrixTransform(a) ? (a.insertItemBefore(svgroot.createSVGTransform(), c), a.insertItemBefore(svgroot.createSVGTransform(), c), a.insertItemBefore(svgroot.createSVGTransform(), c)) : (a.appendItem(svgroot.createSVGTransform()), a.appendItem(svgroot.createSVGTransform()), a.appendItem(svgroot.createSVGTransform())), this.angle && o.is("image") && (this.$rotatedElement = o.clone(), this.$rotatedElement.removeAttr("id"), this.autoSave = INKIVE.C.IS_AUTO_SAVE, INKIVE.C.IS_AUTO_SAVE = !1, this.$rotatedElement.insertAfter(o), $("#selectorGroup0").hide(), svgedit.transformlist.getTransformList(o[0]).removeItem(0), o.hide())
}, INKIVE.GestureResize.prototype.update = function(t, e, i) {
    function r(t, e, i) {
        var r = "undefined" == typeof e ? G.sx : e,
            s = "undefined" == typeof i ? G.sy : i;
        return {
            top: v._currentResizeModeInvolves("n") ? t.y + t.height * (1 - s) : t.y,
            left: v._currentResizeModeInvolves("w") ? t.x + t.width * (1 - r) : t.x,
            right: t.x + t.width * r,
            bottom: t.y + t.height * s
        }
    }

    function s(t) {
        return {
            top: t.y,
            left: t.x,
            right: t.x + t.width,
            bottom: t.y + t.height
        }
    }

    function n() {
        function i() {
            var i = svgedit.utilities.getBBox(I),
                o = I.getBBox(),
                a = t - v.start_x,
                h = e - v.start_y,
                g = a > 0 && "e" == n || a < 0 && "w" == n ? 1 : 0,
                l = h > 0 && "s" == n || h < 0 && "n" == n ? 1 : 0,
                u = r(i, g, l),
                d = s(o, g, l);
            return !("e" == n && d.right < u.right || "s" == n && d.bottom < u.bottom || "w" == n && d.left > u.left || "n" == n && d.top > u.top)
        }
        var n = f.current_resize_mode;
        return y.hasClass("layoutBox") && ("e" == n || "w" == n || "n" == n || "s" == n) && i()
    }

    function o() {
        var t;
        if (n()) {
            var e = svgedit.utilities.getClipPath(I);
            t = svgedit.transformlist.getTransformList(e.childNodes[0])
        } else if (y.hasClass("textarea") && 1 == f.current_resize_mode.length) {
            var i = I.getElementsByTagName("rect")[0];
            t = svgedit.transformlist.getTransformList(i)
        }
        return t ? (t.appendItem(svgroot.createSVGTransform()), t.appendItem(svgroot.createSVGTransform()), t.appendItem(svgroot.createSVGTransform()), t) : svgedit.transformlist.getTransformList(I)
    }

    function a() {
        var t = z ? v.init_bbox : svgedit.utilities.getBBox(I);
        return {
            left: t.x,
            top: t.y,
            width: t.width,
            height: t.height
        }
    }

    function h() {
        function i() {
            h = v._currentResizeModeInvolves("e") ? t - b.left - b.width : t - b.left
        }

        function r() {
            h = v._currentResizeModeInvolves("e") ? t - b.left - b.width : t - b.left, g = v._currentResizeModeInvolves("s") ? e - (b.top + b.height) : e - b.top
        }

        function s() {
            h = svgedit.utilities.snapToGrid(h), g = svgedit.utilities.snapToGrid(g), b.height = svgedit.utilities.snapToGrid(b.height), b.width = svgedit.utilities.snapToGrid(b.width)
        }

        function o() {
            var t = Math.sqrt(h * h + g * g),
                e = Math.atan2(g, h) - T * Math.PI / 180;
            h = t * Math.cos(e), g = t * Math.sin(e)
        }

        function a() {
            var t = !v._currentResizeModeInvolves("n") && !v._currentResizeModeInvolves("s"),
                e = !v._currentResizeModeInvolves("e") && !v._currentResizeModeInvolves("w");
            g = t ? 0 : g, h = e ? 0 : h
        }
        var h = t - v.start_x,
            g = e - v.start_y;
        return n() && r(), v.isHorizontalTextResize && i(), f.curConfig.gridSnapping && s(), T && o(), a(), {
            x: h,
            y: g
        }
    }

    function g() {
        function t() {
            h = b.height ? (b.height - E.y) / b.height : 1, a = b.height
        }

        function e() {
            g = b.width ? (b.width - E.x) / b.width : 1, o = b.width
        }

        function r(t) {
            var e = t ? 1.15 : .85;
            g = e, h = e, o = 0, a = 0
        }

        function s() {
            var t = f.current_resize_mode.length > 1,
                e = f.runExtensions("isEmptyLayout", {
                    layoutBox: I
                });
            return !v.isHorizontalTextResize && ("image" == I.tagName && !e && !n() || y.children().hasClass("textarea") || y.hasClass("square") || y.find("square").length > 0 || t)
        }
        var o = 0,
            a = 0,
            h = b.height ? (b.height + E.y) / b.height : 1,
            g = b.width ? (b.width + E.x) / b.width : 1;
        if (v._currentResizeModeInvolves("n") && t(), v._currentResizeModeInvolves("w") && e(), (i || s()) && (1 == g ? g = h : h = g), v.isHorizontalTextResize) {
            var l = v.textSourface / (b.width + E.x);
            h = l / b.height
        }
        return v._currentResizeModeInvolves("plus") && r(!0), v._currentResizeModeInvolves("minus") && r(!1), {
            tx: o,
            ty: a,
            sx: g,
            sy: h
        }
    }

    function l() {
        b.left = svgedit.utilities.snapToGrid(b.left), G.tx = svgedit.utilities.snapToGrid(G.tx), b.top = svgedit.utilities.snapToGrid(b.top), G.ty = svgedit.utilities.snapToGrid(G.ty)
    }

    function u() {
        function t() {
            function t() {
                var t = "undefined" == typeof e ? G.sx : e,
                    s = "undefined" == typeof e ? G.sy : e,
                    n = I.parentElement;
                o = r(i, t, s), svgedit.utilities.assignAttributes(n, {
                    x: o.left,
                    y: o.top,
                    width: i.width * G.sx,
                    height: i.height * G.sy
                }, 100)
            }
            var e, i = svgedit.utilities.getBBox(I),
                n = f.runExtensions("getLayoutBoxCoord", {
                    layoutBox: I
                }),
                o = r(i),
                a = s(n),
                h = o.top > a.top,
                g = o.left > a.left,
                l = o.right < a.right,
                u = o.bottom < a.bottom,
                d = [];
            l && d.push((a.right - o.left) / i.width), u && d.push((a.bottom - o.top) / i.height), g && d.push(1 - (a.left - i.x) / i.width), h && d.push(1 - (a.top - i.y) / i.height), d.length && (e = _.max(d), G.sx = e, G.sy = e), t()
        }

        function e() {
            var t = svgedit.utilities.getBBox(I),
                e = !1,
                i = G.tx ? t.width + t.x : f.contentW - t.x,
                r = i <= t.width * G.sx;
            r && (G.sx = G.sy = i / t.width, e = !0);
            var s = G.ty ? t.height + t.y : f.contentH - t.y,
                n = s <= t.height * G.sy;
            n && (G.sx = G.sy = s / t.height, e = !0), e && (t.x + E.x <= 0 && (E.x = -t.x), t.x + t.width + E.x >= f.contentW && (E.x = f.contentW - (t.x + t.width)), t.y + E.y <= 0 && (E.y = -t.y), t.y + t.height + E.y >= f.contentH && (E.y = f.contentH - (t.y + t.height)))
        }
        y.hasClass("layoutClipperImage") && t(), y.hasClass("backgroundTransitionLimit") && e()
    }

    function d() {
        function t() {
            function t() {
                var t = I.getElementsByTagName("rect")[0];
                return svgedit.recalculate.recalculateDimensions(t), svgedit.utilities.getBBox(t)
            }

            function e() {
                var t = {
                        x: 0,
                        y: 24
                    },
                    e = svgedit.utilities.getBBox(s);
                _.each(n, function(t, e) {
                    n[e] = t * m
                }), s.setAttribute("x", n.x + (n.width - e.width) / 2 + t.x), s.setAttribute("y", n.y + (n.height - e.height) / 2 + t.y), s.setAttribute("font-size", n.width / 20), r.setAttribute("x", n.x), r.setAttribute("y", n.y), r.setAttribute("width", n.width), r.setAttribute("height", n.height)
            }

            function i() {
                var t = I.getElementsByTagName("g")[0],
                    e = svgedit.utilities.getBBox(t),
                    i = svgedit.transformlist.getTransformList(t);
                i.clear();
                var r = n.width / (e.width * v.originalTextProportion),
                    s = v._currentResizeModeInvolves("w") ? e.width + v.originalTextMargin.right : -v.originalTextMargin.left,
                    o = svgroot.createSVGTransform(),
                    a = svgroot.createSVGTransform(),
                    h = svgroot.createSVGTransform();
                h.setTranslate(-e.x - s, -e.y), a.setScale(r, n.height / e.height), o.setTranslate(e.x + s, e.y), i.appendItem(o), i.appendItem(a), i.appendItem(h)
            }
            var r = $("#hint-box")[0],
                s = $("#hint-text")[0];
            if (s && r) {
                var n = t();
                i(), e()
            }
        }

        function e() {
            var t = svgedit.utilities.getClipPath(I),
                e = t.childNodes[0];
            svgedit.recalculate.recalculateDimensions(e), I.textContent = e.getAttribute("x") + " " + e.getAttribute("y") + " " + e.getAttribute("width") + " " + e.getAttribute("height")
        }
        v.isHorizontalTextResize && t(), n() && e()
    }

    function c() {
        function t() {
            var t = T ? 1 : 0;
            w.replaceItem(r, 2 + t), w.replaceItem(B, 1 + t), w.replaceItem(i, Number(t))
        }

        function e() {
            var t = w.numberOfItems;
            w.replaceItem(i, t - 3), w.replaceItem(B, t - 2), w.replaceItem(r, t - 1)
        }
        var i = svgroot.createSVGTransform(),
            r = svgroot.createSVGTransform();
        r.setTranslate(-b.left - G.tx, -b.top - G.ty), B.setScale(G.sx, G.sy), i.setTranslate(b.left + G.tx, b.top + G.ty), z && t(), z || e(), f.selectorManager.requestSelector(I).resize()
    }
    var v = this,
        f = v.canvas,
        m = f.getZoom();
    t /= m, e /= m;
    var x = this.getSnappendCoordinates(t, e);
    t = x[0], e = x[1];
    var p = f.getSelectedElems(),
        I = p[0],
        y = $(I),
        T = svgedit.utilities.getRotationAngle(I),
        w = o(),
        z = svgedit.math.hasMatrixTransform(w),
        b = a(),
        E = h(),
        G = g();
    if (!(G.sx * b.width < 10 || G.sy * b.height < 10) || y.is("line")) {
        f.curConfig.gridSnapping && l();
        var B = svgroot.createSVGTransform();
        if (u(), c(), d(), this.$rotatedElement)
            for (var S = svgedit.transformlist.getTransformList(I), V = svgedit.transformlist.getTransformList(this.$rotatedElement[0]), R = 0; R < S.numberOfItems; R++) V.numberOfItems > 1 ? V.replaceItem(_.clone(S.getItem(R)), R + 1) : V.appendItem(_.clone(S.getItem(R)));
        var A = E.x,
            M = E.y;
        return [A, M]
    }
}, INKIVE.GestureResize.prototype._isCurrentResizeMode = function(t) {
    return this.canvas.current_resize_mode.indexOf(t) === t
}, INKIVE.GestureResize.prototype._currentResizeModeInvolves = function(t) {
    return this.canvas.current_resize_mode.indexOf(t) > -1
}, INKIVE.GestureResize.prototype.destruct = function() {
    INKIVE.GestureAbstract.prototype.destruct.call(this);
    var t = this.canvas,
        e = t.getSelectedElems();
    t.setMode("select");
    var i = t.recalculateAllSelectedDimensions();
    this.$rotatedElement && (this.$rotatedElement.remove(), $(e).show(), $("#selectorGroup0").show(), this.angle && t.setRotationAngle(this.angle), INKIVE.C.IS_AUTO_SAVE = this.autoSave);
    var r, s = e.length;
    for (r = 0; r < s && null != e[r]; ++r) e[r].firstChild || t.selectorManager.requestSelector(e[r]).resize();
    if (i.length) {
        var n = INKIVE.Tool.getInstance();
        INKIVE.History.onChange("resize", {
            elements: e
        }, n.editor.getSvgString())
    }
};
INKIVE.GestureRotate = function(t) {
    INKIVE.GestureAbstract.call(this, t)
}, INKIVE.GestureRotate.prototype = Object.create(INKIVE.GestureAbstract.prototype), INKIVE.GestureRotate.prototype.constructor = INKIVE.GestureRotate, INKIVE.GestureRotate.prototype.init = function(t, e) {
    INKIVE.GestureAbstract.prototype.init.call(this, t, e);
    var r = this,
        i = r.canvas;
    i.getSelectedElems();
    this.rotateLimitReachedList = [], i.started = !0
}, INKIVE.GestureRotate.prototype.update = function(t, e, r) {
    function i() {
        var t = new Date,
            e = 5,
            r = 2e3,
            i = _.reduce(this.rotateLimitReachedList, function(e, i) {
                var a = t - i;
                return e + (a > r ? 1 : 0)
            }, 1);
        return this.rotateLimitReachedList.push(t), i > e
    }

    function a() {
        f = svgedit.utilities.snapToGrid(f)
    }

    function o() {
        var t = 45;
        f = Math.round(f / t) * t
    }

    function n() {
        f += f < -360 ? 720 : 180
    }

    function s() {
        var t = svgedit.utilities.getBBox(v),
            e = t.x + t.width / 2,
            r = t.y + t.height / 2,
            i = svgedit.math.getMatrix(v),
            a = svgedit.math.transformPoint(e, r, i);
        return {
            x: a.x,
            y: a.y
        }
    }

    function h() {
        var t = Math.atan2(I.y - g, I.x - p),
            e = t * (180 / Math.PI) - 90;
        return e % 360
    }

    function u() {
        function t() {
            var t = svgedit.utilities.getBBox(v);
            return {
                left: t.x,
                top: t.y,
                width: t.width,
                height: t.height
            }
        }

        function e() {
            var t = v.textContent.replace(/[^\d.-\s]/g, "").split(" ");
            return {
                x: parseFloat(t[0]),
                y: parseFloat(t[1]),
                width: parseFloat(t[2]),
                height: parseFloat(t[3])
            }
        }

        function r(t, e) {
            function r(t) {
                var e = Math.round(Math.cos(a) * (t.x - n.x) - Math.sin(a) * (t.y - n.y) + n.x),
                    r = Math.round(Math.sin(a) * (t.x - n.x) + Math.cos(a) * (t.y - n.y) + n.y);
                return {
                    x: e,
                    y: r
                }
            }

            function i(t, e, r) {
                var i = t.x - e.x,
                    a = e.x - r.x,
                    o = r.x - t.x,
                    n = t.y - e.y,
                    s = e.y - r.y,
                    h = r.y - t.y,
                    u = Math.sqrt(i * i + n * n),
                    c = Math.sqrt(a * a + s * s),
                    l = Math.sqrt(o * o + h * h),
                    d = (u + c + l) / 2;
                return Math.sqrt(d * (d - u) * (d - c) * (d - l))
            }
            var a = f * Math.PI / 180,
                o = e.width * e.height,
                n = {
                    x: e.left + e.width / 2,
                    y: e.top + e.height / 2
                },
                s = [{
                    x: e.left,
                    y: e.top
                }, {
                    x: e.left,
                    y: e.top + e.height
                }, {
                    x: e.left + e.width,
                    y: e.top + e.height
                }, {
                    x: e.left + e.width,
                    y: e.top
                }],
                h = _.map(s, r);
            return o /= 1e3, _.some(t, function(t) {
                for (var e = 0, r = 0; r < 4; r++) {
                    var a = h[r],
                        n = h[r < 3 ? r + 1 : 0];
                    e += i(a, n, t)
                }
                return e = Math.floor(e / 1e3), e > o
            })
        }
        var i = e(),
            a = t();
        return r([{
            x: i.x,
            y: i.y
        }, {
            x: i.x,
            y: i.y + i.height
        }, {
            x: i.x + i.width,
            y: i.y + i.height
        }, {
            x: i.x + i.width,
            y: i.y
        }], a)
    }
    var c = this,
        l = c.canvas,
        d = l.getZoom();
    t /= d, e /= d;
    var y = this.getSnappendCoordinates(t, e),
        p = y[0],
        g = y[1],
        x = l.getSelectedElems(),
        v = x[0],
        I = s(),
        f = h();
    return l.curConfig.gridSnapping && a(), r && o(), n(), $(v).hasClass("layoutClipperImage") && u() ? void(i.call(this) && l.call("advice.show", "clipper-rotation-limit")) : void l.setRotationAngle(f, !0)
}, INKIVE.GestureRotate.prototype.destruct = function() {
    INKIVE.GestureAbstract.prototype.destruct.call(this);
    var t = this,
        e = t.canvas,
        r = e.getSelectedElems();
    e.setMode("select"), e.recalculateAllSelectedDimensions(), e.call("editor.changed", r);
    var i = INKIVE.Tool.getInstance();
    INKIVE.History.onChange("rotate", null, i.editor.getSvgString())
};
INKIVE.GestureScroll = function(t) {
    this.tapDistance = 30, this.$el = $("#workarea"), INKIVE.GestureAbstract.call(this, t)
}, INKIVE.GestureScroll.prototype = new INKIVE.GestureAbstract, INKIVE.GestureScroll.prototype.constructor = INKIVE.GestureScroll, INKIVE.GestureScroll.prototype.init = function(t, s, r, l, i) {
    INKIVE.GestureAbstract.prototype.init.apply(this, arguments), this.hasScrolled = !1, this.startingX = t, this.startingY = s, this.startingScrollX = this.$el.scrollLeft(), this.startingScrollY = this.$el.scrollTop()
}, INKIVE.GestureScroll.prototype.update = function(t, s, r) {
    if (null !== this.startingX && null !== this.startingY) {
        var l = this.startingX - t,
            i = this.startingY - s;
        this.$el.scrollTop(this.startingScrollY + i).scrollLeft(this.startingScrollX + l), this.hasScrolled || (l = Math.abs(this.startingX - t), i = Math.abs(this.startingY - s), this.hasScrolled = l + i > this.tapDistance)
    }
}, INKIVE.GestureScroll.prototype.destruct = function() {
    INKIVE.GestureAbstract.prototype.destruct.call(this), this.hasScrolled && this.canvas.clearSelection(), this.startingX = null, this.startingY = null
};
INKIVE.GestureDraw = function(t) {
    INKIVE.GestureAbstract.call(this, t), this.start = {
        x: 0,
        y: 0
    }, this.end = {
        x: 0,
        y: 0
    }, this.d_attr = null, this.freehand = {
        minx: null,
        miny: null,
        maxx: null,
        maxy: null
    }, this.controllPoint2 = {
        x: 0,
        y: 0
    }, this.controllPoint1 = {
        x: 0,
        y: 0
    }, this.STEP_COUNT = 10, this.THRESHOLD_DIST = .8, this.sumDistance = 0
}, INKIVE.GestureDraw.prototype = Object.create(INKIVE.GestureAbstract.prototype), INKIVE.GestureDraw.prototype.constructor = INKIVE.GestureDraw, INKIVE.GestureDraw.prototype.init = function(t, e) {
    INKIVE.GestureAbstract.prototype.init.call(this, t, e);
    var r = this,
        a = r.canvas,
        s = a.cur_properties;
    switch (a.getMode()) {
        case "fhellipse":
        case "fhrect":
        case "fhpath":
            r.start.x = r.r_start_x, r.start.y = r.r_start_y, a.started = !0, r.d_attr = r.r_start_x + "," + r.r_start_y + " ";
            var i = 0 == s.stroke_width ? 1 : s.stroke_width;
            a.addSvgElementFromJson({
                element: "polyline",
                curStyles: !0,
                attr: {
                    points: r.d_attr,
                    id: a.getNextId(),
                    fill: "none",
                    opacity: s.opacity / 2,
                    "stroke-linecap": "round",
                    style: "pointer-events:none"
                }
            }), r.freehand = {
                minx: r.r_start_x,
                maxx: r.r_start_x,
                miny: r.r_start_y,
                maxy: r.r_start_y
            };
            break;
        case "square":
        case "rect":
            a.started = !0, a.addSvgElementFromJson({
                element: "rect",
                curStyles: !0,
                attr: {
                    x: r.start_x,
                    y: r.start_y,
                    width: 0,
                    height: 0,
                    id: a.getNextId(),
                    opacity: s.opacity / 2
                }
            });
            break;
        case "line":
            a.started = !0;
            var i = 0 == s.stroke_width ? 1 : s.stroke_width;
            a.addSvgElementFromJson({
                element: "line",
                curStyles: !0,
                attr: {
                    x1: r.start_x,
                    y1: r.start_y,
                    x2: r.start_x,
                    y2: r.start_y,
                    id: a.getNextId(),
                    stroke: s.stroke,
                    "stroke-width": i,
                    "stroke-dasharray": s.stroke_dasharray,
                    "stroke-linejoin": s.stroke_linejoin,
                    "stroke-linecap": s.stroke_linecap,
                    "stroke-opacity": s.stroke_opacity,
                    fill: "none",
                    opacity: s.opacity / 2,
                    style: "pointer-events:none"
                }
            });
            break;
        case "circle":
            a.started = !0, a.addSvgElementFromJson({
                element: "circle",
                curStyles: !0,
                attr: {
                    cx: r.start_x,
                    cy: r.start_y,
                    r: 0,
                    id: a.getNextId(),
                    opacity: s.opacity / 2
                }
            });
            break;
        case "ellipse":
            a.started = !0, a.addSvgElementFromJson({
                element: "ellipse",
                curStyles: !0,
                attr: {
                    cx: r.start_x,
                    cy: r.start_y,
                    rx: 0,
                    ry: 0,
                    id: a.getNextId(),
                    opacity: s.opacity / 2
                }
            })
    }
}, INKIVE.GestureDraw.prototype.update = function(t, e, r) {
    var a = this,
        s = a.canvas,
        i = s.getZoom();
    t /= i, e /= i;
    var n = this.getSnappendCoordinates(t, e),
        o = n[0],
        l = n[1],
        d = svgedit.utilities.getElem(s.getId()),
        y = s.getMode();
    switch (y) {
        case "line":
            var c = null;
            window.opera || svgroot.suspendRedraw(1e3);
            var x = o,
                u = l;
            if (r) {
                var p = svgedit.math.snapToAngle(a.start_x, a.start_y, x, u);
                x = p.x, u = p.y
            }
            d.setAttributeNS(null, "x2", x), d.setAttributeNS(null, "y2", u), window.opera || svgroot.unsuspendRedraw(c);
            break;
        case "foreignObject":
        case "square":
        case "rect":
        case "image":
            var h, g, _ = "square" == y || r,
                m = Math.abs(o - a.start_x),
                v = Math.abs(l - a.start_y);
            _ ? (m = v = Math.max(m, v), h = a.start_x < o ? a.start_x : a.start_x - m, g = a.start_y < l ? a.start_y : a.start_y - v) : (h = Math.min(a.start_x, o), g = Math.min(a.start_y, l)), s.curConfig.gridSnapping && (m = svgedit.utilities.snapToGrid(m), v = svgedit.utilities.snapToGrid(v), h = svgedit.utilities.snapToGrid(h), g = svgedit.utilities.snapToGrid(g)), svgedit.utilities.assignAttributes(d, {
                width: m,
                height: v,
                x: h,
                y: g
            }, 1e3);
            break;
        case "circle":
            var b = $(d).attr(["cx", "cy"]),
                f = b.cx,
                I = b.cy,
                w = Math.sqrt((o - f) * (o - f) + (l - I) * (l - I));
            s.curConfig.gridSnapping && (w = svgedit.utilities.snapToGrid(w)), d.setAttributeNS(null, "r", w);
            break;
        case "ellipse":
            var b = $(d).attr(["cx", "cy"]),
                f = b.cx,
                I = b.cy;
            c = null, window.opera || svgroot.suspendRedraw(1e3), s.curConfig.gridSnapping && (o = svgedit.utilities.snapToGrid(o), f = svgedit.utilities.snapToGrid(f), l = svgedit.utilities.snapToGrid(l), I = svgedit.utilities.snapToGrid(I)), d.setAttributeNS(null, "rx", Math.abs(o - f));
            var S = Math.abs(r ? o - f : l - I);
            d.setAttributeNS(null, "ry", S), window.opera || svgroot.unsuspendRedraw(c);
            break;
        case "fhellipse":
        case "fhrect":
            a.freehand.minx = Math.min(t, a.freehand.minx), a.freehand.maxx = Math.max(t, a.freehand.maxx), a.freehand.miny = Math.min(e, a.freehand.miny), a.freehand.maxy = Math.max(e, a.freehand.maxy);
        case "fhpath":
            if (a.end.x = t, a.end.y = e, a.controllPoint2.x && a.controllPoint2.y)
                for (var k = 0; k < a.STEP_COUNT - 1; k++) {
                    var T = k / a.STEP_COUNT,
                        N = (k + 1) / a.STEP_COUNT,
                        E = a._getBsplinePoint(N),
                        G = E;
                    E = a._getBsplinePoint(T), a.sumDistance += Math.sqrt((G.x - E.x) * (G.x - E.x) + (G.y - E.y) * (G.y - E.y)), a.sumDistance > a.THRESHOLD_DIST && (a.d_attr += +E.x + "," + E.y + " ", d.setAttributeNS(null, "points", a.d_attr), a.sumDistance -= a.THRESHOLD_DIST)
                }
            a.controllPoint2 = {
                x: a.controllPoint1.x,
                y: a.controllPoint1.y
            }, a.controllPoint1 = {
                x: a.start.x,
                y: a.start.y
            }, a.start = {
                x: a.end.x,
                y: a.end.y
            };
            break;
        case "path":
        case "pathedit":
            if (o *= i, l *= i, s.curConfig.gridSnapping && (o = svgedit.utilities.snapToGrid(o), l = svgedit.utilities.snapToGrid(l), a.start_x = svgedit.utilities.snapToGrid(a.start_x), a.start_y = svgedit.utilities.snapToGrid(a.start_y)), r) {
                var M, P, A = svgedit.path.path;
                A ? (M = A.dragging ? A.dragging[0] : a.start_x, P = A.dragging ? A.dragging[1] : a.start_y) : (M = a.start_x, P = a.start_y);
                var p = svgedit.math.snapToAngle(M, P, o, l);
                o = p.x, l = p.y
            }
            s.rubberBox && "none" !== s.rubberBox.getAttribute("display") && (t *= i, e *= i, svgedit.utilities.assignAttributes(s.rubberBox, {
                x: Math.min(a.r_start_x * i, t),
                y: Math.min(a.r_start_y * i, e),
                width: Math.abs(t - a.r_start_x * i),
                height: Math.abs(e - a.r_start_y * i)
            }, 100)), s.pathActions.mouseMove(t, e)
    }
}, INKIVE.GestureDraw.prototype._getBsplinePoint = function(t) {
    var e = {
            x: 0,
            y: 0
        },
        r = this.controllPoint2,
        a = this.controllPoint1,
        s = this.start,
        i = this.end,
        n = 1 / 6,
        o = t * t,
        l = o * t,
        d = [
            [-1, 3, -3, 1],
            [3, -6, 3, 0],
            [-3, 0, 3, 0],
            [1, 4, 1, 0]
        ];
    return e.x = n * ((r.x * d[0][0] + a.x * d[0][1] + s.x * d[0][2] + i.x * d[0][3]) * l + (r.x * d[1][0] + a.x * d[1][1] + s.x * d[1][2] + i.x * d[1][3]) * o + (r.x * d[2][0] + a.x * d[2][1] + s.x * d[2][2] + i.x * d[2][3]) * t + (r.x * d[3][0] + a.x * d[3][1] + s.x * d[3][2] + i.x * d[3][3])), e.y = n * ((r.y * d[0][0] + a.y * d[0][1] + s.y * d[0][2] + i.y * d[0][3]) * l + (r.y * d[1][0] + a.y * d[1][1] + s.y * d[1][2] + i.y * d[1][3]) * o + (r.y * d[2][0] + a.y * d[2][1] + s.y * d[2][2] + i.y * d[2][3]) * t + (r.y * d[3][0] + a.y * d[3][1] + s.y * d[3][2] + i.y * d[3][3])), {
        x: e.x,
        y: e.y
    }
}, INKIVE.GestureDraw.prototype.destruct = function() {
    INKIVE.GestureAbstract.prototype.destruct.call(this);
    var t = this,
        e = t.canvas,
        r = e.getMode(),
        a = svgedit.utilities.getElem(e.getId()),
        s = !1;
    switch (r) {
        case "fhpath":
            t.sumDistance = 0, t.controllPoint2 = {
                x: 0,
                y: 0
            }, t.controllPoint1 = {
                x: 0,
                y: 0
            }, t.start = {
                x: 0,
                y: 0
            }, t.end = {
                x: 0,
                y: 0
            };
            var i = a.getAttribute("points"),
                n = i.indexOf(",");
            s = n >= 0 ? i.indexOf(",", n + 1) >= 0 : i.indexOf(" ", i.indexOf(" ") + 1) >= 0, s && (a = e.pathActions.smoothPolylineIntoPath(a)), $(a).addClass("element");
            break;
        case "line":
            var o = $(a).attr(["x1", "x2", "y1", "y2"]);
            s = o.x1 != o.x2 || o.y1 != o.y2, $(a).addClass("element");
            break;
        case "foreignObject":
        case "square":
        case "rect":
            $(a).addClass("element");
        case "image":
            var o = $(a).attr(["width", "height"]);
            s = 0 != o.width || 0 != o.height || "image" === r;
            break;
        case "circle":
            s = 0 != a.getAttribute("r"), $(a).addClass("element");
            break;
        case "ellipse":
            var o = $(a).attr(["rx", "ry"]);
            s = null != o.rx && 0 !== o.rx || null != o.ry && 0 !== o.ry, $(a).addClass("element")
    }
    return [s, a]
};
! function() {
    "use strict";
    "SVGPathSeg" in window || (window.SVGPathSeg = function(t, e, r) {
        this.pathSegType = t, this.pathSegTypeAsLetter = e, this._owningPathSegList = r
    }, SVGPathSeg.PATHSEG_UNKNOWN = 0, SVGPathSeg.PATHSEG_CLOSEPATH = 1, SVGPathSeg.PATHSEG_MOVETO_ABS = 2, SVGPathSeg.PATHSEG_MOVETO_REL = 3, SVGPathSeg.PATHSEG_LINETO_ABS = 4, SVGPathSeg.PATHSEG_LINETO_REL = 5, SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS = 6, SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL = 7, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS = 8, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL = 9, SVGPathSeg.PATHSEG_ARC_ABS = 10, SVGPathSeg.PATHSEG_ARC_REL = 11, SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS = 12, SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL = 13, SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS = 14, SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL = 15, SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS = 16, SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL = 17, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS = 18, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL = 19, SVGPathSeg.prototype._segmentChanged = function() {
        this._owningPathSegList && this._owningPathSegList.segmentChanged(this)
    }, window.SVGPathSegClosePath = function(t) {
        SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CLOSEPATH, "z", t)
    }, SVGPathSegClosePath.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegClosePath.prototype.toString = function() {
        return "[object SVGPathSegClosePath]"
    }, SVGPathSegClosePath.prototype._asPathString = function() {
        return this.pathSegTypeAsLetter
    }, SVGPathSegClosePath.prototype.clone = function() {
        return new SVGPathSegClosePath((void 0))
    }, window.SVGPathSegMovetoAbs = function(t, e, r) {
        SVGPathSeg.call(this, SVGPathSeg.PATHSEG_MOVETO_ABS, "M", t), this._x = e, this._y = r
    }, SVGPathSegMovetoAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegMovetoAbs.prototype.toString = function() {
        return "[object SVGPathSegMovetoAbs]"
    }, SVGPathSegMovetoAbs.prototype._asPathString = function() {
        return this.pathSegTypeAsLetter + " " + this._x + " " + this._y
    }, SVGPathSegMovetoAbs.prototype.clone = function() {
        return new SVGPathSegMovetoAbs((void 0), this._x, this._y)
    }, Object.defineProperty(SVGPathSegMovetoAbs.prototype, "x", {
        get: function() {
            return this._x
        },
        set: function(t) {
            this._x = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegMovetoAbs.prototype, "y", {
        get: function() {
            return this._y
        },
        set: function(t) {
            this._y = t, this._segmentChanged()
        },
        enumerable: !0
    }), window.SVGPathSegMovetoRel = function(t, e, r) {
        SVGPathSeg.call(this, SVGPathSeg.PATHSEG_MOVETO_REL, "m", t), this._x = e, this._y = r
    }, SVGPathSegMovetoRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegMovetoRel.prototype.toString = function() {
        return "[object SVGPathSegMovetoRel]"
    }, SVGPathSegMovetoRel.prototype._asPathString = function() {
        return this.pathSegTypeAsLetter + " " + this._x + " " + this._y
    }, SVGPathSegMovetoRel.prototype.clone = function() {
        return new SVGPathSegMovetoRel((void 0), this._x, this._y)
    }, Object.defineProperty(SVGPathSegMovetoRel.prototype, "x", {
        get: function() {
            return this._x
        },
        set: function(t) {
            this._x = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegMovetoRel.prototype, "y", {
        get: function() {
            return this._y
        },
        set: function(t) {
            this._y = t, this._segmentChanged()
        },
        enumerable: !0
    }), window.SVGPathSegLinetoAbs = function(t, e, r) {
        SVGPathSeg.call(this, SVGPathSeg.PATHSEG_LINETO_ABS, "L", t), this._x = e, this._y = r
    }, SVGPathSegLinetoAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegLinetoAbs.prototype.toString = function() {
        return "[object SVGPathSegLinetoAbs]"
    }, SVGPathSegLinetoAbs.prototype._asPathString = function() {
        return this.pathSegTypeAsLetter + " " + this._x + " " + this._y
    }, SVGPathSegLinetoAbs.prototype.clone = function() {
        return new SVGPathSegLinetoAbs((void 0), this._x, this._y)
    }, Object.defineProperty(SVGPathSegLinetoAbs.prototype, "x", {
        get: function() {
            return this._x
        },
        set: function(t) {
            this._x = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegLinetoAbs.prototype, "y", {
        get: function() {
            return this._y
        },
        set: function(t) {
            this._y = t, this._segmentChanged()
        },
        enumerable: !0
    }), window.SVGPathSegLinetoRel = function(t, e, r) {
        SVGPathSeg.call(this, SVGPathSeg.PATHSEG_LINETO_REL, "l", t), this._x = e, this._y = r
    }, SVGPathSegLinetoRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegLinetoRel.prototype.toString = function() {
        return "[object SVGPathSegLinetoRel]"
    }, SVGPathSegLinetoRel.prototype._asPathString = function() {
        return this.pathSegTypeAsLetter + " " + this._x + " " + this._y
    }, SVGPathSegLinetoRel.prototype.clone = function() {
        return new SVGPathSegLinetoRel((void 0), this._x, this._y)
    }, Object.defineProperty(SVGPathSegLinetoRel.prototype, "x", {
        get: function() {
            return this._x
        },
        set: function(t) {
            this._x = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegLinetoRel.prototype, "y", {
        get: function() {
            return this._y
        },
        set: function(t) {
            this._y = t, this._segmentChanged()
        },
        enumerable: !0
    }), window.SVGPathSegCurvetoCubicAbs = function(t, e, r, n, i, h, o) {
        SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS, "C", t), this._x = e, this._y = r, this._x1 = n, this._y1 = i, this._x2 = h, this._y2 = o
    }, SVGPathSegCurvetoCubicAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegCurvetoCubicAbs.prototype.toString = function() {
        return "[object SVGPathSegCurvetoCubicAbs]"
    }, SVGPathSegCurvetoCubicAbs.prototype._asPathString = function() {
        return this.pathSegTypeAsLetter + " " + this._x1 + " " + this._y1 + " " + this._x2 + " " + this._y2 + " " + this._x + " " + this._y
    }, SVGPathSegCurvetoCubicAbs.prototype.clone = function() {
        return new SVGPathSegCurvetoCubicAbs((void 0), this._x, this._y, this._x1, this._y1, this._x2, this._y2)
    }, Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype, "x", {
        get: function() {
            return this._x
        },
        set: function(t) {
            this._x = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype, "y", {
        get: function() {
            return this._y
        },
        set: function(t) {
            this._y = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype, "x1", {
        get: function() {
            return this._x1
        },
        set: function(t) {
            this._x1 = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype, "y1", {
        get: function() {
            return this._y1
        },
        set: function(t) {
            this._y1 = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype, "x2", {
        get: function() {
            return this._x2
        },
        set: function(t) {
            this._x2 = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype, "y2", {
        get: function() {
            return this._y2
        },
        set: function(t) {
            this._y2 = t, this._segmentChanged()
        },
        enumerable: !0
    }), window.SVGPathSegCurvetoCubicRel = function(t, e, r, n, i, h, o) {
        SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL, "c", t), this._x = e, this._y = r, this._x1 = n, this._y1 = i, this._x2 = h, this._y2 = o
    }, SVGPathSegCurvetoCubicRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegCurvetoCubicRel.prototype.toString = function() {
        return "[object SVGPathSegCurvetoCubicRel]"
    }, SVGPathSegCurvetoCubicRel.prototype._asPathString = function() {
        return this.pathSegTypeAsLetter + " " + this._x1 + " " + this._y1 + " " + this._x2 + " " + this._y2 + " " + this._x + " " + this._y
    }, SVGPathSegCurvetoCubicRel.prototype.clone = function() {
        return new SVGPathSegCurvetoCubicRel((void 0), this._x, this._y, this._x1, this._y1, this._x2, this._y2)
    }, Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype, "x", {
        get: function() {
            return this._x
        },
        set: function(t) {
            this._x = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype, "y", {
        get: function() {
            return this._y
        },
        set: function(t) {
            this._y = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype, "x1", {
        get: function() {
            return this._x1
        },
        set: function(t) {
            this._x1 = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype, "y1", {
        get: function() {
            return this._y1
        },
        set: function(t) {
            this._y1 = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype, "x2", {
        get: function() {
            return this._x2
        },
        set: function(t) {
            this._x2 = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype, "y2", {
        get: function() {
            return this._y2
        },
        set: function(t) {
            this._y2 = t, this._segmentChanged()
        },
        enumerable: !0
    }), window.SVGPathSegCurvetoQuadraticAbs = function(t, e, r, n, i) {
        SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS, "Q", t), this._x = e, this._y = r, this._x1 = n, this._y1 = i
    }, SVGPathSegCurvetoQuadraticAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegCurvetoQuadraticAbs.prototype.toString = function() {
        return "[object SVGPathSegCurvetoQuadraticAbs]"
    }, SVGPathSegCurvetoQuadraticAbs.prototype._asPathString = function() {
        return this.pathSegTypeAsLetter + " " + this._x1 + " " + this._y1 + " " + this._x + " " + this._y
    }, SVGPathSegCurvetoQuadraticAbs.prototype.clone = function() {
        return new SVGPathSegCurvetoQuadraticAbs((void 0), this._x, this._y, this._x1, this._y1)
    }, Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype, "x", {
        get: function() {
            return this._x
        },
        set: function(t) {
            this._x = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype, "y", {
        get: function() {
            return this._y
        },
        set: function(t) {
            this._y = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype, "x1", {
        get: function() {
            return this._x1
        },
        set: function(t) {
            this._x1 = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype, "y1", {
        get: function() {
            return this._y1
        },
        set: function(t) {
            this._y1 = t, this._segmentChanged()
        },
        enumerable: !0
    }), window.SVGPathSegCurvetoQuadraticRel = function(t, e, r, n, i) {
        SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL, "q", t), this._x = e, this._y = r, this._x1 = n, this._y1 = i
    }, SVGPathSegCurvetoQuadraticRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegCurvetoQuadraticRel.prototype.toString = function() {
        return "[object SVGPathSegCurvetoQuadraticRel]"
    }, SVGPathSegCurvetoQuadraticRel.prototype._asPathString = function() {
        return this.pathSegTypeAsLetter + " " + this._x1 + " " + this._y1 + " " + this._x + " " + this._y
    }, SVGPathSegCurvetoQuadraticRel.prototype.clone = function() {
        return new SVGPathSegCurvetoQuadraticRel((void 0), this._x, this._y, this._x1, this._y1)
    }, Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype, "x", {
        get: function() {
            return this._x
        },
        set: function(t) {
            this._x = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype, "y", {
        get: function() {
            return this._y
        },
        set: function(t) {
            this._y = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype, "x1", {
        get: function() {
            return this._x1
        },
        set: function(t) {
            this._x1 = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype, "y1", {
        get: function() {
            return this._y1
        },
        set: function(t) {
            this._y1 = t, this._segmentChanged()
        },
        enumerable: !0
    }), window.SVGPathSegArcAbs = function(t, e, r, n, i, h, o, s) {
        SVGPathSeg.call(this, SVGPathSeg.PATHSEG_ARC_ABS, "A", t), this._x = e, this._y = r, this._r1 = n, this._r2 = i, this._angle = h, this._largeArcFlag = o, this._sweepFlag = s
    }, SVGPathSegArcAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegArcAbs.prototype.toString = function() {
        return "[object SVGPathSegArcAbs]"
    }, SVGPathSegArcAbs.prototype._asPathString = function() {
        return this.pathSegTypeAsLetter + " " + this._r1 + " " + this._r2 + " " + this._angle + " " + (this._largeArcFlag ? "1" : "0") + " " + (this._sweepFlag ? "1" : "0") + " " + this._x + " " + this._y
    }, SVGPathSegArcAbs.prototype.clone = function() {
        return new SVGPathSegArcAbs((void 0), this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag)
    }, Object.defineProperty(SVGPathSegArcAbs.prototype, "x", {
        get: function() {
            return this._x
        },
        set: function(t) {
            this._x = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegArcAbs.prototype, "y", {
        get: function() {
            return this._y
        },
        set: function(t) {
            this._y = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegArcAbs.prototype, "r1", {
        get: function() {
            return this._r1
        },
        set: function(t) {
            this._r1 = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegArcAbs.prototype, "r2", {
        get: function() {
            return this._r2
        },
        set: function(t) {
            this._r2 = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegArcAbs.prototype, "angle", {
        get: function() {
            return this._angle
        },
        set: function(t) {
            this._angle = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegArcAbs.prototype, "largeArcFlag", {
        get: function() {
            return this._largeArcFlag
        },
        set: function(t) {
            this._largeArcFlag = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegArcAbs.prototype, "sweepFlag", {
        get: function() {
            return this._sweepFlag
        },
        set: function(t) {
            this._sweepFlag = t, this._segmentChanged()
        },
        enumerable: !0
    }), window.SVGPathSegArcRel = function(t, e, r, n, i, h, o, s) {
        SVGPathSeg.call(this, SVGPathSeg.PATHSEG_ARC_REL, "a", t), this._x = e, this._y = r, this._r1 = n, this._r2 = i, this._angle = h, this._largeArcFlag = o, this._sweepFlag = s
    }, SVGPathSegArcRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegArcRel.prototype.toString = function() {
        return "[object SVGPathSegArcRel]"
    }, SVGPathSegArcRel.prototype._asPathString = function() {
        return this.pathSegTypeAsLetter + " " + this._r1 + " " + this._r2 + " " + this._angle + " " + (this._largeArcFlag ? "1" : "0") + " " + (this._sweepFlag ? "1" : "0") + " " + this._x + " " + this._y
    }, SVGPathSegArcRel.prototype.clone = function() {
        return new SVGPathSegArcRel((void 0), this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag)
    }, Object.defineProperty(SVGPathSegArcRel.prototype, "x", {
        get: function() {
            return this._x
        },
        set: function(t) {
            this._x = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegArcRel.prototype, "y", {
        get: function() {
            return this._y
        },
        set: function(t) {
            this._y = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegArcRel.prototype, "r1", {
        get: function() {
            return this._r1
        },
        set: function(t) {
            this._r1 = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegArcRel.prototype, "r2", {
        get: function() {
            return this._r2
        },
        set: function(t) {
            this._r2 = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegArcRel.prototype, "angle", {
        get: function() {
            return this._angle
        },
        set: function(t) {
            this._angle = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegArcRel.prototype, "largeArcFlag", {
        get: function() {
            return this._largeArcFlag
        },
        set: function(t) {
            this._largeArcFlag = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegArcRel.prototype, "sweepFlag", {
        get: function() {
            return this._sweepFlag
        },
        set: function(t) {
            this._sweepFlag = t, this._segmentChanged()
        },
        enumerable: !0
    }), window.SVGPathSegLinetoHorizontalAbs = function(t, e) {
        SVGPathSeg.call(this, SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS, "H", t), this._x = e
    }, SVGPathSegLinetoHorizontalAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegLinetoHorizontalAbs.prototype.toString = function() {
        return "[object SVGPathSegLinetoHorizontalAbs]"
    }, SVGPathSegLinetoHorizontalAbs.prototype._asPathString = function() {
        return this.pathSegTypeAsLetter + " " + this._x
    }, SVGPathSegLinetoHorizontalAbs.prototype.clone = function() {
        return new SVGPathSegLinetoHorizontalAbs((void 0), this._x)
    }, Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype, "x", {
        get: function() {
            return this._x
        },
        set: function(t) {
            this._x = t, this._segmentChanged()
        },
        enumerable: !0
    }), window.SVGPathSegLinetoHorizontalRel = function(t, e) {
        SVGPathSeg.call(this, SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL, "h", t), this._x = e
    }, SVGPathSegLinetoHorizontalRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegLinetoHorizontalRel.prototype.toString = function() {
        return "[object SVGPathSegLinetoHorizontalRel]"
    }, SVGPathSegLinetoHorizontalRel.prototype._asPathString = function() {
        return this.pathSegTypeAsLetter + " " + this._x
    }, SVGPathSegLinetoHorizontalRel.prototype.clone = function() {
        return new SVGPathSegLinetoHorizontalRel((void 0), this._x)
    }, Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype, "x", {
        get: function() {
            return this._x
        },
        set: function(t) {
            this._x = t, this._segmentChanged()
        },
        enumerable: !0
    }), window.SVGPathSegLinetoVerticalAbs = function(t, e) {
        SVGPathSeg.call(this, SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS, "V", t), this._y = e
    }, SVGPathSegLinetoVerticalAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegLinetoVerticalAbs.prototype.toString = function() {
        return "[object SVGPathSegLinetoVerticalAbs]"
    }, SVGPathSegLinetoVerticalAbs.prototype._asPathString = function() {
        return this.pathSegTypeAsLetter + " " + this._y
    }, SVGPathSegLinetoVerticalAbs.prototype.clone = function() {
        return new SVGPathSegLinetoVerticalAbs((void 0), this._y)
    }, Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype, "y", {
        get: function() {
            return this._y
        },
        set: function(t) {
            this._y = t, this._segmentChanged()
        },
        enumerable: !0
    }), window.SVGPathSegLinetoVerticalRel = function(t, e) {
        SVGPathSeg.call(this, SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL, "v", t), this._y = e
    }, SVGPathSegLinetoVerticalRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegLinetoVerticalRel.prototype.toString = function() {
        return "[object SVGPathSegLinetoVerticalRel]"
    }, SVGPathSegLinetoVerticalRel.prototype._asPathString = function() {
        return this.pathSegTypeAsLetter + " " + this._y
    }, SVGPathSegLinetoVerticalRel.prototype.clone = function() {
        return new SVGPathSegLinetoVerticalRel((void 0), this._y)
    }, Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype, "y", {
        get: function() {
            return this._y
        },
        set: function(t) {
            this._y = t, this._segmentChanged()
        },
        enumerable: !0
    }), window.SVGPathSegCurvetoCubicSmoothAbs = function(t, e, r, n, i) {
        SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS, "S", t), this._x = e, this._y = r, this._x2 = n, this._y2 = i
    }, SVGPathSegCurvetoCubicSmoothAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegCurvetoCubicSmoothAbs.prototype.toString = function() {
        return "[object SVGPathSegCurvetoCubicSmoothAbs]"
    }, SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString = function() {
        return this.pathSegTypeAsLetter + " " + this._x2 + " " + this._y2 + " " + this._x + " " + this._y
    }, SVGPathSegCurvetoCubicSmoothAbs.prototype.clone = function() {
        return new SVGPathSegCurvetoCubicSmoothAbs((void 0), this._x, this._y, this._x2, this._y2)
    }, Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype, "x", {
        get: function() {
            return this._x
        },
        set: function(t) {
            this._x = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype, "y", {
        get: function() {
            return this._y
        },
        set: function(t) {
            this._y = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype, "x2", {
        get: function() {
            return this._x2
        },
        set: function(t) {
            this._x2 = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype, "y2", {
        get: function() {
            return this._y2
        },
        set: function(t) {
            this._y2 = t, this._segmentChanged()
        },
        enumerable: !0
    }), window.SVGPathSegCurvetoCubicSmoothRel = function(t, e, r, n, i) {
        SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL, "s", t), this._x = e, this._y = r, this._x2 = n, this._y2 = i
    }, SVGPathSegCurvetoCubicSmoothRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegCurvetoCubicSmoothRel.prototype.toString = function() {
        return "[object SVGPathSegCurvetoCubicSmoothRel]"
    }, SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString = function() {
        return this.pathSegTypeAsLetter + " " + this._x2 + " " + this._y2 + " " + this._x + " " + this._y
    }, SVGPathSegCurvetoCubicSmoothRel.prototype.clone = function() {
        return new SVGPathSegCurvetoCubicSmoothRel((void 0), this._x, this._y, this._x2, this._y2)
    }, Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype, "x", {
        get: function() {
            return this._x
        },
        set: function(t) {
            this._x = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype, "y", {
        get: function() {
            return this._y
        },
        set: function(t) {
            this._y = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype, "x2", {
        get: function() {
            return this._x2
        },
        set: function(t) {
            this._x2 = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype, "y2", {
        get: function() {
            return this._y2
        },
        set: function(t) {
            this._y2 = t, this._segmentChanged()
        },
        enumerable: !0
    }), window.SVGPathSegCurvetoQuadraticSmoothAbs = function(t, e, r) {
        SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS, "T", t), this._x = e, this._y = r
    }, SVGPathSegCurvetoQuadraticSmoothAbs.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString = function() {
        return "[object SVGPathSegCurvetoQuadraticSmoothAbs]"
    }, SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString = function() {
        return this.pathSegTypeAsLetter + " " + this._x + " " + this._y
    }, SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone = function() {
        return new SVGPathSegCurvetoQuadraticSmoothAbs((void 0), this._x, this._y)
    }, Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype, "x", {
        get: function() {
            return this._x
        },
        set: function(t) {
            this._x = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype, "y", {
        get: function() {
            return this._y
        },
        set: function(t) {
            this._y = t, this._segmentChanged()
        },
        enumerable: !0
    }), window.SVGPathSegCurvetoQuadraticSmoothRel = function(t, e, r) {
        SVGPathSeg.call(this, SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL, "t", t), this._x = e, this._y = r
    }, SVGPathSegCurvetoQuadraticSmoothRel.prototype = Object.create(SVGPathSeg.prototype), SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString = function() {
        return "[object SVGPathSegCurvetoQuadraticSmoothRel]"
    }, SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString = function() {
        return this.pathSegTypeAsLetter + " " + this._x + " " + this._y
    }, SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone = function() {
        return new SVGPathSegCurvetoQuadraticSmoothRel((void 0), this._x, this._y)
    }, Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype, "x", {
        get: function() {
            return this._x
        },
        set: function(t) {
            this._x = t, this._segmentChanged()
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype, "y", {
        get: function() {
            return this._y
        },
        set: function(t) {
            this._y = t, this._segmentChanged()
        },
        enumerable: !0
    }), SVGPathElement.prototype.createSVGPathSegClosePath = function() {
        return new SVGPathSegClosePath((void 0))
    }, SVGPathElement.prototype.createSVGPathSegMovetoAbs = function(t, e) {
        return new SVGPathSegMovetoAbs((void 0), t, e)
    }, SVGPathElement.prototype.createSVGPathSegMovetoRel = function(t, e) {
        return new SVGPathSegMovetoRel((void 0), t, e)
    }, SVGPathElement.prototype.createSVGPathSegLinetoAbs = function(t, e) {
        return new SVGPathSegLinetoAbs((void 0), t, e)
    }, SVGPathElement.prototype.createSVGPathSegLinetoRel = function(t, e) {
        return new SVGPathSegLinetoRel((void 0), t, e)
    }, SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs = function(t, e, r, n, i, h) {
        return new SVGPathSegCurvetoCubicAbs((void 0), t, e, r, n, i, h)
    }, SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel = function(t, e, r, n, i, h) {
        return new SVGPathSegCurvetoCubicRel((void 0), t, e, r, n, i, h)
    }, SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs = function(t, e, r, n) {
        return new SVGPathSegCurvetoQuadraticAbs((void 0), t, e, r, n)
    }, SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel = function(t, e, r, n) {
        return new SVGPathSegCurvetoQuadraticRel((void 0), t, e, r, n)
    }, SVGPathElement.prototype.createSVGPathSegArcAbs = function(t, e, r, n, i, h, o) {
        return new SVGPathSegArcAbs((void 0), t, e, r, n, i, h, o)
    }, SVGPathElement.prototype.createSVGPathSegArcRel = function(t, e, r, n, i, h, o) {
        return new SVGPathSegArcRel((void 0), t, e, r, n, i, h, o)
    }, SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs = function(t) {
        return new SVGPathSegLinetoHorizontalAbs((void 0), t)
    }, SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel = function(t) {
        return new SVGPathSegLinetoHorizontalRel((void 0), t)
    }, SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs = function(t) {
        return new SVGPathSegLinetoVerticalAbs((void 0), t)
    }, SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel = function(t) {
        return new SVGPathSegLinetoVerticalRel((void 0), t)
    }, SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs = function(t, e, r, n) {
        return new SVGPathSegCurvetoCubicSmoothAbs((void 0), t, e, r, n)
    }, SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel = function(t, e, r, n) {
        return new SVGPathSegCurvetoCubicSmoothRel((void 0), t, e, r, n)
    }, SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs = function(t, e) {
        return new SVGPathSegCurvetoQuadraticSmoothAbs((void 0), t, e)
    }, SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel = function(t, e) {
        return new SVGPathSegCurvetoQuadraticSmoothRel((void 0), t, e)
    }), "SVGPathSegList" in window || (window.SVGPathSegList = function(t) {
        this._pathElement = t, this._list = this._parsePath(this._pathElement.getAttribute("d")), this._mutationObserverConfig = {
            attributes: !0,
            attributeFilter: ["d"]
        }, this._pathElementMutationObserver = new MutationObserver(this._updateListFromPathMutations.bind(this)), this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig)
    }, Object.defineProperty(SVGPathSegList.prototype, "numberOfItems", {
        get: function() {
            return this._checkPathSynchronizedToList(), this._list.length
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathElement.prototype, "pathSegList", {
        get: function() {
            return this._pathSegList || (this._pathSegList = new SVGPathSegList(this)), this._pathSegList
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathElement.prototype, "normalizedPathSegList", {
        get: function() {
            return this.pathSegList
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathElement.prototype, "animatedPathSegList", {
        get: function() {
            return this.pathSegList
        },
        enumerable: !0
    }), Object.defineProperty(SVGPathElement.prototype, "animatedNormalizedPathSegList", {
        get: function() {
            return this.pathSegList
        },
        enumerable: !0
    }), SVGPathSegList.prototype._checkPathSynchronizedToList = function() {
        this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())
    }, SVGPathSegList.prototype._updateListFromPathMutations = function(t) {
        if (this._pathElement) {
            var e = !1;
            t.forEach(function(t) {
                "d" == t.attributeName && (e = !0)
            }), e && (this._list = this._parsePath(this._pathElement.getAttribute("d")))
        }
    }, SVGPathSegList.prototype._writeListToPath = function() {
        this._pathElementMutationObserver.disconnect(), this._pathElement.setAttribute("d", SVGPathSegList._pathSegArrayAsString(this._list)), this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig)
    }, SVGPathSegList.prototype.segmentChanged = function(t) {
        this._writeListToPath()
    }, SVGPathSegList.prototype.clear = function() {
        this._checkPathSynchronizedToList(), this._list.forEach(function(t) {
            t._owningPathSegList = null
        }), this._list = [], this._writeListToPath()
    }, SVGPathSegList.prototype.initialize = function(t) {
        return this._checkPathSynchronizedToList(), this._list = [t], t._owningPathSegList = this, this._writeListToPath(), t
    }, SVGPathSegList.prototype._checkValidIndex = function(t) {
        if (isNaN(t) || t < 0 || t >= this.numberOfItems) throw "INDEX_SIZE_ERR"
    }, SVGPathSegList.prototype.getItem = function(t) {
        return this._checkPathSynchronizedToList(), this._checkValidIndex(t), this._list[t]
    }, SVGPathSegList.prototype.insertItemBefore = function(t, e) {
        return this._checkPathSynchronizedToList(), e > this.numberOfItems && (e = this.numberOfItems), t._owningPathSegList && (t = t.clone()), this._list.splice(e, 0, t), t._owningPathSegList = this, this._writeListToPath(), t
    }, SVGPathSegList.prototype.replaceItem = function(t, e) {
        return this._checkPathSynchronizedToList(), t._owningPathSegList && (t = t.clone()), this._checkValidIndex(e), this._list[e] = t, t._owningPathSegList = this, this._writeListToPath(), t
    }, SVGPathSegList.prototype.removeItem = function(t) {
        this._checkPathSynchronizedToList(), this._checkValidIndex(t);
        var e = this._list[t];
        return this._list.splice(t, 1), this._writeListToPath(), e
    }, SVGPathSegList.prototype.appendItem = function(t) {
        return this._checkPathSynchronizedToList(), t._owningPathSegList && (t = t.clone()), this._list.push(t), t._owningPathSegList = this, this._writeListToPath(), t
    }, SVGPathSegList._pathSegArrayAsString = function(t) {
        var e = "",
            r = !0;
        return t.forEach(function(t) {
            r ? (r = !1, e += t._asPathString().replace(/^L/, "M")) : e += " " + t._asPathString()
        }), e
    }, SVGPathSegList.prototype._parsePath = function(t) {
        if (!t || 0 == t.length) return [];
        var e = this,
            r = function() {
                this.pathSegList = []
            };
        r.prototype.appendSegment = function(t) {
            this.pathSegList.push(t)
        };
        var n = function(t) {
            this._string = t, this._currentIndex = 0, this._endIndex = this._string.length, this._previousCommand = SVGPathSeg.PATHSEG_UNKNOWN, this._skipOptionalSpaces()
        };
        n.prototype._isCurrentSpace = function() {
            var t = this._string[this._currentIndex];
            return t <= " " && (" " == t || "\n" == t || "\t" == t || "\r" == t || "\f" == t)
        }, n.prototype._skipOptionalSpaces = function() {
            for (; this._currentIndex < this._endIndex && this._isCurrentSpace();) this._currentIndex++;
            return this._currentIndex < this._endIndex
        }, n.prototype._skipOptionalSpacesOrDelimiter = function() {
            return !(this._currentIndex < this._endIndex && !this._isCurrentSpace() && "," != this._string.charAt(this._currentIndex)) && (this._skipOptionalSpaces() && this._currentIndex < this._endIndex && "," == this._string.charAt(this._currentIndex) && (this._currentIndex++, this._skipOptionalSpaces()), this._currentIndex < this._endIndex)
        }, n.prototype.hasMoreData = function() {
            return this._currentIndex < this._endIndex
        }, n.prototype.peekSegmentType = function() {
            var t = this._string[this._currentIndex];
            return this._pathSegTypeFromChar(t)
        }, n.prototype._pathSegTypeFromChar = function(t) {
            switch (t) {
                case "Z":
                case "z":
                    return SVGPathSeg.PATHSEG_CLOSEPATH;
                case "M":
                    return SVGPathSeg.PATHSEG_MOVETO_ABS;
                case "m":
                    return SVGPathSeg.PATHSEG_MOVETO_REL;
                case "L":
                    return SVGPathSeg.PATHSEG_LINETO_ABS;
                case "l":
                    return SVGPathSeg.PATHSEG_LINETO_REL;
                case "C":
                    return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;
                case "c":
                    return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;
                case "Q":
                    return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;
                case "q":
                    return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;
                case "A":
                    return SVGPathSeg.PATHSEG_ARC_ABS;
                case "a":
                    return SVGPathSeg.PATHSEG_ARC_REL;
                case "H":
                    return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;
                case "h":
                    return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;
                case "V":
                    return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;
                case "v":
                    return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;
                case "S":
                    return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;
                case "s":
                    return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;
                case "T":
                    return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;
                case "t":
                    return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;
                default:
                    return SVGPathSeg.PATHSEG_UNKNOWN
            }
        }, n.prototype._nextCommandHelper = function(t, e) {
            return ("+" == t || "-" == t || "." == t || t >= "0" && t <= "9") && e != SVGPathSeg.PATHSEG_CLOSEPATH ? e == SVGPathSeg.PATHSEG_MOVETO_ABS ? SVGPathSeg.PATHSEG_LINETO_ABS : e == SVGPathSeg.PATHSEG_MOVETO_REL ? SVGPathSeg.PATHSEG_LINETO_REL : e : SVGPathSeg.PATHSEG_UNKNOWN
        }, n.prototype.initialCommandIsMoveTo = function() {
            if (!this.hasMoreData()) return !0;
            var t = this.peekSegmentType();
            return t == SVGPathSeg.PATHSEG_MOVETO_ABS || t == SVGPathSeg.PATHSEG_MOVETO_REL
        }, n.prototype._parseNumber = function() {
            var t = 0,
                e = 0,
                r = 1,
                n = 0,
                i = 1,
                h = 1,
                o = this._currentIndex;
            if (this._skipOptionalSpaces(), this._currentIndex < this._endIndex && "+" == this._string.charAt(this._currentIndex) ? this._currentIndex++ : this._currentIndex < this._endIndex && "-" == this._string.charAt(this._currentIndex) && (this._currentIndex++, i = -1), !(this._currentIndex == this._endIndex || (this._string.charAt(this._currentIndex) < "0" || this._string.charAt(this._currentIndex) > "9") && "." != this._string.charAt(this._currentIndex))) {
                for (var s = this._currentIndex; this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= "0" && this._string.charAt(this._currentIndex) <= "9";) this._currentIndex++;
                if (this._currentIndex != s)
                    for (var a = this._currentIndex - 1, S = 1; a >= s;) e += S * (this._string.charAt(a--) - "0"), S *= 10;
                if (this._currentIndex < this._endIndex && "." == this._string.charAt(this._currentIndex)) {
                    if (this._currentIndex++, this._currentIndex >= this._endIndex || this._string.charAt(this._currentIndex) < "0" || this._string.charAt(this._currentIndex) > "9") return;
                    for (; this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= "0" && this._string.charAt(this._currentIndex) <= "9";) n += (this._string.charAt(this._currentIndex++) - "0") * (r *= .1)
                }
                if (this._currentIndex != o && this._currentIndex + 1 < this._endIndex && ("e" == this._string.charAt(this._currentIndex) || "E" == this._string.charAt(this._currentIndex)) && "x" != this._string.charAt(this._currentIndex + 1) && "m" != this._string.charAt(this._currentIndex + 1)) {
                    if (this._currentIndex++, "+" == this._string.charAt(this._currentIndex) ? this._currentIndex++ : "-" == this._string.charAt(this._currentIndex) && (this._currentIndex++,
                            h = -1), this._currentIndex >= this._endIndex || this._string.charAt(this._currentIndex) < "0" || this._string.charAt(this._currentIndex) > "9") return;
                    for (; this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= "0" && this._string.charAt(this._currentIndex) <= "9";) t *= 10, t += this._string.charAt(this._currentIndex) - "0", this._currentIndex++
                }
                var u = e + n;
                if (u *= i, t && (u *= Math.pow(10, h * t)), o != this._currentIndex) return this._skipOptionalSpacesOrDelimiter(), u
            }
        }, n.prototype._parseArcFlag = function() {
            if (!(this._currentIndex >= this._endIndex)) {
                var t = !1,
                    e = this._string.charAt(this._currentIndex++);
                if ("0" == e) t = !1;
                else {
                    if ("1" != e) return;
                    t = !0
                }
                return this._skipOptionalSpacesOrDelimiter(), t
            }
        }, n.prototype.parseSegment = function() {
            var t = this._string[this._currentIndex],
                r = this._pathSegTypeFromChar(t);
            if (r == SVGPathSeg.PATHSEG_UNKNOWN) {
                if (this._previousCommand == SVGPathSeg.PATHSEG_UNKNOWN) return null;
                if (r = this._nextCommandHelper(t, this._previousCommand), r == SVGPathSeg.PATHSEG_UNKNOWN) return null
            } else this._currentIndex++;
            switch (this._previousCommand = r, r) {
                case SVGPathSeg.PATHSEG_MOVETO_REL:
                    return new SVGPathSegMovetoRel(e, this._parseNumber(), this._parseNumber());
                case SVGPathSeg.PATHSEG_MOVETO_ABS:
                    return new SVGPathSegMovetoAbs(e, this._parseNumber(), this._parseNumber());
                case SVGPathSeg.PATHSEG_LINETO_REL:
                    return new SVGPathSegLinetoRel(e, this._parseNumber(), this._parseNumber());
                case SVGPathSeg.PATHSEG_LINETO_ABS:
                    return new SVGPathSegLinetoAbs(e, this._parseNumber(), this._parseNumber());
                case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:
                    return new SVGPathSegLinetoHorizontalRel(e, this._parseNumber());
                case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:
                    return new SVGPathSegLinetoHorizontalAbs(e, this._parseNumber());
                case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:
                    return new SVGPathSegLinetoVerticalRel(e, this._parseNumber());
                case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:
                    return new SVGPathSegLinetoVerticalAbs(e, this._parseNumber());
                case SVGPathSeg.PATHSEG_CLOSEPATH:
                    return this._skipOptionalSpaces(), new SVGPathSegClosePath(e);
                case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:
                    var n = {
                        x1: this._parseNumber(),
                        y1: this._parseNumber(),
                        x2: this._parseNumber(),
                        y2: this._parseNumber(),
                        x: this._parseNumber(),
                        y: this._parseNumber()
                    };
                    return new SVGPathSegCurvetoCubicRel(e, n.x, n.y, n.x1, n.y1, n.x2, n.y2);
                case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:
                    var n = {
                        x1: this._parseNumber(),
                        y1: this._parseNumber(),
                        x2: this._parseNumber(),
                        y2: this._parseNumber(),
                        x: this._parseNumber(),
                        y: this._parseNumber()
                    };
                    return new SVGPathSegCurvetoCubicAbs(e, n.x, n.y, n.x1, n.y1, n.x2, n.y2);
                case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:
                    var n = {
                        x2: this._parseNumber(),
                        y2: this._parseNumber(),
                        x: this._parseNumber(),
                        y: this._parseNumber()
                    };
                    return new SVGPathSegCurvetoCubicSmoothRel(e, n.x, n.y, n.x2, n.y2);
                case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:
                    var n = {
                        x2: this._parseNumber(),
                        y2: this._parseNumber(),
                        x: this._parseNumber(),
                        y: this._parseNumber()
                    };
                    return new SVGPathSegCurvetoCubicSmoothAbs(e, n.x, n.y, n.x2, n.y2);
                case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:
                    var n = {
                        x1: this._parseNumber(),
                        y1: this._parseNumber(),
                        x: this._parseNumber(),
                        y: this._parseNumber()
                    };
                    return new SVGPathSegCurvetoQuadraticRel(e, n.x, n.y, n.x1, n.y1);
                case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:
                    var n = {
                        x1: this._parseNumber(),
                        y1: this._parseNumber(),
                        x: this._parseNumber(),
                        y: this._parseNumber()
                    };
                    return new SVGPathSegCurvetoQuadraticAbs(e, n.x, n.y, n.x1, n.y1);
                case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:
                    return new SVGPathSegCurvetoQuadraticSmoothRel(e, this._parseNumber(), this._parseNumber());
                case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:
                    return new SVGPathSegCurvetoQuadraticSmoothAbs(e, this._parseNumber(), this._parseNumber());
                case SVGPathSeg.PATHSEG_ARC_REL:
                    var n = {
                        x1: this._parseNumber(),
                        y1: this._parseNumber(),
                        arcAngle: this._parseNumber(),
                        arcLarge: this._parseArcFlag(),
                        arcSweep: this._parseArcFlag(),
                        x: this._parseNumber(),
                        y: this._parseNumber()
                    };
                    return new SVGPathSegArcRel(e, n.x, n.y, n.x1, n.y1, n.arcAngle, n.arcLarge, n.arcSweep);
                case SVGPathSeg.PATHSEG_ARC_ABS:
                    var n = {
                        x1: this._parseNumber(),
                        y1: this._parseNumber(),
                        arcAngle: this._parseNumber(),
                        arcLarge: this._parseArcFlag(),
                        arcSweep: this._parseArcFlag(),
                        x: this._parseNumber(),
                        y: this._parseNumber()
                    };
                    return new SVGPathSegArcAbs(e, n.x, n.y, n.x1, n.y1, n.arcAngle, n.arcLarge, n.arcSweep);
                default:
                    throw "Unknown path seg type."
            }
        };
        var i = new r,
            h = new n(t);
        if (!h.initialCommandIsMoveTo()) return [];
        for (; h.hasMoreData();) {
            var o = h.parseSegment();
            if (!o) return [];
            i.appendSegment(o)
        }
        return i.pathSegList
    })
}();
var svgedit = {
    NS: {
        HTML: "http://www.w3.org/1999/xhtml",
        MATH: "http://www.w3.org/1998/Math/MathML",
        SE: "http://svg-edit.googlecode.com",
        SVG: "http://www.w3.org/2000/svg",
        XLINK: "http://www.w3.org/1999/xlink",
        XML: "http://www.w3.org/XML/1998/namespace",
        XMLNS: "http://www.w3.org/2000/xmlns/"
    },
    debug: !1,
    log: function(t, w, o) {
        if (o = o || svgedit.debug, w = w || !1, o) {
            console.log(t);
            try {
                throw new Error("Log tracker")
            } catch (e) {
                w || console.error(e)
            }
        }
    }
};
svgedit.getReverseNS = function() {
    "use strict";
    var t = {};
    return $.each(this.NS, function(w, o) {
        t[o] = w.toLowerCase()
    }), t
};
! function() {
    "use strict";

    function t(t) {
        return (s(t) ? t.className ? t.className.baseVal : t.getAttribute("class") : t.className) || ""
    }

    function s(t) {
        return t && 1 === t.nodeType && t.namespaceURI === e
    }

    function i(t, s) {
        t.className ? t.className.baseVal = s : t.setAttribute("class", s)
    }
    var n = jQuery.fn.attr,
        e = "http://www.w3.org/2000/svg";
    $.fn.addClass = function(n) {
        return function(e) {
            if ($.isFunction(e)) return this.each(function(s) {
                $(this).addClass(e.call(this, s, t(this)))
            });
            var a = arguments;
            return e = e || "", this.each(function() {
                if (s(this)) {
                    var r = this;
                    $.each(e.split(/\s+/), function(s, n) {
                        var e = t(r);
                        $.inArray(n, e.split(/\s+/)) === -1 && i(r, e += (e ? " " : "") + n)
                    })
                } else n.apply($(this), a)
            })
        }
    }($.fn.addClass), $.fn.removeClass = function(n) {
        return function(e) {
            if ($.isFunction(e)) return this.each(function(s) {
                $(this).removeClass(e.call(this, s, t(this)))
            });
            var a = arguments;
            return e = e || "", this.each(function() {
                if (s(this)) {
                    var r = this;
                    $.each(e.split(/\s+/), function(s, n) {
                        var e = t(r);
                        e = $.grep(e.split(/\s+/), function(t, s) {
                            return t !== n
                        }).join(" "), i(r, e)
                    })
                } else n.apply($(this), a)
            })
        }
    }($.fn.removeClass), $.fn.toggleClass = function(n) {
        return function(e, a) {
            if ($.isFunction(e)) return this.each(function(s) {
                $(this).toggleClass(e.call(this, s, t(this), a), a)
            });
            var r = arguments,
                u = "boolean" == typeof a;
            return this.each(function() {
                if (s(this))
                    if ("string" == typeof e) {
                        var h = $(this);
                        $.each(e.split(/\s+/), function(t, s) {
                            u || (a = !h.hasClass(s)), h[(a ? "add" : "remove") + "Class"](s)
                        })
                    } else {
                        var f = t(this);
                        f && $._data(this, "__className__", f), i(this, f || e === !1 ? "" : $._data(this, "__className__") || "")
                    } else n.apply($(this), r)
            })
        }
    }($.fn.toggleClass), $.fn.hasClass = function(i) {
        return function(n) {
            n = n || "";
            var e = !1;
            return this.each(function() {
                return e = s(this) ? $.inArray(n, t(this).split(/\s+/)) > -1 : i.apply($(this), [n]), !e
            }), e
        }
    }($.fn.hasClass), $.fn.remove = function(t) {
        return function() {
            var i = arguments;
            return this.each(function() {
                s(this) ? this.parentNode.removeChild(this) : t.apply($(this), i)
            })
        }
    }($.fn.remove), $.fn.attr = function(t, s) {
        var i, a, r = this.length;
        if (!r) return n.apply(this, arguments);
        for (i = 0; i < r; ++i) {
            var u = this[i];
            if (u.namespaceURI !== e) return n.apply(this, arguments);
            if (void 0 !== s) u.setAttribute(t, s);
            else {
                if ($.isArray(t)) {
                    for (var h = t.length, f = {}; h--;) {
                        var c = t[h];
                        a = u.getAttribute(c), (a || "0" === a) && (a = isNaN(a) ? a : a - 0), f[c] = a
                    }
                    return f
                }
                if ("object" != typeof t) return a = u.getAttribute(t), (a || "0" === a) && (a = isNaN(a) ? a : a - 0), a;
                var l;
                for (l in t) u.setAttribute(l, t[l])
            }
        }
        return this
    }, $.fn.removeAttr = function(t) {
        return function(i) {
            var n = arguments;
            return this.each(function() {
                if (s(this)) {
                    var e = this;
                    $.each(i.split(/\s+/), function(t, s) {
                        e[s] && e[s].baseVal ? e[s].baseVal.value = null : e.removeAttribute(s)
                    })
                } else t.apply($(this), n)
            })
        }
    }($.fn.removeAttr)
}();
! function() {
    "use strict";
    svgedit.browser || (svgedit.browser = {});
    var e = svgedit.NS,
        t = function() {
            return !!document.createElementNS && !!document.createElementNS(e.SVG, "svg").createSVGRect
        }();
    if (svgedit.browser.supportsSvg = function() {
            return t
        }, !svgedit.browser.supportsSvg()) return void(window.location = "browser-not-supported.html");
    var r = navigator.userAgent,
        n = document.createElementNS(e.SVG, "svg"),
        o = !!window.opera,
        i = r.indexOf("AppleWebKit") >= 0,
        s = r.indexOf("Gecko/") >= 0,
        u = r.indexOf("MSIE") >= 0,
        c = r.indexOf("Chrome/") >= 0,
        a = r.indexOf("Windows") >= 0,
        d = r.indexOf("Macintosh") >= 0,
        m = "ontouchstart" in window,
        p = function() {
            return !!n.querySelector
        }(),
        v = function() {
            return !!document.evaluate
        }(),
        l = function() {
            var t = document.createElementNS(e.SVG, "path");
            t.setAttribute("d", "M0,0 10,10");
            var r = t.pathSegList;
            try {
                var n = t.createSVGPathSegLinetoAbs(5, 5);
                return r.replaceItem(n, 0), !0
            } catch (o) {}
            return !1
        }(),
        f = function() {
            var t = document.createElementNS(e.SVG, "path");
            t.setAttribute("d", "M0,0 10,10");
            var r = t.pathSegList;
            try {
                var n = t.createSVGPathSegLinetoAbs(5, 5);
                return r.insertItemBefore(n, 0), !0
            } catch (o) {}
            return !1
        }(),
        g = function() {
            var t = document.createElementNS(e.SVG, "svg"),
                r = document.createElementNS(e.SVG, "svg");
            document.documentElement.appendChild(t), r.setAttribute("x", 5), t.appendChild(r);
            var n = document.createElementNS(e.SVG, "text");
            n.textContent = "a", r.appendChild(n);
            var o = n.getStartPositionOfChar(0).x;
            return document.documentElement.removeChild(t), 0 === o
        }(),
        S = function() {
            var t = document.createElementNS(e.SVG, "svg");
            document.documentElement.appendChild(t);
            var r = document.createElementNS(e.SVG, "path");
            r.setAttribute("d", "M0,0 C0,0 10,10 10,0"), t.appendChild(r);
            var n = r.getBBox();
            return document.documentElement.removeChild(t), n.height > 4 && n.height < 5
        }(),
        h = function() {
            var t = document.createElementNS(e.SVG, "svg");
            document.documentElement.appendChild(t);
            var r = document.createElementNS(e.SVG, "path");
            r.setAttribute("d", "M0,0 10,0");
            var n = document.createElementNS(e.SVG, "path");
            n.setAttribute("d", "M5,0 15,0");
            var o = document.createElementNS(e.SVG, "g");
            o.appendChild(r), o.appendChild(n), t.appendChild(o);
            var i = o.getBBox();
            return document.documentElement.removeChild(t), 15 == i.width
        }(),
        b = function() {
            return o
        }(),
        w = function() {
            var t = document.createElementNS(e.SVG, "rect");
            t.setAttribute("x", .1);
            var r = t.cloneNode(!1),
                n = r.getAttribute("x").indexOf(",") == -1;
            return n || $.alert('NOTE: This version of Opera is known to contain bugs in SVG-edit.\nPlease upgrade to the <a href="http://opera.com">latest version</a> in which the problems have been fixed.'), n
        }(),
        E = function() {
            var t = document.createElementNS(e.SVG, "rect");
            return t.setAttribute("style", "vector-effect:non-scaling-stroke"), "non-scaling-stroke" === t.style.vectorEffect
        }(),
        G = function() {
            var t = document.createElementNS(e.SVG, "rect"),
                r = t.transform.baseVal,
                o = n.createSVGTransform();
            return r.appendItem(o), r.getItem(0) == o
        }();
    svgedit.browser.isOpera = function() {
        return o
    }, svgedit.browser.isWebkit = function() {
        return i
    }, svgedit.browser.isGecko = function() {
        return s
    }, svgedit.browser.isIE = function() {
        return u
    }, svgedit.browser.isChrome = function() {
        return c
    }, svgedit.browser.isWindows = function() {
        return a
    }, svgedit.browser.isMac = function() {
        return d
    }, svgedit.browser.isTouch = function() {
        return m
    }, svgedit.browser.supportsSelectors = function() {
        return p
    }, svgedit.browser.supportsXpath = function() {
        return v
    }, svgedit.browser.supportsPathReplaceItem = function() {
        return l
    }, svgedit.browser.supportsPathInsertItemBefore = function() {
        return f
    }, svgedit.browser.supportsPathBBox = function() {
        return S
    }, svgedit.browser.supportsHVLineContainerBBox = function() {
        return h
    }, svgedit.browser.supportsGoodTextCharPos = function() {
        return g
    }, svgedit.browser.supportsEditableText = function() {
        return b
    }, svgedit.browser.supportsGoodDecimals = function() {
        return w
    }, svgedit.browser.supportsNonScalingStroke = function() {
        return E
    }, svgedit.browser.supportsNativeTransformLists = function() {
        return G
    }
}();
! function() {
    "use strict";

    function t(t) {
        var e = t.matrix,
            s = "";
        switch (t.type) {
            case 1:
                s = "matrix(" + [e.a, e.b, e.c, e.d, e.e, e.f].join(",") + ")";
                break;
            case 2:
                s = "translate(" + e.e + "," + e.f + ")";
                break;
            case 3:
                s = e.a == e.d ? "scale(" + e.a + ")" : "scale(" + e.a + "," + e.d + ")";
                break;
            case 4:
                var r = 0,
                    i = 0;
                if (0 != t.angle) {
                    var a = 1 - e.a;
                    i = (a * e.f + e.b * e.e) / (a * a + e.b * e.b), r = (e.e - e.b * i) / a
                }
                s = "rotate(" + t.angle + " " + r + "," + i + ")"
        }
        return s
    }
    svgedit.transformlist || (svgedit.transformlist = {});
    var e = document.createElementNS(svgedit.NS.SVG, "svg"),
        s = {};
    svgedit.transformlist.SVGTransformList = function(r) {
        r && (this._elem = r, this._xforms = [], this._update = function() {
            var s = $("#" + this._elem.id)[0];
            s && (this._elem = s);
            var r, i = "";
            e.createSVGMatrix();
            for (r = 0; r < this.numberOfItems; ++r) {
                var a = this._list.getItem(r);
                i += t(a) + " "
            }
            this._elem.setAttribute("transform", i)
        }, this._list = this, this._init = function() {
            if (this._elem && this._elem.getAttribute && this._elem.getAttribute("transform"))
                for (var t = this._elem.getAttribute("transform"), s = /\s*((scale|matrix|rotate|translate)\s*\(.*?\))\s*,?\s*/, r = !0; r;)
                    if (r = t.match(s), t = t.replace(s, ""), r && r[1]) {
                        var i = r[1],
                            a = i.split(/\s*\(/),
                            m = a[0],
                            n = a[1].match(/\s*(.*?)\s*\)/);
                        n[1] = n[1].replace(/(\d)-/g, "$1 -");
                        var f = n[1].split(/[, ]+/),
                            o = "abcdef".split(""),
                            h = e.createSVGMatrix();
                        $.each(f, function(t, e) {
                            f[t] = parseFloat(e), "matrix" == m && (h[o[t]] = f[t])
                        });
                        var l = e.createSVGTransform(),
                            u = "set" + m.charAt(0).toUpperCase() + m.slice(1),
                            c = "matrix" == m ? [h] : f;
                        "scale" == m && 1 == c.length ? c.push(c[0]) : "translate" == m && 1 == c.length ? c.push(0) : "rotate" == m && 1 == c.length && c.push(0, 0), l[u].apply(l, c), this._list.appendItem(l)
                    }
        }, this._removeFromOtherLists = function(t) {
            if (t) {
                var e, r = !1;
                for (e in s) {
                    var i, a, m = s[e];
                    if (m._xforms && m._xforms.length)
                        for (i = 0, a = m._xforms.length; i < a; ++i)
                            if (m._xforms[i] === t) {
                                r = !0, m.removeItem(i);
                                break
                            }
                    if (r) break
                }
            }
        }, this.numberOfItems = 0, this.clear = function() {
            this.numberOfItems = 0, this._xforms = []
        }, this.initialize = function(t) {
            this.numberOfItems = 1, this._removeFromOtherLists(t), this._xforms = [t]
        }, this.getItem = function(t) {
            if (t < this.numberOfItems && t >= 0) return this._xforms[t];
            throw {
                code: 1
            }
        }, this.insertItemBefore = function(t, e) {
            var s = null;
            if (e >= 0)
                if (e < this.numberOfItems) {
                    this._removeFromOtherLists(t);
                    var r, i = new Array(this.numberOfItems + 1);
                    for (r = 0; r < e; ++r) i[r] = this._xforms[r];
                    i[r] = t;
                    var a;
                    for (a = r + 1; r < this.numberOfItems; ++a, ++r) i[a] = this._xforms[r];
                    this.numberOfItems++, this._xforms = i, s = t, this._list._update()
                } else s = this._list.appendItem(t);
            return s
        }, this.replaceItem = function(t, e) {
            var s = null;
            return e < this.numberOfItems && e >= 0 && (this._removeFromOtherLists(t), this._xforms[e] = t, s = t, this._list._update()), s
        }, this.removeItem = function(t) {
            if (t < this.numberOfItems && t >= 0) {
                var e, s, r = this._xforms[t],
                    i = new Array(this.numberOfItems - 1);
                for (e = 0; e < t; ++e) i[e] = this._xforms[e];
                for (s = e; s < this.numberOfItems - 1; ++s, ++e) i[s] = this._xforms[e + 1];
                return this.numberOfItems--, this._xforms = i, this._list._update(), r
            }
            throw {
                code: 1
            }
        }, this.appendItem = function(t) {
            return this._removeFromOtherLists(t), this._xforms.push(t), this.numberOfItems++, this._list._update(), t
        })
    }, svgedit.transformlist.resetListMap = function() {
        s = {}
    }, svgedit.transformlist.removeElementFromListMap = function(t) {
        t.id && s[t.id] && delete s[t.id]
    }, svgedit.transformlist.getTransformList = function(t) {
        if (t) {
            if (!svgedit.browser.supportsNativeTransformLists()) {
                var e = t && t.id || "temp",
                    r = s[e];
                return r && "temp" !== e || (s[e] = new svgedit.transformlist.SVGTransformList(t), s[e]._init(), r = s[e]), r
            }
            return t.transform ? t.transform.baseVal : t.gradientTransform ? t.gradientTransform.baseVal : t.patternTransform ? t.patternTransform.baseVal : null
        }
    }
}();
! function() {
    "use strict";
    svgedit.math || (svgedit.math = {});
    var t = 1e-14,
        r = document.createElementNS(svgedit.NS.SVG, "svg");
    svgedit.math.transformPoint = function(t, r, a) {
        return {
            x: a.a * t + a.c * r + a.e,
            y: a.b * t + a.d * r + a.f
        }
    }, svgedit.math.isIdentity = function(t) {
        return 1 === t.a && 0 === t.b && 0 === t.c && 1 === t.d && 0 === t.e && 0 === t.f
    }, svgedit.math.matrixMultiply = function(r) {
        for (var a = arguments, e = a.length, i = a[e - 1]; e-- > 1;) {
            var n = a[e - 1];
            i = n.multiply(i)
        }
        return Math.abs(i.a) < t && (i.a = 0), Math.abs(i.b) < t && (i.b = 0), Math.abs(i.c) < t && (i.c = 0), Math.abs(i.d) < t && (i.d = 0), Math.abs(i.e) < t && (i.e = 0), Math.abs(i.f) < t && (i.f = 0), i
    }, svgedit.math.hasMatrixTransform = function(t) {
        if (!t) return !1;
        for (var r = t.numberOfItems; r--;) {
            var a = t.getItem(r);
            if (1 == a.type && !svgedit.math.isIdentity(a.matrix)) return !0
        }
        return !1
    }, svgedit.math.transformBox = function(t, r, a, e, i) {
        var n = svgedit.math.transformPoint,
            s = n(t, r, i),
            m = n(t + a, r, i),
            h = n(t, r + e, i),
            o = n(t + a, r + e, i),
            f = Math.min(s.x, m.x, h.x, o.x),
            u = Math.max(s.x, m.x, h.x, o.x),
            x = Math.min(s.y, m.y, h.y, o.y),
            v = Math.max(s.y, m.y, h.y, o.y);
        return {
            tl: s,
            tr: m,
            bl: h,
            br: o,
            aabox: {
                x: f,
                y: x,
                width: u - f,
                height: v - x
            }
        }
    }, svgedit.math.transformListToTransform = function(t, a, e) {
        if (null == t) return r.createSVGTransformFromMatrix(r.createSVGMatrix());
        if (a = a || 0, e = e || t.numberOfItems - 1, a = parseInt(a, 10), e = parseInt(e, 10), a > e) {
            var i = e;
            e = a, a = i
        }
        var n, s = r.createSVGMatrix();
        for (n = a; n <= e; ++n) {
            var m = n >= 0 && n < t.numberOfItems ? t.getItem(n).matrix : r.createSVGMatrix();
            s = svgedit.math.matrixMultiply(s, m)
        }
        return r.createSVGTransformFromMatrix(s)
    }, svgedit.math.getMatrix = function(t) {
        var r = svgedit.transformlist.getTransformList(t);
        return svgedit.math.transformListToTransform(r).matrix
    }, svgedit.math.snapToAngle = function(t, r, a, e) {
        var i = Math.PI / 4,
            n = a - t,
            s = e - r,
            m = Math.atan2(s, n),
            h = Math.sqrt(n * n + s * s),
            o = Math.round(m / i) * i;
        return {
            x: t + h * Math.cos(o),
            y: r + h * Math.sin(o),
            a: o
        }
    }, svgedit.math.rectsIntersect = function(t, r) {
        return r.x < t.x + t.width && r.x + r.width > t.x && r.y < t.y + t.height && r.y + r.height > t.y
    }, Math.floor4 = function(t) {
        return Math.ceil(1e6 * t) / 1e6
    }
}();
! function() {
    "use strict";
    svgedit.units || (svgedit.units = {});
    var t, e = svgedit.NS,
        i = ["x", "x1", "cx", "rx", "width"],
        r = ["y", "y1", "cy", "ry", "height"],
        n = ["r", "radius"].concat(i, r),
        s = {};
    svgedit.units.init = function(i) {
        t = i;
        var r = document.createElementNS(e.SVG, "svg");
        document.body.appendChild(r);
        var n = document.createElementNS(e.SVG, "rect");
        n.setAttribute("width", "1em"), n.setAttribute("height", "1ex"), n.setAttribute("x", "1in"), r.appendChild(n);
        var u = n.getBBox();
        document.body.removeChild(r);
        var a = u.x;
        s = {
            em: u.width,
            ex: u.height,
            "in": a,
            cm: a / 2.54,
            mm: a / 25.4,
            pt: a / 72,
            pc: a / 6,
            px: 1,
            "%": 0
        }
    }, svgedit.units.getTypeMap = function() {
        return s
    }, svgedit.units.shortFloat = function(e) {
        var i = t.getRoundDigits();
        return isNaN(e) ? $.isArray(e) ? svgedit.units.shortFloat(e[0]) + "," + svgedit.units.shortFloat(e[1]) : parseFloat(e).toFixed(i) - 0 : +(+e).toFixed(i)
    }, svgedit.units.convertUnit = function(e, i) {
        return i = i || t.getBaseUnit(), svgedit.units.shortFloat(e / s[i])
    }, svgedit.units.setUnitAttr = function(t, e, i) {
        t.setAttribute(e, i)
    };
    var u = {
        line: ["x1", "x2", "y1", "y2"],
        circle: ["cx", "cy", "r"],
        ellipse: ["cx", "cy", "rx", "ry"],
        foreignObject: ["x", "y", "width", "height"],
        rect: ["x", "y", "width", "height"],
        image: ["x", "y", "width", "height"],
        use: ["x", "y", "width", "height"],
        text: ["x", "y"]
    };
    svgedit.units.convertAttrs = function(e) {
        var i = e.tagName,
            r = t.getBaseUnit(),
            n = u[i];
        if (n) {
            var a, d = n.length;
            for (a = 0; a < d; a++) {
                var g = n[a],
                    o = e.getAttribute(g);
                o && (isNaN(o) || e.setAttribute(g, o / s[r] + r))
            }
        }
    }, svgedit.units.convertToNum = function(e, n) {
        if (!isNaN(n)) return n - 0;
        var u;
        if ("%" === n.substr(-1)) {
            u = n.substr(0, n.length - 1) / 100;
            var a = t.getWidth(),
                d = t.getHeight();
            return i.indexOf(e) >= 0 ? u * a : r.indexOf(e) >= 0 ? u * d : u * Math.sqrt(a * a + d * d) / Math.sqrt(2)
        }
        var g = n.substr(-2);
        return u = n.substr(0, n.length - 2), u * s[g]
    }, svgedit.units.isValidUnit = function(e, i, r) {
        var u = !1;
        if (n.indexOf(e) >= 0) isNaN(i) ? (i = i.toLowerCase(), $.each(s, function(t) {
            if (!u) {
                var e = new RegExp("^-?[\\d\\.]+" + t + "$");
                e.test(i) && (u = !0)
            }
        })) : u = !0;
        else if ("id" == e) {
            var a = !1;
            try {
                var d = t.getElement(i);
                a = null == d || d === r
            } catch (g) {}
            return a
        }
        return u = !0
    }
}();
! function() {
    "use strict";

    function t(t) {
        if (svgedit.browser.supportsHVLineContainerBBox()) try {
            return t.getBBox()
        } catch (e) {}
        var i, r, n = $.data(t, "ref"),
            a = null;
        n ? (r = $(n).children().clone().attr("visibility", "hidden"), $(u).append(r), a = r.filter("line, path")) : a = $(t).find("line, path");
        var s = !1;
        try {
            if (a.length)
                if (a.each(function() {
                        var t = this.getBBox();
                        t.width && t.height || (s = !0)
                    }), s) {
                    var o = n ? r : $(t).children();
                    i = svgedit.utilities.getStrokedBBox(o)
                } else i = t.getBBox();
            else i = t.getBBox()
        } catch (l) {
            i = t.getBoundingClientRect()
        }
        return n && r.remove(), i
    }
    svgedit.utilities || (svgedit.utilities = {});
    var e = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
        i = svgedit.NS,
        r = "a,circle,ellipse,foreignObject,g,image,line,path,polygon,polyline,rect,svg,text,tspan,use",
        n = r.split(","),
        a = null,
        s = null,
        o = null,
        l = null,
        u = null;
    svgedit.utilities.init = function(t) {
        a = t, s = t.getDOMDocument(), o = t.getDOMEditor(), l = t.getDOMContainer(), u = t.getSVGRoot()
    }, svgedit.utilities.toXml = function(t) {
        return t.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#x27;")
    }, svgedit.utilities.fromXml = function(t) {
        return $("<p/>").html(t).text()
    }, svgedit.utilities.encode64 = function(t) {
        if (t = svgedit.utilities.encodeUTF8(t), window.btoa) return window.btoa(t);
        var i, r, n, a, s, o, l, u = new Array(4 * Math.floor((t.length + 2) / 3)),
            g = 0,
            d = 0;
        do i = t.charCodeAt(g++), r = t.charCodeAt(g++), n = t.charCodeAt(g++), a = i >> 2, s = (3 & i) << 4 | r >> 4, o = (15 & r) << 2 | n >> 6, l = 63 & n, isNaN(r) ? o = l = 64 : isNaN(n) && (l = 64), u[d++] = e.charAt(a), u[d++] = e.charAt(s), u[d++] = e.charAt(o), u[d++] = e.charAt(l); while (g < t.length);
        return u.join("")
    }, svgedit.utilities.decode64 = function(t) {
        if (window.atob) return window.atob(t);
        var i, r, n, a, s, o = "",
            l = "",
            u = "",
            g = 0;
        t = t.replace(/[^A-Za-z0-9\+\/\=]/g, "");
        do n = e.indexOf(t.charAt(g++)), a = e.indexOf(t.charAt(g++)), s = e.indexOf(t.charAt(g++)), u = e.indexOf(t.charAt(g++)), i = n << 2 | a >> 4, r = (15 & a) << 4 | s >> 2, l = (3 & s) << 6 | u, o += String.fromCharCode(i), 64 != s && (o += String.fromCharCode(r)), 64 != u && (o += String.fromCharCode(l)), i = r = l = "", n = a = s = u = ""; while (g < t.length);
        return unescape(o)
    }, svgedit.utilities.encodeUTF8 = function(t) {
        if (null === t || "undefined" == typeof t) return "";
        var e, i, r = String(t),
            n = "",
            a = 0;
        e = i = 0, a = r.length;
        var s;
        for (s = 0; s < a; s++) {
            var o = r.charCodeAt(s),
                l = null;
            if (o < 128) i++;
            else if (o > 127 && o < 2048) l = String.fromCharCode(o >> 6 | 192, 63 & o | 128);
            else if (55296 != (63488 & o)) l = String.fromCharCode(o >> 12 | 224, o >> 6 & 63 | 128, 63 & o | 128);
            else {
                if (55296 != (64512 & o)) throw new RangeError("Unmatched trail surrogate at " + s);
                var u = r.charCodeAt(++s);
                if (56320 != (64512 & u)) throw new RangeError("Unmatched lead surrogate at " + (s - 1));
                o = ((1023 & o) << 10) + (1023 & u) + 65536, l = String.fromCharCode(o >> 18 | 240, o >> 12 & 63 | 128, o >> 6 & 63 | 128, 63 & o | 128)
            }
            null !== l && (i > e && (n += r.slice(e, i)), n += l, e = i = s + 1)
        }
        return i > e && (n += r.slice(e, a)), n
    }, svgedit.utilities.convertToXMLReferences = function(t) {
        var e, i = "";
        for (e = 0; e < t.length; e++) {
            var r = t.charCodeAt(e);
            r < 128 ? i += t[e] : r > 127 && (i += "&#" + r + ";")
        }
        return i
    }, svgedit.utilities.text2xml = function(t) {
        var e, i;
        t.indexOf("<svg:svg") >= 0 && (t = t.replace(/<(\/?)svg:/g, "<$1").replace("xmlns:svg", "xmlns")), t = INKIVE.Helpers.imagesSanitize.preLoadImagesSanitize(t), t = INKIVE.RestrictionsFacade.applyPreLoadRestrictions(t);
        try {
            i = window.DOMParser ? new DOMParser : new ActiveXObject("Microsoft.XMLDOM"), i.async = !1
        } catch (r) {
            throw new Error("XML Parser could not be instantiated")
        }
        try {
            e = i.loadXML ? !!i.loadXML(t) && i : i.parseFromString(t, "text/xml")
        } catch (n) {
            throw new Error("Error parsing XML string")
        }
        return e = INKIVE.Helpers.imagesSanitize.postLoadBackgroundSanitize(e), e = INKIVE.Helpers.imagesSanitize.postLoadImagesSanitize(e), e = INKIVE.RestrictionsFacade.applyPostLoadRestrictions(e)
    }, svgedit.utilities.bboxToObj = function(t) {
        return {
            x: t.x,
            y: t.y,
            width: t.width,
            height: t.height
        }
    }, svgedit.utilities.walkTree = function(t, e) {
        if (t && 1 == t.nodeType) {
            e(t);
            for (var i = t.childNodes.length; i--;) svgedit.utilities.walkTree(t.childNodes.item(i), e)
        }
    }, svgedit.utilities.walkTreePost = function(t, e) {
        if (t && 1 == t.nodeType) {
            for (var i = t.childNodes.length; i--;) svgedit.utilities.walkTree(t.childNodes.item(i), e);
            e(t)
        }
    }, svgedit.utilities.getUrlFromAttr = function(t) {
        if (t) {
            if (0 === t.indexOf('url("')) return t.substring(5, t.indexOf('"', 6));
            if (0 === t.indexOf("url('")) return t.substring(5, t.indexOf("'", 6));
            if (0 === t.indexOf("url(")) return t.substring(4, t.indexOf(")"))
        }
        return null
    }, svgedit.utilities.getHref = function(t) {
        return t.getAttribute("xlink:href")
    }, svgedit.utilities.setHref = function(t, e) {
        t.setAttributeNS(i.XLINK, "xlink:href", e)
    }, svgedit.utilities.findDefs = function() {
        var t = a.getSVGContent(),
            e = t.getElementsByTagNameNS(i.SVG, "defs");
        return e.length > 0 ? e = e[0] : (e = t.ownerDocument.createElementNS(i.SVG, "defs"), t.firstChild ? t.insertBefore(e, t.firstChild.nextSibling) : t.appendChild(e)), e
    }, svgedit.utilities.getPathBBox = function(t) {
        var e, i = t.pathSegList,
            r = i.numberOfItems,
            n = [
                [],
                []
            ],
            a = i.getItem(0),
            s = [a.x, a.y];
        for (e = 0; e < r; e++) {
            var o = i.getItem(e);
            if ("undefined" != typeof o.x)
                if (n[0].push(s[0]), n[1].push(s[1]), o.x1) {
                    var l, u = [o.x1, o.y1],
                        g = [o.x2, o.y2],
                        d = [o.x, o.y];
                    for (l = 0; l < 2; l++) {
                        var f = function(t) {
                                return Math.pow(1 - t, 3) * s[l] + 3 * Math.pow(1 - t, 2) * t * u[l] + 3 * (1 - t) * Math.pow(t, 2) * g[l] + Math.pow(t, 3) * d[l]
                            },
                            c = 6 * s[l] - 12 * u[l] + 6 * g[l],
                            h = -3 * s[l] + 9 * u[l] - 9 * g[l] + 3 * d[l],
                            v = 3 * u[l] - 3 * s[l];
                        if (0 != h) {
                            var p = Math.pow(c, 2) - 4 * v * h;
                            if (!(p < 0)) {
                                var m = (-c + Math.sqrt(p)) / (2 * h);
                                0 < m && m < 1 && n[l].push(f(m));
                                var x = (-c - Math.sqrt(p)) / (2 * h);
                                0 < x && x < 1 && n[l].push(f(x))
                            }
                        } else {
                            if (0 == c) continue;
                            var y = -v / c;
                            0 < y && y < 1 && n[l].push(f(y))
                        }
                    }
                    s = d
                } else n[0].push(o.x), n[1].push(o.y)
        }
        var b = Math.min.apply(null, n[0]),
            w = Math.max.apply(null, n[0]) - b,
            B = Math.min.apply(null, n[1]),
            A = Math.max.apply(null, n[1]) - B;
        return {
            x: b,
            y: B,
            width: w,
            height: A
        }
    }, svgedit.utilities.getStrokedBBox = function(t) {
        function e(t) {
            if (!Object.keys(t).length) {
                var e = "undefined" == typeof n.x && "undefined" == typeof n.y && "undefined" == typeof n.width && "undefined" == typeof n.height;
                if (e) return !0
            }
            return !1
        }
        if (t) {
            if (t = t instanceof HTMLElement ? [t] : t, !t.length) return !1;
            var r = function(t) {
                    try {
                        var e = svgedit.utilities.getBBox(t),
                            r = svgedit.utilities.getRotationAngle(t);
                        if (r && r % 90 || svgedit.math.hasMatrixTransform(svgedit.transformlist.getTransformList(t))) {
                            var n = !1,
                                a = ["ellipse", "path", "line", "polyline", "polygon"];
                            if (a.indexOf(t.tagName) >= 0) e = n = svgedit.path.getPathBBoxFromElement(t);
                            else if ("rect" == t.tagName) {
                                var s = t.getAttribute("rx"),
                                    o = t.getAttribute("ry");
                                (s || o) && (e = n = svgedit.path.getPathBBoxFromElement(t))
                            }
                            if (!n) {
                                var l = t.cloneNode(!0),
                                    u = document.createElementNS(i.SVG, "g"),
                                    g = t.parentNode;
                                g.appendChild(u), u.appendChild(l), e = svgedit.utilities.bboxToObj(u.getBBox()), g.removeChild(u)
                            }
                        }
                        return e
                    } catch (d) {
                        return console.log(t, d), null
                    }
                },
                n = {};
            if ($.each(t, function() {
                    if (e(n) && this.parentNode) {
                        var t = r(this);
                        t && (n = t)
                    }
                }), e(n)) return null;
            var a = n.x + n.width,
                s = n.y + n.height,
                o = n.x,
                l = n.y,
                u = function(t) {
                    var e = t.getAttribute("stroke-width"),
                        i = 0;
                    return "none" == t.getAttribute("stroke") || isNaN(e) || (i += e / 2), i
                },
                g = [];
            return $.each(t, function(t, e) {
                var i = r(e);
                if (i) {
                    var n = u(e);
                    o = Math.min(o, i.x - n), l = Math.min(l, i.y - n), g.push(i)
                }
            }), n.x = o, n.y = l, $.each(t, function(t, e) {
                var i = g[t];
                if (i && 1 == e.nodeType) {
                    var r = u(e);
                    a = Math.max(a, i.x + i.width + r), s = Math.max(s, i.y + i.height + r)
                }
            }), n.width = a - o, n.height = s - l, n
        }
    }, svgedit.utilities.getBBox = function(e) {
        var i = e;
        if (!e || 1 != e.nodeType) return null;
        var r = null,
            a = i.nodeName;
        switch (a) {
            case "text":
                if ("" === i.textContent) i.textContent = "a", r = i.getBBox(), i.textContent = "";
                else try {
                    r = i.getBBox()
                } catch (s) {}
                break;
            case "path":
                try {
                    r = i.getBBox()
                } catch (o) {}
                break;
            case "g":
                if ($(i).hasClass("textarea")) {
                    try {
                        r = i.getElementsByTagName("rect")[0].getBBox()
                    } catch (s) {
                        r = i.getBBox()
                    }
                    break
                }
            case "a":
                r = t(i);
                break;
            default:
                if ("use" === a && (r = t(i, !0)), "use" === a || "foreignObject" === a && svgedit.browser.isWebkit()) {
                    r || (r = i.getBBox());
                    var l = {};
                    l.width = r.width, l.height = r.height, l.x = r.x + parseFloat(i.getAttribute("x") || 0), l.y = r.y + parseFloat(i.getAttribute("y") || 0), r = l
                } else if (~n.indexOf(a)) try {
                    r = i.getBBox()
                } catch (u) {
                    var g = $(i).closest("foreignObject");
                    if (g.length) try {
                        r = g[0].getBBox()
                    } catch (d) {
                        r = null
                    } else r = null
                }
                if ($(e).hasClass("layoutBox")) {
                    var f = svgedit.utilities.getClipPath(e),
                        c = f && svgedit.utilities.getBBox(f.childNodes[0]);
                    if (!c) {
                        var h = e.textContent.split(/[^-|\d\.]/);
                        4 === h.length && (c = {
                            x: Math.floor4(h[0]),
                            y: Math.floor4(h[1]),
                            width: Math.floor4(h[2]),
                            height: Math.floor4(h[3])
                        })
                    }
                    r = c ? c : r
                }
        }
        return r ? svgedit.utilities.bboxToObj(r) : r
    }, svgedit.utilities.getClipPath = function(t) {
        if (!t.getAttribute("clip-path")) return null;
        var e = t.getAttribute("clip-path").replace("url(", "").replace(")", "").replace(/"/g, "");
        return $(e).get(0)
    }, svgedit.utilities.getRotationAngle = function(t, e) {
        var i = t || a.getSelectedElements()[0],
            r = svgedit.transformlist.getTransformList(i);
        if (!r) return 0;
        var n, s = r.numberOfItems;
        for (n = 0; n < s; ++n) {
            var o = r.getItem(n);
            if (4 == o.type) return e ? o.angle * Math.PI / 180 : o.angle
        }
        return 0
    }, svgedit.utilities.getScale = function(t) {
        var e = t || a.getSelectedElements()[0],
            i = svgedit.transformlist.getTransformList(e);
        if (!i) return 0;
        var r, n = i.numberOfItems,
            s = {};
        for (r = 0; r < n; ++r) {
            var o = i.getItem(r);
            o.type === SVGTransform.SVG_TRANSFORM_SCALE ? s.scale = o : o.type === SVGTransform.SVG_TRANSFORM_TRANSLATE && (s.translate = o)
        }
        return s
    }, svgedit.utilities.getRefElem = function(t) {
        return svgedit.utilities.getElem(svgedit.utilities.getUrlFromAttr(t).substr(1))
    }, svgedit.browser.supportsSelectors() ? svgedit.utilities.getElem = function(t) {
        return o.querySelector("#" + t)
    } : svgedit.utilities.getElem = function(t) {
        return $(o).find("[id=" + t + "]")[0]
    }, svgedit.utilities.assignAttributes = function(t, e, r, n) {
        r || (r = 0);
        var a = null;
        svgedit.browser.isOpera() || u.suspendRedraw(r);
        var s;
        for (s in e) {
            var o = "xml:" === s.substr(0, 4) ? i.XML : "xlink:" === s.substr(0, 6) ? i.XLINK : null;
            o ? t.setAttributeNS(o, s, e[s]) : n ? svgedit.units.setUnitAttr(t, s, e[s]) : t.setAttribute(s, e[s])
        }
        svgedit.browser.isOpera() || u.unsuspendRedraw(a)
    }, svgedit.utilities.cleanupElement = function(t) {
        var e, i, r = u.suspendRedraw(60),
            n = {
                "fill-opacity": 1,
                "stop-opacity": 1,
                opacity: 1,
                stroke: "none",
                "stroke-dasharray": "none",
                "stroke-linejoin": "miter",
                "stroke-linecap": "butt",
                "stroke-opacity": 1,
                rx: 0,
                ry: 0
            },
            a = {
                fill: {
                    content: "NONE",
                    replacement: "none"
                },
                stroke: {
                    content: "NONE",
                    replacement: "none"
                }
            };
        for (e in a) i = a[e], i && t.getAttribute(e) === i.content && t.setAttribute(e, i.replacement);
        for (e in n) i = n[e], t.getAttribute(e) === i && t.removeAttribute(e);
        u.unsuspendRedraw(r)
    }, svgedit.utilities.snapToGrid = function(t) {
        return t
    }, svgedit.utilities.preg_quote = function(t, e) {
        return String(t).replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\" + (e || "") + "-]", "g"), "\\$&")
    }
}();
! function() {
    "use strict";
    svgedit.sanitize || (svgedit.sanitize = {}), svgedit.sanitize._fontLoaders = {};
    var e = svgedit.NS,
        t = svgedit.getReverseNS(),
        i = {
            a: ["class", "clip-path", "clip-rule", "fill", "fill-opacity", "fill-rule", "filter", "id", "mask", "opacity", "stroke", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke-width", "style", "systemLanguage", "transform", "xlink:href", "xlink:title"],
            circle: ["custom-placeholder", "class", "data-element-restriction-id", "clip-path", "clip-rule", "cx", "cy", "fill", "fill-opacity", "fill-rule", "filter", "id", "mask", "opacity", "r", "requiredFeatures", "stroke", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke-width", "style", "systemLanguage", "transform"],
            clipPath: ["class", "clipPathUnits", "id"],
            defs: [],
            style: ["type"],
            desc: [],
            ellipse: ["custom-placeholder", "class", "data-element-restriction-id", "clip-path", "clip-rule", "cx", "cy", "fill", "fill-opacity", "fill-rule", "filter", "id", "mask", "opacity", "requiredFeatures", "rx", "ry", "stroke", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke-width", "style", "systemLanguage", "transform"],
            foreignObject: ["class", "data-element-restriction-id", "font-size", "height", "id", "opacity", "requiredFeatures", "style", "transform", "width", "x", "y"],
            g: ["custom-placeholder", "class", "data-element-restriction-id", "clip-path", "clip-rule", "id", "display", "fill", "fill-opacity", "fill-rule", "filter", "mask", "opacity", "requiredFeatures", "stroke", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke-width", "style", "systemLanguage", "transform", "custom-font-owner", "custom-font-id", "font-family", "font-size", "font-style", "font-weight", "text-anchor", "text-decoration"],
            image: ["custom-placeholder", "class", "data-element-restriction-id", "clip-path", "clip-rule", "filter", "height", "id", "mask", "opacity", "requiredFeatures", "style", "systemLanguage", "transform", "width", "x", "xlink:href", "xlink:title", "y"],
            line: ["custom-placeholder", "class", "data-element-restriction-id", "clip-path", "clip-rule", "fill", "fill-opacity", "fill-rule", "filter", "id", "marker-end", "marker-mid", "marker-start", "mask", "opacity", "requiredFeatures", "stroke", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke-width", "style", "systemLanguage", "transform", "x1", "x2", "y1", "y2"],
            linearGradient: ["custom-placeholder", "class", "data-element-restriction-id", "id", "gradientTransform", "gradientUnits", "requiredFeatures", "spreadMethod", "systemLanguage", "x1", "x2", "xlink:href", "y1", "y2"],
            marker: ["id", "class", "data-element-restriction-id", "markerHeight", "markerUnits", "markerWidth", "orient", "preserveAspectRatio", "refX", "refY", "systemLanguage", "viewBox"],
            mask: ["class", "height", "id", "maskContentUnits", "maskUnits", "width", "x", "y"],
            metadata: ["class", "id"],
            path: ["custom-placeholder", "class", "data-element-restriction-id", "clip-path", "clip-rule", "d", "fill", "fill-opacity", "fill-rule", "filter", "id", "marker-end", "marker-mid", "marker-start", "mask", "opacity", "requiredFeatures", "stroke", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke-width", "style", "systemLanguage", "transform"],
            pattern: ["class", "data-element-restriction-id", "height", "id", "patternContentUnits", "patternTransform", "patternUnits", "requiredFeatures", "style", "systemLanguage", "viewBox", "width", "x", "xlink:href", "y"],
            polygon: ["custom-placeholder", "class", "data-element-restriction-id", "clip-path", "clip-rule", "id", "fill", "fill-opacity", "fill-rule", "filter", "id", "class", "marker-end", "marker-mid", "marker-start", "mask", "opacity", "points", "requiredFeatures", "stroke", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke-width", "style", "systemLanguage", "transform"],
            polyline: ["custom-placeholder", "class", "data-element-restriction-id", "clip-path", "clip-rule", "id", "fill", "fill-opacity", "fill-rule", "filter", "marker-end", "marker-mid", "marker-start", "mask", "opacity", "points", "requiredFeatures", "stroke", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke-width", "style", "systemLanguage", "transform"],
            radialGradient: ["custom-placeholder", "class", "data-element-restriction-id", "cx", "cy", "fx", "fy", "gradientTransform", "gradientUnits", "id", "r", "requiredFeatures", "spreadMethod", "systemLanguage", "xlink:href"],
            rect: ["custom-placeholder", "class", "data-element-restriction-id", "clip-path", "clip-rule", "fill", "fill-opacity", "fill-rule", "filter", "height", "id", "mask", "opacity", "requiredFeatures", "rx", "ry", "stroke", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke-width", "style", "systemLanguage", "transform", "width", "x", "y"],
            stop: ["class", "id", "offset", "requiredFeatures", "stop-color", "stop-opacity", "style", "systemLanguage"],
            svg: ["class", "data-element-restriction-id", "clip-path", "clip-rule", "filter", "id", "height", "mask", "preserveAspectRatio", "requiredFeatures", "style", "systemLanguage", "viewBox", "width", "x", "xmlns", "xmlns:se", "xmlns:xlink", "y"],
            "switch": ["class", "id", "requiredFeatures", "systemLanguage"],
            symbol: ["class", "data-element-restriction-id", "fill", "fill-opacity", "fill-rule", "filter", "font-family", "font-size", "font-style", "font-weight", "id", "opacity", "preserveAspectRatio", "requiredFeatures", "stroke", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke-width", "style", "systemLanguage", "transform", "viewBox"],
            text: ["class", "data-element-restriction-id", "clip-path", "clip-rule", "fill", "fill-opacity", "fill-rule", "filter", "custom-font-owner", "custom-font-id", "font-family", "font-size", "font-style", "font-weight", "id", "mask", "opacity", "requiredFeatures", "stroke", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke-width", "style", "systemLanguage", "text-anchor", "transform", "dx", "dy", "x", "xml:space", "y", "word-spacing", "letter-spacing", "kerning", "textLength", "lengthAdjust", "text-decoration"],
            textPath: ["class", "data-element-restriction-id", "id", "method", "requiredFeatures", "spacing", "startOffset", "style", "systemLanguage", "transform", "xlink:href"],
            title: ["class"],
            tspan: ["class", "data-element-restriction-id", "clip-path", "clip-rule", "dx", "dy", "fill", "fill-opacity", "fill-rule", "filter", "custom-font-owner", "custom-font-id", "font-family", "font-size", "font-style", "font-weight", "id", "mask", "opacity", "requiredFeatures", "rotate", "stroke", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke-width", "style", "systemLanguage", "text-anchor", "textLength", "transform", "x", "xml:space", "y", "text-decoration"],
            use: ["class", "data-element-restriction-id", "clip-path", "clip-rule", "fill", "fill-opacity", "fill-rule", "filter", "height", "id", "mask", "stroke", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke-width", "style", "transform", "width", "x", "xlink:href", "y"],
            filter: ["class", "color-interpolation-filters", "filterRes", "filterUnits", "height", "id", "primitiveUnits", "requiredFeatures", "width", "x", "xlink:href", "y"],
            feGaussianBlur: ["class", "color-interpolation-filters", "id", "requiredFeatures", "stdDeviation"],
            feColorMatrix: ["values", "type"],
            feFuncR: ["intercept", "type", "slope"],
            feFuncG: ["intercept", "type", "slope"],
            feFuncB: ["intercept", "type", "slope"],
            feComponentTransfer: [],
            feConvolveMatrix: ["order", "preserveAlpha", "kernelMatrix"],
            feFlood: ["result", "x", "y", "width", "height", "flood-color", "flood-opacity"],
            fePointLight: ["x", "y", "z"],
            feSpecularLighting: ["result", "lighting-color", "surfaceScale", "specularConstant", "specularExponent"],
            feBlend: ["result", "in", "in2", "mode"],
            annotation: ["encoding"],
            "annotation-xml": ["encoding"],
            maction: ["actiontype", "other", "selection"],
            math: ["class", "id", "display", "xmlns"],
            menclose: ["notation"],
            merror: [],
            mfrac: ["linethickness"],
            mi: ["mathvariant"],
            mmultiscripts: [],
            mn: [],
            mo: ["fence", "lspace", "maxsize", "minsize", "rspace", "stretchy"],
            mover: [],
            mpadded: ["lspace", "width", "height", "depth", "voffset"],
            mphantom: [],
            mprescripts: [],
            mroot: [],
            mrow: ["xlink:href", "xlink:type", "xmlns:xlink"],
            mspace: ["depth", "height", "width"],
            msqrt: [],
            mstyle: ["displaystyle", "mathbackground", "mathcolor", "mathvariant", "scriptlevel"],
            msub: [],
            msubsup: [],
            msup: [],
            mtable: ["align", "columnalign", "columnlines", "columnspacing", "displaystyle", "equalcolumns", "equalrows", "frame", "rowalign", "rowlines", "rowspacing", "width"],
            mtd: ["columnalign", "columnspan", "rowalign", "rowspan"],
            mtext: [],
            mtr: ["columnalign", "rowalign"],
            munder: [],
            munderover: [],
            none: [],
            semantics: []
        },
        r = {};
    $.each(i, function(t, i) {
        var s = {};
        $.each(i, function(t, i) {
            if (i.indexOf(":") >= 0) {
                var r = i.split(":");
                s[r[1]] = e[r[0].toUpperCase()]
            } else s[i] = "xmlns" == i ? e.XMLNS : null
        }), r[t] = s
    }), svgedit.sanitize.getAttributeName = function(e, t) {
        var s = i[e.nodeName],
            a = (r[e.nodeName], t.nodeName),
            o = t.localName.toLowerCase(),
            l = (t.namespaceURI, t.nodeValue, a);
        return _.any(s, function(e) {
            if (e.toLowerCase() == o) return l = e, !0
        }), l
    }, svgedit.sanitize.sanitizeSvg = function(s) {
        function a(e) {
            function t() {
                if (s.length === ++r) {
                    var t = (new INKIVE.Text.Textarea).setDOM(e);
                    t.render(INKIVE.Tool.getInstance().editor.canvas), INKIVE.SVGElementLoading.hide(e)
                }
            }

            function i(e) {
                var t = $.Deferred();
                return INKIVE.FontsFactory.isLoadedFont(e) ? $.fontSpy(e, {
                    success: _.partial(t.resolve, e),
                    failure: _.partial(t.reject, e),
                    timeOut: 15e3
                }) : t.resolve(e), t.promise()
            }
            var r = 0;
            if ($.contains(document, e)) {
                INKIVE.SVGElementLoading.show(e);
                var s = $(e).find("*").andSelf().filter("[font-family]");
                s.each(function() {
                    var r = $(this).attr("font-family");
                    svgedit.sanitize._fontLoaders[r] || (svgedit.sanitize._fontLoaders[r] = i(r)), svgedit.sanitize._fontLoaders[r].then(t, function() {
                        INKIVE.SVGElementLoading.hide(e)
                    })
                })
            } else _.debounce(_.partial(a, e), 200)
        }
        if (1 === s.nodeType && $(s).is(".textarea") && _.defer(_.partial(a, s)), 3 == s.nodeType && (/\S/.test(s.nodeValue) || (s.nodeValue = s.nodeValue.replace(/^\s+|\s+$/g, "")), 0 === s.nodeValue.length)) return void s.parentNode.removeChild(s);
        if (1 == s.nodeType) {
            var o = s.ownerDocument,
                l = s.parentNode;
            if (o && l) {
                var n, d = i[s.nodeName],
                    c = r[s.nodeName];
                if ("undefined" != typeof d) {
                    var m = [];
                    for (n = s.attributes.length; n--;) {
                        var f = s.attributes.item(n),
                            p = f.nodeName,
                            u = f.localName.toLowerCase(),
                            h = f.namespaceURI,
                            k = f.nodeValue;
                        if (c.hasOwnProperty(u) && h == c[u] && h != e.XMLNS || h == e.XMLNS && t[k] || (0 === p.indexOf("se:") && m.push([p, k]), s.removeAttributeNS(h, u)), svgedit.browser.isGecko()) switch (p) {
                            case "transform":
                            case "gradientTransform":
                            case "patternTransform":
                                s.setAttribute(p, k.replace(/(\d)-/g, "$1 -"))
                        }
                        if ("style" == p) {
                            for (var y = k.split(";"), g = y.length; g--;) {
                                var x = y[g].split(":"),
                                    v = $.trim(x[0]),
                                    w = $.trim(x[1]);
                                d.indexOf(v) >= 0 && s.setAttribute(v, w)
                            }
                            s.removeAttribute("style")
                        }
                    }
                    $.each(m, function(t, i) {
                        s.setAttributeNS(e.SE, i[0], i[1])
                    });
                    var L = svgedit.utilities.getHref(s);
                    if (L && ["filter", "linearGradient", "pattern", "radialGradient", "textPath", "use"].indexOf(s.nodeName) >= 0 && "#" != L[0] && (svgedit.utilities.setHref(s, ""), s.removeAttributeNS(e.XLINK, "href")), "use" == s.nodeName && !svgedit.utilities.getHref(s)) return void l.removeChild(s);
                    if ($.each(["clip-path", "fill", "filter", "marker-end", "marker-mid", "marker-start", "mask", "stroke"], function(e, t) {
                            var i = s.getAttribute(t);
                            i && (i = svgedit.utilities.getUrlFromAttr(i), i && "#" !== i[0] && (s.setAttribute(t, ""), s.removeAttribute(t)))
                        }), "image" === $(s).prop("tagName")) {
                        var N = $(s).html();
                        N && $(s).html(N.replace(/&nbsp;/g, " "))
                    }
                    for (n = s.childNodes.length; n--;) svgedit.sanitize.sanitizeSvg(s.childNodes.item(n))
                } else {
                    for (var F = []; s.hasChildNodes();) F.push(l.insertBefore(s.firstChild, s));
                    for (l.removeChild(s), n = F.length; n--;) svgedit.sanitize.sanitizeSvg(F[n])
                }
            }
        }
    }
}();
! function() {
    "use strict";
    svgedit.history = svgedit.history || {}, svgedit.history.HistoryEventTypes = {
        BEFORE_APPLY: "before_apply",
        AFTER_APPLY: "after_apply",
        BEFORE_UNAPPLY: "before_unapply",
        AFTER_UNAPPLY: "after_unapply"
    }, svgedit.history.UndoManager = function(t) {
        this.handler_ = t || null, this.undoStackPointer = 0, this.undoStack = [], this.undoChangeStackPointer = -1, this.undoableChangeStack = []
    }, svgedit.history.UndoManager.prototype.toggleUndoStackLock = function(t) {
        this.lockStatus = t
    }, svgedit.history.UndoManager.prototype.resetUndoStack = function() {
        this.undoStack = [], this.undoStackPointer = 0, $("#ik-editor").trigger("ik.editor.canvas.history.reset")
    }, svgedit.history.UndoManager.prototype.getUndoStackSize = function() {
        return this.undoStackPointer
    }, svgedit.history.UndoManager.prototype.getRedoStackSize = function() {
        return this.undoStack.length - this.undoStackPointer
    }, svgedit.history.UndoManager.prototype.getNextUndoCommandText = function() {
        return this.undoStackPointer > 0 ? this.undoStack[this.undoStackPointer - 1].getText() : ""
    }, svgedit.history.UndoManager.prototype.getNextRedoCommandText = function() {
        return this.undoStackPointer < this.undoStack.length ? this.undoStack[this.undoStackPointer].getText() : ""
    }, svgedit.history.UndoManager.prototype.undo = function() {
        if (this.undoStackPointer > 0) {
            var t = this.undoStack[--this.undoStackPointer];
            t.unapply(this.handler_)
        }
        $("#ik-editor").trigger("ik.editor.canvas.history.undo")
    }, svgedit.history.UndoManager.prototype.redo = function() {
        if (this.undoStackPointer < this.undoStack.length && this.undoStack.length > 0) {
            var t = this.undoStack[this.undoStackPointer++];
            t.apply(this.handler_)
        }
        $("#ik-editor").trigger("ik.editor.canvas.history.redo")
    }, svgedit.history.UndoManager.prototype.getStackInfo = function(t) {
        t = t || 0;
        var e = this.undoStack[this.undoStackPointer + t];
        return {
            type: e ? e.text : "unknown"
        }
    }, svgedit.history.UndoManager.prototype.addCommandToHistory = function(t) {
        this.lockStatus || (t.storedTime = new Date, this.undoStackPointer < this.undoStack.length && this.undoStack.length > 0 && (this.undoStack = this.undoStack.splice(0, this.undoStackPointer)), this.undoStack.push(t), this.undoStackPointer = this.undoStack.length, $("#ik-editor").trigger("ik.editor.canvas.history.add"))
    }, svgedit.history.UndoManager.prototype.beginUndoableChange = function(t, e) {
        var n = ++this.undoChangeStackPointer,
            o = e.length,
            i = new Array(o),
            a = new Array(o);
        for (INKIVE.Tool && INKIVE.Tool.getInstance().editor.canvas; o--;) {
            var r = e[o];
            null != r && (a[o] = r, "#fill" == t ? i[o] = INKIVE.Helpers.getColor(r, "fill") : "#bullets" == t ? i[o] = (new INKIVE.Text.Textarea).setDOM(r).text.bullets : "#text-anchor" == t ? i[o] = (new INKIVE.Text.Textarea).setDOM(r).text.text_anchor : "#text-decoration" == t ? i[o] = (new INKIVE.Text.Textarea).setDOM(r).text.text_decoration : "#font-weight" == t ? i[o] = (new INKIVE.Text.Textarea).setDOM(r).text.font_weight : "#font-style" == t ? i[o] = (new INKIVE.Text.Textarea).setDOM(r).text.font_style : "#font-family" == t ? i[o] = (new INKIVE.Text.Textarea).setDOM(r).text.font_family : "#font-size" == t ? i[o] = (new INKIVE.Text.Textarea).setDOM(r).text.font_size : "#word-spacing" == t ? i[o] = (new INKIVE.Text.Textarea).setDOM(r).text.word_spacing : "#letter-spacing" == t ? i[o] = (new INKIVE.Text.Textarea).setDOM(r).text.letter_spacing : "#line-spacing" == t ? i[o] = (new INKIVE.Text.Textarea).setDOM(r).text.line_spacing : "#stroke" == t ? i[o] = INKIVE.Helpers.getColor(r, "stroke") : t.match(/^#set_/) ? i[o] = INKIVE.Helpers.getColor(r, t.replace("#", "")) : "#layout-delete" == t ? (i[o] = {}, _.each(["xlink:href", "x", "y", "width", "height"], function(t) {
                i[o][t] = r.getAttribute(t)
            })) : i[o] = r.getAttribute(t))
        }
        this.undoableChangeStack[n] = {
            attrName: t,
            oldValues: i,
            elements: a
        }
    }, svgedit.history.UndoManager.prototype.finishUndoableChange = function() {
        for (var t = this.undoChangeStackPointer--, e = this.undoableChangeStack[t], n = e.elements.length, o = e.attrName, i = new svgedit.history.BatchCommand("Change " + o); n--;) {
            var a = e.elements[n];
            if (null != a) {
                var r = {};
                r[o] = e.oldValues[n], r[o] != a.getAttribute(o) && i.addSubCommand(new svgedit.history.ChangeElementCommand(a, r, o))
            }
        }
        return this.undoableChangeStack[t] = null, i
    }
}();
! function() {
    "use strict";
    svgedit.coords || (svgedit.coords = {});
    var t = [0, "z", "M", "m", "L", "l", "C", "c", "Q", "q", "A", "a", "H", "h", "V", "v", "S", "s", "T", "t"],
        e = null;
    svgedit.coords.init = function(t) {
        e = t
    }, svgedit.coords.remapElement = function(a, r, s) {
        var i, x, n = function(t, e) {
                return svgedit.math.transformPoint(t, e, s)
            },
            y = function(t) {
                return s.a * t
            },
            g = function(t) {
                return s.d * t
            },
            c = e.getGridSnapping() && "svg" === a.parentNode.parentNode.localName,
            o = function() {
                var t;
                if (c)
                    for (t in r) r[t] = svgedit.utilities.snapToGrid(r[t]);
                svgedit.utilities.assignAttributes(a, r, 1e3, !0)
            },
            d = svgedit.utilities.getBBox(a);
        for (i = 0; i < 2; i++) {
            x = 0 === i ? "fill" : "stroke";
            var l = a.getAttribute(x);
            if (l && 0 === l.indexOf("url(") && (s.a < 0 || s.d < 0)) {
                var h = svgedit.utilities.getRefElem(l),
                    v = h.cloneNode(!0);
                if (s.a < 0) {
                    var f = v.getAttribute("x1"),
                        m = v.getAttribute("x2");
                    v.setAttribute("x1", -(f - 1)), v.setAttribute("x2", -(m - 1))
                }
                if (s.d < 0) {
                    var p = v.getAttribute("y1"),
                        u = v.getAttribute("y2");
                    v.setAttribute("y1", -(p - 1)), v.setAttribute("y2", -(u - 1))
                }
                v.id = e.getDrawing().getNextId(), svgedit.utilities.findDefs().appendChild(v), a.setAttribute(x, "url(#" + v.id + ")")
            }
        }
        var b, A, M = a.tagName;
        if ("g" === M || "text" === M || "tspan" == M || "use" === M)
            if (1 != s.a || 0 != s.b || 0 != s.c || 1 != s.d || 0 == s.e && 0 == s.f) b = svgedit.transformlist.getTransformList(a), A = svgroot.createSVGTransform(), A.setMatrix(svgedit.math.matrixMultiply(svgedit.math.transformListToTransform(b).matrix, s)), b.clear(), b.appendItem(A);
            else {
                var k = svgedit.math.transformListToTransform(a).matrix,
                    T = svgedit.math.matrixMultiply(k.inverse(), s, k);
                ("tspan" != M || "tspan" == M && r.x) && (r.x = parseFloat(r.x) + T.e), ("tspan" != M || "tspan" == M && r.y) && (r.y = parseFloat(r.y) + T.f)
            }
        var w, F, L, N, S;
        switch (M) {
            case "foreignObject":
            case "rect":
            case "image":
                "image" === M && (s.a < 0 || s.d < 0) ? (b = svgedit.transformlist.getTransformList(a), A = svgroot.createSVGTransform(), A.setMatrix(svgedit.math.matrixMultiply(svgedit.math.transformListToTransform(b).matrix, s)), b.clear(), b.appendItem(A)) : (L = n(r.x, r.y), r.width = y(r.width), r.height = g(r.height), r.x = L.x + Math.min(0, r.width), r.y = L.y + Math.min(0, r.height), r.width = Math.abs(r.width), r.height = Math.abs(r.height)), o();
                break;
            case "ellipse":
                w = n(r.cx, r.cy), r.cx = w.x, r.cy = w.y, r.rx = y(r.rx), r.ry = g(r.ry), r.rx = Math.abs(r.rx), r.ry = Math.abs(r.ry), o();
                break;
            case "circle":
                w = n(r.cx, r.cy), r.cx = w.x, r.cy = w.y;
                var I = svgedit.math.transformBox(d.x, d.y, d.width, d.height, s),
                    G = I.tr.x - I.tl.x,
                    B = I.bl.y - I.tl.y;
                r.r = Math.min(G / 2, B / 2), r.r && (r.r = Math.abs(r.r)), o();
                break;
            case "line":
                L = n(r.x1, r.y1), N = n(r.x2, r.y2), r.x1 = L.x, r.y1 = L.y, r.x2 = N.x, r.y2 = N.y;
            case "text":
            case "tspan":
            case "use":
                o();
                break;
            case "g":
                var O = $(a).data("gsvg");
                O && svgedit.utilities.assignAttributes(O, r, 1e3, !0);
                break;
            case "polyline":
            case "polygon":
                for (S = r.points.length, i = 0; i < S; ++i) F = r.points[i], F = n(F.x, F.y), r.points[i].x = F.x, r.points[i].y = F.y;
                S = r.points.length;
                var V = "";
                for (i = 0; i < S; ++i) F = r.points[i], V += F.x + "," + F.y + " ";
                a.setAttribute("points", V);
                break;
            case "path":
                var C, D = a.pathSegList;
                for (S = D.numberOfItems, r.d = [], i = 0; i < S; ++i) C = D.getItem(i), r.d[i] = {
                    type: C.pathSegType,
                    x: C.x,
                    y: C.y,
                    x1: C.x1,
                    y1: C.y1,
                    x2: C.x2,
                    y2: C.y2,
                    r1: C.r1,
                    r2: C.r2,
                    angle: C.angle,
                    largeArcFlag: C.largeArcFlag,
                    sweepFlag: C.sweepFlag
                };
                S = r.d.length;
                var E = r.d[0],
                    j = n(E.x, E.y);
                for (r.d[0].x = j.x, r.d[0].y = j.y, i = 1; i < S; ++i)
                    if (C = r.d[i], x = C.type, x % 2 == 0) {
                        var q = void 0 != C.x ? C.x : j.x,
                            z = void 0 != C.y ? C.y : j.y;
                        F = n(q, z), L = n(C.x1, C.y1), N = n(C.x2, C.y2), C.x = F.x, C.y = F.y, C.x1 = L.x, C.y1 = L.y, C.x2 = N.x, C.y2 = N.y, C.r1 = y(C.r1), C.r2 = g(C.r2)
                    } else C.x = y(C.x), C.y = g(C.y), C.x1 = y(C.x1), C.y1 = g(C.y1), C.x2 = y(C.x2), C.y2 = g(C.y2), C.r1 = y(C.r1), C.r2 = g(C.r2);
                var H = "";
                for (S = r.d.length, i = 0; i < S; ++i) switch (C = r.d[i], x = C.type, H += t[x], x) {
                    case 13:
                    case 12:
                        H += C.x + " ";
                        break;
                    case 15:
                    case 14:
                        H += C.y + " ";
                        break;
                    case 3:
                    case 5:
                    case 19:
                    case 2:
                    case 4:
                    case 18:
                        H += C.x + "," + C.y + " ";
                        break;
                    case 7:
                    case 6:
                        H += C.x1 + "," + C.y1 + " " + C.x2 + "," + C.y2 + " " + C.x + "," + C.y + " ";
                        break;
                    case 9:
                    case 8:
                        H += C.x1 + "," + C.y1 + " " + C.x + "," + C.y + " ";
                        break;
                    case 11:
                    case 10:
                        H += C.r1 + "," + C.r2 + " " + C.angle + " " + +C.largeArcFlag + " " + +C.sweepFlag + " " + C.x + "," + C.y + " ";
                        break;
                    case 17:
                    case 16:
                        H += C.x2 + "," + C.y2 + " " + C.x + "," + C.y + " "
                }
                a.setAttribute("d", H)
        }
    }
}();
! function() {
    svgedit.recalculate || (svgedit.recalculate = {});
    var t, e = svgedit.NS;
    svgedit.recalculate.init = function(e) {
        t = e
    }, svgedit.recalculate.updateClipPath = function(t) {
        svgedit.recalculate.recalculateDimensions(t)
    }, svgedit.recalculate.recalculateDimensions = function(t) {
        var e;
        if (null == t) return null;
        if ("svg" == t.nodeName && navigator.userAgent.indexOf("Firefox/20") >= 0) return null;
        $(t).hasClass("textarea") && svgedit.transformlist.removeElementFromListMap(t);
        var r = INKIVE.Tool && INKIVE.Tool.getInstance().editor.canvas,
            a = svgedit.transformlist.getTransformList(t);
        if (!a) return null;
        var s = a.numberOfItems;
        if ($(t).hasClass("textarea")) {
            var i = s >= 3 && 3 == a.getItem(s - 2).type && 2 == a.getItem(s - 3).type && 2 == a.getItem(s - 1).type,
                m = 2 == s && 2 == a.getItem(s - 2).type && 3 == a.getItem(s - 1).type;
            if (i || m) {
                var n = null,
                    o = 0;
                for (o; o < s && (n = a.getItem(o), n.type !== SVGTransform.SVG_TRANSFORM_ROTATE); ++o) n = null;
                n && a.removeItem(o);
                var f = svgedit.math.transformListToTransform(a, 0, 2).matrix.a,
                    e = svgedit.recalculate._recalculateDimensions(t);
                return r && r.runExtensions("resizeText", {
                    elem: t,
                    scale: f
                }), n && a.appendItem(n), e
            }
        }
        var l = $("#svgcontent .main").get(0);
        if (r && $(t).hasClass("layoutBox") && l && $.contains(l, t) && r.runExtensions("isEmptyLayout", {
                layoutBox: t
            })) {
            var e = svgedit.recalculate._recalculateDimensions(t);
            return r.runExtensions("setFullSizePlaceholder", {
                layoutBox: t
            }), e
        }
        return svgedit.recalculate._recalculateDimensions(t)
    }, svgedit.recalculate._recalculateDimensions = function(r) {
        function a() {
            var t = svgedit.utilities.getClipPath(r);
            if (r.hasAttribute("transform") && t) {
                var e = $(r).parents("svg").get(0),
                    a = r.getAttribute("transform"),
                    s = t.childNodes[0],
                    i = svgedit.transformlist.getTransformList(s);
                if (!s) return;
                var m = s.hasAttribute("transform") && l && l.numberOfItems > 0 ? _.clone(i.getItem(0)) : null,
                    o = e.appendChild(s);
                svgedit.utilities.assignAttributes(o, {
                    transform: a
                }), svgedit.transformlist.removeElementFromListMap(o), n.addSubCommand(svgedit.recalculate._recalculateDimensions(o));
                var f = o.getBBox();
                if (o.removeAttribute("transform"), t.appendChild(o), m && 4 === m.type) {
                    i = svgedit.transformlist.getTransformList(s);
                    var v = _.clone(i.getItem(0));
                    v.angle = m.angle, i.replaceItem(v, 0)
                }
                $(document).trigger("editor.runExtensions", {
                    name: "setLayoutBoxCoord",
                    data: {
                        layoutBox: r,
                        bbox: f
                    }
                })
            }
        }

        function s() {
            return "g" == r.tagName && !p || "a" == r.tagName
        }

        function i() {
            function a() {
                var t = $(r).is(".video") ? $(r).children("image")[0] : r,
                    e = svgedit.utilities.getBBox(t),
                    a = $(r).children("title")[0];
                a.textContent = Math.floor4(e.x) + " " + Math.floor4(e.y) + " " + Math.floor4(e.width) + " " + Math.floor4(e.height)
            }
            var s = svgedit.utilities.getBBox(r),
                i = {
                    x: s.x + s.width / 2,
                    y: s.y + s.height / 2
                },
                m = svgedit.math.transformPoint(s.x + s.width / 2, s.y + s.height / 2, svgedit.math.transformListToTransform(l).matrix),
                o = f.createSVGMatrix(),
                v = svgedit.utilities.getRotationAngle(r);
            if (v) {
                var g = v * Math.PI / 180;
                if (Math.abs(g) > 1e-10) var u = Math.sin(g) / (1 - Math.cos(g));
                else var u = 2 / g;
                var c;
                for (c = 0; c < l.numberOfItems; ++c) {
                    var d = l.getItem(c);
                    if (4 == d.type) {
                        var p = d.matrix;
                        i.y = (u * p.e + p.f) / 2, i.x = (p.e - u * p.f) / 2, l.removeItem(c);
                        break
                    }
                }
            }
            var I = 0,
                x = 0,
                h = 0,
                T = l.numberOfItems;
            if (T) var y = l.getItem(0).matrix;
            if (T >= 3 && 3 == l.getItem(T - 2).type && 2 == l.getItem(T - 3).type && 2 == l.getItem(T - 1).type) {
                h = 3;
                for (var b = l.getItem(T - 3).matrix, S = l.getItem(T - 2).matrix, M = l.getItem(T - 1).matrix, O = r.childNodes, A = O.length; A--;) {
                    var V = O.item(A);
                    if (I = 0, x = 0, 1 == V.nodeType) {
                        var L = svgedit.transformlist.getTransformList(V);
                        if (!L) continue;
                        o = svgedit.math.transformListToTransform(L).matrix;
                        var G = svgedit.utilities.getRotationAngle(V),
                            B = t.getStartTransform(),
                            N = [];
                        if (t.setStartTransform(V.getAttribute("transform")), G || svgedit.math.hasMatrixTransform(L)) {
                            var C = f.createSVGTransform();
                            C.setMatrix(svgedit.math.matrixMultiply(b, S, M, o)), L.clear(), L.appendItem(C), N.push(C)
                        } else {
                            var w = svgedit.math.matrixMultiply(o.inverse(), M, o),
                                E = f.createSVGMatrix();
                            E.e = -w.e, E.f = -w.f;
                            var R = svgedit.math.matrixMultiply(E.inverse(), o.inverse(), b, S, M, o, w.inverse()),
                                k = f.createSVGTransform(),
                                D = f.createSVGTransform(),
                                _ = f.createSVGTransform();
                            k.setTranslate(w.e, w.f), D.setScale(R.a, R.d), _.setTranslate(E.e, E.f), L.appendItem(_), L.appendItem(D), L.appendItem(k), N.push(_), N.push(D), N.push(k)
                        }
                        n.addSubCommand(svgedit.recalculate.recalculateDimensions(V)), t.setStartTransform(B)
                    }
                }
                l.removeItem(T - 1), l.removeItem(T - 2), l.removeItem(T - 3)
            } else if (T >= 3 && 1 == l.getItem(T - 1).type) {
                h = 3, o = svgedit.math.transformListToTransform(l).matrix;
                var C = f.createSVGTransform();
                C.setMatrix(o), l.clear(), l.appendItem(C)
            } else if ((1 == T || T > 1 && 3 != l.getItem(1).type) && 2 == l.getItem(0).type) {
                h = 2;
                var P = svgedit.math.transformListToTransform(l).matrix;
                l.removeItem(0);
                var F = svgedit.math.transformListToTransform(l).matrix.inverse(),
                    j = svgedit.math.matrixMultiply(F, P);
                if (I = j.e, x = j.f, 0 != I || 0 != x) {
                    for (var O = r.childNodes, A = O.length, z = []; A--;) {
                        var V = O.item(A);
                        if (1 == V.nodeType) {
                            if (V.getAttribute("clip-path")) {
                                var K = V.getAttribute("clip-path");
                                z.indexOf(K) === -1 && (svgedit.recalculate.updateClipPath(V), z.push(K))
                            }
                            var B = t.getStartTransform();
                            t.setStartTransform(V.getAttribute("transform"));
                            var L = svgedit.transformlist.getTransformList(V);
                            if (L) {
                                var U = f.createSVGTransform();
                                U.setTranslate(I, x), L.numberOfItems ? L.insertItemBefore(U, 0) : L.appendItem(U), n.addSubCommand(svgedit.recalculate.recalculateDimensions(V));
                                for (var H = r.getElementsByTagNameNS(e.SVG, "use"), W = "#" + V.id, q = H.length; q--;) {
                                    var J = H.item(q);
                                    if (W == svgedit.utilities.getHref(J)) {
                                        var Q = f.createSVGTransform();
                                        Q.setTranslate(-I, -x), svgedit.transformlist.getTransformList(J).insertItemBefore(Q, 0), n.addSubCommand(svgedit.recalculate.recalculateDimensions(J))
                                    }
                                }
                                t.setStartTransform(B)
                            }
                        }
                    }
                    z = [], t.setStartTransform(B)
                }
            } else if (1 != T || 1 != l.getItem(0).type || v) {
                if (!(T >= 2 && 2 == l.getItem(T - 2).type && 3 == l.getItem(T - 1).type)) {
                    if (v) {
                        var X = f.createSVGTransform();
                        X.setRotate(v, m.x, m.y), l.numberOfItems ? l.insertItemBefore(X, 0) : l.appendItem(X)
                    }
                    return 0 == l.numberOfItems && r.removeAttribute("transform"), !1
                }
                h = 3;
                for (var b = l.getItem(T - 2).matrix, S = l.getItem(T - 1).matrix, M = l.getItem(T - 2).matrix, O = r.childNodes, A = O.length; A--;) {
                    var V = O.item(A);
                    if (I = 0, x = 0, 1 == V.nodeType) {
                        var L = svgedit.transformlist.getTransformList(V);
                        if (!L) continue;
                        o = svgedit.math.transformListToTransform(L).matrix;
                        var B = t.getStartTransform(),
                            N = [];
                        t.setStartTransform(V.getAttribute("transform"));
                        var w = svgedit.math.matrixMultiply(o.inverse(), M, o),
                            E = f.createSVGMatrix();
                        E.e = -w.e, E.f = -w.f;
                        var R = svgedit.math.matrixMultiply(E.inverse(), o.inverse(), b, S, M, o, w.inverse()),
                            k = f.createSVGTransform(),
                            D = f.createSVGTransform(),
                            _ = f.createSVGTransform();
                        k.setTranslate(w.e, w.f), D.setScale(R.a, R.d), _.setTranslate(E.e, E.f), L.appendItem(_), L.appendItem(D), L.appendItem(k), N.push(_), N.push(D), N.push(k), n.addSubCommand(svgedit.recalculate.recalculateDimensions(V)), t.setStartTransform(B)
                    }
                }
                l.removeItem(T - 1), l.removeItem(T - 2)
            } else {
                h = 1, o = l.getItem(0).matrix;
                for (var O = r.childNodes, A = O.length; A--;) {
                    var V = O.item(A);
                    if (1 == V.nodeType) {
                        var B = t.getStartTransform();
                        t.setStartTransform(V.getAttribute("transform"));
                        var L = svgedit.transformlist.getTransformList(V);
                        if (!L) continue;
                        var Y = svgedit.math.matrixMultiply(o, svgedit.math.transformListToTransform(L).matrix),
                            Z = f.createSVGTransform();
                        Z.setMatrix(Y), L.clear(), L.appendItem(Z, 0), n.addSubCommand(svgedit.recalculate.recalculateDimensions(V)), t.setStartTransform(B);
                        var tt = V.getAttribute("stroke-width");
                        if ("none" !== V.getAttribute("stroke") && !isNaN(tt)) {
                            var et = (Math.abs(Y.a) + Math.abs(Y.d)) / 2;
                            V.setAttribute("stroke-width", tt * et)
                        }
                    }
                }
                l.clear()
            }
            if (2 == h) {
                if (v) {
                    m = {
                        x: i.x + y.e,
                        y: i.y + y.f
                    };
                    var X = f.createSVGTransform();
                    X.setRotate(v, m.x, m.y), l.numberOfItems ? l.insertItemBefore(X, 0) : l.appendItem(X)
                }
            } else if (3 == h) {
                o = svgedit.math.transformListToTransform(l).matrix;
                var rt = f.createSVGTransform();
                rt.setRotate(v, i.x, i.y);
                var at = rt.matrix,
                    st = f.createSVGTransform();
                st.setRotate(v, m.x, m.y);
                var it = st.matrix.inverse(),
                    mt = o.inverse(),
                    nt = svgedit.math.matrixMultiply(mt, it, at, o);
                if (I = nt.e, x = nt.f, 0 != I || 0 != x)
                    for (var O = r.childNodes, A = O.length; A--;) {
                        var V = O.item(A);
                        if (1 == V.nodeType) {
                            var B = t.getStartTransform();
                            t.setStartTransform(V.getAttribute("transform"));
                            var L = svgedit.transformlist.getTransformList(V),
                                U = f.createSVGTransform();
                            U.setTranslate(I, x), L.numberOfItems ? L.insertItemBefore(U, 0) : L.appendItem(U), n.addSubCommand(svgedit.recalculate.recalculateDimensions(V)), t.setStartTransform(B)
                        }
                    }
                v && (l.numberOfItems ? l.insertItemBefore(st, 0) : l.appendItem(st))
            }
            return $(r).is("a") && $(r).children("title").length && a(), !0
        }

        function m() {
            function t() {
                for (var t = {
                        x: y.x + y.width / 2,
                        y: y.y + y.height / 2
                    }, e = S * Math.PI / 180, r = Math.abs(e) > 1e-10 ? Math.sin(e) / (1 - Math.cos(e)) : 2 / e, a = 0; a < l.numberOfItems; ++a) {
                    var s = l.getItem(a);
                    if (4 == s.type) {
                        var i = s.matrix;
                        t.y = (r * i.e + i.f) / 2, t.x = (i.e - r * i.f) / 2, l.removeItem(a);
                        break
                    }
                }
                return t
            }

            function e() {
                return svgedit.math.transformPoint(y.x + y.width / 2, y.y + y.height / 2, svgedit.math.transformListToTransform(l).matrix)
            }

            function a() {
                var t = r.getAttribute("fill");
                if (t && 0 === t.indexOf("url(")) {
                    var e = svgedit.utilities.getRefElem(t),
                        a = "pattern";
                    e.tagName !== a && (a = "gradient");
                    var s = e.getAttribute(a + "Units");
                    if ("userSpaceOnUse" === s) {
                        b = svgedit.math.transformListToTransform(l).matrix;
                        var i = svgedit.transformlist.getTransformList(e),
                            m = svgedit.math.transformListToTransform(i).matrix;
                        b = svgedit.math.matrixMultiply(b, m);
                        var n = "matrix(" + [b.a, b.b, b.c, b.d, b.e, b.f].join(",") + ")";
                        e.setAttribute(a + "Transform", n)
                    }
                }
            }

            function s() {
                switch (!0) {
                    case i():
                        return g(), "scale";
                    case m():
                        return u(), "scale";
                    case n():
                        return c(), "translate";
                    case o():
                        return d(), "matrix";
                    case v():
                        return x(), "translate";
                    default:
                        return p(), "rotate"
                }
            }

            function i() {
                var t = l.numberOfItems;
                return t >= 3 && 2 == l.getItem(t - 3).type && 3 == l.getItem(t - 2).type && 2 == l.getItem(t - 1).type
            }

            function m() {
                var t = l.numberOfItems;
                return 4 == t && 1 == l.getItem(t - 1).type
            }

            function n() {
                var t = l.numberOfItems;
                return (1 == t || t > 1 && 3 != l.getItem(1).type) && 2 == l.getItem(0).type
            }

            function o() {
                var t = l.numberOfItems;
                return 1 == t && 1 == l.getItem(0).type && !S
            }

            function v() {
                var t = l.numberOfItems;
                return 2 == l.getItem(t - 1).type
            }

            function g() {
                var t = l.numberOfItems;
                b = svgedit.math.transformListToTransform(l, t - 3, t - 1).matrix, l.removeItem(t - 1), l.removeItem(t - 2), l.removeItem(t - 3)
            }

            function u() {
                var t = f.createSVGTransform();
                b = svgedit.math.transformListToTransform(l).matrix, t.setMatrix(b), l.clear(), l.appendItem(t), b = f.createSVGMatrix()
            }

            function c() {
                var t = l.getItem(0).matrix,
                    e = svgedit.math.transformListToTransform(l, 1).matrix,
                    r = e.inverse();
                b = svgedit.math.matrixMultiply(r, t, e), l.removeItem(0)
            }

            function d() {
                switch (b = svgedit.math.transformListToTransform(l).matrix, r.tagName) {
                    case "line":
                        I = $(r).attr(["x1", "y1", "x2", "y2"]);
                    case "polyline":
                    case "polygon":
                        if (I.points = r.getAttribute("points"), I.points) {
                            var t = r.points,
                                e = t.numberOfItems;
                            I.points = new Array(e);
                            for (var a = 0; a < e; ++a) {
                                var s = t.getItem(a);
                                I.points[a] = {
                                    x: s.x,
                                    y: s.y
                                }
                            }
                        }
                    case "path":
                        I.d = r.getAttribute("d"), V = 1, l.clear()
                }
            }

            function p() {
                if (S) {
                    var t = f.createSVGTransform();
                    t.setRotate(S, O.x, O.y), l.numberOfItems && l.insertItemBefore(t, 0), l.numberOfItems || l.appendItem(t)
                }
                l.numberOfItems || r.removeAttribute("transform")
            }

            function x() {
                var t = l.numberOfItems - 1;
                b = svgedit.math.transformListToTransform(l, t).matrix, l.removeItem(t)
            }

            function h() {
                if (S) {
                    svgedit.math.hasMatrixTransform(l) || (O = {
                        x: M.x + b.e,
                        y: M.y + b.f
                    });
                    var t = f.createSVGTransform();
                    t.setRotate(S, O.x, O.y), l.numberOfItems && l.insertItemBefore(t, 0), l.numberOfItems || l.appendItem(t)
                }
                if ("text" == r.tagName)
                    for (var e = r.getElementsByTagName("tspan"), a = e.length; a--;) {
                        var s = e.item(a);
                        if ("tspan" == s.tagName) {
                            var i = {};
                            $(s).attr("x") && (i.x = $(s).attr("x")), $(s).attr("y") && (i.y = $(s).attr("y")), svgedit.coords.remapElement(s, i, b)
                        }
                    }
            }

            function T() {
                b = svgedit.math.transformListToTransform(l).matrix;
                var t = f.createSVGTransform();
                t.setRotate(S, M.x, M.y);
                var e = t.matrix,
                    a = f.createSVGTransform();
                a.setRotate(S, O.x, O.y);
                var s = a.matrix.inverse(),
                    i = b.inverse(),
                    m = svgedit.math.matrixMultiply(i, s, e, b);
                svgedit.coords.remapElement(r, I, m), l.numberOfItems && l.insertItemBefore(a, 0), l.numberOfItems || l.appendItem(a)
            }
            var y = svgedit.utilities.getBBox(r),
                b = f.createSVGMatrix(),
                S = svgedit.utilities.getRotationAngle(r),
                M = S && y ? t() : null,
                O = S && y ? e() : null;
            svgedit.browser.isWebkit() || a();
            var A = !1,
                V = s();
            return "rotate" !== V && (svgedit.coords.remapElement(r, I, b), "translate" == V && h(), "scale" == V && S && T(), A = !0), A
        }
        var n = new svgedit.history.BatchCommand("Transform");
        $(r).trigger("change"), $(r).hasClass("layoutBox") && a();
        var o, f = t.getSVGRoot(),
            l = svgedit.transformlist.getTransformList(r);
        if (l && l.numberOfItems > 0) {
            for (o = l.numberOfItems; o--;) {
                var v = l.getItem(o);
                0 === v.type ? l.removeItem(o) : 1 === v.type ? svgedit.math.isIdentity(v.matrix) && l.removeItem(o) : 4 === v.type && 0 === v.angle && l.removeItem(o)
            }
            if (1 === l.numberOfItems && svgedit.utilities.getRotationAngle(r)) return null
        }
        if (!l || 0 == l.numberOfItems) return r.setAttribute("transform", ""), r.removeAttribute("transform"), null;
        if (l) {
            o = l.numberOfItems;
            for (var g = []; o--;) {
                var v = l.getItem(o);
                1 === v.type ? g.push([v.matrix, o]) : g.length && (g = [])
            }
            if (2 === g.length) {
                var u = f.createSVGTransformFromMatrix(svgedit.math.matrixMultiply(g[1][0], g[0][0]));
                l.removeItem(g[0][1]), l.removeItem(g[1][1]), l.insertItemBefore(u, g[1][1])
            }
            if (o = l.numberOfItems, o >= 2 && 1 === l.getItem(o - 2).type && 2 === l.getItem(o - 1).type) {
                var c = f.createSVGTransform(),
                    d = svgedit.math.matrixMultiply(l.getItem(o - 2).matrix, l.getItem(o - 1).matrix);
                c.setMatrix(d), l.removeItem(o - 2), l.removeItem(o - 2), l.appendItem(c)
            }
        }
        switch (r.tagName) {
            case "line":
            case "polyline":
            case "polygon":
            case "path":
                break;
            default:
                if (1 === l.numberOfItems && 1 === l.getItem(0).type || 2 === l.numberOfItems && 1 === l.getItem(0).type && 4 === l.getItem(0).type) return null
        }
        var p = $(r).data("gsvg"),
            I = {},
            x = null,
            h = [];
        switch (r.tagName) {
            case "line":
                h = ["x1", "y1", "x2", "y2"];
                break;
            case "circle":
                h = ["cx", "cy", "r"];
                break;
            case "ellipse":
                h = ["cx", "cy", "rx", "ry"];
                break;
            case "foreignObject":
            case "rect":
            case "image":
                h = ["width", "height", "x", "y"];
                break;
            case "use":
            case "text":
            case "tspan":
                h = ["x", "y"];
                break;
            case "polygon":
            case "polyline":
                x = {}, x.points = r.getAttribute("points");
                var T = r.points,
                    y = T.numberOfItems;
                I.points = new Array(y);
                var b;
                for (b = 0; b < y; ++b) {
                    var S = T.getItem(b);
                    I.points[b] = {
                        x: S.x,
                        y: S.y
                    }
                }
                break;
            case "path":
                x = {}, x.d = r.getAttribute("d"), I.d = r.getAttribute("d")
        }
        h.length ? (I = $(r).attr(h), $.each(I, function(t, e) {
            I[t] = svgedit.units.convertToNum(t, e)
        })) : p && (I = {
            x: $(p).attr("x") || 0,
            y: $(p).attr("y") || 0
        }), null == x && (x = $.extend(!0, {}, I), $.each(x, function(t, e) {
            x[t] = svgedit.units.convertToNum(t, e)
        })), x.transform = t.getStartTransform() || "";
        var M = s(),
            O = M ? i() : m();
        return O ? (l.numberOfItems || r.removeAttribute("transform"), n.addSubCommand(new svgedit.history.ChangeElementCommand(r, x)), n) : void 0
    }
}();
! function() {
    "use strict";

    function e() {
        var e = i.selectorGrips,
            t = $(e.nw),
            r = $(e.ne),
            s = $(e.sw),
            o = 2 * (2 * t.attr("r") + t.attr("stroke-width")),
            n = (r.attr("cx") <= t.attr("cx") + o || s.attr("cy") <= t.attr("cy") + o) && INKIVE.C.IS_MOBILE;
        _.each(e, function(e) {
            $(e).is(".resize-button") && $(e).toggle(n), $(e).is(".resize-button") || $(e).toggle(!n)
        })
    }
    svgedit.select || (svgedit.select = {});
    var t, r, s, i, o = svgedit.browser.isTouch() ? 15 : 8,
        n = 26;
    svgedit.select.Selector = function(e, t) {
        this.id = e, this.selectedElement = t, this.locked = !0, this.selectorGroup = r.createSVGElement({
            element: "g",
            attr: {
                id: "selectorGroup" + this.id
            }
        }), this.selectorRect = this.selectorGroup.appendChild(r.createSVGElement({
            element: "path",
            attr: {
                id: "selectedBox" + this.id,
                fill: "none",
                stroke: "#333",
                "stroke-width": "1",
                "stroke-dasharray": "5,5",
                style: "pointer-events:none"
            }
        })), this.gripCoords = {
            nw: null,
            n: null,
            ne: null,
            e: null,
            se: null,
            s: null,
            sw: null,
            w: null
        }, this.reset(this.selectedElement)
    }, svgedit.select.Selector.prototype.reset = function(e) {
        this.locked = !0, this.selectedElement = e, this.resize(), this.selectorGroup.setAttribute("display", "inline")
    }, svgedit.select.Selector.prototype.updateGripCursors = function(r) {
        var s, o = [],
            n = Math.round(r / 45);
        n < 0 && (n += 8);
        for (s in i.selectorGrips) o.push(s);
        for (; n > 0;) o.push(o.shift()), n--;
        var l = 0;
        for (s in i.selectorGrips) {
            var a = $(i.selectorGrips[s]).is(".resize-button") ? "default" : o[l] + "-resize";
            i.selectorGrips[s].setAttribute("style", "display: none; cursor:" + a), l++
        }
        t && e()
    }, svgedit.select.Selector.prototype.showGrips = function(r) {
        var s = this.selectedElement,
            o = $(s).hasClass("locked"),
            n = INKIVE.RestrictionsFacade.canChange(s, "position") || $(s).hasClass("layoutClipperImage"),
            l = o ? "#FF0000" : n ? "#333" : "#FFDD17";
        r = !o && r, this.selectorRect.setAttribute("stroke", l), $(s).parent().hasClass("background") && (r = !1);
        var a = r ? "inline" : "none";
        i.selectorGripsGroup.setAttribute("display", a), this.hasGrips = r, s && r && (this.selectorGroup.appendChild(i.selectorGripsGroup), this.updateGripCursors(svgedit.utilities.getRotationAngle(s))), $(".selectorGrip").attr("display", "inline"), t = INKIVE.RestrictionsFacade.canChange(s, "size") || $(s).hasClass("layoutClipperImage"), t || $(["#selectorGrip_resize_n", "#selectorGrip_resize_s", "#selectorGrip_resize_w", "#selectorGrip_resize_e", "#selectorGrip_resize_ne", "#selectorGrip_resize_se", "#selectorGrip_resize_sw", "#selectorGrip_resize_nw", "#selectorGrip_resize_plus", "#selectorGrip_resize_minus"].join(",")).hide(), t && e();
        var c = $(s).is("image") && !$(s).hasClass("layoutBox") || $(s).find(".layoutBox.subelement").length || $(s).is(".logo") || $(s).is(".icon") || $(s).is(".video"),
            u = INKIVE.DesignFacade.get($(s).attr("id"));
        if (u) {
            var p = $("symbol#arrow").find("polygon");
            ("sticker" === u.type || "shape" === u.type) && p.hide(), "sticker" === u.type || "shape" === u.type || p.show()
        }
        $(s).hasClass("textarea") ? ($("#selectorGrip_resize_n").hide(), $("#selectorGrip_resize_s").hide()) : c && ($("#selectorGrip_resize_n").hide(), $("#selectorGrip_resize_s").hide(), $("#selectorGrip_resize_w").hide(), $("#selectorGrip_resize_e").hide())
    }, svgedit.select.Selector.prototype.resize = function() {
        function s() {
            var e = f.getAttribute("stroke-width"),
                t = 0;
            return "none" === f.getAttribute("stroke") || isNaN(e) || (t += e / 2), t * v
        }

        function l() {
            function e() {
                var e, t = svgedit.utilities.getBBox(f);
                return "g" === f.tagName && $(f).is(".textarea") ? (e = svgedit.utilities.getStrokedBBox(f.getElementsByTagName("rect")[0]), e && (t = e)) : "g" !== f.tagName || $.data(f, "gsvg") || (e = svgedit.utilities.getStrokedBBox(f.childNodes), e && (t = e)), t
            }

            function t() {
                function e() {
                    return _.each("abcdef".split(""), function(e) {
                        l[e] *= v
                    }), l
                }
                var t = h(),
                    r = g(),
                    s = svgedit.transformlist.getTransformList(f),
                    i = s;
                if (t !== r) {
                    i = $.extend(!0, {}, s);
                    for (var o = 0; o < i.numberOfItems; o++) {
                        var n = _.clone(i.getItem(o));
                        4 === n.type && i.removeItem(o)
                    }
                }
                var l = svgedit.math.transformListToTransform(i).matrix;
                return e()
            }
            var r = e(),
                s = t();
            return $.extend({
                bbox: r
            }, svgedit.math.transformBox(r.x, r.y, r.width, r.height, s))
        }

        function a() {
            function e() {
                var e = r.svgRoot().createSVGTransform();
                e.setRotate(-s, z, A);
                var t = e.matrix;
                m.tl = svgedit.math.transformPoint(m.tl.x, m.tl.y, t), m.tr = svgedit.math.transformPoint(m.tr.x, m.tr.y, t), m.bl = svgedit.math.transformPoint(m.bl.x, m.bl.y, t), m.br = svgedit.math.transformPoint(m.br.x, m.br.y, t)
            }

            function t() {
                var e = [m.tl.x, m.tr.x, m.bl.x, m.br.x],
                    t = [m.tl.y, m.tr.y, m.bl.y, m.br.y],
                    r = _.min(e) - G,
                    s = _.min(t) - G,
                    i = _.max(e) + G,
                    o = _.max(t) + G;
                x = r, w = s, k = i - r, C = o - s
            }
            var s = h();
            s && e(), s && t()
        }

        function c() {
            function e() {
                return "M" + x + "," + w + " L" + (x + k) + "," + w + " " + (x + k) + "," + (w + C) + " " + x + "," + (w + C) + "z"
            }

            function t() {
                var e = h();
                return e ? "rotate(" + [e, z, A].join(",") + ")" : ""
            }
            this.selectorRect.setAttribute("d", e()), this.selectorGroup.setAttribute("transform", t())
        }

        function u() {
            function r() {
                function e() {
                    var e = o.plus[0] + i + s + a.left;
                    return e > n
                }

                function t() {
                    return o.plus[1] + a.top < 0
                }

                function r() {
                    return o.minus[1] + a.top + i > l
                }
                var s = 7,
                    i = 36,
                    o = {
                        plus: [x + k + s, w],
                        minus: [x + k + s, w + i + s]
                    },
                    n = $(window).width(),
                    l = $(window).height(),
                    a = ($("#workarea").scrollTop(), $("#workarea").scrollLeft(), $("#canvasBackground").offset());
                return e() && (o.plus[0] = o.minus[0] = x - i - s), t() ? (o.plus[1] = -a.top, o.minus[1] = i + s - a.top) : r() && (o.plus[1] = l - 2 * (i + s) - a.top, o.minus[1] = l - i - s - a.top), o
            }
            var s = i.selectorGrips,
                l = r();
            this.gripCoords = {
                nw: [x, w],
                ne: [x + k, w],
                sw: [x, w + C],
                se: [x + k, w + C],
                n: [x + k / 2, w],
                w: [x, w + C / 2],
                e: [x + k, w + C / 2],
                s: [x + k / 2, w + C]
            }, l && (this.gripCoords.plus = l.plus, this.gripCoords.minus = l.minus), _.each(this.gripCoords, function(e, t) {
                if ($(s[t]).is("circle")) s[t].setAttribute("cx", e[0]), s[t].setAttribute("cy", e[1]);
                else if ($(s[t]).is(".resize-button")) s[t].setAttribute("x", e[0]), s[t].setAttribute("y", e[1]);
                else {
                    var r = o / 35;
                    s[t].setAttribute("x", e[0] - 49), s[t].setAttribute("y", e[1] - 47.665);
                    var i = -e[0] * (r - 1),
                        n = -e[1] * (r - 1),
                        l = "translate(" + i + "," + n + ") scale(" + r + ")",
                        a = s[t].getAttribute("id");
                    /resize_s/.test(a) ? l += " rotate(90 " + e[0] + " " + e[1] + ")" : /resize_w/.test(a) ? l += " rotate(180 " + e[0] + " " + e[1] + ")" : /resize_n/.test(a) && (l += " rotate(-90 " + e[0] + " " + e[1] + ")"), s[t].setAttribute("transform", l)
                }
            }), i.rotateGrip.setAttribute("x", x + k / 2 - n / 2), i.rotateGripConnector.setAttribute("x1", x + k / 2), i.rotateGripConnector.setAttribute("y1", w + C), i.rotateGripConnector.setAttribute("x2", x + k / 2), i.rotateGripConnector.setAttribute("y2", w + C + 4 * o), i.rotateGrip.setAttribute("y", w + C + n), t && e(), INKIVE.RestrictionsFactory && p()
        }

        function p() {
            var e, t = $("#margin-box")[0];
            if (t) {
                var r = parseFloat(t.getAttribute("stroke-width"));
                svgCanvas.assignAttributes(t, {
                    width: k + r,
                    height: C + r,
                    x: x - r / 2,
                    y: w - r / 2
                })
            }
            e = $("#vertical-line")[0], e && svgCanvas.assignAttributes(e, {
                x1: x + k / 2,
                y1: w,
                x2: x + k / 2,
                y2: w + C
            }), e = $("#horizontal-line")[0], e && svgCanvas.assignAttributes(e, {
                x1: x,
                y1: w + C / 2,
                x2: x + k,
                y2: w + C / 2
            })
        }

        function h() {
            return g() + d()
        }

        function d() {
            var e = svgedit.utilities.getClipPath(f),
                t = 0;
            if (e) {
                var r = e.getElementsByTagName("rect")[0];
                t = r && r.hasAttribute("transform") ? svgedit.utilities.getRotationAngle(r) : 0
            }
            return t
        }

        function g() {
            return svgedit.utilities.getRotationAngle(f)
        }
        var v = r.currentZoom(),
            f = this.selectedElement,
            G = s(),
            m = l();
        this.transformBox = m;
        var y = r.svgRoot().suspendRedraw(100),
            b = m.aabox,
            x = b.x - G,
            w = b.y - G,
            k = b.width + 2 * G,
            C = b.height + 2 * G,
            z = x + k / 2,
            A = w + C / 2;
        $(f).addClass("selected"), a.call(this), c.call(this), u.call(this), this.transformBox.abbox = {
            x: x,
            y: w,
            width: k,
            height: C
        }, r.svgRoot().unsuspendRedraw(y)
    }, svgedit.select.SelectorManager = function() {
        this.selectorParentGroup = null, this.rubberBandBox = null, this.selectors = [], this.selectorMap = {}, this.selectorGrips = {
            nw: null,
            n: null,
            ne: null,
            e: null,
            se: null,
            s: null,
            sw: null,
            w: null,
            plus: null,
            minus: null
        }, this.selectorGripsGroup = null, this.rotateGripConnector = null, this.rotateGrip = null, this.initGroup()
    }, svgedit.select.SelectorManager.prototype.initGroup = function() {
        this.selectorParentGroup && this.selectorParentGroup.parentNode && this.selectorParentGroup.parentNode.removeChild(this.selectorParentGroup), this.selectorParentGroup = r.createSVGElement({
            element: "g",
            attr: {
                id: "selectorParentGroup",
                style: "pointer-events:auto"
            }
        }), this.selectorGripsGroup = r.createSVGElement({
            element: "g",
            attr: {
                display: "none"
            }
        }), this.selectorParentGroup.appendChild(this.selectorGripsGroup), r.svgPanel().appendChild(this.selectorParentGroup), this.selectorMap = {}, this.selectors = [], this.rubberBandBox = null;
        var e = s.dimensions,
            t = s.initBackground;
        this.rotateGripConnector = this.selectorGripsGroup.appendChild(r.createSVGElement({
            element: "line",
            attr: {
                id: "selectorGrip_rotateconnector",
                fill: "#fff",
                stroke: "#333",
                "stroke-width": 1,
                "stroke-dasharray": "5,5",
                style: "pointer-events:none"
            }
        }));
        for (var i in this.selectorGrips) {
            var l;
            l = $.inArray(i, ["e", "w", "n", "s"]) > -1 ? r.createSVGElement({
                element: "use",
                attr: {
                    id: "selectorGrip_resize_" + i,
                    "class": "selectorGrip",
                    "xlink:href": "#arrow",
                    style: "display: none; cursor:" + i + "-resize",
                    "pointer-events": "all"
                }
            }) : $.inArray(i, ["plus", "minus"]) > -1 ? r.createSVGElement({
                element: "image",
                attr: {
                    id: "selectorGrip_resize_" + i,
                    "class": "resize-button",
                    "xlink:href": s.basePath + s.imgPath + i + "_icon.png",
                    width: n + 10,
                    height: n + 10,
                    style: "display:none; pointer-events:none;cursor: default;",
                    "pointer-events": "all"
                }
            }) : r.createSVGElement({
                element: "circle",
                attr: {
                    id: "selectorGrip_resize_" + i,
                    "class": "selectorGrip",
                    fill: "#fff",
                    stroke: "#666",
                    r: o,
                    style: "cursor:" + i + "-resize",
                    "stroke-width": 2,
                    "pointer-events": "all"
                }
            }), $.data(l, "dir", i), $.data(l, "type", "resize"), this.selectorGrips[i] = this.selectorGripsGroup.appendChild(l)
        }
        if (this.rotateGrip = this.selectorGripsGroup.appendChild(r.createSVGElement({
                element: "image",
                attr: {
                    id: "selectorGrip_rotate",
                    "xlink:href": s.basePath + s.imgPath + "rotate_icon.png",
                    width: n,
                    height: n,
                    style: "cursor: move;"
                }
            })), $.data(this.rotateGrip, "type", "rotate"), !$("#canvasBackground").length) {
            var a = r.createSVGElement({
                element: "svg",
                attr: {
                    id: "canvasBackground",
                    width: e[0],
                    height: e[1],
                    x: 0,
                    y: 0,
                    overflow: svgedit.browser.isWebkit() ? "none" : "visible",
                    style: "pointer-events:none"
                }
            });
            if (t.url) var c = r.createSVGElement({
                element: "image",
                attr: {
                    "class": "background",
                    width: "100%",
                    height: "100%",
                    x: 0,
                    y: 0,
                    "xlink:href": t.url,
                    style: "pointer-events:none"
                }
            });
            else var c = r.createSVGElement({
                element: "rect",
                attr: {
                    "class": "background",
                    width: "100%",
                    height: "100%",
                    x: 0,
                    y: 0,
                    "stroke-width": 1,
                    stroke: t.stroke,
                    fill: t.fill,
                    style: "pointer-events:none"
                }
            });
            a.appendChild(c), r.svgRoot().insertBefore(a, r.svgContent())
        }
    }, svgedit.select.SelectorManager.prototype.requestSelector = function(e) {
        if (null == e) return null;
        var t, r = this.selectors.length;
        if ("object" == typeof this.selectorMap[e.id]) return this.selectorMap[e.id].locked = !0, this.selectorMap[e.id];
        for (t = 0; t < r; ++t)
            if (this.selectors[t] && !this.selectors[t].locked) return this.selectors[t].locked = !0, this.selectors[t].reset(e), this.selectorMap[e.id] = this.selectors[t], this.selectors[t];
        return this.selectors[r] = new svgedit.select.Selector(r, e), this.selectorParentGroup.appendChild(this.selectors[r].selectorGroup), this.selectorMap[e.id] = this.selectors[r], this.selectors[r]
    }, svgedit.select.SelectorManager.prototype.releaseSelector = function(e) {
        if (null != e) {
            var t, r = this.selectors.length,
                s = this.selectorMap[e.id];
            for (t = 0; t < r; ++t)
                if (this.selectors[t] && this.selectors[t] == s) {
                    $(e).removeClass("selected"), $(e).contents().each(function() {
                        $(this).is(".subelement.active") && $(this).removeClass("active")
                    }), 0 == s.locked && console.log("WARNING! selector was released but was already unlocked"), delete this.selectorMap[e.id], s.locked = !1, s.selectedElement = null, s.showGrips(!1);
                    try {
                        s.selectorGroup.setAttribute("display", "none")
                    } catch (i) {}
                    break
                }
        }
    }, svgedit.select.SelectorManager.prototype.releaseAllSelectors = function() {
        _.each(this.selectors, function(e) {
            this.releaseSelector(e.selectedElement)
        }, this)
    }, svgedit.select.SelectorManager.prototype.getRubberBandBox = function() {
        return this.rubberBandBox || (this.rubberBandBox = this.selectorParentGroup.appendChild(r.createSVGElement({
            element: "rect",
            attr: {
                id: "selectorRubberBand",
                fill: "#22C",
                "fill-opacity": .15,
                stroke: "#22C",
                "stroke-width": 1,
                display: "none",
                style: "pointer-events:none"
            }
        }))), this.rubberBandBox
    }, svgedit.select.init = function(e, t) {
        s = e, r = t, i = new svgedit.select.SelectorManager
    }, svgedit.select.getSelectorManager = function() {
        return i
    }
}();
! function() {
    "use strict";
    svgedit.draw || (svgedit.draw = {});
    var e = svgedit.NS,
        t = "a,circle,ellipse,foreignObject,g,image,line,path,polygon,polyline,rect,svg,text,tspan,use".split(","),
        r = {
            LET_DOCUMENT_DECIDE: 0,
            ALWAYS_RANDOMIZE: 1,
            NEVER_RANDOMIZE: 2
        },
        i = r.LET_DOCUMENT_DECIDE;
    svgedit.draw.Layer = function(e, t) {
        this.name_ = e, this.group_ = t
    }, svgedit.draw.Layer.prototype.getName = function() {
        return this.name_
    }, svgedit.draw.Layer.prototype.getGroup = function() {
        return this.group_
    }, svgedit.draw.randomizeIds = function(e, t) {
        i = e === !1 ? r.NEVER_RANDOMIZE : r.ALWAYS_RANDOMIZE, i != r.ALWAYS_RANDOMIZE || t.getNonce() ? i == r.NEVER_RANDOMIZE && t.getNonce() && t.clearNonce() : t.setNonce(Math.floor(100001 * Math.random()))
    }, svgedit.draw.Drawing = function(t, n) {
        if (!t || !t.tagName || !t.namespaceURI || "svg" != t.tagName || t.namespaceURI != e.SVG) throw "Error: svgedit.draw.Drawing instance initialized without a <svg> element";
        this.svgElem_ = t, this.obj_num = 1, this.idPrefix = n || "svg_", this.releasedNums = [], this.all_layers = [], this.current_layer = null, this.nonce_ = "";
        var s = this.svgElem_.getAttributeNS(e.SE, "nonce");
        s && i != r.NEVER_RANDOMIZE ? this.nonce_ = s : i == r.ALWAYS_RANDOMIZE && this.setNonce(Math.floor(100001 * Math.random()))
    }, svgedit.draw.Drawing.prototype.getElem_ = function(e) {
        return this.svgElem_.querySelector ? this.svgElem_.querySelector("#" + e) : $(this.svgElem_).find("[id=" + e + "]")[0]
    }, svgedit.draw.Drawing.prototype.getSvgElem = function() {
        return this.svgElem_
    }, svgedit.draw.Drawing.prototype.getNonce = function() {
        return this.nonce_
    }, svgedit.draw.Drawing.prototype.setNonce = function(t) {
        this.svgElem_.setAttributeNS(e.XMLNS, "xmlns:se", e.SE), this.svgElem_.setAttributeNS(e.SE, "se:nonce", t), this.nonce_ = t
    }, svgedit.draw.Drawing.prototype.clearNonce = function() {
        this.nonce_ = ""
    }, svgedit.draw.Drawing.prototype.getId = function() {
        return this.nonce_ ? this.idPrefix + this.nonce_ + "_" + this.obj_num : this.idPrefix + this.obj_num
    }, svgedit.draw.Drawing.prototype.getNextId = function() {
        var e = this.obj_num,
            t = !1;
        this.releasedNums.length > 0 ? (this.obj_num = this.releasedNums.pop(), t = !0) : this.obj_num++;
        for (var r = this.getId(); this.getElem_(r);) t && (this.obj_num = e, t = !1), this.obj_num++, r = this.getId();
        return t && (this.obj_num = e), r
    }, svgedit.draw.Drawing.prototype.releaseId = function(e) {
        var t = this.idPrefix + (this.nonce_ ? this.nonce_ + "_" : "");
        if ("string" != typeof e || 0 !== e.indexOf(t)) return !1;
        var r = parseInt(e.substr(t.length), 10);
        return !("number" != typeof r || r <= 0 || this.releasedNums.indexOf(r) != -1) && (this.releasedNums.push(r), !0)
    }, svgedit.draw.Drawing.prototype.getNumLayers = function() {
        return this.all_layers.length
    }, svgedit.draw.Drawing.prototype.hasLayer = function(e) {
        var t;
        for (t = 0; t < this.getNumLayers(); t++)
            if (this.all_layers[t][0] == e) return !0;
        return !1
    }, svgedit.draw.Drawing.prototype.getLayerName = function(e) {
        return e >= 0 && e < this.getNumLayers() ? this.all_layers[e][0] : ""
    }, svgedit.draw.Drawing.prototype.getCurrentLayer = function() {
        return this.current_layer
    }, svgedit.draw.Drawing.prototype.getCurrentLayerName = function() {
        var e;
        for (e = 0; e < this.getNumLayers(); ++e)
            if (this.all_layers[e][1] == this.current_layer) return this.getLayerName(e);
        return ""
    }, svgedit.draw.Drawing.prototype.setCurrentLayer = function(e) {
        var t;
        for (t = 0; t < this.getNumLayers(); ++t)
            if (e == this.getLayerName(t)) return this.current_layer != this.all_layers[t][1] && (this.current_layer.setAttribute("style", "pointer-events:none"), this.current_layer = this.all_layers[t][1], this.current_layer.setAttribute("style", "pointer-events:all")), !0;
        return !1
    }, svgedit.draw.Drawing.prototype.deleteCurrentLayer = function() {
        if (this.current_layer && this.getNumLayers() > 1) {
            var e = this.current_layer.parentNode,
                t = (this.current_layer.nextSibling, e.removeChild(this.current_layer));
            return this.identifyLayers(), t
        }
        return null
    }, svgedit.draw.Drawing.prototype.identifyLayers = function() {
        this.all_layers = [];
        var r, i = this.svgElem_.childNodes.length,
            n = [],
            s = [],
            a = null,
            l = !1;
        for (r = 0; r < i; ++r) {
            var o = this.svgElem_.childNodes.item(r);
            if (o && 1 == o.nodeType)
                if ("g" == o.tagName) {
                    l = !0;
                    var u = $("title", o).text();
                    !u && svgedit.browser.isOpera() && o.querySelectorAll && (u = $(o.querySelectorAll("title")).text()), u ? (s.push(u), this.all_layers.push([u, o]), a = o, svgedit.utilities.walkTree(o, function(e) {
                        e.setAttribute("style", "pointer-events:inherit")
                    }), a.setAttribute("style", "pointer-events:none")) : n.push(o)
                } else if (~t.indexOf(o.nodeName)) {
                svgedit.utilities.getBBox(o);
                n.push(o)
            }
        }
        var g = this.svgElem_.ownerDocument;
        if (n.length > 0 || !l) {
            for (r = 1; s.indexOf("Layer " + r) >= 0;) r++;
            var h = "Layer " + r;
            a = g.createElementNS(e.SVG, "g");
            var y = g.createElementNS(e.SVG, "title");
            y.textContent = h, a.appendChild(y);
            var d;
            for (d = 0; d < n.length; ++d) a.appendChild(n[d]);
            this.svgElem_.appendChild(a), this.all_layers.push([h, a])
        }
        svgedit.utilities.walkTree(a, function(e) {
            e.setAttribute("style", "pointer-events:inherit")
        }), this.current_layer = a, this.current_layer.setAttribute("style", "pointer-events:all"), this.current_layer.setAttribute("clip-path", "url(#clip_canvas)")
    }, svgedit.draw.Drawing.prototype.createLayer = function(t) {
        var r = this.svgElem_.ownerDocument,
            i = r.createElementNS(e.SVG, "g"),
            n = r.createElementNS(e.SVG, "title");
        return n.textContent = t, i.appendChild(n), this.svgElem_.appendChild(i), this.identifyLayers(), i
    }, svgedit.draw.Drawing.prototype.getLayerVisibility = function(e) {
        var t, r = null;
        for (t = 0; t < this.getNumLayers(); ++t)
            if (this.getLayerName(t) == e) {
                r = this.all_layers[t][1];
                break
            }
        return !!r && "none" !== r.getAttribute("display")
    }, svgedit.draw.Drawing.prototype.setLayerVisibility = function(e, t) {
        if ("boolean" != typeof t) return null;
        var r, i = null;
        for (r = 0; r < this.getNumLayers(); ++r)
            if (this.getLayerName(r) == e) {
                i = this.all_layers[r][1];
                break
            }
        if (!i) return null;
        var n = i.getAttribute("display");
        return n || (n = "inline"), i.setAttribute("display", t ? "inline" : "none"), i
    }, svgedit.draw.Drawing.prototype.getLayerOpacity = function(e) {
        var t;
        for (t = 0; t < this.getNumLayers(); ++t)
            if (this.getLayerName(t) == e) {
                var r = this.all_layers[t][1],
                    i = r.getAttribute("opacity");
                return i || (i = "1.0"), parseFloat(i)
            }
        return null
    }, svgedit.draw.Drawing.prototype.setLayerOpacity = function(e, t) {
        if (!("number" != typeof t || t < 0 || t > 1)) {
            var r;
            for (r = 0; r < this.getNumLayers(); ++r)
                if (this.getLayerName(r) == e) {
                    var i = this.all_layers[r][1];
                    i.setAttribute("opacity", t);
                    break
                }
        }
    }
}();
! function() {
    "use strict";
    svgedit.path || (svgedit.path = {});
    var t = svgedit.NS,
        e = {
            pathNodeTooltip: "Drag node to move it. Double-click node to change segment type",
            pathCtrlPtTooltip: "Drag control point to adjust curve properties"
        },
        i = {
            2: ["x", "y"],
            4: ["x", "y"],
            6: ["x", "y", "x1", "y1", "x2", "y2"],
            8: ["x", "y", "x1", "y1"],
            10: ["x", "y", "r1", "r2", "angle", "largeArcFlag", "sweepFlag"],
            12: ["x"],
            14: ["y"],
            16: ["x", "y", "x2", "y2"],
            18: ["x", "y"]
        },
        s = [],
        a = !0,
        r = {};
    svgedit.path.setLinkControlPoints = function(t) {
        a = t
    }, svgedit.path.path = null;
    var n = null;
    svgedit.path.init = function(t) {
        n = t, s = [0, "ClosePath"];
        var e = ["Moveto", "Lineto", "CurvetoCubic", "CurvetoQuadratic", "Arc", "LinetoHorizontal", "LinetoVertical", "CurvetoCubicSmooth", "CurvetoQuadraticSmooth"];
        $.each(e, function(t, e) {
            s.push(e + "Abs"), s.push(e + "Rel")
        })
    }, svgedit.path.insertItemBefore = function(t, e, i) {
        var s = t.pathSegList;
        if (svgedit.browser.supportsPathInsertItemBefore()) return void s.insertItemBefore(e, i);
        var a, r = s.numberOfItems,
            n = [];
        for (a = 0; a < r; a++) {
            var h = s.getItem(a);
            n.push(h)
        }
        for (s.clear(), a = 0; a < r; a++) a == i && s.appendItem(e), s.appendItem(n[a])
    }, svgedit.path.ptObjToArr = function(t, e) {
        var s, a = i[t],
            r = a.length,
            n = [];
        for (s = 0; s < r; s++) n[s] = e[a[s]];
        return n
    }, svgedit.path.getGripPt = function(t, e) {
        var i = {
                x: e ? e.x : t.item.x,
                y: e ? e.y : t.item.y
            },
            s = t.path;
        if (s.matrix) {
            var a = svgedit.math.transformPoint(i.x, i.y, s.matrix);
            i = a
        }
        return i.x *= n.getCurrentZoom(), i.y *= n.getCurrentZoom(), i
    }, svgedit.path.getPointFromGrip = function(t, e) {
        var i = {
            x: t.x,
            y: t.y
        };
        return e.matrix && (t = svgedit.math.transformPoint(i.x, i.y, e.imatrix), i.x = t.x, i.y = t.y), i.x /= n.getCurrentZoom(), i.y /= n.getCurrentZoom(), i
    }, svgedit.path.addPointGrip = function(i, s, a) {
        var r = svgedit.path.getGripContainer(),
            n = svgedit.utilities.getElem("pathpointgrip_" + i);
        if (!n) {
            n = document.createElementNS(t.SVG, "circle"), svgedit.utilities.assignAttributes(n, {
                id: "pathpointgrip_" + i,
                display: "none",
                r: 4,
                fill: "#0FF",
                stroke: "#00F",
                "stroke-width": 2,
                cursor: "move",
                style: "pointer-events:all",
                "xlink:title": e.pathNodeTooltip
            }), n = r.appendChild(n);
            var h = $("#pathpointgrip_" + i);
            h.dblclick(function() {
                svgedit.path.path && svgedit.path.path.setSegType()
            })
        }
        return s && a && svgedit.utilities.assignAttributes(n, {
            cx: s,
            cy: a,
            display: "inline"
        }), n
    }, svgedit.path.getGripContainer = function() {
        var e = svgedit.utilities.getElem("pathpointgrip_container");
        if (!e) {
            var i = svgedit.utilities.getElem("selectorParentGroup");
            e = i.appendChild(document.createElementNS(t.SVG, "g")), e.id = "pathpointgrip_container"
        }
        return e
    }, svgedit.path.addCtrlGrip = function(i) {
        var s = svgedit.utilities.getElem("ctrlpointgrip_" + i);
        return s ? s : (s = document.createElementNS(t.SVG, "circle"), svgedit.utilities.assignAttributes(s, {
            id: "ctrlpointgrip_" + i,
            display: "none",
            r: 4,
            fill: "#0FF",
            stroke: "#55F",
            "stroke-width": 1,
            cursor: "move",
            style: "pointer-events:all",
            "xlink:title": e.pathCtrlPtTooltip
        }), svgedit.path.getGripContainer().appendChild(s), s)
    }, svgedit.path.getCtrlLine = function(e) {
        var i = svgedit.utilities.getElem("ctrlLine_" + e);
        return i ? i : (i = document.createElementNS(t.SVG, "line"), svgedit.utilities.assignAttributes(i, {
            id: "ctrlLine_" + e,
            stroke: "#555",
            "stroke-width": 1,
            style: "pointer-events:none"
        }), svgedit.path.getGripContainer().appendChild(i), i)
    }, svgedit.path.getPointGrip = function(t, e) {
        var i = t.index,
            s = svgedit.path.addPointGrip(i);
        if (e) {
            var a = svgedit.path.getGripPt(t);
            svgedit.utilities.assignAttributes(s, {
                cx: a.x,
                cy: a.y,
                display: "inline"
            })
        }
        return s
    }, svgedit.path.getControlPoints = function(t) {
        var e = t.item,
            i = t.index;
        if (!("x1" in e && "x2" in e)) return null;
        var s, a = {},
            r = (svgedit.path.getGripContainer(), svgedit.path.path.segs[i - 1].item),
            n = [r, e];
        for (s = 1; s < 3; s++) {
            var h = i + "c" + s,
                p = a["c" + s + "_line"] = svgedit.path.getCtrlLine(h),
                o = svgedit.path.getGripPt(t, {
                    x: e["x" + s],
                    y: e["y" + s]
                }),
                g = svgedit.path.getGripPt(t, {
                    x: n[s - 1].x,
                    y: n[s - 1].y
                });
            svgedit.utilities.assignAttributes(p, {
                x1: o.x,
                y1: o.y,
                x2: g.x,
                y2: g.y,
                display: "inline"
            }), a["c" + s + "_line"] = p;
            var l = a["c" + s] = svgedit.path.addCtrlGrip(h);
            svgedit.utilities.assignAttributes(l, {
                cx: o.x,
                cy: o.y,
                display: "inline"
            }), a["c" + s] = l
        }
        return a
    }, svgedit.path.getPathBBoxFromElement = function(t) {
        var e = svgedit.path.convertToPath(t),
            i = !1;
        try {
            i = e.getBBox()
        } catch (s) {}
        return e.parentNode.removeChild(e), i
    }, svgedit.path.convertToPath = function(e, i) {
        i = $.extend({}, i), $.each(["marker-start", "marker-end", "marker-mid", "filter", "clip-path"], function() {
            e.getAttribute(this) && (i[this] = e.getAttribute(this))
        });
        var s = document.createElementNS(t.SVG, "path");
        svgedit.utilities.assignAttributes(s, i, 100), svgedit.utilities.cleanupElement(s);
        var a = e.getAttribute("transform");
        a && s.setAttribute("transform", a);
        var r = e.parentNode;
        e.nextSibling ? r.insertBefore(s, e) : r.appendChild(s);
        var n, h = "",
            p = function(t) {
                $.each(t, function(t, e) {
                    var i, s = e[0],
                        a = e[1];
                    for (h += s, i = 0; i < a.length; i += 2) h += a[i] + "," + a[i + 1] + " "
                })
            },
            o = 1.81;
        switch (e.tagName) {
            case "ellipse":
            case "circle":
                n = $(e).attr(["rx", "ry", "cx", "cy"]);
                var g = n.cx,
                    l = n.cy,
                    d = n.rx,
                    v = n.ry;
                "circle" == e.tagName && (d = v = $(e).attr("r")), p([
                    ["M", [g - d, l]],
                    ["C", [g - d, l - v / o, g - d / o, l - v, g, l - v]],
                    ["C", [g + d / o, l - v, g + d, l - v / o, g + d, l]],
                    ["C", [g + d, l + v / o, g + d / o, l + v, g, l + v]],
                    ["C", [g - d / o, l + v, g - d, l + v / o, g - d, l]],
                    ["Z", []]
                ]);
                break;
            case "path":
                h = e.getAttribute("d");
                break;
            case "line":
                n = $(e).attr(["x1", "y1", "x2", "y2"]), h = "M" + n.x1 + "," + n.y1 + "L" + n.x2 + "," + n.y2;
                break;
            case "polyline":
            case "polygon":
                h = "M" + e.getAttribute("points");
                break;
            case "rect":
                var c = $(e).attr(["rx", "ry"]),
                    d = c.rx,
                    v = c.ry,
                    u = e.getBBox(),
                    m = u.x,
                    y = u.y,
                    x = u.width,
                    f = u.height;
                o = 4 - o, p(d || v ? [
                    ["M", [m, y + v]],
                    ["C", [m, y + v / o, m + d / o, y, m + d, y]],
                    ["L", [m + x - d, y]],
                    ["C", [m + x - d / o, y, m + x, y + v / o, m + x, y + v]],
                    ["L", [m + x, y + f - v]],
                    ["C", [m + x, y + f - v / o, m + x - d / o, y + f, m + x - d, y + f]],
                    ["L", [m + d, y + f]],
                    ["C", [m + d / o, y + f, m, y + f - v / o, m, y + f - v]],
                    ["L", [m, y + v]],
                    ["Z", []]
                ] : [
                    ["M", [m, y]],
                    ["L", [m + x, y]],
                    ["L", [m + x, y + f]],
                    ["L", [m, y + f]],
                    ["L", [m, y]],
                    ["Z", []]
                ]);
                break;
            default:
                s.parentNode.removeChild(s)
        }
        return h && s.setAttribute("d", h), s
    }, svgedit.path.replacePathSeg = function(t, e, i, a) {
        var r = a || svgedit.path.path.elem,
            n = "createSVGPathSeg" + s[t],
            h = r[n].apply(r, i);
        if (svgedit.browser.supportsPathReplaceItem()) r.pathSegList.replaceItem(h, e);
        else {
            var p, o = r.pathSegList,
                g = o.numberOfItems,
                l = [];
            for (p = 0; p < g; p++) {
                var d = o.getItem(p);
                l.push(d)
            }
            for (o.clear(), p = 0; p < g; p++) p == e ? o.appendItem(h) : o.appendItem(l[p])
        }
    }, svgedit.path.getSegSelector = function(e, i) {
        var s = e.index,
            a = svgedit.utilities.getElem("segline_" + s);
        if (!a) {
            var r = svgedit.path.getGripContainer();
            a = document.createElementNS(t.SVG, "path"), svgedit.utilities.assignAttributes(a, {
                id: "segline_" + s,
                display: "none",
                fill: "none",
                stroke: "#0FF",
                "stroke-width": 2,
                style: "pointer-events:none",
                d: "M0,0 0,0"
            }), r.appendChild(a)
        }
        if (i) {
            var n = e.prev;
            if (!n) return a.setAttribute("display", "none"), a;
            var h = svgedit.path.getGripPt(n);
            svgedit.path.replacePathSeg(2, 0, [h.x, h.y], a);
            var p, o = svgedit.path.ptObjToArr(e.type, e.item, !0);
            for (p = 0; p < o.length; p += 2) h = svgedit.path.getGripPt(e, {
                x: o[p],
                y: o[p + 1]
            }), o[p] = h.x, o[p + 1] = h.y;
            svgedit.path.replacePathSeg(e.type, 1, o, a)
        }
        return a
    }, svgedit.path.smoothControlPoints = function(t, e, i) {
        var s = t.x - i.x,
            a = t.y - i.y,
            r = e.x - i.x,
            h = e.y - i.y;
        if (!(0 == s && 0 == a || 0 == r && 0 == h)) {
            var p = Math.atan2(a, s),
                o = Math.atan2(h, r),
                g = Math.sqrt(s * s + a * a),
                l = Math.sqrt(r * r + h * h),
                d = n.getSVGRoot().createSVGPoint(),
                v = n.getSVGRoot().createSVGPoint();
            p < 0 && (p += 2 * Math.PI), o < 0 && (o += 2 * Math.PI);
            var c, u, m = Math.abs(p - o),
                y = Math.abs(Math.PI - m) / 2;
            return p - o > 0 ? (c = m < Math.PI ? p + y : p - y, u = m < Math.PI ? o - y : o + y) : (c = m < Math.PI ? p - y : p + y, u = m < Math.PI ? o + y : o - y), d.x = g * Math.cos(c) + i.x, d.y = g * Math.sin(c) + i.y, v.x = l * Math.cos(u) + i.x, v.y = l * Math.sin(u) + i.y, [d, v]
        }
    }, svgedit.path.Segment = function(t, e) {
        this.selected = !1, this.index = t, this.item = e, this.type = e.pathSegType, this.ctrlpts = [], this.ptgrip = null, this.segsel = null
    }, svgedit.path.Segment.prototype.showCtrlPts = function(t) {
        var e;
        for (e in this.ctrlpts) this.ctrlpts.hasOwnProperty(e) && this.ctrlpts[e].setAttribute("display", t ? "inline" : "none")
    }, svgedit.path.Segment.prototype.selectCtrls = function(t) {
        $("#ctrlpointgrip_" + this.index + "c1, #ctrlpointgrip_" + this.index + "c2").attr("fill", t ? "#0FF" : "#EEE")
    }, svgedit.path.Segment.prototype.show = function(t) {
        this.ptgrip && (this.ptgrip.setAttribute("display", t ? "inline" : "none"), this.segsel.setAttribute("display", t ? "inline" : "none"), this.showCtrlPts(t))
    }, svgedit.path.Segment.prototype.select = function(t) {
        this.ptgrip && (this.ptgrip.setAttribute("stroke", t ? "#0FF" : "#00F"), this.segsel.setAttribute("display", t ? "inline" : "none"), this.ctrlpts && this.selectCtrls(t), this.selected = t)
    }, svgedit.path.Segment.prototype.addGrip = function() {
        this.ptgrip = svgedit.path.getPointGrip(this, !0), this.ctrlpts = svgedit.path.getControlPoints(this, !0), this.segsel = svgedit.path.getSegSelector(this, !0)
    }, svgedit.path.Segment.prototype.update = function(t) {
        if (this.ptgrip) {
            var e = svgedit.path.getGripPt(this);
            svgedit.utilities.assignAttributes(this.ptgrip, {
                cx: e.x,
                cy: e.y
            }), svgedit.path.getSegSelector(this, !0), this.ctrlpts && (t && (this.item = svgedit.path.path.elem.pathSegList.getItem(this.index), this.type = this.item.pathSegType), svgedit.path.getControlPoints(this))
        }
    }, svgedit.path.Segment.prototype.move = function(t, e) {
        var i, s = this.item;
        if (i = this.ctrlpts ? [s.x += t, s.y += e, s.x1, s.y1, s.x2 += t, s.y2 += e] : [s.x += t, s.y += e], svgedit.path.replacePathSeg(this.type, this.index, i), this.next && this.next.ctrlpts) {
            var a = this.next.item,
                r = [a.x, a.y, a.x1 += t, a.y1 += e, a.x2, a.y2];
            svgedit.path.replacePathSeg(this.next.type, this.next.index, r)
        }
        if (this.mate) {
            s = this.mate.item;
            var n = [s.x += t, s.y += e];
            svgedit.path.replacePathSeg(this.mate.type, this.mate.index, n)
        }
        this.update(!0), this.next && this.next.update(!0)
    }, svgedit.path.Segment.prototype.setLinked = function(t) {
        var e, i, s;
        if (2 == t) {
            if (i = 1, e = this.next, !e) return;
            s = this.item
        } else {
            if (i = 2, e = this.prev, !e) return;
            s = e.item
        }
        var a = e.item;
        a["x" + i] = s.x + (s.x - this.item["x" + t]), a["y" + i] = s.y + (s.y - this.item["y" + t]);
        var r = [a.x, a.y, a.x1, a.y1, a.x2, a.y2];
        svgedit.path.replacePathSeg(e.type, e.index, r), e.update(!0)
    }, svgedit.path.Segment.prototype.moveCtrl = function(t, e, i) {
        var s = this.item;
        s["x" + t] += e, s["y" + t] += i;
        var a = [s.x, s.y, s.x1, s.y1, s.x2, s.y2];
        svgedit.path.replacePathSeg(this.type, this.index, a), this.update(!0)
    }, svgedit.path.Segment.prototype.setType = function(t, e) {
        svgedit.path.replacePathSeg(t, this.index, e), this.type = t, this.item = svgedit.path.path.elem.pathSegList.getItem(this.index), this.showCtrlPts(6 === t), this.ctrlpts = svgedit.path.getControlPoints(this), this.update(!0)
    }, svgedit.path.Path = function(t) {
        if (!t || "path" !== t.tagName) throw "svgedit.path.Path constructed without a <path> element";
        this.elem = t, this.segs = [], this.selected_pts = [], svgedit.path.path = this, this.init()
    }, svgedit.path.Path.prototype.init = function() {
        $(svgedit.path.getGripContainer()).find("*").attr("display", "none");
        var t = this.elem.pathSegList,
            e = t.numberOfItems;
        this.segs = [], this.selected_pts = [], this.first_seg = null;
        var i;
        for (i = 0; i < e; i++) {
            var s = t.getItem(i),
                a = new svgedit.path.Segment(i, s);
            a.path = this, this.segs.push(a)
        }
        var r = this.segs,
            n = null;
        for (i = 0; i < e; i++) {
            var h, p = r[i],
                o = i + 1 >= e ? null : r[i + 1],
                g = i - 1 < 0 ? null : r[i - 1];
            2 === p.type ? (g && 1 !== g.type && (h = r[n], h.next = r[n + 1], h.next.prev = h, h.addGrip()), n = i) : o && 1 === o.type ? (p.next = r[n + 1], p.next.prev = p, p.mate = r[n], p.addGrip(), null == this.first_seg && (this.first_seg = p)) : o ? 1 !== p.type && (p.addGrip(), o && 2 !== o.type && (p.next = o, p.next.prev = p)) : 1 !== p.type && (h = r[n], h.next = r[n + 1], h.next.prev = h, h.addGrip(), p.addGrip(), this.first_seg || (this.first_seg = r[n]))
        }
        return this
    }, svgedit.path.Path.prototype.eachSeg = function(t) {
        var e, i = this.segs.length;
        for (e = 0; e < i; e++) {
            var s = t.call(this.segs[e], e);
            if (s === !1) break
        }
    }, svgedit.path.Path.prototype.addSeg = function(t) {
        var e = this.segs[t];
        if (e.prev) {
            var i, s, a, r = e.prev;
            switch (e.item.pathSegType) {
                case 4:
                    s = (e.item.x + r.item.x) / 2, a = (e.item.y + r.item.y) / 2, i = this.elem.createSVGPathSegLinetoAbs(s, a);
                    break;
                case 6:
                    var n = (r.item.x + e.item.x1) / 2,
                        h = (e.item.x1 + e.item.x2) / 2,
                        p = (e.item.x2 + e.item.x) / 2,
                        o = (n + h) / 2,
                        g = (h + p) / 2;
                    s = (o + g) / 2;
                    var l = (r.item.y + e.item.y1) / 2,
                        d = (e.item.y1 + e.item.y2) / 2,
                        v = (e.item.y2 + e.item.y) / 2,
                        c = (l + d) / 2,
                        u = (d + v) / 2;
                    a = (c + u) / 2, i = this.elem.createSVGPathSegCurvetoCubicAbs(s, a, n, l, o, c);
                    var m = [e.item.x, e.item.y, g, u, p, v];
                    svgedit.path.replacePathSeg(e.type, t, m)
            }
            svgedit.path.insertItemBefore(this.elem, i, t)
        }
    }, svgedit.path.Path.prototype.deleteSeg = function(t) {
        var e = this.segs[t],
            i = this.elem.pathSegList;
        e.show(!1);
        var s, a = e.next;
        if (e.mate) s = [a.item.x, a.item.y], svgedit.path.replacePathSeg(2, a.index, s), svgedit.path.replacePathSeg(4, e.index, s), i.removeItem(e.mate.index);
        else if (e.prev) i.removeItem(t);
        else {
            e.item;
            s = [a.item.x, a.item.y], svgedit.path.replacePathSeg(2, e.next.index, s), i.removeItem(t)
        }
    }, svgedit.path.Path.prototype.subpathIsClosed = function(t) {
        var e = !1;
        return svgedit.path.path.eachSeg(function(i) {
            return i <= t || 2 !== this.type && (1 === this.type ? (e = !0, !1) : void 0)
        }), e
    }, svgedit.path.Path.prototype.removePtFromSelection = function(t) {
        var e = this.selected_pts.indexOf(t);
        e != -1 && (this.segs[t].select(!1), this.selected_pts.splice(e, 1))
    }, svgedit.path.Path.prototype.clearSelection = function() {
        this.eachSeg(function() {
            this.select(!1)
        }), this.selected_pts = []
    }, svgedit.path.Path.prototype.storeD = function() {
        this.last_d = this.elem.getAttribute("d")
    }, svgedit.path.Path.prototype.show = function(t) {
        return this.eachSeg(function() {
            this.show(t)
        }), t && this.selectPt(this.first_seg.index), this
    }, svgedit.path.Path.prototype.movePts = function(t, e) {
        for (var i = this.selected_pts.length; i--;) {
            var s = this.segs[this.selected_pts[i]];
            s.move(t, e)
        }
    }, svgedit.path.Path.prototype.moveCtrl = function(t, e) {
        var i = this.segs[this.selected_pts[0]];
        i.moveCtrl(this.dragctrl, t, e), a && i.setLinked(this.dragctrl)
    }, svgedit.path.Path.prototype.setSegType = function(t) {
        this.storeD();
        for (var e, i = this.selected_pts.length; i--;) {
            var s = this.selected_pts[i],
                a = this.segs[s],
                r = a.prev;
            if (r) {
                if (!t) {
                    e = "Toggle Path Segment Type";
                    var n = a.type;
                    t = 6 == n ? 4 : 6
                }
                t = Number(t);
                var h, p = a.item.x,
                    o = a.item.y,
                    g = r.item.x,
                    l = r.item.y;
                switch (t) {
                    case 6:
                        if (a.olditem) {
                            var d = a.olditem;
                            h = [p, o, d.x1, d.y1, d.x2, d.y2]
                        } else {
                            var v = p - g,
                                c = o - l,
                                u = g + v / 3,
                                m = l + c / 3,
                                y = p - v / 3,
                                x = o - c / 3;
                            h = [p, o, u, m, y, x]
                        }
                        break;
                    case 4:
                        h = [p, o], a.olditem = a.item
                }
                a.setType(t, h)
            }
        }
        svgedit.path.path.endChanges(e)
    }, svgedit.path.Path.prototype.selectPt = function(t, e) {
        this.clearSelection(), null == t && this.eachSeg(function(e) {
            this.prev && (t = e)
        }), this.addPtsToSelection(t), e && (this.dragctrl = e, a && this.segs[t].setLinked(e))
    }, svgedit.path.Path.prototype.update = function() {
        var t = this.elem;
        return svgedit.utilities.getRotationAngle(t) ? (this.matrix = svgedit.math.getMatrix(t), this.imatrix = this.matrix.inverse()) : (this.matrix = null, this.imatrix = null), this.eachSeg(function(e) {
            this.item = t.pathSegList.getItem(e), this.update()
        }), this
    }, svgedit.path.getPath_ = function(t) {
        var e = r[t.id];
        return e || (e = r[t.id] = new svgedit.path.Path(t)), e
    }, svgedit.path.removePath_ = function(t) {
        t in r && delete r[t]
    };
    var h, p, o, g, l, d = function(t, e) {
        var i = t - o,
            s = e - g,
            a = Math.sqrt(i * i + s * s),
            r = Math.atan2(s, i) + l;
        return i = a * Math.cos(r) + o, s = a * Math.sin(r) + g, i -= h, s -= p, a = Math.sqrt(i * i + s * s), r = Math.atan2(s, i) - l, {
            x: a * Math.cos(r) + h,
            y: a * Math.sin(r) + p
        }
    };
    svgedit.path.recalcRotatedPath = function() {
        var t = svgedit.path.path.elem;
        if (l = svgedit.utilities.getRotationAngle(t, !0)) {
            var e = svgedit.utilities.getBBox(t),
                i = svgedit.path.path.oldbbox;
            o = i.x + i.width / 2, g = i.y + i.height / 2, h = e.x + e.width / 2, p = e.y + e.height / 2;
            var s = h - o,
                a = p - g,
                r = Math.sqrt(s * s + a * a),
                n = Math.atan2(a, s) + l;
            h = r * Math.cos(n) + o, p = r * Math.sin(n) + g;
            for (var v = t.pathSegList, c = v.numberOfItems; c;) {
                c -= 1;
                var u = v.getItem(c),
                    m = u.pathSegType;
                if (1 != m) {
                    var y = d(u.x, u.y),
                        x = [y.x, y.y];
                    if (null != u.x1 && null != u.x2) {
                        var f = d(u.x1, u.y1),
                            S = d(u.x2, u.y2);
                        x.splice(x.length, 0, f.x, f.y, S.x, S.y)
                    }
                    svgedit.path.replacePathSeg(m, c, x)
                }
            }
            e = svgedit.utilities.getBBox(t);
            var P = svgroot.createSVGTransform(),
                C = svgedit.transformlist.getTransformList(t);
            P.setRotate(180 * l / Math.PI, h, p), C.replaceItem(P, 0)
        }
    }, svgedit.path.clearData = function() {
        r = {}
    }
}();
svgedit.touchHandler = function(e) {
    "use strict";
    e = e.originalEvent ? e.originalEvent : e;
    var t = e.changedTouches,
        n = t[0],
        c = "",
        o = null;
    switch (INKIVE && INKIVE.Tool && (o = INKIVE.Tool.getInstance().editor.canvas), e.type) {
        case "touchstart":
            c = "mousedown";
            break;
        case "touchmove":
            c = "mousemove";
            break;
        case "touchend":
            c = "mouseup";
            break;
        default:
            return
    }
    if (console.log(t.length, o ? o.getMode() : null), t.length < 2) {
        var s = document.createEvent("MouseEvent");
        s.initMouseEvent(c, !0, !0, window, 1, n.screenX, n.screenY, n.clientX, n.clientY, !1, !1, !1, !1, 0, null), n.target.dispatchEvent(s), "touchend" == e.type && (c = "click", s = document.createEvent("MouseEvent"), s.initMouseEvent(c, !0, !0, window, 1, n.screenX, n.screenY, n.clientX, n.clientY, !1, !1, !1, !1, 0, null), n.target.dispatchEvent(s)), e.preventDefault()
    }
};
! function() {
    window.console || (window.console = {}, window.console.log = function(t) {}, window.console.dir = function(t) {}), window.opera && (window.console.log = function(t) {
        opera.postError(t)
    }, window.console.dir = function(t) {})
}(), $.SvgCanvas = function(t, e) {
    function i(t, e) {
        var i, r = svgedit.utilities.getBBox(t);
        for (i = 0; i < 2; i++) {
            var a = 0 === i ? "fill" : "stroke",
                n = t.getAttribute(a);
            if (n && 0 === n.indexOf("url(")) {
                var s = svgedit.utilities.getRefElem(n);
                if ("linearGradient" === s.tagName) {
                    var o = s.getAttribute("x1") || 0,
                        l = s.getAttribute("y1") || 0,
                        d = s.getAttribute("x2") || 1,
                        h = s.getAttribute("y2") || 0;
                    o = r.width * o + r.x, l = r.height * l + r.y, d = r.width * d + r.x, h = r.height * h + r.y;
                    var g = svgedit.math.transformPoint(o, l, e),
                        u = svgedit.math.transformPoint(d, h, e),
                        c = {};
                    c.x1 = (g.x - r.x) / r.width, c.y1 = (g.y - r.y) / r.height, c.x2 = (u.x - r.x) / r.width, c.y2 = (u.y - r.y) / r.height;
                    var f = s.cloneNode(!0);
                    $(f).attr(c), f.id = ft(), svgedit.utilities.findDefs().appendChild(f), t.setAttribute(a, "url(#" + f.id + ")")
                }
            }
        }
    }
    var r = svgedit.NS,
        a = {
            show_outside_canvas: !0,
            selectNew: !0,
            dimensions: [640, 480]
        };
    e && $.extend(a, e), this.curConfig = a, svgedit.debug = a.debug;
    var n = (svgedit.log, a.dimensions),
        s = (a.string, $(a.editor).get(0)),
        o = this,
        l = t.ownerDocument,
        d = $(a.wrapper).get(0),
        h = $(a.workarea).get(0),
        g = t,
        u = l.importNode(svgedit.utilities.text2xml('<svg id="svgroot" xmlns="' + r.SVG + '" xlinkns="' + r.XLINK + '" width="' + n[0] + '" height="' + n[1] + '" x="0" y="0" overflow="visible"><defs><clipPath id="clip_canvas"><rect class="canvasCliper" x="0" y="0" width="0" height="0"></rect></clipPath><pattern id="transparencypattern" patternUnits="userSpaceOnUse" x="10" y="10" width="20" height="20"><rect fill="#DDD" stroke="none" x="0" y="0" width="10" height="10"></rect><rect fill="#DDD" stroke="none" x="10" y="10" width="10" height="10"></rect></pattern><symbol id="arrow"><g xmlns="http://www.w3.org/2000/svg" fill="#000" width="98" height="95.33"><circle fill="#FFFFFF" cx="48.679" cy="46.526" r="37.821"/><path d="M48.679,5.705c-22.509,0-40.821,18.312-40.821,40.821S26.17,87.347,48.679,87.347c22.508,0,40.821-18.312,40.821-40.821   S71.188,5.705,48.679,5.705z M48.679,84.347c-20.854,0-37.821-16.967-37.821-37.821S27.825,8.705,48.679,8.705   S86.5,25.671,86.5,46.526S69.533,84.347,48.679,84.347z"/><polygon points="65.043,45.939 47.88,24.962 44.859,27.433 60.333,46.347 44.859,65.262 47.88,67.732 65.042,46.755 65.377,46.348   65.377,46.348 65.377,46.348  "/><polygon points="55.654,46.348 55.654,46.348 55.654,46.348 55.32,45.939 38.158,24.962 35.137,27.433 50.611,46.347   35.137,65.262 38.158,67.732 55.32,46.755  "/></g></symbol></defs></svg>').documentElement, !0);
    t.appendChild(u);
    var c = l.createElementNS(r.SVG, "svg"),
        f = $(a.canvasPanel).get(0),
        v = l.importNode(svgedit.utilities.text2xml('<svg id="svgpanel" xmlns="' + r.SVG + '" xlinkns="' + r.XLINK + '" width="100%" height="100%" x="0" y="0" overflow="visible"></svg>').documentElement, !0);
    f.appendChild(v);
    var p = o.clearSvgContentElement = function() {
        for (; c.firstChild;) c.removeChild(c.firstChild);
        $(c).attr({
            id: "svgcontent",
            width: n[0],
            height: n[1],
            x: n[0],
            y: n[1],
            overflow: a.show_outside_canvas ? "visible" : "hidden",
            xmlns: r.SVG,
            "xmlns:se": r.SE,
            "xmlns:xlink": r.XLINK
        }).appendTo(u)
    };
    p();
    var m = "svg_";
    o.setIdPrefix = function(t) {
        m = t
    }, o.current_drawing_ = new svgedit.draw.Drawing(c, m);
    var y = o.getCurrentDrawing = function() {
            return o.current_drawing_
        },
        b = 1,
        x = null,
        S = {
            shape: {
                fill: a.initFill.color,
                fill_paint: null,
                fill_opacity: a.initFill.opacity,
                stroke: a.initStroke.color,
                stroke_paint: null,
                stroke_opacity: a.initStroke.opacity,
                stroke_width: a.initStroke.width,
                stroke_dasharray: "none",
                stroke_linejoin: "miter",
                stroke_linecap: "butt",
                opacity: a.initOpacity
            }
        };
    S.text = $.extend(!0, {}, S.shape), $.extend(S.text, {
        fill: "#000000",
        stroke_width: 0,
        font_size: 24,
        font_family: "serif"
    });
    var C = S.shape,
        N = new Array(1),
        A = this.addSvgElementFromJson = function(t, e) {
            var i = svgedit.utilities.getElem(t.attr.id);
            e = e || null;
            var a = y().getCurrentLayer();
            return i && t.element != i.tagName && (a.removeChild(i), i = null), i || (i = l.createElementNS(r.SVG, t.element), e ? e.appendChild(i) : a && (x || a).appendChild(i)), t.curStyles && svgedit.utilities.assignAttributes(i, {
                fill: C.fill,
                stroke: C.stroke,
                "stroke-width": C.stroke_width,
                "stroke-dasharray": C.stroke_dasharray,
                "stroke-linejoin": C.stroke_linejoin,
                "stroke-linecap": C.stroke_linecap,
                "stroke-opacity": C.stroke_opacity,
                "fill-opacity": C.fill_opacity,
                opacity: C.opacity / 2,
                style: "pointer-events:inherit"
            }, 100), svgedit.utilities.assignAttributes(i, t.attr, 100), svgedit.utilities.cleanupElement(i), i
        },
        w = o.getTransformList = svgedit.transformlist.getTransformList,
        I = svgedit.math.transformPoint,
        E = o.matrixMultiply = svgedit.math.matrixMultiply,
        k = o.hasMatrixTransform = svgedit.math.hasMatrixTransform,
        T = o.transformListToTransform = svgedit.math.transformListToTransform;
    svgedit.math.snapToAngle, svgedit.math.getMatrix;
    svgedit.units.init({
        getBaseUnit: function() {
            return a.baseUnit
        },
        getElement: svgedit.utilities.getElem,
        getHeight: function() {
            return c.getAttribute("height") / b
        },
        getWidth: function() {
            return c.getAttribute("width") / b
        },
        getRoundDigits: function() {
            return nt.round_digits
        }
    });
    o.convertToNum = svgedit.units.convertToNum;
    svgedit.utilities.init({
        getDOMDocument: function() {
            return l
        },
        getDOMEditor: function() {
            return s
        },
        getDOMContainer: function() {
            return t
        },
        getSVGRoot: function() {
            return u
        },
        getSelectedElements: function() {
            return N
        },
        getSVGContent: function() {
            return c
        },
        getBaseUnit: function() {
            return a.baseUnit
        },
        getStepSize: function() {
            return a.stepSize || 10
        },
        getZoomMultiplier: function() {
            return o.zoomMultiplier
        }
    });
    var L = o.findDefs = svgedit.utilities.findDefs,
        B = o.getUrlFromAttr = svgedit.utilities.getUrlFromAttr,
        P = o.getHref = svgedit.utilities.getHref,
        G = o.setHref = svgedit.utilities.setHref,
        V = svgedit.utilities.getPathBBox,
        M = (o.getBBox = svgedit.utilities.getBBox, o.getRotationAngle = svgedit.utilities.getRotationAngle, o.getElem = svgedit.utilities.getElem),
        D = (o.getRefElem = svgedit.utilities.getRefElem, o.assignAttributes = svgedit.utilities.assignAttributes),
        O = this.cleanupElement = svgedit.utilities.cleanupElement;
    svgedit.coords.init({
        getDrawing: function() {
            return y()
        },
        getGridSnapping: function() {
            return a.gridSnapping
        }
    });
    var F = this.remapElement = svgedit.coords.remapElement;
    svgedit.recalculate.init({
        getSVGRoot: function() {
            return u
        },
        getStartTransform: function() {
            return o.startTransform
        },
        setStartTransform: function(t) {
            o.startTransform = t
        }
    });
    var z = this.recalculateDimensions = svgedit.recalculate.recalculateDimensions,
        R = svgedit.getReverseNS(),
        U = o.sanitizeSvg = svgedit.sanitize.sanitizeSvg,
        K = svgedit.history.MoveElementCommand,
        H = svgedit.history.InsertElementCommand,
        j = svgedit.history.RemoveElementCommand,
        W = svgedit.history.ChangeElementCommand,
        q = svgedit.history.BatchCommand;
    o.undoMgr = new svgedit.history.UndoManager({
        handleHistoryEvent: function(t, e) {
            var i = svgedit.history.HistoryEventTypes;
            if (t == i.BEFORE_UNAPPLY || t == i.BEFORE_APPLY) o.clearSelection();
            else if (t == i.AFTER_APPLY || t == i.AFTER_UNAPPLY) {
                var r = e.elements();
                o.pathActions.clear(), vt("editor.changed", r);
                var a = e.type(),
                    n = t == i.AFTER_APPLY;
                if (a == K.type()) {
                    var s = n ? e.newParent : e.oldParent;
                    s == c && o.identifyLayers()
                } else if (a == H.type() || a == j.type()) e.parent == c && o.identifyLayers(), a == H.type() ? n && et(e.elem) : n || et(e.elem), "use" === e.elem.tagName && Pt(e.elem);
                else if (a == W.type()) {
                    "title" == e.elem.tagName && e.elem.parentNode.parentNode == c && o.identifyLayers();
                    var l = n ? e.newValues : e.oldValues;
                    l.stdDeviation && o.setBlurOffsets(e.elem.parentNode, l.stdDeviation)
                }
            }
        }
    });
    var X = function(t) {
        o.undoMgr.addCommandToHistory(t)
    };
    svgedit.select.init(a, {
        createSVGElement: function(t) {
            return o.addSvgElementFromJson(t)
        },
        svgRoot: function() {
            return u
        },
        svgPanel: function() {
            return v
        },
        svgContent: function() {
            return c
        },
        currentZoom: function() {
            return b
        }
    });
    var Z = this.selectorManager = svgedit.select.getSelectorManager();
    svgedit.path.init({
        getCurrentZoom: function() {
            return b
        },
        getSVGRoot: function() {
            return u
        }
    });
    var Y = {
            exportNoBlur: "Blurred elements will appear as un-blurred",
            exportNoforeignObject: "foreignObject elements will not appear",
            exportNoDashArray: "Strokes will appear filled",
            exportNoText: "Text may not appear as expected"
        },
        J = "a,circle,ellipse,foreignObject,g,image,line,path,polygon,polyline,rect,svg,text,tspan,use",
        Q = ["clip-path", "fill", "filter", "marker-end", "marker-mid", "marker-start", "mask", "stroke"],
        tt = $.data,
        et = function(t) {
            var e, i = $(t).attr(Q);
            for (e in i) {
                var r = i[e];
                if (r && 0 === r.indexOf("url(")) {
                    var a = svgedit.utilities.getUrlFromAttr(r).substr(1),
                        n = M(a);
                    n || (svgedit.utilities.findDefs().appendChild(ht[a]), delete ht[a])
                }
            }
            var s = t.getElementsByTagName("*");
            if (s.length)
                for (var o = 0, l = s.length; o < l; o++) et(s[o])
        },
        it = {},
        rt = a.imgPath + "logo.png",
        at = [],
        nt = {
            round_digits: 5
        },
        st = "select",
        ot = {},
        lt = S.text,
        dt = {},
        ht = {};
    this._t = {};
    o.clipBoard = [], o.lastClickPoint = null, o.current_resize_mode = "none", o.startTransform = null, o.started = !1, o.rubberBox = null, o.cur_properties = C, o.curBBoxes = [];
    var gt = this.runExtensions = function(t, e, i) {
            var r = !!i && [];
            return $.each(dt, function(a, n) {
                n && t in n && (i ? r.push(n[t](e)) : r = n[t](e))
            }), r
        },
        ut = (this.validateSelectedElems = function() {
            for (var t = [], e = 0; e < N.length; e++) N[e] && t.push(N[e]);
            N = t
        }, this.copyElem = function(t) {
            var e = document.createElementNS(t.namespaceURI, t.nodeName);
            $.each(t.attributes, function(t, i) {
                "-moz-math-font-style" != i.localName && (i.namespaceURI || e.setAttribute(i.nodeName, i.nodeValue), i.namespaceURI && e.setAttributeNS(i.namespaceURI, i.nodeName, i.nodeValue))
            });
            var i = t.getAttribute("data-element-restriction-id") || e.getAttribute("id");
            if (e.setAttribute("data-old-id", e.getAttribute("id")), e.setAttribute("data-element-restriction-id", i), e.removeAttribute("id"), e.id = ft(), svgedit.browser.isWebkit() && "path" == t.nodeName) {
                var r = pt.convertPath(t);
                e.setAttribute("d", r)
            }
            if (1 == t.childNodes.length && 3 === t.childNodes[0].nodeType ? e.textContent = t.childNodes[0].nodeValue : $.each(t.childNodes, function(t, i) {
                    switch (i.nodeType) {
                        case 3:
                            var r = ut(i);
                            e.appendChild(r), r.textContent = i.textContent;
                            break;
                        default:
                            e.appendChild(ut(i))
                    }
                }), $(t).data("gsvg")) $(e).data("gsvg", e.firstChild);
            else if ($(t).data("symbol")) {
                var a = $(t).data("symbol");
                $(e).data("ref", a).data("symbol", a)
            } else "image" == e.tagName && Tt(e);
            return e
        });
    this.addExtension = function(t, e) {
        var i;
        t in dt ? console.log('Cannot add extension "' + t + '", an extension by that name already exists"') : (i = $.isFunction(e) ? e($.extend(o.getPrivateMethods(), {
            svgroot: u,
            svgcontent: c,
            nonce: y().getNonce(),
            selectorManager: Z,
            curConfig: a,
            canvas: o
        })) : e, dt[t] = i, vt("editor.extension_added", i))
    };
    var ct, ft, vt, pt, mt = this.round = function(t) {
            return parseInt(t * b, 10) / b
        },
        yt = this.getIntersectionList = function(t) {
            if (null == o.rubberBox) return null;
            var e = x || y().getCurrentLayer();
            o.curBBoxes.length || (o.curBBoxes = xt(e));
            var i = null;
            try {
                i = e.getIntersectionList(t, null)
            } catch (r) {}
            if (null == i || "function" != typeof i.item) {
                i = [];
                var a;
                if (t) a = t;
                else {
                    a = o.rubberBox.getBBox();
                    var n, s = {};
                    for (n in a) s[n] = a[n] / b;
                    a = s
                }
                for (var l = o.curBBoxes.length; l--;) a.width && o.curBBoxes[l].bbox && svgedit.math.rectsIntersect(a, o.curBBoxes[l].bbox) && i.push(o.curBBoxes[l].elem)
            }
            return i
        },
        bt = (this.getSvgContent = function() {
            return c
        }, this.getVisibleElements = function(t) {
            t || (t = $(c).children());
            var e = [];
            return $(t).children().each(function(t, i) {
                try {
                    i.getBBox() && e.push(i)
                } catch (r) {}
            }), e.reverse()
        }),
        xt = this.getVisibleElementsAndBBoxes = function(t) {
            t || (t = $(c).children());
            var e = [];
            return $(t).children().each(function(t, i) {
                try {
                    i.getBBox() && e.push({
                        elem: i,
                        bbox: svgedit.utilities.getStrokedBBox([i])
                    })
                } catch (r) {}
            }), e.reverse()
        },
        St = this.groupSvgElem = function(t) {
            var e = document.createElementNS(r.SVG, "g");
            t.parentNode.replaceChild(e, t), $(e).append(t).data("gsvg", t)[0].id = ft()
        };
    ! function(t) {
        var e = {};
        ct = t.getId = function() {
            return y().getId()
        }, ft = t.getNextId = function() {
            return y().getNextId()
        }, vt = t.call = function(t, i) {
            if (e[t]) return e[t](this, i)
        }, t.bind = function(t, i) {
            var r = e[t];
            return e[t] = i, r
        }, $(document).on("editor.runExtensions", function(e, i) {
            t.runExtensions(i.name, i.data)
        })
    }(o);
    var Ct = function(t) {
        if (!svgedit.browser.isGecko()) return t;
        var e = t.cloneNode(!0);
        return t.parentNode.insertBefore(e, t), t.parentNode.removeChild(t), Z.releaseSelector(t), N[0] = e, Z.requestSelector(e).showGrips(!0), e
    };
    this.setRotationAngle = function(t, e, i) {
        t = Math.round(parseFloat(t));
        var r = i || N[0],
            a = r.getAttribute("transform") || "",
            n = svgedit.utilities.getBBox(r),
            s = n.x + n.width / 2,
            o = n.y + n.height / 2,
            l = svgedit.transformlist.getTransformList(r);
        if (l.numberOfItems > 0) {
            var d = l.getItem(0);
            4 == d.type && l.removeItem(0)
        }
        if (0 !== t && 360 !== Math.abs(t)) {
            var h = svgedit.math.transformPoint(s, o, svgedit.math.transformListToTransform(l).matrix),
                g = u.createSVGTransform();
            g.setRotate(t, h.x, h.y), l.numberOfItems ? l.insertItemBefore(g, 0) : l.appendItem(g)
        } else 0 == l.numberOfItems && r.removeAttribute("transform");
        if (!e) {
            var c = r.getAttribute("transform") || "";
            r.setAttribute("transform", a), Kt("transform", c, N), vt("editor.changed", N)
        }
        var f = (svgedit.utilities.getElem("pathpointgrip_container"), Z.requestSelector(N[0]));
        f.resize(), f.updateGripCursors(t)
    }, this.setFlipImage = function(t, e, i) {
        var r = function() {
                var t, i;
                if (s.attr("clip-path") && !d) {
                    var r = s.attr("clip-path").match(/url\(["']?([^)"']+)/)[1],
                        a = $(r),
                        n = a.find("rect");
                    if (n.length) {
                        var l = s.attr("x") + s.attr("width"),
                            h = n.attr("x") + n.attr("width"),
                            g = s.attr("y") + s.attr("height"),
                            u = n.attr("y") + n.attr("height");
                        t = e.horizontal ? n.attr("x") - (l - h) : s.attr("x"), i = e.vertical ? n.attr("y") - (g - u) : s.attr("y"), s.attr("x", t), s.attr("y", i)
                    }
                } else if (o) {
                    var c = $("#svgcontent");
                    t = e.horizontal ? -(s.attr("x") + s.attr("width") - c.attr("width")) : s.attr("x"), i = e.vertical ? -(s.attr("y") + s.attr("height") - c.attr("height")) : s.attr("y"), s.attr("x", t), s.attr("y", i)
                }
                $(".popupmenu .icon-flipv").parent().toggleClass("applied", s.hasClass(INKIVE.C.FLIP_IMAGE.VERTICAL)), $(".popupmenu .icon-fliph").parent().toggleClass("applied", s.hasClass(INKIVE.C.FLIP_IMAGE.HORIZONTAL)), INKIVE.DesignFacade.trigger("flipped_image", e)
            },
            a = function(t) {
                var a = new Image;
                a.setAttribute("crossOrigin", "Anonymous"), a.src = i || s.attr("xlink:href"), a.onload = function() {
                    var i, n, o = document.createElement("canvas");
                    o.width = this.naturalWidth, o.height = this.naturalHeight;
                    var l = o.getContext("2d"),
                        h = s.attr("data-original-href") || a.src;
                    l.save(), i = e.horizontal ? -1 : 1, n = e.vertical ? -1 : 1, l.scale(i, n), l.drawImage(a, 0, 0, a.width * i, a.height * n), l.restore(), d ? svgedit.utilities.assignAttributes(s[0], {
                        "xlink:href": o.toDataURL(),
                        "data-original-href": h
                    }) : (s.attr("xlink:href", o.toDataURL()), s.attr("data-original-href", h)), t || (e.horizontal && s.addClass(INKIVE.C.FLIP_IMAGE.HORIZONTAL), e.vertical && s.addClass(INKIVE.C.FLIP_IMAGE.VERTICAL)), INKIVE.ImagesFactory.setImageUrl(s[0], INKIVE.Helpers.isDataURL(h) ? null : h), r()
                }
            },
            n = function(e) {
                s.removeClass(e), l = o ? INKIVE.DesignFacade.get("background").flipped : INKIVE.DesignFacade.get(t).flipped, l.horizontal || l.vertical ? a(!0) : (s.attr("xlink:href", s.attr("data-original-href")), s.removeAttr("data-original-href"), s.one("load", function() {
                    r()
                }))
            },
            s = $("#" + t);
        if (s.length) {
            INKIVE.ImagesFactory.getImageUrl(s[0]) && s.attr("data-original-href", INKIVE.ImagesFactory.getImageUrl(s[0]));
            var o = s.parent().is(".background"),
                l = o ? INKIVE.DesignFacade.get("background").flipped : INKIVE.DesignFacade.get(t).flipped,
                d = _.isString(i);
            INKIVE.DesignFacade.trigger("flipping_image", e), d ? a() : (e.horizontal && (l.horizontal ? n(INKIVE.C.FLIP_IMAGE.HORIZONTAL) : a()), e.vertical && (l.vertical ? n(INKIVE.C.FLIP_IMAGE.VERTICAL) : a()))
        }
    };
    var Nt = this.recalculateAllSelectedDimensions = function() {
            for (var t = [], e = N.length; e--;) {
                var i = N[e];
                if (i) {
                    var r = svgedit.recalculate.recalculateDimensions(i);
                    r && t.push(r)
                }
            }
            return t.length && vt("editor.changed", N), t
        },
        At = [0, "z", "M", "m", "L", "l", "C", "c", "Q", "q", "A", "a", "H", "h", "V", "v", "S", "s", "T", "t"],
        wt = function(t) {
            console.log([t.a, t.b, t.c, t.d, t.e, t.f])
        },
        It = this.clearSelection = function(t) {
            if ($(".overlay [data-type=replace-image]").addClass("hidden"), null != N[0]) {
                var e, i, r = N.length;
                for (e = 0; e < r && (i = N[e], null != i); ++e) Z.releaseSelector(i), N[e] = null
            }
            t || vt("editor.selected", N), N.length || INKIVE.Menus.elementPopupMenu.hide()
        },
        Et = this.addToSelection = function(t, e) {
            function i(t) {
                if ("a" === t.tagName && 1 === t.childNodes.length && (t = t.firstChild), N.indexOf(t) == -1) {
                    N[r] = t, r++;
                    var e = Z.requestSelector(t);
                    N.length > 1 && e.showGrips(!1)
                }
            }
            if (0 != t.length && !$(t).hasClass("svgLoader")) {
                $(".overlay [data-type=replace-image]").toggleClass("hidden", !(1 === t.length && $(t).is("image:not(#svg_background_image)")));
                for (var r = 0; r < N.length && null != N[r];) ++r;
                for (var a = t.length; a--;) {
                    var n = t[a];
                    n && svgedit.utilities.getBBox(n) && i(n)
                }
                if (vt("editor.selected", N), !N[0]) return 1;
                for (e || 1 == N.length ? Z.requestSelector(N[0]).showGrips(!0) : Z.requestSelector(N[0]).showGrips(!1), N.sort(function(t, e) {
                        return t && e && t.compareDocumentPosition ? 3 - (6 & e.compareDocumentPosition(t)) : null == t ? 1 : void 0
                    }); null == N[0];) N.shift(0)
            }
        },
        _t = this.selectOnly = function(t, e) {
            It(!0), Et(t, e)
        },
        kt = this.removeFromSelection = function(t) {
            if (null != N[0] && 0 != t.length) {
                var e, i = 0,
                    r = new Array(N.length),
                    a = N.length;
                for (e = 0; e < a; ++e) {
                    var n = N[e];
                    n && (t.indexOf(n) == -1 ? (r[i] = n, i++) : Z.releaseSelector(n))
                }
                N = r, vt("editor.selected", N)
            }
        };
    this.selectAllInCurrentLayer = function() {
        var t = y().getCurrentLayer();
        t && (st = "select", _t($(x || t).children()))
    };
    var $t = this.getMouseTarget = function(e, i) {
            if (null == e || !e.target) return null;
            var a = e.target;
            if (a.correspondingUseElement && (a = a.correspondingUseElement), [r.MATH, r.HTML].indexOf(a.namespaceURI) >= 0 && "svgcanvas" != a.id)
                for (;
                    "foreignObject" != a.nodeName;)
                    if (a = a.parentNode, !a) return u;
            var n = y().getCurrentLayer();
            if ([u, t, c, n].indexOf(a) >= 0) return u;
            var s = $(a);
            if (s.closest("#outsideCanvasSelectorGroup").length) {
                var o = $(s.attr("data-related-id"))[0];
                if (o) return o
            }
            if (s.closest("#selectorParentGroup").length) return Z.selectorParentGroup;
            for (; a && a.parentNode !== (x || n);) a = a.parentNode;
            return a
        },
        Tt = (this.getMouseTargetBasedOnPosition = function(t, e) {
            if (t) return _.chain($(e).contents()).reverse().find(function(e) {
                var i = svgedit.utilities.getBBox(e);
                if (i) return t.x > i.x * b && t.x < i.x * b + i.width * b && t.y > i.y * b && t.y < i.y * b + i.height * b
            }).value()
        }, this.replaceElement = function(t, e) {
            var i = t;
            if (i) {
                y().getCurrentLayer().appendChild(e);
                var r = i.getBBox(),
                    a = e.getBBox(),
                    n = u.createSVGTransform(),
                    s = u.createSVGTransform(),
                    o = u.createSVGTransform(),
                    l = w(e);
                n.setTranslate(0, 0), s.setScale(r.width / a.width, r.height / a.height), o.setTranslate(0, 0), l.appendItem(n), l.appendItem(s), l.appendItem(o), z(e, e.getBBox()), n = u.createSVGTransform(), n.setTranslate(r.x, r.y), l.appendItem(n), z(e);
                for (var d = Ot(), h = 0; h < d.length; h++) null != d[h] && d[h].id == i.id && (kt([i]), Et([e]));
                $(i).remove()
            }
        }, this.loadingElement = function(t) {
            if (t && !$(".svgLoader").length) {
                var e = (y().getCurrentLayer(), document.createElementNS(r.SVG, "svg")),
                    i = ($(g).width(), $(g).height(), "10%"),
                    a = "10%";
                e.setAttribute("class", "svgLoader"), e.setAttribute("x", "45%"), e.setAttribute("y", "45%"), e.setAttribute("width", i), e.setAttribute("height", a), e.setAttribute("viewBox", "0 0 50 50"), e.setAttribute("style", "pointer-events: none;");
                var n = document.createElementNS(r.SVG, "path");
                n.setAttribute("fill", "#ffdd17"), n.setAttribute("d", "M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z");
                var s = document.createElementNS(r.SVG, "animateTransform");
                s.setAttribute("attributeType", "xml"), s.setAttribute("attributeName", "transform"), s.setAttribute("type", "rotate"), s.setAttribute("from", "0 25 25"), s.setAttribute("to", "360 25 25"), s.setAttribute("dur", "0.6s"), s.setAttribute("repeatCount", "indefinite"), n.appendChild(s), e.appendChild(n), u.appendChild(e)
            } else t || $(".svgLoader").remove()
        }, this.addElement = function(t, e, i) {
            function a(t) {
                var e, i = {
                    type: "color",
                    data: "#fff"
                };
                t = $.extend(i, t);
                var a = $("g.background").get(0);
                a || (a = document.createElementNS(r.SVG, "g"), $(a).addClass("background"), a.setAttribute("style", "pointer-events:none"), c.insertBefore(a, c.firstChild)), s(a, t);
                var n = null;
                switch (t.type) {
                    case "color":
                        n = document.createElementNS(r.SVG, "rect"), n.setAttribute("id", "svg_background_color"), n.setAttribute("fill", t.data), n.setAttribute("x", 0), n.setAttribute("y", 0), n.setAttribute("width", "100%"), n.setAttribute("height", "100%"), e = $(a).prepend(n);
                        break;
                    case "image":
                        var o;
                        n = document.createElementNS(r.SVG, "image"), n.setAttribute("id", "svg_background_image"), t.opacity && n.setAttribute("opacity", t.opacity), t.favouiritesId && n.setAttribute("class", "favourites-background-image-id-" + t.favouiritesId), t.old_image_id && n.setAttribute("data-old-id", t.old_image_id), t.attrs && (n.setAttribute("x", t.attrs.x), n.setAttribute("y", t.attrs.y), n.setAttribute("width", t.attrs.width), n.setAttribute("height", t.attrs.height), t.attrs["class"] && (n.setAttribute("class", t.attrs["class"]), /image-flip/.test(t.attrs["class"]) && (o = {
                            vertical: t.attrs["class"].indexOf(INKIVE.C.FLIP_IMAGE.VERTICAL) > -1,
                            horizontal: t.attrs["class"].indexOf(INKIVE.C.FLIP_IMAGE.HORIZONTAL) > -1
                        }))), e = a.appendChild(n), o ? INKIVE.Tool.getInstance().editor.canvas.setFlipImage(n.id, o, t.data) : n.setAttributeNS(r.XLINK, "xlink:href", t.data)
                }
                a.setAttribute("class", "background");
                var l = document.createElementNS(r.SVG, "title");
                return l.setAttribute("style", "pointer-events:inherit"), l.textContent = "Background", a.appendChild(l), e
            }

            function s(t, e) {
                var i = $(t).children();
                $.each(i, function() {
                    var t = $(this),
                        i = !1;
                    switch (t.prop("tagName")) {
                        case "title":
                            i = !0;
                            break;
                        case "rect":
                            i = "color" == e.type;
                            break;
                        case "image":
                            "image" == e.type ? (e.opacity = t.attr("opacity"), i = !0) : "color" == e.type && (t.attr("opacity") && 1 != t.attr("opacity") || (i = !0))
                    }
                    i && t.remove()
                })
            }

            function l(t) {
                var e = {
                    x: n[0] - 50,
                    y: n[1] - 50,
                    width: 100,
                    height: 100
                };
                t = $.extend(e, t);
                var i = A({
                    element: "image",
                    attr: {
                        id: ft(),
                        "class": "element sticker" + (t.favouiritesId ? " favourites-sticker-id-" + t.favouiritesId : ""),
                        "xlink:href": t.url,
                        x: t.x,
                        y: t.y,
                        width: t.width,
                        height: t.height
                    }
                });
                return i
            }

            function d(t) {
                function e() {
                    var t = n[0].getAttribute("width") && n[0].getAttribute("height");
                    if (!t) {
                        var e = new Image;
                        e.src = n.attr("xlink:href"), $(e).load(function() {
                            var t = INKIVE.DesignFacade.setters.background._getBackgroundSize(e);
                            n.attr("x", (o.contentW - t.width) / 2), n.attr("y", (o.contentH - t.height) / 2), n.attr("width", t.width), n.attr("height", t.height)
                        })
                    }
                }
                if (t.background)
                    if (t.background.startsWith("http")) a({
                        type: "image",
                        data: t.background
                    });
                    else if (t.background.startsWith("#")) a({
                    type: "color",
                    data: t.background
                });
                else {
                    var i = $("g.background").get(0);
                    i || (i = document.createElementNS(r.SVG, "g"), $(i).addClass("background"), i.setAttribute("style", "pointer-events:none"), c.insertBefore(i, c.firstChild)), i.innerHTML = t.background;
                    var n = $(i).find("image");
                    n.length && e()
                } else a({
                    type: "color",
                    data: "none"
                });
                gt("setLayout", t)
            }

            function h(t) {
                var e = {
                        x: n[0] - 50,
                        y: n[1] - 50,
                        width: 100,
                        height: 100
                    },
                    i = null;
                return t = $.extend(e, t), i = A({
                    element: "image",
                    attr: {
                        id: ft(),
                        "class": "element image",
                        "xlink:href": t.url,
                        x: t.x,
                        y: t.y,
                        width: t.width,
                        height: t.height
                    }
                })
            }

            function g(t) {
                return new INKIVE.Text.Textarea(t).render(o)
            }
            i = $.extend(i, {});
            var u = null;
            switch (t) {
                case "background":
                    u = a(e);
                    break;
                case "sticker":
                    u = l(e);
                    break;
                case "layout":
                    d(e);
                    break;
                case "textarea":
                    u = g(e);
                    break;
                case "image":
                    u = h(e)
            }
            return u
        }, function(t) {
            $(t).click(function(t) {
                t.preventDefault()
            })
        });
    pt = o.pathActions = function() {
        function e(t) {
            t.setAttribute("d", pt.convertPath(t))
        }
        var n, s, l, d = !1;
        svgedit.path.Path.prototype.endChanges = function(t) {
            svgedit.browser.isWebkit() && e(this.elem), vt("editor.changed", [this.elem])
        }, svgedit.path.Path.prototype.addPtsToSelection = function(t) {
            var e, i;
            for ($.isArray(t) || (t = [t]), e = 0; e < t.length; e++) {
                var r = t[e];
                i = this.segs[r], i.ptgrip && this.selected_pts.indexOf(r) == -1 && r >= 0 && this.selected_pts.push(r)
            }
            this.selected_pts.sort(), e = this.selected_pts.length;
            for (var a = new Array(e); e--;) {
                var n = this.selected_pts[e];
                i = this.segs[n], i.select(!0), a[e] = i.ptgrip
            }
            pt.canDeleteNodes = !0, pt.closed_subpath = this.subpathIsClosed(this.selected_pts[0]), vt("editor.selected", a)
        }, n = null;
        var h = null,
            g = !1,
            u = function(t) {
                var e, i = t.points,
                    r = i.numberOfItems;
                if (r >= 4) {
                    var a = i.getItem(0),
                        n = null,
                        s = [];
                    for (s.push(["M", a.x, ",", a.y, " C"].join("")), e = 1; e <= r - 4; e += 3) {
                        var o = i.getItem(e),
                            l = i.getItem(e + 1),
                            d = i.getItem(e + 2);
                        if (n) {
                            var h = svgedit.path.smoothControlPoints(n, o, a);
                            if (h && 2 == h.length) {
                                var g = s[s.length - 1].split(",");
                                g[2] = h[0].x, g[3] = h[0].y, s[s.length - 1] = g.join(","), o = h[1]
                            }
                        }
                        s.push([o.x, o.y, l.x, l.y, d.x, d.y].join(",")), a = d, n = l
                    }
                    for (s.push("L"); e < r;) {
                        var u = i.getItem(e);
                        s.push([u.x, u.y].join(",")), e++
                    }
                    s = s.join(" "), t = A({
                        element: "path",
                        curStyles: !0,
                        attr: {
                            id: ct(),
                            d: s,
                            fill: "none"
                        }
                    })
                }
                return t
            };
        return {
            mouseDown: function(e, i, n, l) {
                var g;
                if ("path" !== st) {
                    if (svgedit.path.path) {
                        svgedit.path.path.storeD(), g = e.target.id;
                        var u;
                        if ("pathpointgrip_" == g.substr(0, 14)) {
                            u = svgedit.path.path.cur_pt = parseInt(g.substr(14)), svgedit.path.path.dragging = [n, l];
                            var c = svgedit.path.path.segs[u];
                            e.shiftKey ? c.selected ? svgedit.path.path.removePtFromSelection(u) : svgedit.path.path.addPtsToSelection(u) : ((svgedit.path.path.selected_pts.length <= 1 || !c.selected) && svgedit.path.path.clearSelection(), svgedit.path.path.addPtsToSelection(u))
                        } else if (0 == g.indexOf("ctrlpointgrip_")) {
                            svgedit.path.path.dragging = [n, l];
                            var f = g.split("_")[1].split("c");
                            u = Number(f[0]);
                            var v = Number(f[1]);
                            svgedit.path.path.selectPt(u, v)
                        }
                        svgedit.path.path.dragging || (null == o.rubberBox && (o.rubberBox = Z.getRubberBandBox()), svgedit.utilities.assignAttributes(o.rubberBox, {
                            x: n * b,
                            y: l * b,
                            width: 0,
                            height: 0,
                            display: "inline"
                        }, 100))
                    }
                } else {
                    var p = n,
                        m = l,
                        y = p / b,
                        x = m / b,
                        S = svgedit.utilities.getElem("path_stretch_line");
                    s = [y, x], a.gridSnapping && (y = svgedit.utilities.snapToGrid(y), x = svgedit.utilities.snapToGrid(x), p = svgedit.utilities.snapToGrid(p), m = svgedit.utilities.snapToGrid(m)), S || (S = document.createElementNS(r.SVG, "path"), svgedit.utilities.assignAttributes(S, {
                        id: "path_stretch_line",
                        stroke: "#22C",
                        "stroke-width": "0.5",
                        fill: "none"
                    }), S = svgedit.utilities.getElem("selectorParentGroup").appendChild(S)), S.setAttribute("display", "inline");
                    var N, w = null;
                    if (h) {
                        for (var I = h.pathSegList, E = I.numberOfItems, _ = 6 / b, k = !1; E;) {
                            E--;
                            var T = I.getItem(E),
                                L = T.x,
                                B = T.y;
                            if (y >= L - _ && y <= L + _ && x >= B - _ && x <= B + _) {
                                k = !0;
                                break
                            }
                        }
                        g = ct(), svgedit.path.removePath_(g);
                        var P, G, V = svgedit.utilities.getElem(g),
                            M = I.numberOfItems;
                        if (k) {
                            if (E <= 1 && M >= 2) {
                                var D = I.getItem(0).x,
                                    O = I.getItem(0).y;
                                G = S.pathSegList.getItem(1), P = 4 === G.pathSegType ? h.createSVGPathSegLinetoAbs(D, O) : h.createSVGPathSegCurvetoCubicAbs(D, O, G.x1 / b, G.y1 / b, D, O);
                                var F = h.createSVGPathSegClosePath();
                                I.appendItem(P), I.appendItem(F)
                            } else if (M < 3) return w = !1;
                            $(S).remove();
                            if (h = null, o.started = !1, d) {
                                svgedit.path.path.matrix && svgedit.coords.remapElement(V, {}, svgedit.path.path.matrix.inverse());
                                var z = V.getAttribute("d"),
                                    R = $(svgedit.path.path.elem).attr("d");
                                return $(svgedit.path.path.elem).attr("d", R + z), $(V).remove(), svgedit.path.path.matrix && svgedit.path.recalcRotatedPath(), svgedit.path.path.init(), pt.toEditMode(svgedit.path.path.elem), svgedit.path.path.selectPt(), !1
                            }
                        } else {
                            if (!$.contains(t, $t(e))) return console.log("Clicked outside canvas"), !1;
                            var U = h.pathSegList.numberOfItems,
                                K = h.pathSegList.getItem(U - 1),
                                H = K.x,
                                j = K.y;
                            if (e.shiftKey) {
                                var W = svgedit.math.snapToAngle(H, j, y, x);
                                y = W.x, x = W.y
                            }
                            G = S.pathSegList.getItem(1), P = 4 === G.pathSegType ? h.createSVGPathSegLinetoAbs(mt(y), mt(x)) : h.createSVGPathSegCurvetoCubicAbs(mt(y), mt(x), G.x1 / b, G.y1 / b, G.x2 / b, G.y2 / b), h.pathSegList.appendItem(P), y *= b, x *= b, S.setAttribute("d", ["M", y, x, y, x].join(" ")), N = U, d && (N += svgedit.path.path.segs.length), svgedit.path.addPointGrip(N, y, x)
                        }
                    } else {
                        var q = "M" + y + "," + x + " ";
                        h = A({
                            element: "path",
                            curStyles: !0,
                            attr: {
                                d: q,
                                id: ft(),
                                opacity: C.opacity / 2
                            }
                        }), S.setAttribute("d", ["M", p, m, p, m].join(" ")), N = d ? svgedit.path.path.segs.length : 0, svgedit.path.addPointGrip(N, p, m)
                    }
                }
            },
            mouseMove: function(t, e) {
                if (g = !0, "path" !== st)
                    if (svgedit.path.path.dragging) {
                        var i = svgedit.path.getPointFromGrip({
                                x: svgedit.path.path.dragging[0],
                                y: svgedit.path.path.dragging[1]
                            }, svgedit.path.path),
                            r = svgedit.path.getPointFromGrip({
                                x: t,
                                y: e
                            }, svgedit.path.path),
                            a = r.x - i.x,
                            n = r.y - i.y;
                        svgedit.path.path.dragging = [t, e], svgedit.path.path.dragctrl ? svgedit.path.path.moveCtrl(a, n) : svgedit.path.path.movePts(a, n)
                    } else svgedit.path.path.selected_pts = [], svgedit.path.path.eachSeg(function(t) {
                        var e = this;
                        if (e.next || e.prev) {
                            var i = (e.item, o.rubberBox.getBBox()),
                                r = svgedit.path.getGripPt(e),
                                a = {
                                    x: r.x,
                                    y: r.y,
                                    width: 0,
                                    height: 0
                                },
                                n = svgedit.math.rectsIntersect(i, a);
                            this.select(n), n && svgedit.path.path.selected_pts.push(e.index)
                        }
                    });
                else {
                    if (!h) return;
                    var d = h.pathSegList,
                        u = d.numberOfItems - 1;
                    if (s) {
                        var c = svgedit.path.addCtrlGrip("1c1"),
                            f = svgedit.path.addCtrlGrip("0c2");
                        c.setAttribute("cx", t), c.setAttribute("cy", e), c.setAttribute("display", "inline");
                        var v = s[0],
                            p = s[1],
                            m = (d.getItem(u), t / b),
                            y = e / b,
                            x = v + (v - m),
                            S = p + (p - y);
                        f.setAttribute("cx", x * b), f.setAttribute("cy", S * b), f.setAttribute("display", "inline");
                        var C = svgedit.path.getCtrlLine(1);
                        if (svgedit.utilities.assignAttributes(C, {
                                x1: t,
                                y1: e,
                                x2: x * b,
                                y2: S * b,
                                display: "inline"
                            }), 0 === u) l = [t, e];
                        else {
                            var N = d.getItem(u - 1),
                                A = N.x,
                                w = N.y;
                            6 === N.pathSegType ? (A += A - N.x2, w += w - N.y2) : l && (A = l[0] / b, w = l[1] / b), svgedit.path.replacePathSeg(6, u, [v, p, A, w, x, S], h)
                        }
                    } else {
                        var I = svgedit.utilities.getElem("path_stretch_line");
                        if (I) {
                            var E = d.getItem(u);
                            if (6 === E.pathSegType) {
                                var _ = E.x + (E.x - E.x2),
                                    k = E.y + (E.y - E.y2);
                                svgedit.path.replacePathSeg(6, 1, [t, e, _ * b, k * b, t, e], I)
                            } else l ? svgedit.path.replacePathSeg(6, 1, [t, e, l[0], l[1], t, e], I) : svgedit.path.replacePathSeg(4, 1, [t, e], I)
                        }
                    }
                }
            },
            mouseUp: function(t, e, i, r) {
                if ("path" === st) return s = null, h || (e = svgedit.utilities.getElem(ct()), o.started = !1, l = null), {
                    keep: !0,
                    element: e
                };
                if (svgedit.path.path.dragging) {
                    var a = svgedit.path.path.cur_pt;
                    svgedit.path.path.dragging = !1, svgedit.path.path.dragctrl = !1, svgedit.path.path.update(), g && svgedit.path.path.endChanges("Move path point(s)"), t.shiftKey || g || svgedit.path.path.selectPt(a)
                } else o.rubberBox && "none" != o.rubberBox.getAttribute("display") ? (o.rubberBox.setAttribute("display", "none"), o.rubberBox.getAttribute("width") <= 2 && o.rubberBox.getAttribute("height") <= 2 && pt.toSelectMode(t.target)) : pt.toSelectMode(t.target);
                g = !1
            },
            toEditMode: function(t) {
                svgedit.path.path = svgedit.path.getPath_(t), st = "pathedit", It(), svgedit.path.path.show(!0).update(), svgedit.path.path.oldbbox = svgedit.utilities.getBBox(svgedit.path.path.elem), d = !1
            },
            toSelectMode: function(t) {
                var e = t == svgedit.path.path.elem;
                st = "select", svgedit.path.path.show(!1), n = !1, It(), svgedit.path.path.matrix && svgedit.path.recalcRotatedPath(), e && (vt("editor.selected", [t]), Et([t], !0))
            },
            addSubPath: function(t) {
                t ? (st = "path", d = !0) : (pt.clear(!0), pt.toEditMode(svgedit.path.path.elem))
            },
            select: function(t) {
                n === t ? (pt.toEditMode(t), st = "pathedit") : n = t
            },
            reorient: function() {
                var t = N[0];
                if (t) {
                    var e = svgedit.utilities.getRotationAngle(t);
                    if (0 != e) {
                        ({
                            d: t.getAttribute("d"),
                            transform: t.getAttribute("transform")
                        });
                        It(), this.resetOrientation(t), svgedit.path.getPath_(t).show(!1).matrix = null, this.clear(), Et([t], !0), vt("editor.changed", N)
                    }
                }
            },
            clear: function(t) {
                if (n = null, h) {
                    var e = svgedit.utilities.getElem(ct());
                    $(svgedit.utilities.getElem("path_stretch_line")).remove(), $(e).remove(), $(svgedit.utilities.getElem("pathpointgrip_container")).find("*").attr("display", "none"), h = l = null, o.started = !1
                } else "pathedit" == st && this.toSelectMode();
                svgedit.path.path && svgedit.path.path.init().show(!1)
            },
            resetOrientation: function(t) {
                if (null == t || "path" != t.nodeName) return !1;
                var e = svgedit.transformlist.getTransformList(t),
                    r = svgedit.math.transformListToTransform(e).matrix;
                e.clear(), t.removeAttribute("transform");
                var a, n = t.pathSegList,
                    s = n.numberOfItems;
                for (a = 0; a < s; ++a) {
                    var o = n.getItem(a),
                        l = o.pathSegType;
                    if (1 != l) {
                        var d = [];
                        $.each(["", 1, 2], function(t, e) {
                            var i = o["x" + e],
                                a = o["y" + e];
                            if (void 0 !== i && void 0 !== a) {
                                var n = svgedit.math.transformPoint(i, a, r);
                                d.splice(d.length, 0, n.x, n.y)
                            }
                        }), svgedit.path.replacePathSeg(l, a, d, t)
                    }
                }
                i(t, r)
            },
            zoomChange: function() {
                "pathedit" == st && svgedit.path.path.update()
            },
            getNodePoint: function() {
                var t = svgedit.path.path.selected_pts.length ? svgedit.path.path.selected_pts[0] : 1,
                    e = svgedit.path.path.segs[t];
                return {
                    x: e.item.x,
                    y: e.item.y,
                    type: e.type
                }
            },
            linkControlPoints: function(t) {
                svgedit.path.setLinkControlPoints(t)
            },
            clonePathNode: function() {
                svgedit.path.path.storeD();
                for (var t = svgedit.path.path.selected_pts, e = (svgedit.path.path.segs, t.length), i = []; e--;) {
                    var r = t[e];
                    svgedit.path.path.addSeg(r), i.push(r + e), i.push(r + e + 1)
                }
                svgedit.path.path.init().addPtsToSelection(i), svgedit.path.path.endChanges("Clone path node(s)")
            },
            opencloseSubPath: function() {
                var t = svgedit.path.path.selected_pts;
                if (1 === t.length) {
                    var e = svgedit.path.path.elem,
                        i = e.pathSegList,
                        r = (i.numberOfItems, t[0]),
                        a = null,
                        n = null;
                    if (svgedit.path.path.eachSeg(function(t) {
                            return 2 === this.type && t <= r && (n = this.item), t <= r || (2 === this.type ? (a = t, !1) : 1 === this.type ? (a = !1, !1) : void 0);
                        }), null == a && (a = svgedit.path.path.segs.length - 1), a !== !1) {
                        var s = e.createSVGPathSegLinetoAbs(n.x, n.y),
                            o = e.createSVGPathSegClosePath();
                        return a == svgedit.path.path.segs.length - 1 ? (i.appendItem(s), i.appendItem(o)) : (svgedit.path.insertItemBefore(e, o, a), svgedit.path.insertItemBefore(e, s, a)), void svgedit.path.path.init().selectPt(a + 1)
                    }
                    var l = svgedit.path.path.segs[r];
                    if (l.mate) return i.removeItem(r), i.removeItem(r), void svgedit.path.path.init().selectPt(r - 1);
                    var d, h, g;
                    for (d = 0; d < i.numberOfItems; d++) {
                        var u = i.getItem(d);
                        if (2 === u.pathSegType) h = d;
                        else if (d === r) i.removeItem(h);
                        else if (1 === u.pathSegType && r < d) {
                            g = d - 1, i.removeItem(d);
                            break
                        }
                    }
                    for (var c = r - h - 1; c--;) svgedit.path.insertItemBefore(e, i.getItem(h), g);
                    var f = i.getItem(h);
                    svgedit.path.replacePathSeg(2, h, [f.x, f.y]), d = r, svgedit.path.path.init().selectPt(0)
                }
            },
            deletePathNode: function() {
                if (pt.canDeleteNodes) {
                    svgedit.path.path.storeD();
                    for (var t = svgedit.path.path.selected_pts, e = t.length; e--;) {
                        var i = t[e];
                        svgedit.path.path.deleteSeg(i)
                    }
                    var r = function() {
                        var t = svgedit.path.path.elem.pathSegList,
                            e = t.numberOfItems,
                            i = function(e, i) {
                                for (; i--;) t.removeItem(e)
                            };
                        if (e <= 1) return !0;
                        for (; e--;) {
                            var a = t.getItem(e);
                            if (1 === a.pathSegType) {
                                var n = t.getItem(e - 1),
                                    s = t.getItem(e - 2);
                                if (2 === n.pathSegType) {
                                    i(e - 1, 2), r();
                                    break
                                }
                                if (2 === s.pathSegType) {
                                    i(e - 2, 3), r();
                                    break
                                }
                            } else if (2 === a.pathSegType && e > 0) {
                                var o = t.getItem(e - 1).pathSegType;
                                if (2 === o) {
                                    i(e - 1, 1), r();
                                    break
                                }
                                if (1 === o && t.numberOfItems - 1 === e) {
                                    i(e, 1), r();
                                    break
                                }
                            }
                        }
                        return !1
                    };
                    if (r(), svgedit.path.path.elem.pathSegList.numberOfItems <= 1) return pt.toSelectMode(svgedit.path.path.elem), void o.deleteSelectedElements();
                    if (svgedit.path.path.init(), svgedit.path.path.clearSelection(), window.opera) {
                        var a = $(svgedit.path.path.elem);
                        a.attr("d", a.attr("d"))
                    }
                    svgedit.path.path.endChanges("Delete path node(s)")
                }
            },
            smoothPolylineIntoPath: u,
            setSegType: function(t) {
                svgedit.path.path.setSegType(t)
            },
            moveNode: function(t, e) {
                var i = svgedit.path.path.selected_pts;
                if (i.length) {
                    svgedit.path.path.storeD();
                    var r = svgedit.path.path.segs[i[0]],
                        a = {
                            x: 0,
                            y: 0
                        };
                    a[t] = e - r.item[t], r.move(a.x, a.y), svgedit.path.path.endChanges("Move path point")
                }
            },
            fixEnd: function(t) {
                var i, r, a = t.pathSegList,
                    n = a.numberOfItems;
                for (i = 0; i < n; ++i) {
                    var s = a.getItem(i);
                    if (2 === s.pathSegType && (r = s), 1 === s.pathSegType) {
                        var o = a.getItem(i - 1);
                        if (o.x != r.x || o.y != r.y) {
                            var l = t.createSVGPathSegLinetoAbs(r.x, r.y);
                            svgedit.path.insertItemBefore(t, l, i), pt.fixEnd(t);
                            break
                        }
                    }
                }
                svgedit.browser.isWebkit() && e(t)
            },
            convertPath: function(t, e) {
                var i, r = t.pathSegList,
                    a = r.numberOfItems,
                    n = 0,
                    s = 0,
                    o = "",
                    l = null;
                for (i = 0; i < a; ++i) {
                    var d = r.getItem(i),
                        h = d.x || 0,
                        g = d.y || 0,
                        u = d.x1 || 0,
                        c = d.y1 || 0,
                        f = d.x2 || 0,
                        v = d.y2 || 0,
                        p = d.pathSegType,
                        m = At[p]["to" + (e ? "Lower" : "Upper") + "Case"](),
                        y = function(t, e, i) {
                            e = e ? " " + e.join(" ") : "", i = i ? " " + svgedit.units.shortFloat(i) : "", $.each(t, function(e, i) {
                                t[e] = svgedit.units.shortFloat(i)
                            }), o += m + t.join(" ") + e + i
                        };
                    switch (p) {
                        case 1:
                            o += "z";
                            break;
                        case 12:
                            h -= n;
                        case 13:
                            e ? (n += h, m = "l") : (h += n, n = h, m = "L"), y([
                                [h, s]
                            ]);
                            break;
                        case 14:
                            g -= s;
                        case 15:
                            e ? (s += g, m = "l") : (g += s, s = g, m = "L"), y([
                                [n, g]
                            ]);
                            break;
                        case 2:
                        case 4:
                        case 18:
                            h -= n, g -= s;
                        case 5:
                        case 3:
                            l && 1 === r.getItem(i - 1).pathSegType && !e && (n = l[0], s = l[1]);
                        case 19:
                            e ? (n += h, s += g) : (h += n, g += s, n = h, s = g), 3 === p && (l = [n, s]), y([
                                [h, g]
                            ]);
                            break;
                        case 6:
                            h -= n, u -= n, f -= n, g -= s, c -= s, v -= s;
                        case 7:
                            e ? (n += h, s += g) : (h += n, u += n, f += n, g += s, c += s, v += s, n = h, s = g), y([
                                [u, c],
                                [f, v],
                                [h, g]
                            ]);
                            break;
                        case 8:
                            h -= n, u -= n, g -= s, c -= s;
                        case 9:
                            e ? (n += h, s += g) : (h += n, u += n, g += s, c += s, n = h, s = g), y([
                                [u, c],
                                [h, g]
                            ]);
                            break;
                        case 10:
                            h -= n, g -= s;
                        case 11:
                            e ? (n += h, s += g) : (h += n, g += s, n = h, s = g), y([
                                [d.r1, d.r2]
                            ], [d.angle, d.largeArcFlag ? 1 : 0, d.sweepFlag ? 1 : 0], [h, g]);
                            break;
                        case 16:
                            h -= n, f -= n, g -= s, v -= s;
                        case 17:
                            e ? (n += h, s += g) : (h += n, f += n, g += s, v += s, n = h, s = g), y([
                                [f, v],
                                [h, g]
                            ])
                    }
                }
                return o
            }
        }
    }();
    var Lt = this.removeUnusedDefElems = function(t) {
        t = t || c;
        var e = t.getElementsByTagNameNS(r.SVG, "defs");
        if (!e || !e.length) return 0;
        var i, a, n = [],
            s = 0,
            o = ["fill", "stroke", "filter", "marker-start", "marker-mid", "marker-end"],
            l = o.length,
            d = t.getElementsByTagNameNS(r.SVG, "*"),
            h = d.length;
        for (i = 0; i < h; i++) {
            var g = d[i];
            for (a = 0; a < l; a++) {
                var u = svgedit.utilities.getUrlFromAttr(g.getAttribute(o[a]));
                u && n.push(u.substr(1))
            }
            var f = P(g);
            f && 0 === f.indexOf("#") && n.push(f.substr(1))
        }
        var v = $(e).find("linearGradient, radialGradient, filter, marker, svg, symbol");
        for (i = v.length; i--;) {
            var p = v[i],
                m = p.id;
            n.indexOf(m) < 0 && (ht[m] = p, p.parentNode.removeChild(p), s++)
        }
        return s
    };
    this.svgCanvasToString = function(t) {
        function e() {
            function e(t, e) {
                var i = e.getAttribute(t);
                i.startsWith("rgba") && e.setAttribute(t, "none")
            }
            _.each($(t).find("*[fill]"), _.partial(e, "fill")), _.each($(t).find("*[stroke]"), _.partial(e, "stroke"))
        }
        for (t = t || c; Lt(t) > 0;);
        return pt.clear(!0), $.each(t.childNodes, function(e, i) {
            e && 8 === i.nodeType && i.data.indexOf("Created with") >= 0 && t.insertBefore(i, t.firstChild)
        }), x && (Dt(), _t([x])), e(), this.svgToString(t, 0)
    }, this.svgToString = function(t, e) {
        function i(t, e) {
            return _.any(t, function(t) {
                return t.localName === e && null !== t.nodeValue && "null" !== t.nodeValue
            })
        }
        var n = [],
            s = svgedit.utilities.toXml,
            o = a.baseUnit,
            l = new RegExp("^-?[\\d\\.]+" + o + "$");
        if (t) {
            O(t);
            var d, h, g = t.attributes,
                u = t.childNodes;
            for (h = 0; h < e; h++) n.push(" ");
            if (n.push("<"), n.push(t.nodeName), "svgcontent" === t.id) {
                var c = Ft(),
                    f = "";
                "px" !== o && (c.w = svgedit.units.convertUnit(c.w, o) + o, c.h = svgedit.units.convertUnit(c.h, o) + o), n.push(' width="' + c.w + '" height="' + c.h + '"' + f + ' xmlns="' + r.SVG + '"');
                var v = {};
                $(t).find("*").andSelf().each(function() {
                    var t = this.namespaceURI;
                    t && !v[t] && R[t] && "xmlns" !== R[t] && "xml" !== R[t] && (v[t] = !0, n.push(" xmlns:" + R[t] + '="' + t + '"')), $.each(this.attributes, function(t, e) {
                        var i = e.namespaceURI;
                        i && !v[i] && "xmlns" !== R[i] && "xml" !== R[i] && (v[i] = !0, n.push(" xmlns:" + R[i] + '="' + i + '"'))
                    })
                }), h = g.length;
                for (var p = ["width", "height", "xmlns", "x", "y", "viewBox", "id", "overflow"]; h--;) {
                    d = g.item(h);
                    var m = s(d.nodeValue),
                        y = svgedit.sanitize.getAttributeName(t, d);
                    0 !== y.indexOf("xmlns:") && 0 !== y.indexOf("clip-path") && "" != m && p.indexOf(d.localName.toLowerCase()) == -1 && (d.namespaceURI && !R[d.namespaceURI] || (n.push(" "), n.push(y), n.push('="'), n.push(m), n.push('"')))
                }
            } else {
                if ("defs" === t.nodeName && !t.firstChild) return;
                var b = i(g, "stroke") && !i(g, "stroke-width");
                b && t.setAttribute("stroke-width", 1);
                var x = ["-moz-math-font-style", "_moz-math-font-style"],
                    S = [];
                for (h = g.length - 1; h >= 0; h--) {
                    d = g.item(h);
                    var m = s(d.nodeValue.replace(/"/g, "")),
                        y = svgedit.sanitize.getAttributeName(t, d),
                        C = /\b[0-9]+\b/g;
                    if ("font-family" === y && !C.test(m)) {
                        var N = "&#x27;",
                            A = new RegExp("^" + N + ".*" + N + "$");
                        A.test(m) && (m = m.substring(N.length, m.length - N.length))
                    }
                    if (!(x.indexOf(d.localName) >= 0) && "" != m) {
                        if (0 === m.indexOf("pointer-events")) continue;
                        if ("class" === d.localName && (m = m.replace(/selected/g, "").trim(), !m)) continue;
                        if ("class" === d.localName && 0 === m.indexOf("se_")) continue;
                        if (t.getAttribute("class") && t.getAttribute("class").indexOf("main") > -1 && "clip-path" === d.localName) continue;
                        if (n.push(" "), isNaN(m) || !_.isNumber(m) && !_.contains(m, ".") ? l.test(m) && (m = svgedit.units.shortFloat(m) + o) : m = svgedit.units.shortFloat(m), nt.apply && "image" === t.nodeName && "href" === d.localName && nt.images && "embed" === nt.images) {
                            var w = it[m];
                            w && (m = w)
                        }
                        d.namespaceURI && d.namespaceURI != r.SVG && !R[d.namespaceURI] || $.inArray(y.toLowerCase(), S) == -1 && (S.push(y.toLowerCase()), n.push(y), n.push('="'), n.push(m), n.push('"'))
                    }
                }
            }
            if (t.hasChildNodes()) {
                n.push(">"), e++;
                var I = !1;
                for (h = 0; h < u.length; h++) {
                    var E = u.item(h);
                    switch (E.nodeType) {
                        case 1:
                            n.push("\n"), n.push(this.svgToString(u.item(h), e));
                            break;
                        case 3:
                            var k = E.nodeValue;
                            k = k.replace(/\s/g, " "), "" != k && (I = !0, n.push(String(s(k))));
                            break;
                        case 4:
                            n.push("\n"), n.push(new Array(e + 1).join(" ")), n.push("<![CDATA["), n.push(E.nodeValue), n.push("]]>");
                            break;
                        case 8:
                            n.push("\n"), n.push(new Array(e + 1).join(" ")), n.push("<!--"), n.push(E.data), n.push("-->")
                    }
                }
                if (e--, !I)
                    for (n.push("\n"), h = 0; h < e; h++) n.push(" ");
                n.push("</"), n.push(t.nodeName), n.push(">")
            } else n.push("/>")
        }
        return n.join("")
    }, this.embedImage = function(t, e) {
        $(new Image).load(function() {
            var i = document.createElement("canvas");
            i.width = this.width, i.height = this.height, i.getContext("2d").drawImage(this, 0, 0);
            try {
                var r = ";svgedit_url=" + encodeURIComponent(t);
                r = i.toDataURL().replace(";base64", r + ";base64"), it[t] = r
            } catch (a) {
                it[t] = !1
            }
            rt = t, e && e(it[t])
        }).attr("src", t)
    }, this.setGoodImage = function(t) {
        rt = t
    }, this.open = function() {}, this.save = function(t) {
        It(), t && $.extend(nt, t), nt.apply = !0;
        var e = this.svgCanvasToString();
        vt("editor.saved", e)
    }, this.rasterExport = function(t, e) {
        var i = "image/" + t.toLowerCase();
        It();
        var r = [],
            a = {
                feGaussianBlur: Y.exportNoBlur,
                foreignObject: Y.exportNoforeignObject,
                "[stroke-dasharray]": Y.exportNoDashArray
            },
            n = $(c);
        "font" in $("<canvas>")[0].getContext("2d") || (a.text = Y.exportNoText), $.each(a, function(t, e) {
            n.find(t).length && r.push(e)
        });
        var s = this.svgCanvasToString();
        vt("editor.exported", {
            svg: s,
            issues: r,
            type: t,
            mimeType: i,
            quality: e
        })
    }, this.getSvgString = function(t) {
        return nt.apply = !1, this.svgCanvasToString(t)
    }, this.randomizeIds = function(t) {
        arguments.length > 0 && 0 == t ? svgedit.draw.randomizeIds(!1, y()) : svgedit.draw.randomizeIds(!0, y())
    };
    var Bt = this.uniquifyElems = function(t) {
            var e = {},
                i = ["filter", "linearGradient", "pattern", "radialGradient", "symbol", "textPath", "use"];
            svgedit.utilities.walkTree(t, function(t) {
                if (1 == t.nodeType) {
                    t.id && (t.id in e || (e[t.id] = {
                        elem: null,
                        attrs: [],
                        hrefs: []
                    }), e[t.id].elem = t), $.each(Q, function(i, r) {
                        var a = t.getAttributeNode(r);
                        if (a) {
                            var n = svgedit.utilities.getUrlFromAttr(a.value),
                                s = n ? n.substr(1) : null;
                            s && (s in e || (e[s] = {
                                elem: null,
                                attrs: [],
                                hrefs: []
                            }), e[s].attrs.push(a))
                        }
                    });
                    var r = svgedit.utilities.getHref(t);
                    if (r && i.indexOf(t.nodeName) >= 0) {
                        var a = r.substr(1);
                        a && (a in e || (e[a] = {
                            elem: null,
                            attrs: [],
                            hrefs: []
                        }), e[a].hrefs.push(t))
                    }
                }
            });
            var r;
            for (r in e)
                if (r) {
                    var a = e[r].elem;
                    if (a) {
                        var n = ft();
                        a.id = n;
                        for (var s = e[r].attrs, o = s.length; o--;) {
                            var l = s[o];
                            l.ownerElement.setAttribute(l.name, "url(#" + n + ")")
                        }
                        for (var d = e[r].hrefs, h = d.length; h--;) {
                            var g = d[h];
                            svgedit.utilities.setHref(g, "#" + n)
                        }
                    }
                }
        },
        Pt = this.setUseData = function(t) {
            var e = $(t);
            "use" !== t.tagName && (e = e.find("use")), e.each(function() {
                var t = P(this).substr(1),
                    e = svgedit.utilities.getElem(t);
                e && ($(this).data("ref", e), "symbol" != e.tagName && "svg" != e.tagName || $(this).data("symbol", e).data("ref", e))
            })
        },
        Gt = this.convertGradients = function(t) {
            var e = $(t).find("linearGradient, radialGradient");
            !e.length && svgedit.browser.isWebkit() && (e = $(t).find("*").filter(function() {
                return this.tagName.indexOf("Gradient") >= 0
            })), e.each(function() {
                var t = this;
                if ("userSpaceOnUse" === $(t).attr("gradientUnits")) {
                    var e = $(c).find('[fill="url(#' + t.id + ')"],[stroke="url(#' + t.id + ')"]');
                    if (!e.length) return;
                    var i = svgedit.utilities.getBBox(e[0]);
                    if (!i) return;
                    if ("linearGradient" === t.tagName) {
                        var r = $(t).attr(["x1", "y1", "x2", "y2"]),
                            a = t.gradientTransform.baseVal;
                        if (a && a.numberOfItems > 0) {
                            var n = svgedit.math.transformListToTransform(a).matrix,
                                s = svgedit.math.transformPoint(r.x1, r.y1, n),
                                o = svgedit.math.transformPoint(r.x2, r.y2, n);
                            r.x1 = s.x, r.y1 = s.y, r.x2 = o.x, r.y2 = o.y, t.removeAttribute("gradientTransform")
                        }
                        $(t).attr({
                            x1: (r.x1 - i.x) / i.width,
                            y1: (r.y1 - i.y) / i.height,
                            x2: (r.x2 - i.x) / i.width,
                            y2: (r.y2 - i.y) / i.height
                        }), t.removeAttribute("gradientUnits")
                    }
                }
            })
        },
        Vt = this.convertToGroup = function(t) {
            t || (t = N[0]);
            var e, i = $(t);
            if (i.data("gsvg")) {
                var a = t.firstChild,
                    n = $(a).attr(["x", "y"]);
                $(t.firstChild.firstChild).unwrap(), $(t).removeData("gsvg");
                var s = svgedit.transformlist.getTransformList(t),
                    o = u.createSVGTransform();
                o.setTranslate(n.x, n.y), s.appendItem(o), svgedit.recalculate.recalculateDimensions(t), vt("editor.selected", [t])
            } else if (i.data("symbol")) {
                t = i.data("symbol"), e = i.attr("transform");
                var d = i.attr(["x", "y"]),
                    h = t.getAttribute("viewBox");
                if (h) {
                    var g = h.split(" ");
                    d.x -= +g[0], d.y -= +g[1]
                }
                e += " translate(" + (d.x || 0) + "," + (d.y || 0) + ")";
                var f = i.prev();
                i.remove();
                var v, p = $(c).find("use:data(symbol)").length,
                    m = l.createElementNS(r.SVG, "g"),
                    y = t.childNodes;
                for (v = 0; v < y.length; v++) m.appendChild(y[v].cloneNode(!0));
                if (svgedit.browser.isGecko()) {
                    var b = $(svgedit.utilities.findDefs()).children("linearGradient,radialGradient,pattern").clone();
                    $(m).append(b)
                }
                e && m.setAttribute("transform", e);
                var x = t.parentNode;
                if (Bt(m), svgedit.browser.isGecko() && $(L()).append($(m).find("linearGradient,radialGradient,pattern")), m.id = ft(), f.after(m), x && !p) {
                    t.nextSibling;
                    x.removeChild(t)
                }
                Pt(m), Gt(svgedit.browser.isGecko() ? svgedit.utilities.findDefs() : m), svgedit.utilities.walkTreePost(m, function(t) {
                    try {
                        svgedit.recalculate.recalculateDimensions(t)
                    } catch (e) {
                        console.log(e)
                    }
                }), $(m).find(J).each(function() {
                    this.id || (this.id = ft())
                }), _t([m]), Ht(m, !0)
            } else console.log("Unexpected element to ungroup:", t)
        };
    this.setSvgDefs = function() {}, this.setSvgString = function(t) {
        try {
            var e = svgedit.utilities.text2xml(t);
            c.nextSibling, u.removeChild(c);
            c = l.adoptNode ? l.adoptNode(e.documentElement) : l.importNode(e.documentElement, !0), u.appendChild(c), this.sanitizeSvg(c);
            var i = $(c);
            o.current_drawing_ = new svgedit.draw.Drawing(c, m);
            var n = y().getNonce();
            n ? vt("editor.setnonce", n) : vt("editor.unsetnonce"), i.find("image").each(function() {
                var t = this;
                $(t);
                Tt(t);
                var e = P(this);
                if (e && 0 === e.indexOf("data:")) {
                    var i = e.match(/svgedit_url=(.*?);/);
                    if (i) {
                        var a = decodeURIComponent(i[1]);
                        $(new Image).load(function() {
                            t.setAttributeNS(r.XLINK, "xlink:href", a)
                        }).attr("src", a), o.embedImage(e)
                    }
                }
            });
            var s = function() {
                var t = [],
                    e = [];
                i.find("[custom-font-id]").each(function() {
                    var i = $(this).attr("custom-font-id");
                    t.push({
                        id: $(this).parent().attr("id"),
                        customFontId: i
                    }), _.contains(e, i) || e.push(i)
                }), _.each(e, function(e) {
                    INKIVE.FontsFactory.getCustomFont(e).then(_.bind(function() {
                        _.each(_.where(t, {
                            customFontId: e
                        }), function(t) {
                            INKIVE.DesignFacade.set(t.id, {})
                        })
                    }, this))
                })
            };
            INKIVE.FontsFactory.fontListLoaded ? s() : INKIVE.EditorFacade.on("fontlist.loaded", s), i.find("svg").each(function() {
                if (!$(this).closest("defs").length) {
                    Bt(this);
                    var t = this.parentNode;
                    1 === t.childNodes.length && "g" === t.nodeName ? ($(t).data("gsvg", this), t.id = t.id || ft()) : St(this)
                }
            }), svgedit.browser.isGecko() && i.find("linearGradient, radialGradient, pattern").appendTo(svgedit.utilities.findDefs()), Pt(i), Gt(i[0]), svgedit.utilities.walkTreePost(c, function(t) {
                try {
                    svgedit.recalculate.recalculateDimensions(t)
                } catch (e) {
                    console.log(e)
                }
            });
            var d = {
                    id: "svgcontent",
                    overflow: a.show_outside_canvas ? "visible" : "hidden"
                },
                h = !1;
            if (i.attr("viewBox")) {
                var g = i.attr("viewBox").split(" ");
                d.width = g[2], d.height = g[3]
            } else $.each(["width", "height"], function(t, e) {
                var r = i.attr(e);
                r || (r = "100%"), "%" === String(r).substr(-1) ? h = !0 : d[e] = svgedit.units.convertToNum(e, r)
            });
            if (Mt(), i.children().find(J).each(function() {
                    this.id || (this.id = ft())
                }), h) {
                var f = svgedit.utilities.getStrokedBBox(bt());
                d.width = f.width + f.x, d.height = f.height + f.y
            }
            d.width <= 0 && (d.width = 100), d.height <= 0 && (d.height = 100), i.attr(d), this.contentW = d.width, this.contentH = d.height;
            i.attr(["width", "height"]);
            b = 1, svgedit.transformlist.resetListMap(), It(), svgedit.path.clearData(), v.appendChild(Z.selectorParentGroup), o.setZoom(b), vt("editor.changed", [c])
        } catch (p) {
            return console.log(p), !1
        }
        return !0
    }, this.importSvgString = function(t) {
        var e, i;
        try {
            var a = svgedit.utilities.encode64(t.length + t).substr(0, 32),
                n = !1;
            ot[a] && $(ot[a].symbol).parents("#svgroot").length && (n = !0);
            var s;
            if (n) s = ot[a].symbol, i = ot[a].xform;
            else {
                var o, d = svgedit.utilities.text2xml(t);
                o = l.adoptNode ? l.adoptNode(d.documentElement) : l.importNode(d.documentElement, !0), this.sanitizeSvg(o), Bt(o);
                var h = svgedit.units.convertToNum("width", o.getAttribute("width")),
                    g = svgedit.units.convertToNum("height", o.getAttribute("height")),
                    u = o.getAttribute("viewBox"),
                    f = u ? u.split(" ") : [0, 0, h, g];
                for (e = 0; e < 4; ++e) f[e] = +f[e];
                var v = (+c.getAttribute("width"), +c.getAttribute("height"));
                i = g > h ? "scale(" + v / 3 / f[3] + ")" : "scale(" + v / 3 / f[2] + ")", i = "translate(0) " + i + " translate(0)", s = l.createElementNS(r.SVG, "symbol");
                var p = svgedit.utilities.findDefs();
                for (svgedit.browser.isGecko() && $(o).find("linearGradient, radialGradient, pattern").appendTo(p); o.firstChild;) {
                    var m = o.firstChild;
                    s.appendChild(m)
                }
                var b, S = o.attributes;
                for (b = 0; b < S.length; b++) {
                    var C = S[b];
                    s.setAttribute(C.nodeName, C.nodeValue)
                }
                s.id = ft(), ot[a] = {
                    symbol: s,
                    xform: i
                }, svgedit.utilities.findDefs().appendChild(s)
            }
            var N = l.createElementNS(r.SVG, "use");
            N.id = ft(), G(N, "#" + s.id), (x || y().getCurrentLayer()).appendChild(N), It(), N.setAttribute("transform", i), svgedit.recalculate.recalculateDimensions(N), $(N).data("symbol", s).data("ref", s), Et([N]), vt("editor.changed", [c])
        } catch (A) {
            return console.log(A), !1
        }
        return !0
    };
    var Mt = o.identifyLayers = function() {
        Dt(), y().identifyLayers()
    };
    this.createLayer = function(t) {
        var e = y().createLayer(t);
        It(), vt("editor.changed", [e])
    }, this.cloneLayer = function(t) {
        var e = l.createElementNS(r.SVG, "g"),
            i = l.createElementNS(r.SVG, "title");
        i.textContent = t, e.appendChild(i);
        var a = y().getCurrentLayer();
        $(a).after(e);
        var n, s = a.childNodes;
        for (n = 0; n < s.length; n++) {
            var d = s[n];
            "title" != d.localName && e.appendChild(ut(d))
        }
        It(), Mt(), o.setCurrentLayer(t), vt("editor.changed", [e])
    }, this.deleteCurrentLayer = function() {
        var t = y().getCurrentLayer(),
            e = (t.nextSibling, t.parentNode);
        if (t = y().deleteCurrentLayer()) {
            $(t);
            return It(), vt("editor.changed", [e]), !0
        }
        return !1
    }, this.setCurrentLayer = function(t) {
        var e = y().setCurrentLayer(svgedit.utilities.toXml(t));
        return e && It(), e
    }, this.renameCurrentLayer = function(t) {
        var e, i = y();
        if (i.current_layer) {
            var r = i.current_layer;
            if (!o.setCurrentLayer(t)) {
                for (e = 0; e < i.getNumLayers() && i.all_layers[e][1] != r; ++e);
                i.getLayerName(e);
                i.all_layers[e][0] = svgedit.utilities.toXml(t);
                var a = r.childNodes.length;
                for (e = 0; e < a; ++e) {
                    var n = r.childNodes.item(e);
                    if (n && "title" == n.tagName) {
                        for (; n.firstChild;) n.removeChild(n.firstChild);
                        return n.textContent = t, vt("editor.changed", [r]), !0
                    }
                }
            }
            i.current_layer = r
        }
        return !1
    }, this.setCurrentLayerPosition = function(t) {
        var e, i = y();
        if (i.current_layer && t >= 0 && t < i.getNumLayers()) {
            for (e = 0; e < i.getNumLayers() && i.all_layers[e][1] != i.current_layer; ++e);
            if (e == i.getNumLayers()) return !1;
            if (e != t) {
                var r = null,
                    a = i.current_layer.nextSibling;
                return t > e ? t < i.getNumLayers() - 1 && (r = i.all_layers[t + 1][1]) : r = i.all_layers[t][1], c.insertBefore(i.current_layer, r), X(new svgedit.history.MoveElementCommand(i.current_layer, a, c)), Mt(), o.setCurrentLayer(i.getLayerName(t)), !0
            }
        }
        return !1
    }, this.setLayerVisibility = function(t, e) {
        var i = y(),
            r = i.getLayerVisibility(t),
            a = i.setLayerVisibility(t, e);
        if (!a) return !1;
        var n = r ? "inline" : "none";
        return X(new svgedit.history.ChangeElementCommand(a, {
            display: n
        }, "Layer Visibility")), a == i.getCurrentLayer() && (It(), pt.clear()), !0
    }, this.moveSelectedToLayer = function(t) {
        var e, i = null,
            r = y();
        for (e = 0; e < r.getNumLayers(); ++e)
            if (r.getLayerName(e) == t) {
                i = r.all_layers[e][1];
                break
            }
        if (!i) return !1;
        var a = N;
        for (e = a.length; e--;) {
            var n = a[e];
            if (n) {
                n.nextSibling, n.parentNode;
                i.appendChild(n)
            }
        }
        return !0
    }, this.mergeLayer = function(t) {
        var e = new svgedit.history.BatchCommand("Merge Layer"),
            i = y(),
            r = $(i.current_layer).prev()[0];
        if (r) {
            var a = i.current_layer.childNodes,
                n = (a.length, i.current_layer.nextSibling);
            for (e.addSubCommand(new svgedit.history.RemoveElementCommand(i.current_layer, n, c)); i.current_layer.firstChild;) {
                var s = i.current_layer.firstChild;
                if ("title" != s.localName) {
                    var o = s.nextSibling;
                    r.appendChild(s), e.addSubCommand(new svgedit.history.MoveElementCommand(s, o, i.current_layer))
                } else {
                    var l = s.nextSibling;
                    e.addSubCommand(new svgedit.history.RemoveElementCommand(s, l, i.current_layer)), i.current_layer.removeChild(s)
                }
            }
            return c.removeChild(i.current_layer), t || (It(), Mt(), vt("editor.changed", [c]), X(e)), i.current_layer = r, e
        }
    }, this.mergeAllLayers = function() {
        var t = y();
        for (t.current_layer = t.all_layers[t.getNumLayers() - 1][1]; $(c).children("g").length > 1;) o.mergeLayer(!0);
        It(), Mt(), vt("editor.changed", [c])
    };
    var Dt = this.leaveContext = function() {
        var t, e = at.length;
        if (e) {
            for (t = 0; t < e; t++) {
                var i = at[t],
                    r = tt(i, "orig_opac");
                1 !== r ? i.setAttribute("opacity", r) : i.removeAttribute("opacity"), i.setAttribute("style", "pointer-events: inherit")
            }
            at = [], It(!0), vt("editor.contextset", null)
        }
        x = null
    };
    this.setContext = function(t) {
        Dt(), "string" == typeof t && (t = svgedit.utilities.getElem(t)), x = t, $(t).parentsUntil("#svgcontent").andSelf().siblings().each(function() {
            var t = this.getAttribute("opacity") || 1;
            tt(this, "orig_opac", t), this.setAttribute("opacity", .33 * t), this.setAttribute("style", "pointer-events: none"), at.push(this)
        }), It(), vt("editor.contextset", x)
    };
    this.clear = function() {
        pt.clear(), It(), o.clearSvgContentElement(), o.current_drawing_ = new svgedit.draw.Drawing(c), o.createLayer("Layer 1"), Z.initGroup(), o.rubberBox = Z.getRubberBandBox(), vt("editor.cleared")
    }, this.linkControlPoints = pt.linkControlPoints, this.getContentElem = function() {
        return c
    }, this.getRootElem = function() {
        return u
    }, this.getSvgPanel = function() {
        return v
    }, this.getWorkarea = function() {
        return h
    };
    var Ot = this.getSelectedElems = function() {
            return N
        },
        Ft = this.getResolution = function() {
            var t = c.getAttribute("width"),
                e = c.getAttribute("height");
            return {
                w: t,
                h: e,
                zoom: b
            }
        };
    this.getZoom = function() {
        return parseFloat(b)
    };
    this.getVersion = function() {
        return "svgcanvas.js ($Rev: 2705 $)"
    }, this.setUiStrings = function(t) {
        $.extend(Y, t.notification)
    }, this.setConfig = function(t) {
        $.extend(a, t)
    }, this.getTitle = function(t) {
        var e;
        if (t = t || N[0]) {
            t = $(t).data("gsvg") || $(t).data("symbol") || t;
            var i = t.childNodes;
            for (e = 0; e < i.length; e++)
                if ("title" == i[e].nodeName) return i[e].textContent;
            return ""
        }
    }, this.setGroupTitle = function(t) {
        var e = N[0];
        e = $(e).data("gsvg") || e;
        var i = $(e).children("title");
        if (t.length)
            if (i.length) {
                var a = i[0];
                a.textContent = t
            } else a = l.createElementNS(r.SVG, "title"), a.textContent = t, $(e).prepend(a);
        else {
            i.nextSibling;
            i.remove()
        }
    }, this.getDocumentTitle = function() {
        return o.getTitle(c)
    }, this.setDocumentTitle = function(t) {
        var e, i = c.childNodes,
            a = !1,
            n = "";
        for (e = 0; e < i.length; e++)
            if ("title" == i[e].nodeName) {
                a = i[e], n = a.textContent;
                break
            }
        a || (a = l.createElementNS(r.SVG, "title"), c.insertBefore(a, c.firstChild)), t.length ? a.textContent = t : a.parentNode.removeChild(a)
    }, this.getEditorNS = function(t) {
        return t && c.setAttribute("xmlns:se", r.SE), r.SE
    }, this.setResolution = function(t, e) {
        var i = Ft(),
            r = i.w,
            a = i.h;
        if ("fit" == t) {
            var n = svgedit.utilities.getStrokedBBox(bt());
            if (!n) return !1;
            var s = bt();
            Et(s);
            var l = [],
                d = [];
            $.each(s, function(t, e) {
                l.push(n.x * -1), d.push(n.y * -1)
            }), o.moveSelectedElements(l, d, !0), It(), t = Math.round(n.width), e = Math.round(n.height)
        }
        if (t != r || e != a) {
            var h = u.suspendRedraw(1e3);
            t = svgedit.units.convertToNum("width", t), e = svgedit.units.convertToNum("height", e), c.setAttribute("width", t), c.setAttribute("height", e), this.contentW = t, this.contentH = e, c.setAttribute("viewBox", [0, 0, t / b, e / b].join(" ")), u.unsuspendRedraw(h), vt("editor.changed", [c])
        }
        return !0
    }, this.getOffset = function() {
        return $(c).attr(["x", "y"])
    }, this.zoomMultipliers = [.01, .05, .1, .2, .5, 1, 2, 5, 10], this.zoomMultiplierDefault = 1, this.zoomMultiplier = this.zoomMultiplierDefault, this.zoomUnitSizeDefault = 100, this.zoomUnitSizeMin = 50, this.setZoom = function(t) {
        function e(e) {
            this.zoomMultiplier = this.zoomMultiplierDefault;
            var i = e / this.zoomUnitSizeDefault | 0,
                r = e * t / i;
            if (r > this.zoomUnitSizeDefault)
                for (var a = this.zoomMultipliers.indexOf(this.zoomMultiplierDefault); a > 0 && !(this.zoomMultipliers[a] * r < this.zoomUnitSizeMin); a--) this.zoomMultiplier = this.zoomMultipliers[a];
            else
                for (var a = this.zoomMultipliers.indexOf(this.zoomMultiplierDefault); a < this.zoomMultipliers.length && !(this.zoomMultipliers[a] * r > this.zoomUnitSizeDefault); a++) this.zoomMultiplier = this.zoomMultipliers[a]
        }
        if (t <= 0) return !1;
        $(g).css("transform", "scale(" + t + ")"), e.call(this, Math.max(this.contentW, this.contentH)), b = t;
        var i = this.contentW,
            r = this.contentH;
        this.updateCanvas(i, r), $.each(N, function(t, e) {
            e && Z.requestSelector(e).resize()
        }), pt.zoomChange(), gt("zoomChanged", t), vt("editor.zoomChanged", t)
    };
    this.getMode = function() {
        return st
    }, this.setMode = function(t) {
        o.cur_properties = N[0] && "text" == N[0].nodeName ? lt : C, st = t, vt("editor.modeChanged", t), gt("clear", {
            elems: N,
            name: t
        })
    };
    this.getColor = function(t) {
        return o.cur_properties[t]
    }, this.setColor = function(t, e, i) {
        function r(t) {
            "g" != t.nodeName && a.push(t)
        }
        C[t] = e, o.cur_properties[t + "_paint"] = {
            type: "solidColor"
        };
        for (var a = [], n = N.length; n--;) {
            var s = N[n];
            s && ("g" == s.tagName ? svgedit.utilities.walkTree(s, r) : "fill" == t ? "polyline" != s.tagName && "line" != s.tagName && a.push(s) : a.push(s))
        }
        a.length > 0 && (i ? Ut(t, e, a) : (Kt(t, e, a), vt("editor.changed", a)))
    };
    var zt = this.setGradient = function(t) {
            if (o.cur_properties[t + "_paint"] && "solidColor" != o.cur_properties[t + "_paint"].type) {
                var e = o[t + "Grad"],
                    i = Rt(e),
                    r = svgedit.utilities.findDefs();
                if (i) e = i;
                else {
                    e = r.appendChild(l.importNode(e, !0)), e.id = ft()
                }
                o.setColor(t, "url(#" + e.id + ")")
            }
        },
        Rt = function(t) {
            for (var e = svgedit.utilities.findDefs(), i = $(e).find("linearGradient, radialGradient"), a = i.length, n = ["r", "cx", "cy", "fx", "fy"]; a--;) {
                var s = i[a];
                if ("linearGradient" == t.tagName) {
                    if (t.getAttribute("x1") != s.getAttribute("x1") || t.getAttribute("y1") != s.getAttribute("y1") || t.getAttribute("x2") != s.getAttribute("x2") || t.getAttribute("y2") != s.getAttribute("y2")) continue
                } else {
                    var o = $(t).attr(n),
                        l = $(s).attr(n),
                        d = !1;
                    if ($.each(n, function(t, e) {
                            o[e] != l[e] && (d = !0)
                        }), d) continue
                }
                var h = t.getElementsByTagNameNS(r.SVG, "stop"),
                    g = s.getElementsByTagNameNS(r.SVG, "stop");
                if (h.length == g.length) {
                    for (var u = h.length; u--;) {
                        var c = h[u],
                            f = g[u];
                        if (c.getAttribute("offset") != f.getAttribute("offset") || c.getAttribute("stop-opacity") != f.getAttribute("stop-opacity") || c.getAttribute("stop-color") != f.getAttribute("stop-color")) break
                    }
                    if (u == -1) return s
                }
            }
            return null
        };
    this.setPaint = function(t, e) {
            var i = new $.jGraduate.Paint(e);
            switch (this.setPaintOpacity(t, i.alpha / 100, !0), o.cur_properties[t + "_paint"] = i, i.type) {
                case "solidColor":
                    this.setColor(t, "none" != i.solidColor ? "#" + i.solidColor : "none");
                    break;
                case "linearGradient":
                case "radialGradient":
                    o[t + "Grad"] = i[i.type], zt(t)
            }
        }, this.setStrokePaint = function(t) {
            this.setPaint("stroke", t)
        }, this.setFillPaint = function(t) {
            this.setPaint("fill", t)
        }, this.getStrokeWidth = function() {
            return o.cur_properties.stroke_width
        }, this.setStrokeWidth = function(t, e) {
            return 0 == t && ["line", "path"].indexOf(st) >= 0 ? void o.setStrokeWidth(1) : (o.cur_properties.stroke_width = t, void(e.length > 0 && (Ut("stroke-width", t, e), vt("editor.changed", N))))
        }, this.setStrokeAttr = function(t, e) {
            C[t.replace("-", "_")] = e;
            for (var i = [], r = N.length; r--;) {
                var a = N[r];
                a && ("g" == a.tagName ? svgedit.utilities.walkTree(a, function(t) {
                    "g" != t.nodeName && i.push(t)
                }) : i.push(a))
            }
            i.length > 0 && (Kt(t, e, i), vt("editor.changed", N))
        }, this.getStyle = function() {
            return C
        }, this.getOpacity = function() {
            return C.opacity
        }, this.setOpacity = function(t) {
            C.opacity = t, Kt("opacity", t)
        }, this.getFillOpacity = function() {
            return C.fill_opacity
        }, this.getStrokeOpacity = function() {
            return C.stroke_opacity
        }, this.setCurStyle = function(t) {
            var e = this.getCurStyle();
            $.extend(e, t), C = e
        }, this.getCurStyle = function() {
            return C
        }, this.setPaintOpacity = function(t, e, i) {
            C[t + "_opacity"] = e, i ? Ut(t + "-opacity", e) : Kt(t + "-opacity", e)
        }, this.getPaintOpacity = function(t) {
            return "fill" === t ? this.getFillOpacity() : this.getStrokeOpacity()
        }, this.getBlur = function(t) {
            var e = 0;
            if (t) {
                var i = t.getAttribute("filter");
                if (i) {
                    var r = svgedit.utilities.getElem(t.id + "_blur");
                    r && (e = r.firstChild.getAttribute("stdDeviation"))
                }
            }
            return e
        },
        function() {
            function t() {
                e = null, i = null
            }
            var e = null,
                i = null,
                r = !1;
            o.setBlurNoUndo = function(t) {
                if (!i) return void o.setBlur(t);
                if (0 === t) Ut("filter", ""), r = !0;
                else {
                    var e = N[0];
                    r && Ut("filter", "url(#" + e.id + "_blur)"), svgedit.browser.isWebkit() && (console.log("e", e), e.removeAttribute("filter"), e.setAttribute("filter", "url(#" + e.id + "_blur)")), Ut("stdDeviation", t, [i.firstChild]), o.setBlurOffsets(i, t)
                }
            }, o.setBlurOffsets = function(t, e) {
                e > 3 ? svgedit.utilities.assignAttributes(t, {
                    x: "-50%",
                    y: "-50%",
                    width: "200%",
                    height: "200%"
                }, 100) : svgedit.browser.isWebkit() || (t.removeAttribute("x"), t.removeAttribute("y"), t.removeAttribute("width"), t.removeAttribute("height"))
            }, o.setBlur = function(r, a) {
                if (e) return void t();
                var n = N[0],
                    s = n.id;
                if (i = svgedit.utilities.getElem(s + "_blur"), r -= 0, i) 0 === r && (i = null);
                else {
                    var l = A({
                        element: "feGaussianBlur",
                        attr: {
                            "in": "SourceGraphic",
                            stdDeviation: r
                        }
                    });
                    i = A({
                        element: "filter",
                        attr: {
                            id: s + "_blur"
                        }
                    }), i.appendChild(l), svgedit.utilities.findDefs().appendChild(i)
                }({
                    filter: n.getAttribute("filter")
                });
                return 0 === r ? void n.removeAttribute("filter") : (Kt("filter", "url(#" + s + "_blur)"), o.setBlurOffsets(i, r), e = !0, o.undoMgr.beginUndoableChange("stdDeviation", [i ? i.firstChild : null]), void(a && (o.setBlurNoUndo(r), t())))
            }
        }(), this.setLocked = function(t, e) {
            e = e || N[0], null != e && null == N[1] && ($(e).toggleClass("locked", t), Z.requestSelector(e).showGrips(!0), gt("clear", {}))
        }, this.getBold = function() {
            var t = N[0];
            return null != t && "text" == t.tagName && null == N[1] && "bold" == t.getAttribute("font-weight")
        }, this.setBold = function(t) {
            var e = N[0];
            null != e && "text" == e.tagName && null == N[1] && Kt("font-weight", t ? "bold" : "normal")
        }, this.getItalic = function() {
            var t = N[0];
            return null != t && "text" == t.tagName && null == N[1] && "italic" == t.getAttribute("font-style")
        }, this.setItalic = function(t) {
            var e = N[0];
            null != e && "text" == e.tagName && null == N[1] && Kt("font-style", t ? "italic" : "normal")
        }, this.getFontFamily = function() {
            return lt.font_family
        }, this.setFontFamily = function(t) {
            lt.font_family = t, Kt("font-family", t)
        }, this.setFontColor = function(t) {
            lt.fill = t, Kt("fill", t)
        }, this.getFontColor = function() {
            return lt.fill
        }, this.getFontSize = function() {
            return lt.font_size
        }, this.setFontSize = function(t) {
            lt.font_size = t, Kt("font-size", t)
        }, this.setImageURL = function(t) {
            var e = N[0];
            if (e) {
                var i = $(e).attr(["width", "height"]),
                    r = !i.width || !i.height,
                    a = P(e);
                if (a !== t) r = !0;
                else if (!r) return;
                G(e, t), r && $(new Image).load(function() {
                    $(e).attr(["width", "height"]);
                    $(e).attr({
                        width: this.width,
                        height: this.height
                    }), Z.requestSelector(e).resize(), vt("editor.changed", [e])
                }).attr("src", t)
            }
        }, this.setLinkURL = function(t, e) {
            if (e = e || N[0]) {
                if ("a" !== e.tagName) {
                    var i = $(e).parents("a");
                    if (!i.length) return;
                    e = i[0]
                }
                var r = P(e);
                r !== t && G(e, t)
            }
        }, this.setRectRadius = function(t) {
            var e = N[0];
            if (null != e && "rect" == e.tagName) {
                var i = e.getAttribute("rx");
                i != t && (e.setAttribute("rx", t), e.setAttribute("ry", t), X(new svgedit.history.ChangeElementCommand(e, {
                    rx: i,
                    ry: i
                }, "Radius")), vt("editor.changed", [e]))
            }
        }, this.makeHyperlink = function(t) {
            o.groupSelectedElements("a", t)
        }, this.removeHyperlink = function() {
            o.ungroupSelectedElement()
        }, this.setSegType = function(t) {
            pt.setSegType(t)
        }, this.convertToPath = function(t) {
            if (null == t) {
                return void $.each(N, function(t, e) {
                    e && o.convertToPath(e)
                })
            }
            var e = {
                    fill: C.fill,
                    "fill-opacity": C.fill_opacity,
                    stroke: C.stroke,
                    "stroke-width": C.stroke_width,
                    "stroke-dasharray": C.stroke_dasharray,
                    "stroke-linejoin": C.stroke_linejoin,
                    "stroke-linecap": C.stroke_linecap,
                    "stroke-opacity": C.stroke_opacity,
                    opacity: C.opacity,
                    visibility: "hidden"
                },
                i = svgedit.path.convertToPath(t, e),
                r = t.id,
                a = t.getAttribute("transform");
            if (a) {
                var n = svgedit.transformlist.getTransformList(i);
                svgedit.math.hasMatrixTransform(n) && pt.resetOrientation(i)
            }
            t.nextSibling, t.parentNode;
            It(), t.parentNode.removeChild(t), i.setAttribute("id", r), i.removeAttribute("visibility"), Et([i], !0)
        };
    var Ut = this.changeSelectedAttributeNoUndo = function(t, e, i) {
            var r = u.suspendRedraw(1e3);
            "pathedit" == st && pt.moveNode(t, e), i = i || N;
            for (var a = i.length, n = ["g", "polyline", "path"], s = ["transform", "opacity", "filter"]; a--;) {
                var l = i[a];
                if (null != l)
                    if (("x" === t || "y" === t) && n.indexOf(l.tagName) >= 0) {
                        var d = svgedit.utilities.getStrokedBBox([l]),
                            h = "x" === t ? e - d.x : 0,
                            g = "y" === t ? e - d.y : 0;
                        o.moveSelectedElements(h * b, g * b, !0)
                    } else {
                        "g" === l.tagName && s.indexOf(t) >= 0;
                        var c = "#text" === t ? l.textContent : l.getAttribute(t);
                        if (null == c && (c = ""), c !== String(e)) {
                            if ("#text" == t) {
                                var f = (new INKIVE.Text.Textarea).setDOM(l);
                                f.text.setValues({
                                    textContent: e
                                }), f.render(o), /rotate/.test(l.getAttribute("transform")) && (l = Ct(l))
                            } else "#href" == t ? G(l, e) : l.setAttribute(t, e);
                            svgedit.browser.isGecko() && "text" === l.nodeName && /rotate/.test(l.getAttribute("transform")) && (0 === String(e).indexOf("url") || ["font-size", "font-family", "x", "y"].indexOf(t) >= 0 && l.textContent) && (l = Ct(l)), N.indexOf(l) >= 0 && setTimeout(function() {
                                l.parentNode && Z.requestSelector(l).resize()
                            }, 0);
                            var v = svgedit.utilities.getRotationAngle(l);
                            if (0 != v && "transform" != t)
                                for (var p = svgedit.transformlist.getTransformList(l), m = p.numberOfItems; m--;) {
                                    var y = p.getItem(m);
                                    if (4 == y.type) {
                                        p.removeItem(m);
                                        var x = svgedit.utilities.getBBox(l),
                                            S = svgedit.math.transformPoint(x.x + x.width / 2, x.y + x.height / 2, svgedit.math.transformListToTransform(p).matrix),
                                            C = S.x,
                                            A = S.y,
                                            w = u.createSVGTransform();
                                        w.setRotate(v, C, A), p.insertItemBefore(w, m);
                                        break
                                    }
                                }
                        }
                    }
            }
            u.unsuspendRedraw(r)
        },
        Kt = this.changeSelectedAttribute = function(t, e, i) {
            i = i || N, o.undoMgr.beginUndoableChange(t, i);
            i.length;
            Ut(t, e, i)
        };
    this.deleteSelectedElements = function() {
        if ("clipperImage" != y().getCurrentLayer().getAttribute("class")) {
            var t, e = N.length,
                i = [];
            for (t = 0; t < e; ++t) {
                var r = N[t];
                if (null == r) break;
                if (vt("loading.hide", r), $(r).hasClass("layoutBox")) {
                    var a = r.parentNode,
                        n = (r.nextSibling, $(r.getAttribute("clip-path").match(/url\([\"\']?([^\)\"\']+)/)[1]).get(0)),
                        s = (n ? n.parentNode : null,
                            null === gt("deleteLayout", {
                                elem: r
                            }));
                    s && It()
                } else {
                    var a = r.parentNode,
                        o = r;
                    Z.releaseSelector(o), svgedit.path.removePath_(o.id), "a" === a.tagName && 1 === a.childNodes.length && (o = a, a = a.parentNode);
                    o.nextSibling, a.removeChild(o);
                    i.push(r), N[t] = null
                }
            }
            vt("editor.changed", i), It()
        }
    }, this.cutSelectedElements = function() {
        var t, e = N.length,
            i = [];
        for (t = 0; t < e; ++t) {
            var r = N[t];
            if (null == r) break;
            var a = r.parentNode,
                n = r;
            Z.releaseSelector(n), svgedit.path.removePath_(n.id);
            n.nextSibling, a.removeChild(n);
            i.push(r), N[t] = null
        }
        vt("editor.changed", i), It(), o.clipBoard = i
    }, this.getAllClipPaths = function(t) {
        var e = this,
            i = [];
        return $.each(t, _.bind(function(t, r) {
            var a = r.getAttribute("clip-path");
            if ("g" === r.nodeName.toLowerCase() && $(r).hasClass("group")) i = i.concat(e.getAllClipPaths($(r).children()));
            else if (a) {
                var n = $(this.getClipPathId(a));
                n && i.push(n.get(0))
            }
        }, this)), i
    }, this.getClipPathId = function(t, e) {
        return t = t.replace("url(", "").replace(")", "").replace(/"/g, ""), e ? t.replace("#", "") : t
    }, this.updateClipPaths = function(t) {
        var e = this;
        $.each(t, _.bind(function(t, i) {
            if (svgedit.utilities.getElem(i.getAttribute("data-old-id")) || (i.id = i.getAttribute("data-old-id")), "g" === i.nodeName.toLowerCase() && $(i).hasClass("group")) e.updateClipPaths($(i).children());
            else if (i.getAttribute("clip-path")) {
                var r = $(c).find('[data-old-id="' + this.getClipPathId(i.getAttribute("clip-path"), !0) + '"]');
                r.removeAttr("data-old-id"), r.attr("id", "clip_" + i.id), i.setAttribute("clip-path", "url(#clip_" + i.id + ")")
            }
            i.removeAttribute("data-old-id")
        }, this))
    }, this.copySelectedElements = function() {
        function t(t) {
            return !INKIVE.RestrictionsFacade.canChange(t, "duplication")
        }
        if ("clipperImage" != y().getCurrentLayer().getAttribute("class") && !_.any(N, t)) {
            var e = this.getAllClipPaths(N);
            o.clipBoard = N.concat(e)
        }
    }, this.pasteElements = function(t, e, i) {
        if ("clipperImage" != y().getCurrentLayer().getAttribute("class")) {
            var r = o.clipBoard,
                a = r.length;
            if (a) {
                for (var n = []; a--;) {
                    var s = r[a];
                    if (s && (INKIVE.RestrictionsFacade.canChange(s, "add") || INKIVE.RestrictionsFacade.canChange(s, "duplication"))) {
                        var l = ut(s);
                        if ("clippath" == s.nodeName.toLowerCase()) {
                            var d, h = c.getElementsByTagName("defs");
                            if (h && h.length) {
                                for (var g = 0; g < h.length; g++)
                                    if (h[g].children.length) {
                                        d = h[g];
                                        break
                                    }
                                d || (d = h[h.length - 1])
                            } else d = document.createElementNS(svgedit.NS.SVG, "defs"), c.firstChild ? c.insertBefore(d, c.firstChild.nextSibling) : c.appendChild(d);
                            d.appendChild(l)
                        } else this.updateClipPaths([l]), n.push(l), (x || y().getCurrentLayer()).appendChild(l)
                    }
                }
                if (_t(n), "context-menu" === t) {
                    var u = svgedit.utilities.getStrokedBBox(n),
                        f = INKIVE.EditorFacade.handle("zoom", "get");
                    o.moveSelectedElements(-u.x * f, -u.y * f, !1), o.moveSelectedElements(e, i, !1)
                } else if ("in_place" !== t) {
                    var v, p, m = svgedit.utilities.getStrokedBBox(n);
                    t ? "point" === t && (v = e, p = i) : (v = o.lastClickPoint.x, p = o.lastClickPoint.y);
                    var b = v - (m.x + m.width / 2),
                        S = p - (m.y + m.height / 2);
                    "move" === t && (b = e, S = i);
                    var C = [],
                        N = [];
                    $.each(n, function(t, e) {
                        C.push(b), N.push(S)
                    }), o.moveSelectedElements(C, N, !1)
                }
                o.clipBoard = [], o.runExtensions("selectedChanged", {}), vt("editor.changed", n)
            }
        }
    }, this.groupSelectedElements = function(t, e) {
        function i(t) {
            var e = svgedit.utilities.getBBox(t),
                i = o.addSvgElementFromJson({
                    element: "title",
                    curStyles: !1,
                    attr: {}
                });
            i.textContent = Math.floor4(e.x) + " " + Math.floor4(e.y) + " " + Math.floor4(e.width) + " " + Math.floor4(e.height), $(i).addClass("coords"), t.appendChild(i)
        }
        t || (t = "g");
        var r = "";
        switch (t) {
            case "a":
                r = "Make hyperlink";
                var a = "";
                arguments.length > 1 && (a = e);
                break;
            default:
                t = "g", r = "Group Elements"
        }
        var n = A({
            element: t,
            attr: {
                id: ft()
            }
        });
        "a" === t && G(n, a);
        for (var s = N.length; s--;) {
            var l = N[s];
            if ($(l).removeClass("element"), null != l) {
                "a" === l.parentNode.tagName && 1 === l.parentNode.childNodes.length && (l = l.parentNode);
                l.nextSibling, l.parentNode;
                n.appendChild(l)
            }
        }
        "a" === t && i(n), $(n).addClass("element group"), _t([n], !0)
    };
    var Ht = this.pushGroupProperties = function(t, e) {
        var i, r, a, n = t.childNodes,
            s = n.length,
            l = t.getAttribute("transform"),
            d = svgedit.transformlist.getTransformList(t),
            h = svgedit.math.transformListToTransform(d).matrix,
            g = 0,
            c = svgedit.utilities.getRotationAngle(t),
            f = $(t).attr(["filter", "opacity"]);
        for (g = 0; g < s; g++) {
            var v = n[g];
            if (1 === v.nodeType) {
                if (null !== f.opacity && 1 !== f.opacity) {
                    var p = (v.getAttribute("opacity") || 1, Math.round((v.getAttribute("opacity") || 1) * f.opacity * 100) / 100);
                    Kt("opacity", p, [v])
                }
                if (f.filter) {
                    var m = this.getBlur(v),
                        y = m;
                    r || (r = this.getBlur(t)), m ? m = Number(r) + Number(m) : 0 === m && (m = r), y ? i = svgedit.utilities.getRefElem(v.getAttribute("filter")) : i ? (i = ut(i), svgedit.utilities.findDefs().appendChild(i)) : i = svgedit.utilities.getRefElem(f.filter);
                    var b = "feGaussianBlur" === i.firstChild.tagName ? "blur" : "filter";
                    i.id = v.id + "_" + b, Kt("filter", "url(#" + i.id + ")", [v]), m && (Kt("stdDeviation", m, [i.firstChild]), o.setBlurOffsets(i, m))
                }
                var x = svgedit.transformlist.getTransformList(v);
                if (~v.tagName.indexOf("Gradient") && (x = null), x && "defs" !== v.tagName && d.numberOfItems) {
                    if (c && 1 == d.numberOfItems) {
                        var S = d.getItem(0).matrix,
                            C = u.createSVGMatrix(),
                            N = svgedit.utilities.getRotationAngle(v);
                        N && (C = x.getItem(0).matrix);
                        var A = svgedit.utilities.getBBox(v),
                            w = svgedit.math.transformListToTransform(x).matrix,
                            I = svgedit.math.transformPoint(A.x + A.width / 2, A.y + A.height / 2, w),
                            E = c + N,
                            _ = u.createSVGTransform();
                        _.setRotate(E, I.x, I.y);
                        var k = svgedit.math.matrixMultiply(S, C, _.matrix.inverse());
                        if (N && x.removeItem(0), E && (x.numberOfItems ? x.insertItemBefore(_, 0) : x.appendItem(_)), k.e || k.f) {
                            var T = u.createSVGTransform();
                            T.setTranslate(k.e, k.f), x.numberOfItems ? x.insertItemBefore(T, 0) : x.appendItem(T)
                        }
                    } else {
                        var L = v.getAttribute("transform");
                        a = {}, a.transform = L || "";
                        var B = u.createSVGTransform(),
                            P = svgedit.math.transformListToTransform(x).matrix,
                            G = P.inverse(),
                            V = svgedit.math.matrixMultiply(G, h, P);
                        B.setMatrix(V), x.appendItem(B)
                    }
                    svgedit.recalculate.recalculateDimensions(v)
                }
            }
        }
        l && (a = {}, a.transform = l, t.setAttribute("transform", ""), t.removeAttribute("transform"))
    };
    this.ungroupSelectedElement = function() {
        var t = N[0];
        if ($(t).data("gsvg") || $(t).data("symbol")) return void Vt(t);
        if ("use" === t.tagName) {
            var e = svgedit.utilities.getElem(P(t).substr(1));
            return $(t).data("symbol", e).data("ref", e), void Vt(t)
        }
        var i = $(t).parents("a");
        if (i.length && (t = i[0]), "g" === t.tagName || "a" === t.tagName) {
            Ht(t, !0);
            for (var r = t.parentNode, a = t.nextSibling, n = new Array(t.childNodes.length), s = 0; t.firstChild;) {
                var o = t.firstChild,
                    l = (o.nextSibling, o.parentNode);
                "title" !== o.tagName ? n[s++] = o = r.insertBefore(o, a) : l.removeChild(o)
            }
            It();
            t.nextSibling;
            t = r.removeChild(t), $(n).addClass("element"), Et(n)
        }
    }, this.moveToTopSelectedElement = function() {
        var t = N[0];
        if (null != t) {
            var e = t,
                i = e.parentNode,
                r = e.nextSibling;
            e = e.parentNode.appendChild(e), r != e.nextSibling && (X(new svgedit.history.MoveElementCommand(e, r, i, "top")), vt("editor.changed", [e]))
        }
    }, this.moveToBottomSelectedElement = function() {
        var t = N[0];
        if (null != t) {
            var e = t,
                i = e.parentNode,
                r = e.nextSibling,
                a = e.parentNode.firstChild;
            "title" == a.tagName && (a = a.nextSibling), "defs" == a.tagName && (a = a.nextSibling), e = e.parentNode.insertBefore(e, a), r != e.nextSibling && (X(new svgedit.history.MoveElementCommand(e, r, i, "bottom")), vt("editor.changed", [e]))
        }
    }, this.moveUpDownSelected = function(t) {
        var e = N[0];
        if (e) {
            o.curBBoxes = [];
            var i, r, a = svgedit.utilities.getStrokedBBox([e]),
                n = $(yt(a)).toArray();
            "Down" == t && n.reverse(), $.each(n, function() {
                return r ? (i = this, !1) : void(this == e && (r = !0))
            });
            var s = e;
            if (i || (i = "Down" == t ? s.previousSibling : s.nextSibling)) {
                var l = s.parentNode,
                    d = s.nextSibling;
                $(i)["Down" == t ? "before" : "after"](s), d != s.nextSibling && (X(new svgedit.history.MoveElementCommand(s, d, l, "Move " + t)), vt("editor.changed", [s]))
            }
        }
    }, this.moveSelectedElements = function(t, e, i) {
        t.constructor != Array && (t /= b, e /= b), i = "undefined" == typeof i || i;
        for (var r = new svgedit.history.BatchCommand("position"), a = N.length; a--;) {
            var n = N[a];
            if (null != n) {
                var s = u.createSVGTransform(),
                    o = svgedit.transformlist.getTransformList(n),
                    l = t.constructor == Array;
                l && s.setTranslate(t[a], e[a]), l || s.setTranslate(t, e), o.numberOfItems && o.insertItemBefore(s, 0), o.numberOfItems || o.appendItem(s);
                var d = svgedit.recalculate.recalculateDimensions(n);
                d && r.addSubCommand(d), Z.requestSelector(n).resize()
            }
        }
        if (!r.isEmpty()) return i && X(r), vt("editor.changed", N), r
    }, this.cloneSelectedElements = function(t, e) {
        o.copySelectedElements(), o.pasteElements("move", t, e), o.clipBoard = []
    }, this.alignSelectedElements = function(t, e) {
        var i, r, a = [],
            n = Number.MAX_VALUE,
            s = Number.MIN_VALUE,
            l = Number.MAX_VALUE,
            d = Number.MIN_VALUE,
            h = Number.MIN_VALUE,
            g = Number.MIN_VALUE,
            u = N.length;
        if (u) {
            for (i = 0; i < u && null != N[i]; ++i) switch (r = N[i], a[i] = svgedit.utilities.getStrokedBBox([r]), e) {
                case "smallest":
                    (("l" == t || "c" == t || "r" == t) && (h == Number.MIN_VALUE || h > a[i].width) || ("t" == t || "m" == t || "b" == t) && (g == Number.MIN_VALUE || g > a[i].height)) && (n = a[i].x, l = a[i].y, s = a[i].x + a[i].width, d = a[i].y + a[i].height, h = a[i].width, g = a[i].height);
                    break;
                case "largest":
                    (("l" == t || "c" == t || "r" == t) && (h == Number.MIN_VALUE || h < a[i].width) || ("t" == t || "m" == t || "b" == t) && (g == Number.MIN_VALUE || g < a[i].height)) && (n = a[i].x, l = a[i].y, s = a[i].x + a[i].width, d = a[i].y + a[i].height, h = a[i].width, g = a[i].height);
                    break;
                default:
                    a[i].x < n && (n = a[i].x), a[i].y < l && (l = a[i].y), a[i].x + a[i].width > s && (s = a[i].x + a[i].width), a[i].y + a[i].height > d && (d = a[i].y + a[i].height)
            }
            "page" == e && (n = 0, l = 0, s = o.contentW, d = o.contentH);
            var c = new Array(u),
                f = new Array(u);
            for (i = 0; i < u && null != N[i]; ++i) {
                r = N[i];
                var v = a[i];
                switch (c[i] = 0, f[i] = 0, t) {
                    case "l":
                        c[i] = n - v.x;
                        break;
                    case "c":
                        c[i] = (n + s) / 2 - (v.x + v.width / 2);
                        break;
                    case "r":
                        c[i] = s - (v.x + v.width);
                        break;
                    case "t":
                        f[i] = l - v.y;
                        break;
                    case "m":
                        f[i] = (l + d) / 2 - (v.y + v.height / 2);
                        break;
                    case "b":
                        f[i] = d - (v.y + v.height)
                }
            }
            this.moveSelectedElements(c, f)
        }
    }, this.contentW = Ft().w, this.contentH = Ft().h, this.updateCanvas = function(t, e, i) {
        i = $.extend(i, {
            margin: !0
        }), t = parseFloat(t || a.dimensions[0]), e = parseFloat(e || a.dimensions[1]);
        var r = b,
            n = $(d).width(),
            o = $(d).height();
        n < t * r ? i.margin && (t += a.margin[0]) : t = n / r, o < e * r ? i.margin && (e += a.margin[1]) : e = o / r, $(s).css("width", t * r), $(s).css("height", e * r), $(g).css("width", t), $(g).css("height", e), u.setAttribute("width", t), u.setAttribute("height", e);
        var l = $("#canvasBackground")[0],
            h = c.getAttribute("x"),
            v = c.getAttribute("y"),
            p = t / 2 - this.contentW / 2,
            m = e / 2 - this.contentH / 2,
            y = $(".canvasCliper").get(0);
        svgedit.utilities.assignAttributes(c, {
            width: this.contentW,
            height: this.contentH,
            x: p,
            y: m
        }), $(y).attr("x", 0), $(y).attr("y", 0), $(y).attr("width", this.contentW), $(y).attr("height", this.contentH), $(f).css("width", t * r), $(f).css("height", e * r), svgedit.utilities.assignAttributes(l, {
            width: c.getAttribute("width"),
            height: c.getAttribute("height"),
            x: p,
            y: m
        });
        var x = svgedit.utilities.getElem("background_image");
        x && svgedit.utilities.assignAttributes(x, {
            width: "100%",
            height: "100%"
        });
        var S = $("#svgcontent .background rect")[0];
        return S && svgedit.utilities.assignAttributes(S, {
            width: "100%",
            height: "100%"
        }), Z.selectorParentGroup.setAttribute("transform", "translate(" + p * b + "," + m * b + ")"), gt("canvasUpdated", {
            new_x: p,
            new_y: m,
            old_x: h,
            old_y: v,
            d_x: p - h,
            d_y: m - v
        }), {
            x: p,
            y: m,
            old_x: h,
            old_y: v,
            d_x: p - h,
            d_y: m - v
        }
    }, this.cycleElement = function(t) {
        var e, i = N[0],
            r = !1,
            a = bt(x || y().getCurrentLayer());
        if (a.length) {
            if (null == i) e = t ? a.length - 1 : 0, r = a[e];
            else
                for (var n = a.length; n--;)
                    if (a[n] == i) {
                        e = t ? n - 1 : n + 1, e >= a.length ? e = 0 : e < 0 && (e = a.length - 1), r = a[e];
                        break
                    }
            _t([r], !0), vt("editor.selected", N)
        }
    }, this.clear(), this.getPrivateMethods = function() {
        var t = {
            addCommandToHistory: X,
            setGradient: zt,
            addSvgElementFromJson: A,
            assignAttributes: D,
            BatchCommand: q,
            call: vt,
            ChangeElementCommand: W,
            copyElem: ut,
            ffClone: Ct,
            findDefs: L,
            findDuplicateGradient: Rt,
            getElem: M,
            getId: ct,
            getIntersectionList: yt,
            getMouseTarget: $t,
            getNextId: ft,
            getPathBBox: V,
            getUrlFromAttr: B,
            hasMatrixTransform: k,
            identifyLayers: Mt,
            InsertElementCommand: H,
            isIdentity: svgedit.math.isIdentity,
            logMatrix: wt,
            matrixMultiply: E,
            MoveElementCommand: K,
            preventClickDefault: Tt,
            recalculateAllSelectedDimensions: Nt,
            recalculateDimensions: z,
            remapElement: F,
            RemoveElementCommand: j,
            removeUnusedDefElems: Lt,
            round: mt,
            runExtensions: gt,
            sanitizeSvg: U,
            SVGEditTransformList: svgedit.transformlist.SVGTransformList,
            transformBox: svgedit.math.transformBox,
            transformListToTransform: T,
            transformPoint: I,
            walkTree: svgedit.utilities.walkTree
        };
        return t
    }
};
! function() {
    "use strict";
    svgedit.history = svgedit.history || {}, svgedit.history.BatchCommand = function(t) {
        this.text = t || "Batch Command", this.stack = []
    }, svgedit.history.BatchCommand.type = function() {
        return "svgedit.history.BatchCommand"
    }, svgedit.history.BatchCommand.prototype.type = svgedit.history.BatchCommand.type, svgedit.history.BatchCommand.prototype.getText = function() {
        return this.text
    }, svgedit.history.BatchCommand.prototype.apply = function(t) {
        for (var e, s = 0, i = this.stack.length; s < i; ++s) this.stack[s] instanceof svgedit.history.ChangeElementCommand && this.stack[s].elem && "object" == typeof svgedit.select.getSelectorManager().selectorMap[this.stack[s].elem.id] && (e = this.stack[s]), this.stack[s].apply(t);
        e && (svgedit.select.getSelectorManager().requestSelector(e.elem).resize(), e.svgCanvas.runExtensions("selectedChanged", {
            elems: [this.elem]
        })), t && t.handleHistoryEvent(svgedit.history.HistoryEventTypes.AFTER_APPLY, this)
    }, svgedit.history.BatchCommand.prototype.unapply = function(t) {
        for (var e, s = this.stack.length - 1; s >= 0; s--) this.stack[s] instanceof svgedit.history.ChangeElementCommand && this.stack[s].elem && "object" == typeof svgedit.select.getSelectorManager().selectorMap[this.stack[s].elem.id] && (e = this.stack[s]), this.stack[s].unapply(t);
        e && (svgedit.select.getSelectorManager().requestSelector(e.elem).resize(), e.svgCanvas.runExtensions("selectedChanged", {
            elems: [this.elem]
        })), t && t.handleHistoryEvent(svgedit.history.HistoryEventTypes.AFTER_UNAPPLY, this)
    }, svgedit.history.BatchCommand.prototype.elements = function() {
        for (var t = [], e = this.stack.length; e--;)
            for (var s = this.stack[e].elements(), i = s.length; i--;) t.indexOf(s[i]) == -1 && t.push(s[i]);
        return t
    }, svgedit.history.BatchCommand.prototype.addSubCommand = function(t) {
        this.stack.push(t)
    }, svgedit.history.BatchCommand.prototype.isEmpty = function() {
        return 0 === this.stack.length
    }
}();
! function() {
    "use strict";

    function e(e, t, s) {
        if (t) a[s] ? a[s].call(this, t) : s.match(/^#set_/) ? a["#set"].call(this, t, s) : a["default"].call(this, s, t, e[s]);
        else switch (s) {
            case "#bullets":
                a["#bullets"].call(this, t);
                break;
            case "#text-anchor":
                a["#text-anchor"].call(this, t);
                break;
            case "#text-decoration":
                a["#text-decoration"].call(this, t);
                break;
            case "#font-weight":
                a["#font-weight"].call(this, t);
                break;
            case "#font-style":
                a["#font-style"].call(this, t);
                break;
            case "#word-spacing":
                a["#word-spacing"].call(this, t);
                break;
            case "#line-spacing":
                a["#line-spacing"].call(this, t);
                break;
            case "#letter-spacing":
                a["#letter-spacing"].call(this, t);
                break;
            case "#font-size":
                a["#font-size"].call(this, t);
                break;
            case "#font-family":
                a["#font-family"].call(this, t);
                break;
            case "#stroke":
                a["#stroke"].call(this, t);
                break;
            default:
                a.removeAttribute.call(this, s)
        }
    }

    function t(t, n, i) {
        return document.body.contains(this.elem) || s.call(this), _.each(t, _.bind(e, this, n)), "" === t.transform && a.background.call(this), $(this.elem).is("rect.layoutClipper") && a.layoutClipper.call(this), svgedit.transformlist.removeElementFromListMap(this.elem), i && i.handleHistoryEvent(svgedit.history.HistoryEventTypes.AFTER_APPLY, this), !0
    }

    function s() {
        var e = $(this.elem).data("old-id"),
            t = _.find($("#svgcontent .element"), function(t) {
                return t.id === e
            });
        this.elem = t || this.elem
    }
    svgedit.history = svgedit.history || {};
    var a = {
        "#href": function(e) {
            svgedit.utilities.setHref(this.elem, e)
        },
        "#fill": function(e) {
            INKIVE.Helpers.setColor(this.elem, e, "fill")
        },
        "#stroke": function(e) {
            INKIVE.Helpers.setColor(this.elem, e, "stroke")
        },
        "#set": function(e, t) {
            INKIVE.Helpers.setColor(this.elem, e, t.replace("#", ""))
        },
        "#layout-delete": function(e) {
            _.each(["xlink:href", "x", "y", "width", "height"], function(t) {
                this.elem.setAttribute(t, e[t])
            }, this);
            var t = new Date,
                s = 4e3;
            t - this.storedTime < s && this.svgCanvas && this.svgCanvas.call("advice.show", "undo-unlocked-layout-image")
        },
        "#bullets": function(e) {
            var t = (new INKIVE.Text.Textarea).setDOM(this.elem);
            t.text.setValues({
                bullets: e
            }), t.render(this.svgCanvas)
        },
        "#text-anchor": function(e) {
            var t = (new INKIVE.Text.Textarea).setDOM(this.elem);
            t.text.setValues({
                text_anchor: e
            }), t.render(this.svgCanvas)
        },
        "#text-decoration": function(e) {
            var t = (new INKIVE.Text.Textarea).setDOM(this.elem);
            t.text.setValues({
                text_decoration: e
            }), t.render(this.svgCanvas)
        },
        "#font-weight": function(e) {
            var t = (new INKIVE.Text.Textarea).setDOM(this.elem);
            t.text.setValues({
                font_weight: e
            }), t.render(this.svgCanvas)
        },
        "#font-style": function(e) {
            var t = (new INKIVE.Text.Textarea).setDOM(this.elem);
            t.text.setValues({
                font_style: e
            }), t.render(this.svgCanvas)
        },
        "#font-family": function(e) {
            var t = (new INKIVE.Text.Textarea).setDOM(this.elem);
            t.text.setValues({
                font_family: e
            }), t.render(this.svgCanvas)
        },
        "#font-size": function(e) {
            var t = (new INKIVE.Text.Textarea).setDOM(this.elem);
            t.text.setValues({
                font_size: e
            }), t.render(this.svgCanvas)
        },
        "#word-spacing": function(e) {
            var t = (new INKIVE.Text.Textarea).setDOM(this.elem);
            t.text.setValues({
                word_spacing: e
            }), t.render(this.svgCanvas)
        },
        "#letter-spacing": function(e) {
            var t = (new INKIVE.Text.Textarea).setDOM(this.elem);
            t.text.setValues({
                letter_spacing: e
            }), t.render(this.svgCanvas)
        },
        "#line-spacing": function(e) {
            var t = (new INKIVE.Text.Textarea).setDOM(this.elem);
            t.text.setValues({
                line_spacing: e
            }), t.render(this.svgCanvas)
        },
        removeAttribute: function(e) {
            this.elem.setAttribute(e, ""), this.elem.removeAttribute(e)
        },
        background: function() {
            var e = svgedit.utilities.getRotationAngle(this.elem);
            if (e) {
                var t = this.elem.getBBox(),
                    s = t.x + t.width / 2,
                    a = t.y + t.height / 2,
                    n = ["rotate(", e, " ", s, ",", a, ")"].join("");
                n != this.elem.getAttribute("transform") && this.elem.setAttribute("transform", n)
            }
        },
        layoutClipper: function() {
            var e = $(this.elem).closest("clippath").attr("id"),
                t = $('image[clip-path="url(#' + e + ')"]')[0];
            t && $(document).trigger("editor.runExtensions", {
                name: "setLayoutBoxCoord",
                data: {
                    layoutBox: t,
                    bbox: this.elem.getBBox()
                }
            })
        },
        "default": function(e, t, s) {
            if (this.elem.setAttribute(e, t), this.elem.parentElement && $(this.elem.parentElement).is("g.textarea")) {
                var a = (new INKIVE.Text.Textarea).setDOM(this.elem.parentElement);
                a.render(this.svgCanvas)
            }
        }
    };
    svgedit.history.ChangeElementCommand = function(e, t, s) {
        function a() {
            var t = {};
            return _.each(["xlink:href", "x", "y", "width", "height"], function(s) {
                t[s] = e.getAttribute(s)
            }), t
        }
        this.elem = e, this.text = s ? "Change " + e.tagName + " " + s : "Change " + e.tagName, this.newValues = {}, this.oldValues = t, this.svgCanvas = INKIVE.Tool && INKIVE.Tool.getInstance().editor.canvas;
        for (var n in t) "#bullets" == n ? this.newValues[n] = (new INKIVE.Text.Textarea).setDOM(e).text.bullets : "#text-anchor" == n ? this.newValues[n] = (new INKIVE.Text.Textarea).setDOM(e).text.text_anchor : "#text-decoration" == n ? this.newValues[n] = (new INKIVE.Text.Textarea).setDOM(e).text.text_decoration : "#font-weight" == n ? this.newValues[n] = (new INKIVE.Text.Textarea).setDOM(e).text.font_weight : "#font-style" == n ? this.newValues[n] = (new INKIVE.Text.Textarea).setDOM(e).text.font_style : "#font-size" == n ? this.newValues[n] = (new INKIVE.Text.Textarea).setDOM(e).text.font_size : "#font-family" == n ? this.newValues[n] = (new INKIVE.Text.Textarea).setDOM(e).text.font_family : "#word-spacing" == n ? this.newValues[n] = (new INKIVE.Text.Textarea).setDOM(e).text.word_spacing : "#letter-spacing" == n ? this.newValues[n] = (new INKIVE.Text.Textarea).setDOM(e).text.letter_spacing : "#line-spacing" == n ? this.newValues[n] = (new INKIVE.Text.Textarea).setDOM(e).text.line_spacing : "#href" == n ? this.newValues[n] = svgedit.utilities.getHref(e) : "#fill" == n ? this.newValues[n] = INKIVE.Helpers.getColor(e, "fill") : "#stroke" == n ? this.newValues[n] = INKIVE.Helpers.getColor(e, "stroke") : n.match(/^#set_/) ? this.newValues[n] = INKIVE.Helpers.getColor(e, n.replace("#", "")) : "#layout-delete" == n ? this.newValues[n] = a() : this.newValues[n] = e.getAttribute(n)
    }, svgedit.history.ChangeElementCommand.type = function() {
        return "svgedit.history.ChangeElementCommand"
    }, svgedit.history.ChangeElementCommand.prototype.type = svgedit.history.ChangeElementCommand.type, svgedit.history.ChangeElementCommand.prototype.getText = function() {
        return this.text
    }, svgedit.history.ChangeElementCommand.prototype.apply = function(e) {
        return t.call(this, this.newValues, this.oldValues, e)
    }, svgedit.history.ChangeElementCommand.prototype.unapply = function(e) {
        return t.call(this, this.oldValues, this.newValues, e)
    }, svgedit.history.ChangeElementCommand.prototype.elements = function() {
        return [this.elem]
    }
}();
! function() {
    "use strict";
    svgedit.history = svgedit.history || {}, svgedit.history.InsertElementCommand = function(t, e) {
        this.elem = t, this.text = e || "Create " + t.tagName, this.parent = t.parentNode, this.nextSibling = this.elem.nextSibling
    }, svgedit.history.InsertElementCommand.type = function() {
        return "svgedit.history.InsertElementCommand"
    }, svgedit.history.InsertElementCommand.prototype.type = svgedit.history.InsertElementCommand.type, svgedit.history.InsertElementCommand.prototype.getText = function() {
        return this.text
    }, svgedit.history.InsertElementCommand.prototype.apply = function(t) {
        t && t.handleHistoryEvent(svgedit.history.HistoryEventTypes.BEFORE_APPLY, this), this.elem = this.parent.insertBefore(this.elem, this.nextSibling), t && t.handleHistoryEvent(svgedit.history.HistoryEventTypes.AFTER_APPLY, this)
    }, svgedit.history.InsertElementCommand.prototype.unapply = function(t) {
        t && t.handleHistoryEvent(svgedit.history.HistoryEventTypes.BEFORE_UNAPPLY, this), this.parent = this.elem.parentNode, this.elem = this.elem.parentNode.removeChild(this.elem), t && t.handleHistoryEvent(svgedit.history.HistoryEventTypes.AFTER_UNAPPLY, this)
    }, svgedit.history.InsertElementCommand.prototype.elements = function() {
        return [this.elem]
    }
}();
! function() {
    "use strict";
    svgedit.history = svgedit.history || {}, svgedit.history.MoveElementCommand = function(t, e, i, o) {
        this.elem = t, this.text = o ? "Move " + t.tagName + " to " + o : "Move " + t.tagName, this.oldNextSibling = e, this.oldParent = i, this.newNextSibling = t.nextSibling, this.newParent = t.parentNode
    }, svgedit.history.MoveElementCommand.type = function() {
        return "svgedit.history.MoveElementCommand"
    }, svgedit.history.MoveElementCommand.prototype.type = svgedit.history.MoveElementCommand.type, svgedit.history.MoveElementCommand.prototype.getText = function() {
        return this.text
    }, svgedit.history.MoveElementCommand.prototype.apply = function(t) {
        t && t.handleHistoryEvent(svgedit.history.HistoryEventTypes.BEFORE_APPLY, this), this.elem = this.newParent.insertBefore(this.elem, this.newNextSibling), t && t.handleHistoryEvent(svgedit.history.HistoryEventTypes.AFTER_APPLY, this)
    }, svgedit.history.MoveElementCommand.prototype.unapply = function(t) {
        t && t.handleHistoryEvent(svgedit.history.HistoryEventTypes.BEFORE_UNAPPLY, this), this.elem = this.oldParent.insertBefore(this.elem, this.oldNextSibling), t && t.handleHistoryEvent(svgedit.history.HistoryEventTypes.AFTER_UNAPPLY, this)
    }, svgedit.history.MoveElementCommand.prototype.elements = function() {
        return [this.elem]
    }
}();
! function() {
    "use strict";
    svgedit.history = svgedit.history || {}, svgedit.history.RemoveElementCommand = function(e, t, i, s) {
        this.elem = e, this.text = s || "Delete " + e.tagName, this.nextSibling = t, this.parent = i, svgedit.transformlist.removeElementFromListMap(e)
    }, svgedit.history.RemoveElementCommand.type = function() {
        return "svgedit.history.RemoveElementCommand"
    }, svgedit.history.RemoveElementCommand.prototype.type = svgedit.history.RemoveElementCommand.type, svgedit.history.RemoveElementCommand.prototype.getText = function() {
        return this.text
    }, svgedit.history.RemoveElementCommand.prototype.apply = function(e) {
        e && e.handleHistoryEvent(svgedit.history.HistoryEventTypes.BEFORE_APPLY, this), svgedit.transformlist.removeElementFromListMap(this.elem), this.parent = this.elem.parentNode, this.elem = this.parent.removeChild(this.elem), e && e.handleHistoryEvent(svgedit.history.HistoryEventTypes.AFTER_APPLY, this)
    }, svgedit.history.RemoveElementCommand.prototype.unapply = function(e) {
        e && e.handleHistoryEvent(svgedit.history.HistoryEventTypes.BEFORE_UNAPPLY, this), svgedit.transformlist.removeElementFromListMap(this.elem), null == this.nextSibling && console.log("Error: reference element was lost"), this.parent.insertBefore(this.elem, this.nextSibling), e && e.handleHistoryEvent(svgedit.history.HistoryEventTypes.AFTER_UNAPPLY, this)
    }, svgedit.history.RemoveElementCommand.prototype.elements = function() {
        return [this.elem]
    }
}();
INKIVE.Helpers = {}, INKIVE.Helpers.afterRendering = function(e) {
    function t() {
        window.requestAnimFrame = function() {
            return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(e) {
                setTimeout(e, 1e3 / 60)
            }
        }()
    }
    window.requestAnimFrame || t(), window.requestAnimFrame(function() {
        window.requestAnimFrame(e)
    })
}, INKIVE.Helpers.getTimestamp = function() {
    var e = (new Date).getTime();
    return Math.floor(e / 1e3)
}, INKIVE.Helpers.isInt = function(e) {
    return !isNaN(e) && (Number(e) === e && e % 1 === 0)
}, INKIVE.Helpers.isFloat = function(e) {
    return !isNaN(e) && (Number(e) === e && e % 1 !== 0)
}, INKIVE.Helpers.projectIsLinkedToRestrictions = function() {
    return INKIVE.C.BOOK.book_type == INKIVE.C.BOOK_TYPE.RESTRICTED_DESIGN || INKIVE.C.BOOK.book_type == INKIVE.C.BOOK_TYPE.TEMPLATE
}, INKIVE.Helpers.isDesygnerProject = function() {
    return INKIVE.C.BOOK.book_type == INKIVE.C.BOOK_TYPE.DESIGN || INKIVE.C.BOOK.book_type == INKIVE.C.BOOK_TYPE.DESYGNER_DESIGN
}, INKIVE.Helpers.isWeBrandProject = function() {
    return INKIVE.C.BOOK.book_type == INKIVE.C.BOOK_TYPE.RESTRICTED_DESIGN || INKIVE.C.BOOK.book_type == INKIVE.C.BOOK_TYPE.DESYGNER_DESIGN || INKIVE.C.BOOK.book_type == INKIVE.C.BOOK_TYPE.TEMPLATE
}, INKIVE.Helpers.getFragmentTarget = function() {
    var e = window.location.hash,
        t = e.split(":");
    return t[0]
}, INKIVE.Helpers.getCORSSecureUrl = function(e) {
    if (!e) return e;
    if (INKIVE.Helpers.isDataURL(e)) return e;
    var t, r, n = e.match(/imageplaceholder\.svg$/) || e.match(/imageplaceholder_new\.svg$/);
    if (n && (t = /.*\/(inkive|desygner|webrand).com\/(.*)$/, r = e && e.match(t)), r || (t = /.*\/[\w|-]*\.(inkive|desygner|webrand|photodexia).com\/(.*)$/, r = e && e.match(t)), r || (t = /.*\/[\w|-]*\.(buildwebrand|builddesygner).xyz\/(.*)$/, r = e && e.match(t)), !r) return e;
    if (INKIVE.C.IS_DEV) return "https://static.inkive.me/" + r[2];
    var a = INKIVE.C.BOOK.book_type == INKIVE.C.BOOK_TYPE.TEMPLATE || INKIVE.C.BOOK.book_type == INKIVE.C.BOOK_TYPE.RESTRICTED_DESIGN,
        i = window.location.href.match(/build(desygner|webrand)\.xyz/);
    return i ? a ? "https://static.buildwebrand.xyz/" + r[2] : "https://static.builddesygner.xyz/" + r[2] : a ? "https://static.webrand.com/" + r[2] : "https://static.inkive.com/" + r[2]
}, INKIVE.Helpers.getFragmentParam = function(e) {
    var t = window.location.hash,
        r = null;
    return $.each(t.split(":"), function(t, n) {
        var a = n.split("=");
        if (a[0] == e) return r = a[1], !1
    }), r
}, INKIVE.Helpers.executeFunctionByName = function(e, t) {
    if (!e) return null;
    for (var r = [].slice.call(arguments).splice(2), n = e.split("."), a = n.pop(), i = 0; i < n.length; i++) t = t[n[i]];
    return t[a].apply(t, r ? r.pop() : null)
}, INKIVE.Helpers.printBBox = function(e, t, r, n, a) {
    var i = INKIVE.Tool.getInstance().editor.canvas;
    a = a || 1, $("#svgcontent .testBBox_" + a).length || i.addSvgElementFromJson({
        element: "rect",
        curStyles: !1,
        attr: {
            x: e,
            y: t,
            width: r,
            height: n,
            fill: "none",
            stroke: "#" + Math.floor(16777215 * Math.random()).toString(16),
            "stroke-width": 5,
            "stroke-opacity": 1,
            style: "pointer-events:none",
            "class": "testBBox_" + a
        }
    }, $("#svgcontent").get(0))
}, INKIVE.Helpers.dataURLToBlob = function(e) {
    if (!INKIVE.Helpers.isDataURL(e)) return null;
    var t = ";base64,";
    if (e.indexOf(t) == -1) {
        var r = e.split(","),
            n = r[0].split(":")[1],
            a = decodeURIComponent(r[1]);
        return new Blob([a], {
            type: n
        })
    }
    for (var r = e.split(t), n = r[0].split(":")[1], a = window.atob(r[1]), i = a.length, s = new Uint8Array(i), o = 0; o < i; ++o) s[o] = a.charCodeAt(o);
    return new Blob([s], {
        type: n
    })
}, INKIVE.Helpers.isEmail = function(e) {
    if (!e || !e.length) return !1;
    var t = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
    return t.test(e)
}, INKIVE.Helpers.isDataURL = function(e) {
    if (!e) return !1;
    var t = /^\s*data:([a-z]+\/[a-z0-9\-]+(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i;
    return !!e.match(t)
}, INKIVE.Helpers.isUrlValid = function(e) {
    return !!e.match(/^#\d+$/) || /^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)
}, INKIVE.Helpers.convertUnitsToPixels = function(e, t) {
    e = parseFloat(e);
    var r = 0;
    switch (t) {
        case "cm":
            r = 96 * e / 2.54;
            break;
        case "mm":
            r = INKIVE.Helpers.convertUnitsToPixels(e / 10, "cm");
            break;
        case "in":
            r = INKIVE.Helpers.convertUnitsToPixels(2.54 * e, "cm");
            break;
        default:
            r = e
    }
    return parseInt(r)
}, INKIVE.Helpers.convertPixelsToUnits = function(e, t) {
    e = parseFloat(e);
    var r = 0;
    switch (t) {
        case "cm":
            r = e / 96 * 2.54;
            break;
        case "mm":
            r = INKIVE.Helpers.convertPixelsToUnits(10 * e, "cm");
            break;
        case "in":
            r = INKIVE.Helpers.convertPixelsToUnits(e / 2.54, "cm");
            break;
        default:
            r = parseInt(e)
    }
    return r
}, INKIVE.Helpers.getSelectedCoordinates = function(e) {
    var t = svgedit.select.getSelectorManager().requestSelector(e);
    if (t) {
        var r = INKIVE.Tool.getInstance().editor.canvas,
            n = t.transformBox.abbox,
            a = r.getRotationAngle(e),
            i = INKIVE.Helpers.getTransformPoints(n, 0, a, 0, 0);
        return {
            sx: 0,
            sy: 0,
            x1: i.tl.x,
            y1: i.tl.y,
            x2: i.tr.x,
            y2: i.tr.y,
            x3: i.bl.x,
            y3: i.bl.y,
            x4: i.br.x,
            y4: i.br.y,
            x5: i.m.x,
            y5: i.m.y
        }
    }
}, INKIVE.Helpers.getTransformCoordinates = function(e, t, r, n, a) {
    var i = INKIVE.Helpers.getTransformPoints(e, t, r, n, a),
        s = $("#svgroot").get(0).getBoundingClientRect(),
        o = $("#canvasBackground").get(0).getBoundingClientRect(),
        l = o.left - s.left,
        c = o.top - s.top;
    return {
        sx: 0,
        sy: 0,
        x1: l + i.tl.x,
        y1: c + i.tl.y,
        x2: l + i.tr.x,
        y2: c + i.tr.y,
        x3: l + i.bl.x,
        y3: c + i.bl.y,
        x4: l + i.br.x,
        y4: c + i.br.y,
        x5: l + i.m.x,
        y5: c + i.m.y
    }
}, INKIVE.Helpers.getObjectCoordinatesByDirection = function(e, t, r, n) {
    var a = INKIVE.Helpers.getObjectCoordinates(e, t);
    return r ? (delete a.x1, delete a.y1, delete a.x3, delete a.y3) : (delete a.x2, delete a.y2, delete a.x4, delete a.y4), n ? (delete a.x1, delete a.y1, delete a.x2, delete a.y2) : (delete a.x3, delete a.y3, delete a.x4, delete a.y4), a
}, INKIVE.Helpers.getObjectCoordinates = function(e, t) {
    var r = $("#" + t.id).get(0);
    if (r) {
        var n = r.getAttribute("stroke-width"),
            a = e.getZoom(),
            i = 1 / a;
        i -= .5, "none" === r.getAttribute("stroke") || isNaN(n) || (i += n / 2), i *= a;
        var s = {
            x: t.x * a,
            y: t.y * a,
            width: t.width * a,
            height: t.height * a,
            rotate: t.rotate
        };
        return INKIVE.Helpers.getTransformCoordinates(s, i, s.rotate)
    }
}, INKIVE.Helpers.getTransformPoints = function(e, t, r, n, a) {
    t = t || 0, r = r || 0;
    var i = {
        tl: {
            x: e.x - t,
            y: e.y - t
        },
        tr: {
            x: e.x + e.width + t,
            y: e.y - t
        },
        bl: {
            x: e.x - t,
            y: e.y + e.height + t
        },
        br: {
            x: e.x + e.width + t,
            y: e.y + e.height + t
        },
        m: {
            x: e.x + e.width / 2 + t,
            y: e.y + e.height / 2 + t
        }
    };
    if (r) {
        n = n || i.m.x, a = a || i.m.y;
        var s = svgroot.createSVGTransform();
        s.setRotate(r, n, a);
        for (var o in i) i[o] = svgedit.math.transformPoint(i[o].x, i[o].y, s.matrix)
    }
    return i
}, INKIVE.Helpers.TransformPointBox = function(e, t) {
    INKIVE.Tool.getInstance().editor.canvas;
    t = t || 1;
    var r, n = "M" + e.tl.x + "," + e.tl.y + " L" + e.tr.x + "," + e.tr.y + " " + e.br.x + "," + e.br.y + " " + e.bl.x + "," + e.bl.y + "z";
    $("#svgcontent .tpBox_" + t).length ? r = $("#svgcontent .tpBox_" + t).get(0) : (r = document.createElementNS(svgedit.NS.SVG, "path"), svgedit.utilities.assignAttributes(r, {
        fill: "#" + Math.floor(16777215 * Math.random()).toString(16),
        opacity: .5,
        style: "pointer-events:none",
        "class": "tpBox_" + t
    }), $("#svgcontent").get(0).appendChild(r)), svgedit.utilities.assignAttributes(r, {
        d: n,
        display: "inline"
    })
}, INKIVE.Helpers.getFileNameFromUrl = function(e) {
    return e.split("/").pop()
}, INKIVE.Helpers.getFileExt = function(e) {
    return e.substr(e.lastIndexOf(".") + 1).toLowerCase()
}, INKIVE.Helpers.getShareUrl = function() {
    if (INKIVE.Helpers.isWeBrandProject()) return INKIVE.C.VIEWER + (INKIVE.C.BOOK.book_type == INKIVE.C.BOOK_TYPE.TEMPLATE ? "template/" : "") + INKIVE.C.BOOK.encodedId;
    var e = "view-" + INKIVE.C.USER.id,
        t = Base64.decode(INKIVE.C.BOOK.name).toLowerCase().replace(/ /g, "_").replace("/[^a-z0-9]+/", "_");
    return "%s/%s/%s/%s_%s.html".sprintf(INKIVE.C.BASE_URL + "design/preview", INKIVE.C.BOOK.encodedId, e, t, INKIVE.Helpers.getTimestamp())
}, INKIVE.Helpers.getShareNetworkUrl = function(e, t) {
    switch (e) {
        case "facebook":
            return INKIVE.Helpers.getFBUrl(t);
        case "twitter":
            return INKIVE.Helpers.getTwitterUrl(t);
        case "linkedin":
            return INKIVE.Helpers.getLinkedinUrl(t);
        case "google":
            return INKIVE.Helpers.getGoogleplusUrl(t)
    }
}, INKIVE.Helpers.getFBUrl = function(e) {
    return e = e || INKIVE.Helpers.getShareUrl(), "https://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent(e)
}, INKIVE.Helpers.getTwitterUrl = function(e) {
    return e = e || INKIVE.Helpers.getShareUrl(), "https://twitter.com/intent/tweet?url=" + encodeURIComponent(e)
}, INKIVE.Helpers.getLinkedinUrl = function(e) {
    return e = e || INKIVE.Helpers.getShareUrl(), "https://www.linkedin.com/cws/share?url=" + encodeURIComponent(e)
}, INKIVE.Helpers.getGoogleplusUrl = function(e) {
    return e = e || INKIVE.Helpers.getShareUrl(), "https://plus.google.com/share?url=" + encodeURIComponent(e)
}, INKIVE.Helpers.sendCmd = function(e, t, r, n, a) {
    function i(e) {
        return 200 == e || (INKIVE.Modal.alertMessage("<b>Error - </b><i>Network</i><b><br>Please check network</b>"), !1)
    }
    n = n || this.c, a = a || "POST", $.ajax({
        type: a,
        url: e,
        timeout: n,
        dataType: "json",
        data: t,
        complete: function(e) {
            i(e.status) && $.when(r(e.responseText)).done(function(e) {})
        }
    })
}, INKIVE.Helpers.api = function(e, t, r, n) {
    var a = INKIVE.C.BASE_URL + "api/" + e;
    $.api(a, t, r, function(e, t, r, a, i) {
        var s = "function" == typeof n;
        s && n(e, t, r, a, i), s || alert(i)
    })
}, INKIVE.Helpers.apiMultipart = function(e, t, r) {
    var n = INKIVE.C.BASE_URL + "api/" + e,
        a = new FormData;
    _.each(t, function(e, t) {
        a.append(t, e)
    }), $.apiMultipart(n, a, function(e, t, n, a, i) {
        var s = "function" == typeof r;
        s && r(e, t, n, a, i), s || alert(i)
    })
}, INKIVE.Helpers.isResponseExists = function(e) {
    return !(!e || 0 == e.length)
}, INKIVE.Helpers.isElementInCanvas = function(e) {
    if (!e) return !1;
    var t = e.getBoundingClientRect(),
        r = $("#canvasBackground").get(0).getBoundingClientRect();
    return !(t.bottom <= r.top) && (!(t.top >= r.bottom) && (!(t.right <= r.left) && !(t.left >= r.right)))
}, INKIVE.Helpers.imageLoader = function(e, t, r) {
    r = r || INKIVE.C.Timeout.imageCheck;
    var n, a = !1,
        i = new Image;
    i.onerror = i.onabort = function() {
        a || (clearTimeout(n), t(INKIVE.C.Status.error, i))
    }, i.onload = function() {
        a || (clearTimeout(n), t(INKIVE.C.Status.success, i))
    }, i.src = e, n = setTimeout(function() {
        a = !0, t(INKIVE.C.Status.timeout, i)
    }, r)
}, INKIVE.Helpers.initTooltips = function(e, t) {
    e = e || $("body"), INKIVE.C.IS_MOBILE || e.find('[data-popover="tooltip"]').each(function() {
        $(this).tooltip($.extend({
            placement: $(this).data("placement") || "auto",
            html: !0
        }, t))
    })
}, INKIVE.Helpers.initPopover = function(e, t) {
    e = e || $("body"), INKIVE.C.IS_MOBILE || (e.find('[data-popover="popover"]').popover($.extend({
        trigger: "hover",
        html: !0
    }, t)), e.find('[data-popover="popover"]').on("shown.bs.popover", function(e) {
        $(".popover").css("left", $("#tool-panel").width())
    }))
}, INKIVE.Helpers.loadingElement = function(e, t) {
    if (e && e.getAttribute("id")) {
        var r = e.getAttribute("id");
        if (t && !$(".svgLoader#" + r).length) {
            var n = document.createElementNS(svgedit.NS.SVG, "svg"),
                a = $("#svgroot").get(0).getBoundingClientRect(),
                i = $("#canvasBackground").get(0).getBoundingClientRect(),
                s = i.left - a.left,
                o = i.top - a.top,
                l = e.getBBox(),
                c = 50;
            l.width < c && (c = l.width), l.height < c && (c = l.height), n.setAttribute("class", "svgLoader"), n.setAttribute("x", l.x + s), n.setAttribute("y", l.y + o), n.setAttribute("width", c), n.setAttribute("height", c), n.setAttribute("viewBox", "0 0 50 50"), n.setAttribute("style", "pointer-events: none;");
            var u = document.createElementNS(svgedit.NS.SVG, "path");
            u.setAttribute("fill", "#ffdd17"), u.setAttribute("d", "M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z");
            var d = document.createElementNS(svgedit.NS.SVG, "animateTransform");
            d.setAttribute("attributeType", "xml"), d.setAttribute("attributeName", "transform"), d.setAttribute("type", "rotate"), d.setAttribute("from", "0 25 25"), d.setAttribute("to", "360 25 25"), d.setAttribute("dur", "0.6s"), d.setAttribute("repeatCount", "indefinite"), u.appendChild(d), n.appendChild(u), $("#svgroot").get(0).appendChild(n)
        } else t || $(".svgLoader#" + r).remove()
    }
}, INKIVE.Helpers.saveToDisk = function(e, t) {
    if (window.ActiveXObject) {
        if (window.ActiveXObject && document.execCommand) {
            var r = window.open(e, "_blank");
            r.document.close(), r.document.execCommand("SaveAs", !0, t || e), r.close()
        }
    } else {
        var n = $('<iframe .="download-frame" src=""></iframe>');
        n.attr("src", INKIVE.C.BASE_URL + "editor/file?url=" + encodeURIComponent(e)), $("body").append(n)
    }
}, INKIVE.Helpers.toolAttr = {}, INKIVE.Helpers.setToolAttr = function(e, t) {
    var r = INKIVE.Tool.getInstance().editor.canvas,
        n = $.extend({}, r.getCurStyle());
    switch ($.extend(n, t), e) {
        case "object":
        case "rect":
        case "ellipse":
            var a = INKIVE.Helpers.toolAttr.object = n;
            break;
        case "line":
        case "path":
            var a = INKIVE.Helpers.toolAttr.path = n;
            break;
        case "text":
            var a = INKIVE.Helpers.toolAttr.text = n
    }
    r.setCurStyle(a)
}, INKIVE.Helpers.getColor = function(e, t) {
    function r(e, t) {
        if (t = t || "fill", "background" == t) {
            var n = $(e).parent().find("rect");
            return a = n.attr("fill"), a || "none"
        }
        var a = $(e).attr(t);
        return a && "null" != a && "none" != a || $(e).children().each(function(e, n) {
            if (a = r(n, t)) return !1
        }), a && "null" != a && "none" != a ? a : null
    }

    function n() {
        return "stroke" === t ? null : "#000000"
    }
    if (_.isArray(e) && (e = e[0]), "set" == t.split("_")[0]) {
        var a = $(e).hasClass("logo") || $(e).hasClass("icon") ? INKIVE.DesignFacade.getters.sticker.getElementsWithColor($(e).children("g")[0]) : INKIVE.DesignFacade.getters.sticker.getElementsWithColor(e),
            i = parseInt(t.split("_")[1]);
        return r(a[i]) || n()
    }
    return $(e).hasClass("textarea") ? (new INKIVE.Text.Textarea).setDOM(e).text[t] : r(e, t) || n()
}, INKIVE.Helpers.resize = function(e, t, r, n, a) {
    var i = $("#svgroot").get(0),
        s = e.getBBox();
    t = t || s.width, r = r || s.height, n = n || 0, a = a || 0;
    var o = i.createSVGTransform(),
        l = i.createSVGTransform(),
        c = i.createSVGTransform(),
        u = svgedit.transformlist.getTransformList(e);
    o.setTranslate(0, 0);
    var d = (t - n) / s.width,
        I = (r - a) / s.height,
        p = d >= I ? I : d;
    l.setScale(p, p), c.setTranslate(0, 0), u.appendItem(o), u.appendItem(l), u.appendItem(c), svgedit.recalculate.recalculateDimensions(e, s), o = i.createSVGTransform(), s = e.getBBox();
    var g = -s.x + (t / 2 - s.width / 2),
        m = -s.y + (r / 2 - s.height / 2);
    o.setTranslate(g, m), u.appendItem(o), svgedit.recalculate.recalculateDimensions(e)
}, INKIVE.Helpers.getStickerFromString = function(e, t) {
    function r(e) {
        e.each(function() {
            _.each(_.clone(this.childNodes), function(e) {
                3 === e.nodeType && e.remove()
            }), r($(this.childNodes))
        })
    }

    function n() {
        function e() {
            $(I).find("image").each(function(e, t) {
                t.getAttribute("id") || t.setAttribute("id", INKIVE.Helpers.getUnusedId(I))
            })
        }

        function t() {
            $(I).find("[clip-path]").each(function(e, t) {
                var r = INKIVE.Helpers.getUnusedId(I),
                    a = t.getAttribute("clip-path").replace("url(", "").replace(")", "").replace(/"/g, "");
                n.push(r), t.setAttribute("clip-path", "url(#" + r + ")"), $(I).find(a).attr("id", r)
            })
        }

        function r() {
            $(I).find("[id]").each(function(e, t) {
                var r = t.getAttribute("id");
                _.contains(n, r) || t.removeAttribute("id")
            })
        }
        var n = [];
        t(), r(), e()
    }

    function a() {
        $(I).find("rect.background").remove();
        var e = s.canvas.addSvgElementFromJson({
            element: "rect",
            attr: {
                x: c ? c[0] : 0,
                y: c ? c[1] : 0,
                width: v,
                height: h,
                fill: "none",
                "class": "background"
            }
        });
        I.insertBefore(e, I.firstChild)
    }

    function i() {
        var e = "translate(" + c[0] * -1 + ", " + c[1] * -1 + ")";
        I.setAttribute("transform", e), svgedit.recalculate.recalculateDimensions(I, I.getBBox())
    }
    if (e) {
        var s = INKIVE.Tool.getInstance().editor,
            o = $.parseXML(e.replace(/\s+/g, " ")),
            l = o.getElementsByTagName("svg")[0],
            c = l.getAttribute("viewBox") && l.getAttribute("viewBox").split(" ");
        $(l).find("use").remove();
        var u = $(l).children(),
            d = 1 == u.length && "g" == u.get(0).tagName && !u.get(0).getAttribute("class"),
            I = d ? u.get(0) : document.createElementNS(svgedit.NS.SVG, "g");
        if (!d)
            for (var p = ["defs", "circle", "image", "ellipse", "line", "rect", "text", "polygon", "path", "g"], g = l.childNodes.length, m = g - 1; m >= 0; m--) {
                var f = l.childNodes[m];
                _.contains(p, l.childNodes[m].tagName) && I.insertBefore(f, I.firstChild)
            }
        n(), r($(I).find("defs"));
        var v = c ? c[2] : l.getAttribute("width"),
            h = c ? c[3] : l.getAttribute("height");
        if (v && h && a(), c && (c[0] > 0 || c[1] > 0) && i(), I.setAttribute("class", "element sticker" + (t ? " favourites-sticker-id-" + t : "")), I.setAttribute("id", s.getNextId()), I.childNodes.length) return I
    }
}, INKIVE.Helpers.getUnusedId = function(e) {
    var t, r = INKIVE.Tool.getInstance().editor;
    do t = r.getNextId(); while ($(e).find("#" + t).length);
    return t
}, INKIVE.Helpers.getStickerFromSvg = function() {
    function e(r) {
        if (r) {
            if (!$(r).hasClass("sticker")) {
                if ($(r).is("rect.background")) return;
                var a = $(r).clone(),
                    i = a.get(0);
                if (i.removeAttribute("class"), $(r).hasClass("layoutBox")) {
                    var l = svgedit.utilities.getClipPath(r),
                        c = e(l);
                    i.setAttribute("class", "layoutBox element"), a.attr("clip-path", "url(#" + c.childNodes[0].getAttribute("id") + ")")
                }
                var u;
                $(r).is("clippath") ? (a.attr("id", INKIVE.Math.generateUUID()), u = svgedit.transformlist.getTransformList(i.childNodes[0])) : $(r).hasClass("textarea") ? (i.setAttribute("class", "textarea element"), u = svgedit.transformlist.getTransformList(i)) : (a.removeAttr("id"), u = svgedit.transformlist.getTransformList(i)), o.appendChild(i);
                var d = t.createSVGTransform(),
                    I = -n.x,
                    p = -n.y;
                d.setTranslate(I, p), u.appendItem(d), $(r).is("clippath") ? svgedit.recalculate.recalculateDimensions(i.childNodes[0]) : svgedit.recalculate.recalculateDimensions(i);
                var g = $(i).clone().get(0);
                if ($(r).is("clippath")) {
                    var m = $(s).find("defs").get(0);
                    m || (m = window.document.createElementNS(svgedit.NS.SVG, "defs"), m.setAttribute("id", "placeholder_defs")), m.appendChild(g), g = m
                }
                return s.appendChild(g), g
            }
            var f = _.without(INKIVE.DesignFacade.getters.sticker.getElements(r), r);
            _.each(f, e)
        }
    }
    var t = $("#svgroot").get(0),
        r = INKIVE.Tool.getInstance().editor,
        n = (r.canvas, $("#svgcontent .main").get(0).getBBox()),
        a = n.width,
        i = n.height;
    if (i && i) {
        var s = document.createElementNS(svgedit.NS.SVG, "svg");
        s.setAttribute("width", a), s.setAttribute("height", i), s.setAttribute("xml:space", "preserve"), s.setAttribute("enable-background", "new 0 0 %s %s".sprintf(a, i)), s.setAttribute("viewBox", "0 0 %s %s".sprintf(a, i));
        var o = document.createElementNS(svgedit.NS.SVG, "g");
        svgedit.utilities.assignAttributes(o, {
            style: "pointer-events:none",
            "class": "stickerSaveData"
        }), $(o).insertBefore($("#svgcontent .main"));
        var l = $("#svgcontent .main").find(">.element");
        return l.each(function(t, r) {
            e(r)
        }), $(o).remove(), (new XMLSerializer).serializeToString(s)
    }
}, INKIVE.Helpers.converterLayoutSizeChange = function(e, t, r, n) {
    function a(e, t) {
        var r = parseFloat($(t).attr("stroke-width"));
        $(t).attr("stroke-width", r * e)
    }
    var i = INKIVE.Tool.getInstance().editor,
        s = i.canvas,
        o = $("#svgroot").get(0);
    if (e != r || t != n) {
        e == s.contentW && t == s.contentH || console.warn("Layout dimensions is not canvas dimensions");
        var l = $("#svgcontent g.background image");
        if (l.length) {
            var c = l[0],
                u = c.getBBox(),
                d = e / u.width,
                I = t / u.height,
                p = Math.max(d, I);
            svgedit.transformlist.removeElementFromListMap(c);
            var g = svgedit.transformlist.getTransformList(c),
                m = o.createSVGTransform(),
                f = o.createSVGTransform(),
                v = o.createSVGTransform();
            m.setTranslate(0, 0), f.setScale(p, p), v.setTranslate(0, 0), g.appendItem(m), g.appendItem(f), g.appendItem(v), svgedit.recalculate.recalculateDimensions(c), c.setAttribute("x", -(u.width * p - e) / 2), c.setAttribute("y", -(u.height * p - t) / 2)
        }
        $("#svgcontent .element:not(.subelement)").each(function(i, l) {
            var c = e / r,
                u = t / n;
            svgedit.transformlist.removeElementFromListMap(l);
            var d = svgedit.transformlist.getTransformList(l),
                I = svgedit.utilities.getBBox(l),
                p = parseInt(c * r) <= e && parseInt(c * n) <= t ? c : u;
            I.x <= 0 && I.y <= 0 && I.width >= r && I.height >= n && (p = p == c ? u : c), $(l).is("[stroke-width]") && a(p, l);
            var g = o.createSVGTransform(),
                m = o.createSVGTransform(),
                f = o.createSVGTransform();
            g.setTranslate(0, 0), m.setScale(p, p), f.setTranslate(0, 0), d.appendItem(g), d.appendItem(m), d.appendItem(f), svgedit.recalculate.recalculateDimensions(l);
            var v = svgedit.utilities.getBBox(l);
            $(l).hasClass("textarea");
            var h = o.createSVGTransform(),
                E = svgedit.transformlist.getTransformList(l);
            h.setTranslate(e / 2 - (r / 2 - I.x) * p - v.x, t / 2 - (n / 2 - I.y) * p - v.y), E.appendItem(h), svgedit.recalculate.recalculateDimensions(l), s.removeFromSelection([l])
        })
    }
}, INKIVE.Helpers.areEqual = function(e, t) {
    function r() {
        return c.join(",") === u.join(",")
    }

    function n() {
        return _.all(c, function(e) {
            return o.getAttribute(e) === l.getAttribute(e)
        })
    }

    function a() {
        function e() {
            for (; t(a);) a = a.nextSibling;
            for (; t(i);) i = i.nextSibling
        }

        function t(e) {
            return e && 3 === e.nodeType && "" === e.nodeValue.replace("&nbsp;", "").trim()
        }

        function r() {
            return a.nodeType === i.nodeType && n()
        }

        function n() {
            return (1 !== a.nodeType || a.nodeValue === i.nodeValue) && ((3 !== a.nodeType || a.nodeValue.trim() === i.nodeValue.trim()) && (1 !== a.nodeType || INKIVE.Helpers.areEqual(a, i)))
        }
        for (var a = o.firstChild, i = l.firstChild; a && i;)
            if (e(), a && i) {
                if (!r()) return !1;
                a = a.nextSibling, i = i.nextSibling
            }
        return e(), a === i
    }

    function i(e) {
        if (e instanceof Node) return e;
        var t = document.createElement("div");
        return t.innerHTML = e, t
    }

    function s(e) {
        return _.map(e.attributes, function(e) {
            return e.nodeName
        }).sort()
    }
    var o = i(e),
        l = i(t);
    "svg" === o.nodeName && o.removeAttribute("xmlns:xlink"), "svg" === l.nodeName && l.removeAttribute("xmlns:xlink"), o.getAttribute("id") && l.getAttribute("id") || (o.removeAttribute("id"), l.removeAttribute("id"));
    var c = s(o),
        u = s(l);
    return r() && n() && a()
}, INKIVE.Helpers.converterCurrentPage = function() {
    var e = $("#svgcontent"),
        t = INKIVE.Tool.getInstance().editor;
    e.find("g.textarea").each(function() {
        function e() {
            svgedit.transformlist.removeElementFromListMap(t), svgedit.recalculate.recalculateDimensions(t)
        }
        var t = this;
        $(t).attr("font-family") || $(t).attr("font-family", "Lato"), $(t).attr("font-size") || $(t).attr("font-size", "22"), $(t).find("rect").attr("fill", "none").removeAttr("style").removeAttr("stroke"), $(t).find("tspan:empty, text:empty").text(" "), $(t).find(">text").removeAttr("id"), svgedit.transformlist.removeElementFromListMap(t);
        for (var r, n = svgedit.transformlist.getTransformList(t), a = n.numberOfItems; a > 0 && a != r;) e(), r = a, a = svgedit.transformlist.getTransformList(t).numberOfItems
    }), t.setMode("select"), t.canvas.clearSelection()
}, INKIVE.Helpers.displayImagesLoadingAnimation = function() {
    var e = INKIVE.Tool.getInstance().editor;
    e.canvas.call("loading.hide_all"), $("#svgcontent").find("image").each(function() {
        function t() {
            e.canvas.call("loading.hide", r)
        }
        var r = this,
            n = _.once(t);
        if ("0" !== r.getAttribute("opacity") && !r.complete) {
            var a = new Image;
            a.onload = n, a.src = r.getAttribute("xlink:href"), e.canvas.call("loading.show", r), _.delay(n, 3e4)
        }
    })
}, INKIVE.Helpers.calculatePngSize = function(e, t) {
    return INKIVE.Helpers.formatBytes(e * t * 24 / 8)
}, INKIVE.Helpers.calculateJpegSize = function(e, t, r) {
    return INKIVE.Helpers.formatBytes(e * t * 24 / 8 * r / 100)
}, INKIVE.Helpers.formatBytes = function(e, t) {
    if (0 == e) return "0 Byte";
    var r = 1e3,
        n = t + 1 || 3,
        a = ["Bytes", "KB", "MB", "GB", "TB", "PB", "EB", "ZB", "YB"],
        i = Math.floor(Math.log(e) / Math.log(r));
    return (e / Math.pow(r, i)).toPrecision(n) + " " + a[i]
}, INKIVE.Helpers.fillArray = function(e, t) {
    for (var r = [], n = 0; n < t; n++) r.push(e);
    return r
}, INKIVE.Helpers.getBucketUrl = function(e) {
    if (e = e.match(/([^\.]*)\.(inkive|webrand|desygner)\.com/)) {
        var t = e[1],
            r = e[2];
        switch (t) {
            case "assets":
                return "https://s3.amazonaws.com/assets." + r + ".com/assets";
            case "sydney":
                return "https://s3-ap-southeast-2.amazonaws.com/sydney." + r + ".com/sydney";
            case "singapore":
                return "https://s3-ap-southeast-1.amazonaws.com/singapore." + r + ".com/singapore";
            case "tokyo":
                return "https://s3-ap-northeast-1.amazonaws.com/tokyo." + r + ".com/tokyo";
            case "california":
                return "https://s3-us-west-1.amazonaws.com/california." + r + ".com/california";
            case "ireland":
                return "https://s3-eu-west-1.amazonaws.com/ireland." + r + ".com/ireland";
            case "oregon":
                return "https://s3-us-west-2.amazonaws.com/oregon." + r + ".com/oregon";
            case "sao-paulo":
                return "https://s3-sa-east-1.amazonaws.com/sao-paulo." + r + ".com/sao-paulo";
            case "virginia-testing":
                return "https://s3.amazonaws.com/virginia-testing." + r + ".com/virginia-testing";
            case "virginia":
            default:
                return "https://s3.amazonaws.com/virginia." + r + ".com/virginia"
        }
    }
}, INKIVE.Helpers.getImageUrl = function(e, t) {
    var r = INKIVE.Helpers.getBucketUrl(INKIVE.C.BUCKET);
    return r + "/" + t + "/" + INKIVE.C.BOOK.id + "/" + e + ".jpg"
};
INKIVE.Math = {
    generateUUID: function() {
        var n, r = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),
            t = new Array(36),
            o = 0;
        return function() {
            for (var a = 0; a < 36; a++) 8 == a || 13 == a || 18 == a || 23 == a ? t[a] = "-" : 14 == a ? t[a] = "4" : (o <= 2 && (o = 33554432 + 16777216 * Math.random() | 0), n = 15 & o, o >>= 4, t[a] = r[19 == a ? 3 & n | 8 : n]);
            return t.join("")
        }
    }(),
    clamp: function(n, r, t) {
        return n < r ? r : n > t ? t : n
    },
    clampBottom: function(n, r) {
        return n < r ? r : n
    },
    mapLinear: function(n, r, t, o, a) {
        return o + (n - r) * (a - o) / (t - r)
    },
    smoothstep: function(n, r, t) {
        return n <= r ? 0 : n >= t ? 1 : (n = (n - r) / (t - r), n * n * (3 - 2 * n))
    },
    smootherstep: function(n, r, t) {
        return n <= r ? 0 : n >= t ? 1 : (n = (n - r) / (t - r), n * n * n * (n * (6 * n - 15) + 10))
    },
    random16: function() {
        return (65280 * Math.random() + 255 * Math.random()) / 65535
    },
    randInt: function(n, r) {
        return Math.floor(this.randFloat(n, r))
    },
    randFloat: function(n, r) {
        return n + Math.random() * (r - n)
    },
    randFloatSpread: function(n) {
        return n * (.5 - Math.random())
    },
    degToRad: function() {
        var n = Math.PI / 180;
        return function(r) {
            return r * n
        }
    }(),
    radToDeg: function() {
        var n = 180 / Math.PI;
        return function(r) {
            return r * n
        }
    }(),
    isPowerOfTwo: function(n) {
        return 0 === (n & n - 1) && 0 !== n
    },
    nearestLowEvenInt: function(n) {
        return n = Math.floor(n), n % 2 == 0 ? n : n - 1
    },
    nearestUpEvenInt: function(n) {
        return n = Math.floor(n), n % 2 == 0 ? n : n + 1
    }
};
! function(e, t) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : e.moment = t()
}(this, function() {
    "use strict";

    function e() {
        return Je.apply(null, arguments)
    }

    function t(e) {
        return e instanceof Array || "[object Array]" === Object.prototype.toString.call(e)
    }

    function n(e) {
        return null != e && "[object Object]" === Object.prototype.toString.call(e)
    }

    function s(e) {
        return void 0 === e
    }

    function i(e) {
        return "number" == typeof e || "[object Number]" === Object.prototype.toString.call(e)
    }

    function r(e) {
        return e instanceof Date || "[object Date]" === Object.prototype.toString.call(e)
    }

    function a(e, t) {
        var n, s = [];
        for (n = 0; n < e.length; ++n) s.push(t(e[n], n));
        return s
    }

    function o(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }

    function u(e, t) {
        for (var n in t) o(t, n) && (e[n] = t[n]);
        return o(t, "toString") && (e.toString = t.toString), o(t, "valueOf") && (e.valueOf = t.valueOf), e
    }

    function l(e, t, n, s) {
        return _e(e, t, n, s, !0).utc()
    }

    function d(e) {
        return null == e._pf && (e._pf = {
            empty: !1,
            unusedTokens: [],
            unusedInput: [],
            overflow: -2,
            charsLeftOver: 0,
            nullInput: !1,
            invalidMonth: null,
            invalidFormat: !1,
            userInvalidated: !1,
            iso: !1,
            parsedDateParts: [],
            meridiem: null,
            rfc2822: !1,
            weekdayMismatch: !1
        }), e._pf
    }

    function h(e) {
        if (null == e._isValid) {
            var t = d(e),
                n = Be.call(t.parsedDateParts, function(e) {
                    return null != e
                }),
                s = !isNaN(e._d.getTime()) && t.overflow < 0 && !t.empty && !t.invalidMonth && !t.invalidWeekday && !t.weekdayMismatch && !t.nullInput && !t.invalidFormat && !t.userInvalidated && (!t.meridiem || t.meridiem && n);
            if (e._strict && (s = s && 0 === t.charsLeftOver && 0 === t.unusedTokens.length && void 0 === t.bigHour), null != Object.isFrozen && Object.isFrozen(e)) return s;
            e._isValid = s
        }
        return e._isValid
    }

    function c(e) {
        var t = l(NaN);
        return null != e ? u(d(t), e) : d(t).userInvalidated = !0, t
    }

    function f(e, t) {
        var n, i, r;
        if (s(t._isAMomentObject) || (e._isAMomentObject = t._isAMomentObject), s(t._i) || (e._i = t._i), s(t._f) || (e._f = t._f), s(t._l) || (e._l = t._l), s(t._strict) || (e._strict = t._strict), s(t._tzm) || (e._tzm = t._tzm), s(t._isUTC) || (e._isUTC = t._isUTC), s(t._offset) || (e._offset = t._offset), s(t._pf) || (e._pf = d(t)), s(t._locale) || (e._locale = t._locale), 0 < Xe.length)
            for (n = 0; n < Xe.length; n++) s(r = t[i = Xe[n]]) || (e[i] = r);
        return e
    }

    function m(t) {
        f(this, t), this._d = new Date(null != t._d ? t._d.getTime() : NaN), this.isValid() || (this._d = new Date(NaN)), !1 === Ke && (Ke = !0, e.updateOffset(this), Ke = !1)
    }

    function _(e) {
        return e instanceof m || null != e && null != e._isAMomentObject
    }

    function y(e) {
        return e < 0 ? Math.ceil(e) || 0 : Math.floor(e)
    }

    function g(e) {
        var t = +e,
            n = 0;
        return 0 !== t && isFinite(t) && (n = y(t)), n
    }

    function p(e, t, n) {
        var s, i = Math.min(e.length, t.length),
            r = Math.abs(e.length - t.length),
            a = 0;
        for (s = 0; s < i; s++)(n && e[s] !== t[s] || !n && g(e[s]) !== g(t[s])) && a++;
        return a + r
    }

    function w(t) {
        !1 === e.suppressDeprecationWarnings && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + t)
    }

    function M(t, n) {
        var s = !0;
        return u(function() {
            if (null != e.deprecationHandler && e.deprecationHandler(null, t), s) {
                for (var i, r = [], a = 0; a < arguments.length; a++) {
                    if (i = "", "object" == typeof arguments[a]) {
                        for (var o in i += "\n[" + a + "] ", arguments[0]) i += o + ": " + arguments[0][o] + ", ";
                        i = i.slice(0, -2)
                    } else i = arguments[a];
                    r.push(i)
                }
                w(t + "\nArguments: " + Array.prototype.slice.call(r).join("") + "\n" + (new Error).stack), s = !1
            }
            return n.apply(this, arguments)
        }, n)
    }

    function v(t, n) {
        null != e.deprecationHandler && e.deprecationHandler(t, n), et[t] || (w(n), et[t] = !0)
    }

    function S(e) {
        return e instanceof Function || "[object Function]" === Object.prototype.toString.call(e)
    }

    function D(e, t) {
        var s, i = u({}, e);
        for (s in t) o(t, s) && (n(e[s]) && n(t[s]) ? (i[s] = {}, u(i[s], e[s]), u(i[s], t[s])) : null != t[s] ? i[s] = t[s] : delete i[s]);
        for (s in e) o(e, s) && !o(t, s) && n(e[s]) && (i[s] = u({}, i[s]));
        return i
    }

    function k(e) {
        null != e && this.set(e)
    }

    function Y(e, t) {
        var n = e.toLowerCase();
        tt[n] = tt[n + "s"] = tt[t] = e
    }

    function O(e) {
        return "string" == typeof e ? tt[e] || tt[e.toLowerCase()] : void 0
    }

    function T(e) {
        var t, n, s = {};
        for (n in e) o(e, n) && (t = O(n)) && (s[t] = e[n]);
        return s
    }

    function x(e, t) {
        nt[e] = t
    }

    function b(e, t, n) {
        var s = "" + Math.abs(e),
            i = t - s.length;
        return (0 <= e ? n ? "+" : "" : "-") + Math.pow(10, Math.max(0, i)).toString().substr(1) + s
    }

    function P(e, t, n, s) {
        var i = s;
        "string" == typeof s && (i = function() {
            return this[s]()
        }), e && (at[e] = i), t && (at[t[0]] = function() {
            return b(i.apply(this, arguments), t[1], t[2])
        }), n && (at[n] = function() {
            return this.localeData().ordinal(i.apply(this, arguments), e)
        })
    }

    function W(e, t) {
        return e.isValid() ? (t = H(t, e.localeData()), rt[t] = rt[t] || function(e) {
            var t, n, s, i = e.match(st);
            for (t = 0, n = i.length; t < n; t++) at[i[t]] ? i[t] = at[i[t]] : i[t] = (s = i[t]).match(/\[[\s\S]/) ? s.replace(/^\[|\]$/g, "") : s.replace(/\\/g, "");
            return function(t) {
                var s, r = "";
                for (s = 0; s < n; s++) r += S(i[s]) ? i[s].call(t, e) : i[s];
                return r
            }
        }(t), rt[t](e)) : e.localeData().invalidDate()
    }

    function H(e, t) {
        function n(e) {
            return t.longDateFormat(e) || e
        }
        var s = 5;
        for (it.lastIndex = 0; 0 <= s && it.test(e);) e = e.replace(it, n), it.lastIndex = 0, s -= 1;
        return e
    }

    function R(e, t, n) {
        Dt[e] = S(t) ? t : function(e, s) {
            return e && n ? n : t
        }
    }

    function C(e, t) {
        return o(Dt, e) ? Dt[e](t._strict, t._locale) : new RegExp(F(e.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(e, t, n, s, i) {
            return t || n || s || i
        })))
    }

    function F(e) {
        return e.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&")
    }

    function L(e, t) {
        var n, s = t;
        for ("string" == typeof e && (e = [e]), i(t) && (s = function(e, n) {
                n[t] = g(e)
            }), n = 0; n < e.length; n++) kt[e[n]] = s
    }

    function U(e, t) {
        L(e, function(e, n, s, i) {
            s._w = s._w || {}, t(e, s._w, s, i)
        })
    }

    function N(e) {
        return G(e) ? 366 : 365
    }

    function G(e) {
        return e % 4 == 0 && e % 100 != 0 || e % 400 == 0
    }

    function V(t, n) {
        return function(s) {
            return null != s ? (I(this, t, s), e.updateOffset(this, n), this) : E(this, t)
        }
    }

    function E(e, t) {
        return e.isValid() ? e._d["get" + (e._isUTC ? "UTC" : "") + t]() : NaN
    }

    function I(e, t, n) {
        e.isValid() && !isNaN(n) && ("FullYear" === t && G(e.year()) && 1 === e.month() && 29 === e.date() ? e._d["set" + (e._isUTC ? "UTC" : "") + t](n, e.month(), A(n, e.month())) : e._d["set" + (e._isUTC ? "UTC" : "") + t](n))
    }

    function A(e, t) {
        if (isNaN(e) || isNaN(t)) return NaN;
        var n, s = (t % (n = 12) + n) % n;
        return e += (t - s) / 12, 1 === s ? G(e) ? 29 : 28 : 31 - s % 7 % 2
    }

    function j(e, t) {
        var n;
        if (!e.isValid()) return e;
        if ("string" == typeof t)
            if (/^\d+$/.test(t)) t = g(t);
            else if (!i(t = e.localeData().monthsParse(t))) return e;
        return n = Math.min(e.date(), A(e.year(), t)), e._d["set" + (e._isUTC ? "UTC" : "") + "Month"](t, n), e
    }

    function Z(t) {
        return null != t ? (j(this, t), e.updateOffset(this, !0), this) : E(this, "Month")
    }

    function z() {
        function e(e, t) {
            return t.length - e.length
        }
        var t, n, s = [],
            i = [],
            r = [];
        for (t = 0; t < 12; t++) n = l([2e3, t]), s.push(this.monthsShort(n, "")), i.push(this.months(n, "")), r.push(this.months(n, "")), r.push(this.monthsShort(n, ""));
        for (s.sort(e), i.sort(e), r.sort(e), t = 0; t < 12; t++) s[t] = F(s[t]), i[t] = F(i[t]);
        for (t = 0; t < 24; t++) r[t] = F(r[t]);
        this._monthsRegex = new RegExp("^(" + r.join("|") + ")", "i"), this._monthsShortRegex = this._monthsRegex, this._monthsStrictRegex = new RegExp("^(" + i.join("|") + ")", "i"), this._monthsShortStrictRegex = new RegExp("^(" + s.join("|") + ")", "i")
    }

    function $(e) {
        var t = new Date(Date.UTC.apply(null, arguments));
        return e < 100 && 0 <= e && isFinite(t.getUTCFullYear()) && t.setUTCFullYear(e), t
    }

    function q(e, t, n) {
        var s = 7 + t - n;
        return -((7 + $(e, 0, s).getUTCDay() - t) % 7) + s - 1
    }

    function J(e, t, n, s, i) {
        var r, a, o = 1 + 7 * (t - 1) + (7 + n - s) % 7 + q(e, s, i);
        return o <= 0 ? a = N(r = e - 1) + o : o > N(e) ? (r = e + 1, a = o - N(e)) : (r = e, a = o), {
            year: r,
            dayOfYear: a
        }
    }

    function B(e, t, n) {
        var s, i, r = q(e.year(), t, n),
            a = Math.floor((e.dayOfYear() - r - 1) / 7) + 1;
        return a < 1 ? s = a + Q(i = e.year() - 1, t, n) : a > Q(e.year(), t, n) ? (s = a - Q(e.year(), t, n), i = e.year() + 1) : (i = e.year(), s = a), {
            week: s,
            year: i
        }
    }

    function Q(e, t, n) {
        var s = q(e, t, n),
            i = q(e + 1, t, n);
        return (N(e) - s + i) / 7
    }

    function X() {
        function e(e, t) {
            return t.length - e.length
        }
        var t, n, s, i, r, a = [],
            o = [],
            u = [],
            d = [];
        for (t = 0; t < 7; t++) n = l([2e3, 1]).day(t), s = this.weekdaysMin(n, ""), i = this.weekdaysShort(n, ""), r = this.weekdays(n, ""), a.push(s), o.push(i), u.push(r), d.push(s), d.push(i), d.push(r);
        for (a.sort(e), o.sort(e), u.sort(e), d.sort(e), t = 0; t < 7; t++) o[t] = F(o[t]), u[t] = F(u[t]), d[t] = F(d[t]);
        this._weekdaysRegex = new RegExp("^(" + d.join("|") + ")", "i"), this._weekdaysShortRegex = this._weekdaysRegex, this._weekdaysMinRegex = this._weekdaysRegex, this._weekdaysStrictRegex = new RegExp("^(" + u.join("|") + ")", "i"), this._weekdaysShortStrictRegex = new RegExp("^(" + o.join("|") + ")", "i"), this._weekdaysMinStrictRegex = new RegExp("^(" + a.join("|") + ")", "i")
    }

    function K() {
        return this.hours() % 12 || 12
    }

    function ee(e, t) {
        P(e, 0, 0, function() {
            return this.localeData().meridiem(this.hours(), this.minutes(), t)
        })
    }

    function te(e, t) {
        return t._meridiemParse
    }

    function ne(e) {
        return e ? e.toLowerCase().replace("_", "-") : e
    }

    function se(e) {
        var t = null;
        if (!Bt[e] && "undefined" != typeof module && module && module.exports) try {
            t = $t._abbr, require("./locale/" + e), ie(t)
        } catch (e) {}
        return Bt[e]
    }

    function ie(e, t) {
        var n;
        return e && ((n = s(t) ? ae(e) : re(e, t)) ? $t = n : "undefined" != typeof console && console.warn && console.warn("Locale " + e + " not found. Did you forget to load it?")), $t._abbr
    }

    function re(e, t) {
        if (null !== t) {
            var n, s = Jt;
            if (t.abbr = e, null != Bt[e]) v("defineLocaleOverride", "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."), s = Bt[e]._config;
            else if (null != t.parentLocale)
                if (null != Bt[t.parentLocale]) s = Bt[t.parentLocale]._config;
                else {
                    if (null == (n = se(t.parentLocale))) return Qt[t.parentLocale] || (Qt[t.parentLocale] = []), Qt[t.parentLocale].push({
                        name: e,
                        config: t
                    }), null;
                    s = n._config
                }
            return Bt[e] = new k(D(s, t)), Qt[e] && Qt[e].forEach(function(e) {
                re(e.name, e.config)
            }), ie(e), Bt[e]
        }
        return delete Bt[e], null
    }

    function ae(e) {
        var n;
        if (e && e._locale && e._locale._abbr && (e = e._locale._abbr), !e) return $t;
        if (!t(e)) {
            if (n = se(e)) return n;
            e = [e]
        }
        return function(e) {
            for (var t, n, s, i, r = 0; r < e.length;) {
                for (t = (i = ne(e[r]).split("-")).length, n = (n = ne(e[r + 1])) ? n.split("-") : null; 0 < t;) {
                    if (s = se(i.slice(0, t).join("-"))) return s;
                    if (n && n.length >= t && p(i, n, !0) >= t - 1) break;
                    t--
                }
                r++
            }
            return $t
        }(e)
    }

    function oe(e) {
        var t, n = e._a;
        return n && -2 === d(e).overflow && (t = n[Ot] < 0 || 11 < n[Ot] ? Ot : n[Tt] < 1 || n[Tt] > A(n[Yt], n[Ot]) ? Tt : n[xt] < 0 || 24 < n[xt] || 24 === n[xt] && (0 !== n[bt] || 0 !== n[Pt] || 0 !== n[Wt]) ? xt : n[bt] < 0 || 59 < n[bt] ? bt : n[Pt] < 0 || 59 < n[Pt] ? Pt : n[Wt] < 0 || 999 < n[Wt] ? Wt : -1, d(e)._overflowDayOfYear && (t < Yt || Tt < t) && (t = Tt), d(e)._overflowWeeks && -1 === t && (t = Ht), d(e)._overflowWeekday && -1 === t && (t = Rt), d(e).overflow = t), e
    }

    function ue(e, t, n) {
        return null != e ? e : null != t ? t : n
    }

    function le(t) {
        var n, s, i, r, a, o = [];
        if (!t._d) {
            var u, l;
            for (u = t, l = new Date(e.now()), i = u._useUTC ? [l.getUTCFullYear(), l.getUTCMonth(), l.getUTCDate()] : [l.getFullYear(), l.getMonth(), l.getDate()], t._w && null == t._a[Tt] && null == t._a[Ot] && function(e) {
                    var t, n, s, i, r, a, o, u;
                    if (null != (t = e._w).GG || null != t.W || null != t.E) r = 1, a = 4, n = ue(t.GG, e._a[Yt], B(ye(), 1, 4).year), s = ue(t.W, 1), ((i = ue(t.E, 1)) < 1 || 7 < i) && (u = !0);
                    else {
                        r = e._locale._week.dow, a = e._locale._week.doy;
                        var l = B(ye(), r, a);
                        n = ue(t.gg, e._a[Yt], l.year), s = ue(t.w, l.week), null != t.d ? ((i = t.d) < 0 || 6 < i) && (u = !0) : null != t.e ? (i = t.e + r, (t.e < 0 || 6 < t.e) && (u = !0)) : i = r
                    }
                    s < 1 || s > Q(n, r, a) ? d(e)._overflowWeeks = !0 : null != u ? d(e)._overflowWeekday = !0 : (o = J(n, s, i, r, a), e._a[Yt] = o.year, e._dayOfYear = o.dayOfYear)
                }(t), null != t._dayOfYear && (a = ue(t._a[Yt], i[Yt]), (t._dayOfYear > N(a) || 0 === t._dayOfYear) && (d(t)._overflowDayOfYear = !0), s = $(a, 0, t._dayOfYear), t._a[Ot] = s.getUTCMonth(), t._a[Tt] = s.getUTCDate()), n = 0; n < 3 && null == t._a[n]; ++n) t._a[n] = o[n] = i[n];
            for (; n < 7; n++) t._a[n] = o[n] = null == t._a[n] ? 2 === n ? 1 : 0 : t._a[n];
            24 === t._a[xt] && 0 === t._a[bt] && 0 === t._a[Pt] && 0 === t._a[Wt] && (t._nextDay = !0, t._a[xt] = 0), t._d = (t._useUTC ? $ : function(e, t, n, s, i, r, a) {
                var o = new Date(e, t, n, s, i, r, a);
                return e < 100 && 0 <= e && isFinite(o.getFullYear()) && o.setFullYear(e), o
            }).apply(null, o), r = t._useUTC ? t._d.getUTCDay() : t._d.getDay(), null != t._tzm && t._d.setUTCMinutes(t._d.getUTCMinutes() - t._tzm), t._nextDay && (t._a[xt] = 24), t._w && void 0 !== t._w.d && t._w.d !== r && (d(t).weekdayMismatch = !0)
        }
    }

    function de(e) {
        var t, n, s, i, r, a, o = e._i,
            u = Xt.exec(o) || Kt.exec(o);
        if (u) {
            for (d(e).iso = !0, t = 0, n = tn.length; t < n; t++)
                if (tn[t][1].exec(u[1])) {
                    i = tn[t][0], s = !1 !== tn[t][2];
                    break
                }
            if (null == i) return void(e._isValid = !1);
            if (u[3]) {
                for (t = 0, n = nn.length; t < n; t++)
                    if (nn[t][1].exec(u[3])) {
                        r = (u[2] || " ") + nn[t][0];
                        break
                    }
                if (null == r) return void(e._isValid = !1)
            }
            if (!s && null != r) return void(e._isValid = !1);
            if (u[4]) {
                if (!en.exec(u[4])) return void(e._isValid = !1);
                a = "Z"
            }
            e._f = i + (r || "") + (a || ""), fe(e)
        } else e._isValid = !1
    }

    function he(e, t, n, s, i, r) {
        var a = [function(e) {
            var t = parseInt(e, 10);
            return t <= 49 ? 2e3 + t : t <= 999 ? 1900 + t : t
        }(e), Nt.indexOf(t), parseInt(n, 10), parseInt(s, 10), parseInt(i, 10)];
        return r && a.push(parseInt(r, 10)), a
    }

    function ce(e) {
        var t, n, s, i = rn.exec(e._i.replace(/\([^)]*\)|[\n\t]/g, " ").replace(/(\s\s+)/g, " ").trim());
        if (i) {
            var r = he(i[4], i[3], i[2], i[5], i[6], i[7]);
            if (t = i[1], n = r, s = e, t && It.indexOf(t) !== new Date(n[0], n[1], n[2]).getDay() && (d(s).weekdayMismatch = !0, !(s._isValid = !1))) return;
            e._a = r, e._tzm = function(e, t, n) {
                if (e) return an[e];
                if (t) return 0;
                var s = parseInt(n, 10),
                    i = s % 100;
                return (s - i) / 100 * 60 + i
            }(i[8], i[9], i[10]), e._d = $.apply(null, e._a), e._d.setUTCMinutes(e._d.getUTCMinutes() - e._tzm), d(e).rfc2822 = !0
        } else e._isValid = !1
    }

    function fe(t) {
        if (t._f !== e.ISO_8601)
            if (t._f !== e.RFC_2822) {
                t._a = [], d(t).empty = !0;
                var n, s, i, r, a, u, l, h, c = "" + t._i,
                    f = c.length,
                    m = 0;
                for (i = H(t._f, t._locale).match(st) || [], n = 0; n < i.length; n++) r = i[n], (s = (c.match(C(r, t)) || [])[0]) && (0 < (a = c.substr(0, c.indexOf(s))).length && d(t).unusedInput.push(a), c = c.slice(c.indexOf(s) + s.length), m += s.length), at[r] ? (s ? d(t).empty = !1 : d(t).unusedTokens.push(r), u = r, h = t, null != (l = s) && o(kt, u) && kt[u](l, h._a, h, u)) : t._strict && !s && d(t).unusedTokens.push(r);
                d(t).charsLeftOver = f - m, 0 < c.length && d(t).unusedInput.push(c), t._a[xt] <= 12 && !0 === d(t).bigHour && 0 < t._a[xt] && (d(t).bigHour = void 0), d(t).parsedDateParts = t._a.slice(0), d(t).meridiem = t._meridiem, t._a[xt] = function(e, t, n) {
                    var s;
                    return null == n ? t : null != e.meridiemHour ? e.meridiemHour(t, n) : (null != e.isPM && ((s = e.isPM(n)) && t < 12 && (t += 12), s || 12 !== t || (t = 0)), t)
                }(t._locale, t._a[xt], t._meridiem), le(t), oe(t)
            } else ce(t);
        else de(t)
    }

    function me(o) {
        var l, y, g, p, w = o._i,
            M = o._f;
        return o._locale = o._locale || ae(o._l), null === w || void 0 === M && "" === w ? c({
            nullInput: !0
        }) : ("string" == typeof w && (o._i = w = o._locale.preparse(w)), _(w) ? new m(oe(w)) : (r(w) ? o._d = w : t(M) ? function(e) {
            var t, n, s, i, r;
            if (0 === e._f.length) return d(e).invalidFormat = !0, e._d = new Date(NaN);
            for (i = 0; i < e._f.length; i++) r = 0, t = f({}, e), null != e._useUTC && (t._useUTC = e._useUTC), t._f = e._f[i], fe(t), h(t) && (r += d(t).charsLeftOver, r += 10 * d(t).unusedTokens.length, d(t).score = r, (null == s || r < s) && (s = r, n = t));
            u(e, n || t)
        }(o) : M ? fe(o) : s(y = (l = o)._i) ? l._d = new Date(e.now()) : r(y) ? l._d = new Date(y.valueOf()) : "string" == typeof y ? (g = l, null === (p = sn.exec(g._i)) ? (de(g), !1 === g._isValid && (delete g._isValid, ce(g), !1 === g._isValid && (delete g._isValid, e.createFromInputFallback(g)))) : g._d = new Date((+p[1]))) : t(y) ? (l._a = a(y.slice(0), function(e) {
            return parseInt(e, 10)
        }), le(l)) : n(y) ? function(e) {
            if (!e._d) {
                var t = T(e._i);
                e._a = a([t.year, t.month, t.day || t.date, t.hour, t.minute, t.second, t.millisecond], function(e) {
                    return e && parseInt(e, 10)
                }), le(e)
            }
        }(l) : i(y) ? l._d = new Date(y) : e.createFromInputFallback(l), h(o) || (o._d = null), o))
    }

    function _e(e, s, i, r, a) {
        var o, u = {};
        return !0 !== i && !1 !== i || (r = i, i = void 0), (n(e) && function(e) {
            if (Object.getOwnPropertyNames) return 0 === Object.getOwnPropertyNames(e).length;
            var t;
            for (t in e)
                if (e.hasOwnProperty(t)) return !1;
            return !0
        }(e) || t(e) && 0 === e.length) && (e = void 0), u._isAMomentObject = !0, u._useUTC = u._isUTC = a, u._l = i, u._i = e, u._f = s, u._strict = r, (o = new m(oe(me(u))))._nextDay && (o.add(1, "d"), o._nextDay = void 0), o
    }

    function ye(e, t, n, s) {
        return _e(e, t, n, s, !1)
    }

    function ge(e, n) {
        var s, i;
        if (1 === n.length && t(n[0]) && (n = n[0]), !n.length) return ye();
        for (s = n[0], i = 1; i < n.length; ++i) n[i].isValid() && !n[i][e](s) || (s = n[i]);
        return s
    }

    function pe(e) {
        var t = T(e),
            n = t.year || 0,
            s = t.quarter || 0,
            i = t.month || 0,
            r = t.week || 0,
            a = t.day || 0,
            o = t.hour || 0,
            u = t.minute || 0,
            l = t.second || 0,
            d = t.millisecond || 0;
        this._isValid = function(e) {
            for (var t in e)
                if (-1 === Ct.call(ln, t) || null != e[t] && isNaN(e[t])) return !1;
            for (var n = !1, s = 0; s < ln.length; ++s)
                if (e[ln[s]]) {
                    if (n) return !1;
                    parseFloat(e[ln[s]]) !== g(e[ln[s]]) && (n = !0)
                }
            return !0
        }(t), this._milliseconds = +d + 1e3 * l + 6e4 * u + 1e3 * o * 60 * 60, this._days = +a + 7 * r, this._months = +i + 3 * s + 12 * n, this._data = {}, this._locale = ae(), this._bubble()
    }

    function we(e) {
        return e instanceof pe
    }

    function Me(e) {
        return e < 0 ? -1 * Math.round(-1 * e) : Math.round(e)
    }

    function ve(e, t) {
        P(e, 0, 0, function() {
            var e = this.utcOffset(),
                n = "+";
            return e < 0 && (e = -e, n = "-"), n + b(~~(e / 60), 2) + t + b(~~e % 60, 2)
        })
    }

    function Se(e, t) {
        var n = (t || "").match(e);
        if (null === n) return null;
        var s = ((n[n.length - 1] || []) + "").match(dn) || ["-", 0, 0],
            i = 60 * s[1] + g(s[2]);
        return 0 === i ? 0 : "+" === s[0] ? i : -i
    }

    function De(t, n) {
        var s, i;
        return n._isUTC ? (s = n.clone(), i = (_(t) || r(t) ? t.valueOf() : ye(t).valueOf()) - s.valueOf(), s._d.setTime(s._d.valueOf() + i), e.updateOffset(s, !1), s) : ye(t).local()
    }

    function ke(e) {
        return 15 * -Math.round(e._d.getTimezoneOffset() / 15)
    }

    function Ye() {
        return !!this.isValid() && this._isUTC && 0 === this._offset
    }

    function Oe(e, t) {
        var n, s, r, a = e,
            u = null;
        return we(e) ? a = {
            ms: e._milliseconds,
            d: e._days,
            M: e._months
        } : i(e) ? (a = {}, t ? a[t] = e : a.milliseconds = e) : (u = hn.exec(e)) ? (n = "-" === u[1] ? -1 : 1, a = {
            y: 0,
            d: g(u[Tt]) * n,
            h: g(u[xt]) * n,
            m: g(u[bt]) * n,
            s: g(u[Pt]) * n,
            ms: g(Me(1e3 * u[Wt])) * n
        }) : (u = cn.exec(e)) ? (n = "-" === u[1] ? -1 : (u[1], 1), a = {
            y: Te(u[2], n),
            M: Te(u[3], n),
            w: Te(u[4], n),
            d: Te(u[5], n),
            h: Te(u[6], n),
            m: Te(u[7], n),
            s: Te(u[8], n)
        }) : null == a ? a = {} : "object" == typeof a && ("from" in a || "to" in a) && (r = function(e, t) {
            var n;
            return e.isValid() && t.isValid() ? (t = De(t, e), e.isBefore(t) ? n = xe(e, t) : ((n = xe(t, e)).milliseconds = -n.milliseconds, n.months = -n.months), n) : {
                milliseconds: 0,
                months: 0
            }
        }(ye(a.from), ye(a.to)), (a = {}).ms = r.milliseconds, a.M = r.months), s = new pe(a), we(e) && o(e, "_locale") && (s._locale = e._locale), s
    }

    function Te(e, t) {
        var n = e && parseFloat(e.replace(",", "."));
        return (isNaN(n) ? 0 : n) * t
    }

    function xe(e, t) {
        var n = {
            milliseconds: 0,
            months: 0
        };
        return n.months = t.month() - e.month() + 12 * (t.year() - e.year()), e.clone().add(n.months, "M").isAfter(t) && --n.months, n.milliseconds = +t - +e.clone().add(n.months, "M"), n
    }

    function be(e, t) {
        return function(n, s) {
            var i;
            return null === s || isNaN(+s) || (v(t, "moment()." + t + "(period, number) is deprecated. Please use moment()." + t + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."), i = n, n = s, s = i), Pe(this, Oe(n = "string" == typeof n ? +n : n, s), e), this
        }
    }

    function Pe(t, n, s, i) {
        var r = n._milliseconds,
            a = Me(n._days),
            o = Me(n._months);
        t.isValid() && (i = null == i || i, o && j(t, E(t, "Month") + o * s), a && I(t, "Date", E(t, "Date") + a * s), r && t._d.setTime(t._d.valueOf() + r * s), i && e.updateOffset(t, a || o))
    }

    function We(e, t) {
        var n = 12 * (t.year() - e.year()) + (t.month() - e.month()),
            s = e.clone().add(n, "months");
        return -(n + (t - s < 0 ? (t - s) / (s - e.clone().add(n - 1, "months")) : (t - s) / (e.clone().add(n + 1, "months") - s))) || 0
    }

    function He(e) {
        var t;
        return void 0 === e ? this._locale._abbr : (null != (t = ae(e)) && (this._locale = t), this)
    }

    function Re() {
        return this._locale
    }

    function Ce(e, t) {
        P(0, [e, e.length], 0, t)
    }

    function Fe(e, t, n, s, i) {
        var r;
        return null == e ? B(this, s, i).year : ((r = Q(e, s, i)) < t && (t = r), function(e, t, n, s, i) {
            var r = J(e, t, n, s, i),
                a = $(r.year, 0, r.dayOfYear);
            return this.year(a.getUTCFullYear()), this.month(a.getUTCMonth()), this.date(a.getUTCDate()), this
        }.call(this, e, t, n, s, i))
    }

    function Le(e, t) {
        t[Wt] = g(1e3 * ("0." + e))
    }

    function Ue(e) {
        return e
    }

    function Ne(e, t, n, s) {
        var i = ae(),
            r = l().set(s, t);
        return i[n](r, e)
    }

    function Ge(e, t, n) {
        if (i(e) && (t = e, e = void 0), e = e || "", null != t) return Ne(e, t, n, "month");
        var s, r = [];
        for (s = 0; s < 12; s++) r[s] = Ne(e, s, n, "month");
        return r
    }

    function Ve(e, t, n, s) {
        "boolean" == typeof e ? i(t) && (n = t, t = void 0) : (t = e, e = !1, i(n = t) && (n = t, t = void 0)), t = t || "";
        var r, a = ae(),
            o = e ? a._week.dow : 0;
        if (null != n) return Ne(t, (n + o) % 7, s, "day");
        var u = [];
        for (r = 0; r < 7; r++) u[r] = Ne(t, (r + o) % 7, s, "day");
        return u
    }

    function Ee(e, t, n, s) {
        var i = Oe(t, n);
        return e._milliseconds += s * i._milliseconds, e._days += s * i._days, e._months += s * i._months, e._bubble()
    }

    function Ie(e) {
        return e < 0 ? Math.floor(e) : Math.ceil(e)
    }

    function Ae(e) {
        return 4800 * e / 146097
    }

    function je(e) {
        return 146097 * e / 4800
    }

    function Ze(e) {
        return function() {
            return this.as(e)
        }
    }

    function ze(e) {
        return function() {
            return this.isValid() ? this._data[e] : NaN
        }
    }

    function $e(e) {
        return (0 < e) - (e < 0) || +e
    }

    function qe() {
        if (!this.isValid()) return this.localeData().invalidDate();
        var e, t, n = En(this._milliseconds) / 1e3,
            s = En(this._days),
            i = En(this._months);
        t = y((e = y(n / 60)) / 60), n %= 60, e %= 60;
        var r = y(i / 12),
            a = i %= 12,
            o = s,
            u = t,
            l = e,
            d = n ? n.toFixed(3).replace(/\.?0+$/, "") : "",
            h = this.asSeconds();
        if (!h) return "P0D";
        var c = h < 0 ? "-" : "",
            f = $e(this._months) !== $e(h) ? "-" : "",
            m = $e(this._days) !== $e(h) ? "-" : "",
            _ = $e(this._milliseconds) !== $e(h) ? "-" : "";
        return c + "P" + (r ? f + r + "Y" : "") + (a ? f + a + "M" : "") + (o ? m + o + "D" : "") + (u || l || d ? "T" : "") + (u ? _ + u + "H" : "") + (l ? _ + l + "M" : "") + (d ? _ + d + "S" : "")
    }
    var Je, Be;
    Be = Array.prototype.some ? Array.prototype.some : function(e) {
        for (var t = Object(this), n = t.length >>> 0, s = 0; s < n; s++)
            if (s in t && e.call(this, t[s], s, t)) return !0;
        return !1
    };
    var Qe, Xe = e.momentProperties = [],
        Ke = !1,
        et = {};
    e.suppressDeprecationWarnings = !1, e.deprecationHandler = null, Qe = Object.keys ? Object.keys : function(e) {
        var t, n = [];
        for (t in e) o(e, t) && n.push(t);
        return n
    };
    var tt = {},
        nt = {},
        st = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,
        it = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,
        rt = {},
        at = {},
        ot = /\d/,
        ut = /\d\d/,
        lt = /\d{3}/,
        dt = /\d{4}/,
        ht = /[+-]?\d{6}/,
        ct = /\d\d?/,
        ft = /\d\d\d\d?/,
        mt = /\d\d\d\d\d\d?/,
        _t = /\d{1,3}/,
        yt = /\d{1,4}/,
        gt = /[+-]?\d{1,6}/,
        pt = /\d+/,
        wt = /[+-]?\d+/,
        Mt = /Z|[+-]\d\d:?\d\d/gi,
        vt = /Z|[+-]\d\d(?::?\d\d)?/gi,
        St = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,
        Dt = {},
        kt = {},
        Yt = 0,
        Ot = 1,
        Tt = 2,
        xt = 3,
        bt = 4,
        Pt = 5,
        Wt = 6,
        Ht = 7,
        Rt = 8;
    P("Y", 0, 0, function() {
        var e = this.year();
        return e <= 9999 ? "" + e : "+" + e
    }), P(0, ["YY", 2], 0, function() {
        return this.year() % 100
    }), P(0, ["YYYY", 4], 0, "year"), P(0, ["YYYYY", 5], 0, "year"), P(0, ["YYYYYY", 6, !0], 0, "year"), Y("year", "y"), x("year", 1), R("Y", wt), R("YY", ct, ut), R("YYYY", yt, dt), R("YYYYY", gt, ht), R("YYYYYY", gt, ht), L(["YYYYY", "YYYYYY"], Yt), L("YYYY", function(t, n) {
        n[Yt] = 2 === t.length ? e.parseTwoDigitYear(t) : g(t)
    }), L("YY", function(t, n) {
        n[Yt] = e.parseTwoDigitYear(t)
    }), L("Y", function(e, t) {
        t[Yt] = parseInt(e, 10)
    }), e.parseTwoDigitYear = function(e) {
        return g(e) + (68 < g(e) ? 1900 : 2e3)
    };
    var Ct, Ft = V("FullYear", !0);
    Ct = Array.prototype.indexOf ? Array.prototype.indexOf : function(e) {
        var t;
        for (t = 0; t < this.length; ++t)
            if (this[t] === e) return t;
        return -1
    }, P("M", ["MM", 2], "Mo", function() {
        return this.month() + 1
    }), P("MMM", 0, 0, function(e) {
        return this.localeData().monthsShort(this, e)
    }), P("MMMM", 0, 0, function(e) {
        return this.localeData().months(this, e)
    }), Y("month", "M"), x("month", 8), R("M", ct), R("MM", ct, ut), R("MMM", function(e, t) {
        return t.monthsShortRegex(e)
    }), R("MMMM", function(e, t) {
        return t.monthsRegex(e)
    }), L(["M", "MM"], function(e, t) {
        t[Ot] = g(e) - 1
    }), L(["MMM", "MMMM"], function(e, t, n, s) {
        var i = n._locale.monthsParse(e, s, n._strict);
        null != i ? t[Ot] = i : d(n).invalidMonth = e
    });
    var Lt = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,
        Ut = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
        Nt = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),
        Gt = St,
        Vt = St;
    P("w", ["ww", 2], "wo", "week"), P("W", ["WW", 2], "Wo", "isoWeek"), Y("week", "w"), Y("isoWeek", "W"), x("week", 5), x("isoWeek", 5), R("w", ct), R("ww", ct, ut), R("W", ct), R("WW", ct, ut), U(["w", "ww", "W", "WW"], function(e, t, n, s) {
        t[s.substr(0, 1)] = g(e)
    }), P("d", 0, "do", "day"), P("dd", 0, 0, function(e) {
        return this.localeData().weekdaysMin(this, e)
    }), P("ddd", 0, 0, function(e) {
        return this.localeData().weekdaysShort(this, e)
    }), P("dddd", 0, 0, function(e) {
        return this.localeData().weekdays(this, e)
    }), P("e", 0, 0, "weekday"), P("E", 0, 0, "isoWeekday"), Y("day", "d"), Y("weekday", "e"), Y("isoWeekday", "E"), x("day", 11), x("weekday", 11), x("isoWeekday", 11), R("d", ct), R("e", ct), R("E", ct), R("dd", function(e, t) {
        return t.weekdaysMinRegex(e)
    }), R("ddd", function(e, t) {
        return t.weekdaysShortRegex(e)
    }), R("dddd", function(e, t) {
        return t.weekdaysRegex(e)
    }), U(["dd", "ddd", "dddd"], function(e, t, n, s) {
        var i = n._locale.weekdaysParse(e, s, n._strict);
        null != i ? t.d = i : d(n).invalidWeekday = e
    }), U(["d", "e", "E"], function(e, t, n, s) {
        t[s] = g(e)
    });
    var Et = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
        It = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
        At = "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),
        jt = St,
        Zt = St,
        zt = St;
    P("H", ["HH", 2], 0, "hour"), P("h", ["hh", 2], 0, K), P("k", ["kk", 2], 0, function() {
        return this.hours() || 24
    }), P("hmm", 0, 0, function() {
        return "" + K.apply(this) + b(this.minutes(), 2)
    }), P("hmmss", 0, 0, function() {
        return "" + K.apply(this) + b(this.minutes(), 2) + b(this.seconds(), 2)
    }), P("Hmm", 0, 0, function() {
        return "" + this.hours() + b(this.minutes(), 2)
    }), P("Hmmss", 0, 0, function() {
        return "" + this.hours() + b(this.minutes(), 2) + b(this.seconds(), 2)
    }), ee("a", !0), ee("A", !1), Y("hour", "h"), x("hour", 13), R("a", te), R("A", te), R("H", ct), R("h", ct), R("k", ct), R("HH", ct, ut), R("hh", ct, ut), R("kk", ct, ut), R("hmm", ft), R("hmmss", mt), R("Hmm", ft), R("Hmmss", mt), L(["H", "HH"], xt), L(["k", "kk"], function(e, t, n) {
        var s = g(e);
        t[xt] = 24 === s ? 0 : s
    }), L(["a", "A"], function(e, t, n) {
        n._isPm = n._locale.isPM(e), n._meridiem = e
    }), L(["h", "hh"], function(e, t, n) {
        t[xt] = g(e), d(n).bigHour = !0
    }), L("hmm", function(e, t, n) {
        var s = e.length - 2;
        t[xt] = g(e.substr(0, s)), t[bt] = g(e.substr(s)), d(n).bigHour = !0
    }), L("hmmss", function(e, t, n) {
        var s = e.length - 4,
            i = e.length - 2;
        t[xt] = g(e.substr(0, s)), t[bt] = g(e.substr(s, 2)), t[Pt] = g(e.substr(i)), d(n).bigHour = !0
    }), L("Hmm", function(e, t, n) {
        var s = e.length - 2;
        t[xt] = g(e.substr(0, s)), t[bt] = g(e.substr(s))
    }), L("Hmmss", function(e, t, n) {
        var s = e.length - 4,
            i = e.length - 2;
        t[xt] = g(e.substr(0, s)), t[bt] = g(e.substr(s, 2)), t[Pt] = g(e.substr(i))
    });
    var $t, qt = V("Hours", !0),
        Jt = {
            calendar: {
                sameDay: "[Today at] LT",
                nextDay: "[Tomorrow at] LT",
                nextWeek: "dddd [at] LT",
                lastDay: "[Yesterday at] LT",
                lastWeek: "[Last] dddd [at] LT",
                sameElse: "L"
            },
            longDateFormat: {
                LTS: "h:mm:ss A",
                LT: "h:mm A",
                L: "MM/DD/YYYY",
                LL: "MMMM D, YYYY",
                LLL: "MMMM D, YYYY h:mm A",
                LLLL: "dddd, MMMM D, YYYY h:mm A"
            },
            invalidDate: "Invalid date",
            ordinal: "%d",
            dayOfMonthOrdinalParse: /\d{1,2}/,
            relativeTime: {
                future: "in %s",
                past: "%s ago",
                s: "a few seconds",
                ss: "%d seconds",
                m: "a minute",
                mm: "%d minutes",
                h: "an hour",
                hh: "%d hours",
                d: "a day",
                dd: "%d days",
                M: "a month",
                MM: "%d months",
                y: "a year",
                yy: "%d years"
            },
            months: Ut,
            monthsShort: Nt,
            week: {
                dow: 0,
                doy: 6
            },
            weekdays: Et,
            weekdaysMin: At,
            weekdaysShort: It,
            meridiemParse: /[ap]\.?m?\.?/i
        },
        Bt = {},
        Qt = {},
        Xt = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
        Kt = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
        en = /Z|[+-]\d\d(?::?\d\d)?/,
        tn = [
            ["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/],
            ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/],
            ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/],
            ["GGGG-[W]WW", /\d{4}-W\d\d/, !1],
            ["YYYY-DDD", /\d{4}-\d{3}/],
            ["YYYY-MM", /\d{4}-\d\d/, !1],
            ["YYYYYYMMDD", /[+-]\d{10}/],
            ["YYYYMMDD", /\d{8}/],
            ["GGGG[W]WWE", /\d{4}W\d{3}/],
            ["GGGG[W]WW", /\d{4}W\d{2}/, !1],
            ["YYYYDDD", /\d{7}/]
        ],
        nn = [
            ["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/],
            ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/],
            ["HH:mm:ss", /\d\d:\d\d:\d\d/],
            ["HH:mm", /\d\d:\d\d/],
            ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/],
            ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/],
            ["HHmmss", /\d\d\d\d\d\d/],
            ["HHmm", /\d\d\d\d/],
            ["HH", /\d\d/]
        ],
        sn = /^\/?Date\((\-?\d+)/i,
        rn = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,
        an = {
            UT: 0,
            GMT: 0,
            EDT: -240,
            EST: -300,
            CDT: -300,
            CST: -360,
            MDT: -360,
            MST: -420,
            PDT: -420,
            PST: -480
        };
    e.createFromInputFallback = M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.", function(e) {
        e._d = new Date(e._i + (e._useUTC ? " UTC" : ""))
    }), e.ISO_8601 = function() {}, e.RFC_2822 = function() {};
    var on = M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/", function() {
            var e = ye.apply(null, arguments);
            return this.isValid() && e.isValid() ? e < this ? this : e : c()
        }),
        un = M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/", function() {
            var e = ye.apply(null, arguments);
            return this.isValid() && e.isValid() ? this < e ? this : e : c()
        }),
        ln = ["year", "quarter", "month", "week", "day", "hour", "minute", "second", "millisecond"];
    ve("Z", ":"), ve("ZZ", ""), R("Z", vt), R("ZZ", vt), L(["Z", "ZZ"], function(e, t, n) {
        n._useUTC = !0, n._tzm = Se(vt, e)
    });
    var dn = /([\+\-]|\d\d)/gi;
    e.updateOffset = function() {};
    var hn = /^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,
        cn = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;
    Oe.fn = pe.prototype, Oe.invalid = function() {
        return Oe(NaN)
    };
    var fn = be(1, "add"),
        mn = be(-1, "subtract");
    e.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ", e.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]";
    var _n = M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function(e) {
        return void 0 === e ? this.localeData() : this.locale(e)
    });
    P(0, ["gg", 2], 0, function() {
        return this.weekYear() % 100
    }), P(0, ["GG", 2], 0, function() {
        return this.isoWeekYear() % 100
    }), Ce("gggg", "weekYear"), Ce("ggggg", "weekYear"), Ce("GGGG", "isoWeekYear"), Ce("GGGGG", "isoWeekYear"), Y("weekYear", "gg"), Y("isoWeekYear", "GG"), x("weekYear", 1), x("isoWeekYear", 1), R("G", wt), R("g", wt), R("GG", ct, ut), R("gg", ct, ut), R("GGGG", yt, dt), R("gggg", yt, dt), R("GGGGG", gt, ht), R("ggggg", gt, ht), U(["gggg", "ggggg", "GGGG", "GGGGG"], function(e, t, n, s) {
        t[s.substr(0, 2)] = g(e)
    }), U(["gg", "GG"], function(t, n, s, i) {
        n[i] = e.parseTwoDigitYear(t)
    }), P("Q", 0, "Qo", "quarter"), Y("quarter", "Q"), x("quarter", 7), R("Q", ot), L("Q", function(e, t) {
        t[Ot] = 3 * (g(e) - 1)
    }), P("D", ["DD", 2], "Do", "date"), Y("date", "D"), x("date", 9), R("D", ct), R("DD", ct, ut), R("Do", function(e, t) {
        return e ? t._dayOfMonthOrdinalParse || t._ordinalParse : t._dayOfMonthOrdinalParseLenient
    }), L(["D", "DD"], Tt), L("Do", function(e, t) {
        t[Tt] = g(e.match(ct)[0])
    });
    var yn = V("Date", !0);
    P("DDD", ["DDDD", 3], "DDDo", "dayOfYear"), Y("dayOfYear", "DDD"), x("dayOfYear", 4), R("DDD", _t), R("DDDD", lt), L(["DDD", "DDDD"], function(e, t, n) {
        n._dayOfYear = g(e)
    }), P("m", ["mm", 2], 0, "minute"), Y("minute", "m"), x("minute", 14), R("m", ct), R("mm", ct, ut), L(["m", "mm"], bt);
    var gn = V("Minutes", !1);
    P("s", ["ss", 2], 0, "second"), Y("second", "s"), x("second", 15), R("s", ct), R("ss", ct, ut), L(["s", "ss"], Pt);
    var pn, wn = V("Seconds", !1);
    for (P("S", 0, 0, function() {
            return ~~(this.millisecond() / 100)
        }), P(0, ["SS", 2], 0, function() {
            return ~~(this.millisecond() / 10)
        }), P(0, ["SSS", 3], 0, "millisecond"), P(0, ["SSSS", 4], 0, function() {
            return 10 * this.millisecond()
        }), P(0, ["SSSSS", 5], 0, function() {
            return 100 * this.millisecond()
        }), P(0, ["SSSSSS", 6], 0, function() {
            return 1e3 * this.millisecond()
        }), P(0, ["SSSSSSS", 7], 0, function() {
            return 1e4 * this.millisecond()
        }), P(0, ["SSSSSSSS", 8], 0, function() {
            return 1e5 * this.millisecond()
        }), P(0, ["SSSSSSSSS", 9], 0, function() {
            return 1e6 * this.millisecond()
        }), Y("millisecond", "ms"), x("millisecond", 16), R("S", _t, ot), R("SS", _t, ut), R("SSS", _t, lt), pn = "SSSS"; pn.length <= 9; pn += "S") R(pn, pt);
    for (pn = "S"; pn.length <= 9; pn += "S") L(pn, Le);
    var Mn = V("Milliseconds", !1);
    P("z", 0, 0, "zoneAbbr"), P("zz", 0, 0, "zoneName");
    var vn = m.prototype;
    vn.add = fn, vn.calendar = function(t, n) {
        var s = t || ye(),
            i = De(s, this).startOf("day"),
            r = e.calendarFormat(this, i) || "sameElse",
            a = n && (S(n[r]) ? n[r].call(this, s) : n[r]);
        return this.format(a || this.localeData().calendar(r, this, ye(s)))
    }, vn.clone = function() {
        return new m(this)
    }, vn.diff = function(e, t, n) {
        var s, i, r;
        if (!this.isValid()) return NaN;
        if (!(s = De(e, this)).isValid()) return NaN;
        switch (i = 6e4 * (s.utcOffset() - this.utcOffset()), t = O(t)) {
            case "year":
                r = We(this, s) / 12;
                break;
            case "month":
                r = We(this, s);
                break;
            case "quarter":
                r = We(this, s) / 3;
                break;
            case "second":
                r = (this - s) / 1e3;
                break;
            case "minute":
                r = (this - s) / 6e4;
                break;
            case "hour":
                r = (this - s) / 36e5;
                break;
            case "day":
                r = (this - s - i) / 864e5;
                break;
            case "week":
                r = (this - s - i) / 6048e5;
                break;
            default:
                r = this - s
        }
        return n ? r : y(r)
    }, vn.endOf = function(e) {
        return void 0 === (e = O(e)) || "millisecond" === e ? this : ("date" === e && (e = "day"), this.startOf(e).add(1, "isoWeek" === e ? "week" : e).subtract(1, "ms"))
    }, vn.format = function(t) {
        t || (t = this.isUtc() ? e.defaultFormatUtc : e.defaultFormat);
        var n = W(this, t);
        return this.localeData().postformat(n)
    }, vn.from = function(e, t) {
        return this.isValid() && (_(e) && e.isValid() || ye(e).isValid()) ? Oe({
            to: this,
            from: e
        }).locale(this.locale()).humanize(!t) : this.localeData().invalidDate();
    }, vn.fromNow = function(e) {
        return this.from(ye(), e)
    }, vn.to = function(e, t) {
        return this.isValid() && (_(e) && e.isValid() || ye(e).isValid()) ? Oe({
            from: this,
            to: e
        }).locale(this.locale()).humanize(!t) : this.localeData().invalidDate()
    }, vn.toNow = function(e) {
        return this.to(ye(), e)
    }, vn.get = function(e) {
        return S(this[e = O(e)]) ? this[e]() : this
    }, vn.invalidAt = function() {
        return d(this).overflow
    }, vn.isAfter = function(e, t) {
        var n = _(e) ? e : ye(e);
        return !(!this.isValid() || !n.isValid()) && ("millisecond" === (t = O(s(t) ? "millisecond" : t)) ? this.valueOf() > n.valueOf() : n.valueOf() < this.clone().startOf(t).valueOf())
    }, vn.isBefore = function(e, t) {
        var n = _(e) ? e : ye(e);
        return !(!this.isValid() || !n.isValid()) && ("millisecond" === (t = O(s(t) ? "millisecond" : t)) ? this.valueOf() < n.valueOf() : this.clone().endOf(t).valueOf() < n.valueOf())
    }, vn.isBetween = function(e, t, n, s) {
        return ("(" === (s = s || "()")[0] ? this.isAfter(e, n) : !this.isBefore(e, n)) && (")" === s[1] ? this.isBefore(t, n) : !this.isAfter(t, n))
    }, vn.isSame = function(e, t) {
        var n, s = _(e) ? e : ye(e);
        return !(!this.isValid() || !s.isValid()) && ("millisecond" === (t = O(t || "millisecond")) ? this.valueOf() === s.valueOf() : (n = s.valueOf(), this.clone().startOf(t).valueOf() <= n && n <= this.clone().endOf(t).valueOf()))
    }, vn.isSameOrAfter = function(e, t) {
        return this.isSame(e, t) || this.isAfter(e, t)
    }, vn.isSameOrBefore = function(e, t) {
        return this.isSame(e, t) || this.isBefore(e, t)
    }, vn.isValid = function() {
        return h(this)
    }, vn.lang = _n, vn.locale = He, vn.localeData = Re, vn.max = un, vn.min = on, vn.parsingFlags = function() {
        return u({}, d(this))
    }, vn.set = function(e, t) {
        if ("object" == typeof e)
            for (var n = function(e) {
                    var t = [];
                    for (var n in e) t.push({
                        unit: n,
                        priority: nt[n]
                    });
                    return t.sort(function(e, t) {
                        return e.priority - t.priority
                    }), t
                }(e = T(e)), s = 0; s < n.length; s++) this[n[s].unit](e[n[s].unit]);
        else if (S(this[e = O(e)])) return this[e](t);
        return this
    }, vn.startOf = function(e) {
        switch (e = O(e)) {
            case "year":
                this.month(0);
            case "quarter":
            case "month":
                this.date(1);
            case "week":
            case "isoWeek":
            case "day":
            case "date":
                this.hours(0);
            case "hour":
                this.minutes(0);
            case "minute":
                this.seconds(0);
            case "second":
                this.milliseconds(0)
        }
        return "week" === e && this.weekday(0), "isoWeek" === e && this.isoWeekday(1), "quarter" === e && this.month(3 * Math.floor(this.month() / 3)), this
    }, vn.subtract = mn, vn.toArray = function() {
        var e = this;
        return [e.year(), e.month(), e.date(), e.hour(), e.minute(), e.second(), e.millisecond()]
    }, vn.toObject = function() {
        var e = this;
        return {
            years: e.year(),
            months: e.month(),
            date: e.date(),
            hours: e.hours(),
            minutes: e.minutes(),
            seconds: e.seconds(),
            milliseconds: e.milliseconds()
        }
    }, vn.toDate = function() {
        return new Date(this.valueOf())
    }, vn.toISOString = function(e) {
        if (!this.isValid()) return null;
        var t = !0 !== e,
            n = t ? this.clone().utc() : this;
        return n.year() < 0 || 9999 < n.year() ? W(n, t ? "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYYYY-MM-DD[T]HH:mm:ss.SSSZ") : S(Date.prototype.toISOString) ? t ? this.toDate().toISOString() : new Date(this.valueOf() + 60 * this.utcOffset() * 1e3).toISOString().replace("Z", W(n, "Z")) : W(n, t ? "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYY-MM-DD[T]HH:mm:ss.SSSZ")
    }, vn.inspect = function() {
        if (!this.isValid()) return "moment.invalid(/* " + this._i + " */)";
        var e = "moment",
            t = "";
        this.isLocal() || (e = 0 === this.utcOffset() ? "moment.utc" : "moment.parseZone", t = "Z");
        var n = "[" + e + '("]',
            s = 0 <= this.year() && this.year() <= 9999 ? "YYYY" : "YYYYYY",
            i = t + '[")]';
        return this.format(n + s + "-MM-DD[T]HH:mm:ss.SSS" + i)
    }, vn.toJSON = function() {
        return this.isValid() ? this.toISOString() : null
    }, vn.toString = function() {
        return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")
    }, vn.unix = function() {
        return Math.floor(this.valueOf() / 1e3)
    }, vn.valueOf = function() {
        return this._d.valueOf() - 6e4 * (this._offset || 0)
    }, vn.creationData = function() {
        return {
            input: this._i,
            format: this._f,
            locale: this._locale,
            isUTC: this._isUTC,
            strict: this._strict
        }
    }, vn.year = Ft, vn.isLeapYear = function() {
        return G(this.year())
    }, vn.weekYear = function(e) {
        return Fe.call(this, e, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy)
    }, vn.isoWeekYear = function(e) {
        return Fe.call(this, e, this.isoWeek(), this.isoWeekday(), 1, 4)
    }, vn.quarter = vn.quarters = function(e) {
        return null == e ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (e - 1) + this.month() % 3)
    }, vn.month = Z, vn.daysInMonth = function() {
        return A(this.year(), this.month())
    }, vn.week = vn.weeks = function(e) {
        var t = this.localeData().week(this);
        return null == e ? t : this.add(7 * (e - t), "d")
    }, vn.isoWeek = vn.isoWeeks = function(e) {
        var t = B(this, 1, 4).week;
        return null == e ? t : this.add(7 * (e - t), "d")
    }, vn.weeksInYear = function() {
        var e = this.localeData()._week;
        return Q(this.year(), e.dow, e.doy)
    }, vn.isoWeeksInYear = function() {
        return Q(this.year(), 1, 4)
    }, vn.date = yn, vn.day = vn.days = function(e) {
        if (!this.isValid()) return null != e ? this : NaN;
        var t, n, s = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
        return null != e ? (t = e, n = this.localeData(), e = "string" != typeof t ? t : isNaN(t) ? "number" == typeof(t = n.weekdaysParse(t)) ? t : null : parseInt(t, 10), this.add(e - s, "d")) : s
    }, vn.weekday = function(e) {
        if (!this.isValid()) return null != e ? this : NaN;
        var t = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return null == e ? t : this.add(e - t, "d")
    }, vn.isoWeekday = function(e) {
        if (!this.isValid()) return null != e ? this : NaN;
        if (null != e) {
            var t = (n = e, s = this.localeData(), "string" == typeof n ? s.weekdaysParse(n) % 7 || 7 : isNaN(n) ? null : n);
            return this.day(this.day() % 7 ? t : t - 7)
        }
        return this.day() || 7;
        var n, s
    }, vn.dayOfYear = function(e) {
        var t = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1;
        return null == e ? t : this.add(e - t, "d")
    }, vn.hour = vn.hours = qt, vn.minute = vn.minutes = gn, vn.second = vn.seconds = wn, vn.millisecond = vn.milliseconds = Mn, vn.utcOffset = function(t, n, s) {
        var i, r = this._offset || 0;
        if (!this.isValid()) return null != t ? this : NaN;
        if (null != t) {
            if ("string" == typeof t) {
                if (null === (t = Se(vt, t))) return this
            } else Math.abs(t) < 16 && !s && (t *= 60);
            return !this._isUTC && n && (i = ke(this)), this._offset = t, this._isUTC = !0, null != i && this.add(i, "m"), r !== t && (!n || this._changeInProgress ? Pe(this, Oe(t - r, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, e.updateOffset(this, !0), this._changeInProgress = null)), this
        }
        return this._isUTC ? r : ke(this)
    }, vn.utc = function(e) {
        return this.utcOffset(0, e)
    }, vn.local = function(e) {
        return this._isUTC && (this.utcOffset(0, e), this._isUTC = !1, e && this.subtract(ke(this), "m")), this
    }, vn.parseZone = function() {
        if (null != this._tzm) this.utcOffset(this._tzm, !1, !0);
        else if ("string" == typeof this._i) {
            var e = Se(Mt, this._i);
            null != e ? this.utcOffset(e) : this.utcOffset(0, !0)
        }
        return this
    }, vn.hasAlignedHourOffset = function(e) {
        return !!this.isValid() && (e = e ? ye(e).utcOffset() : 0, (this.utcOffset() - e) % 60 == 0)
    }, vn.isDST = function() {
        return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset()
    }, vn.isLocal = function() {
        return !!this.isValid() && !this._isUTC
    }, vn.isUtcOffset = function() {
        return !!this.isValid() && this._isUTC
    }, vn.isUtc = Ye, vn.isUTC = Ye, vn.zoneAbbr = function() {
        return this._isUTC ? "UTC" : ""
    }, vn.zoneName = function() {
        return this._isUTC ? "Coordinated Universal Time" : ""
    }, vn.dates = M("dates accessor is deprecated. Use date instead.", yn), vn.months = M("months accessor is deprecated. Use month instead", Z), vn.years = M("years accessor is deprecated. Use year instead", Ft), vn.zone = M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/", function(e, t) {
        return null != e ? ("string" != typeof e && (e = -e), this.utcOffset(e, t), this) : -this.utcOffset()
    }), vn.isDSTShifted = M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information", function() {
        if (!s(this._isDSTShifted)) return this._isDSTShifted;
        var e = {};
        if (f(e, this), (e = me(e))._a) {
            var t = e._isUTC ? l(e._a) : ye(e._a);
            this._isDSTShifted = this.isValid() && 0 < p(e._a, t.toArray())
        } else this._isDSTShifted = !1;
        return this._isDSTShifted
    });
    var Sn = k.prototype;
    Sn.calendar = function(e, t, n) {
        var s = this._calendar[e] || this._calendar.sameElse;
        return S(s) ? s.call(t, n) : s
    }, Sn.longDateFormat = function(e) {
        var t = this._longDateFormat[e],
            n = this._longDateFormat[e.toUpperCase()];
        return t || !n ? t : (this._longDateFormat[e] = n.replace(/MMMM|MM|DD|dddd/g, function(e) {
            return e.slice(1)
        }), this._longDateFormat[e])
    }, Sn.invalidDate = function() {
        return this._invalidDate
    }, Sn.ordinal = function(e) {
        return this._ordinal.replace("%d", e)
    }, Sn.preparse = Ue, Sn.postformat = Ue, Sn.relativeTime = function(e, t, n, s) {
        var i = this._relativeTime[n];
        return S(i) ? i(e, t, n, s) : i.replace(/%d/i, e)
    }, Sn.pastFuture = function(e, t) {
        var n = this._relativeTime[0 < e ? "future" : "past"];
        return S(n) ? n(t) : n.replace(/%s/i, t)
    }, Sn.set = function(e) {
        var t, n;
        for (n in e) S(t = e[n]) ? this[n] = t : this["_" + n] = t;
        this._config = e, this._dayOfMonthOrdinalParseLenient = new RegExp((this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) + "|" + /\d{1,2}/.source)
    }, Sn.months = function(e, n) {
        return e ? t(this._months) ? this._months[e.month()] : this._months[(this._months.isFormat || Lt).test(n) ? "format" : "standalone"][e.month()] : t(this._months) ? this._months : this._months.standalone
    }, Sn.monthsShort = function(e, n) {
        return e ? t(this._monthsShort) ? this._monthsShort[e.month()] : this._monthsShort[Lt.test(n) ? "format" : "standalone"][e.month()] : t(this._monthsShort) ? this._monthsShort : this._monthsShort.standalone
    }, Sn.monthsParse = function(e, t, n) {
        var s, i, r;
        if (this._monthsParseExact) return function(e, t, n) {
            var s, i, r, a = e.toLocaleLowerCase();
            if (!this._monthsParse)
                for (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = [], s = 0; s < 12; ++s) r = l([2e3, s]), this._shortMonthsParse[s] = this.monthsShort(r, "").toLocaleLowerCase(), this._longMonthsParse[s] = this.months(r, "").toLocaleLowerCase();
            return n ? "MMM" === t ? -1 !== (i = Ct.call(this._shortMonthsParse, a)) ? i : null : -1 !== (i = Ct.call(this._longMonthsParse, a)) ? i : null : "MMM" === t ? -1 !== (i = Ct.call(this._shortMonthsParse, a)) ? i : -1 !== (i = Ct.call(this._longMonthsParse, a)) ? i : null : -1 !== (i = Ct.call(this._longMonthsParse, a)) ? i : -1 !== (i = Ct.call(this._shortMonthsParse, a)) ? i : null
        }.call(this, e, t, n);
        for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), s = 0; s < 12; s++) {
            if (i = l([2e3, s]), n && !this._longMonthsParse[s] && (this._longMonthsParse[s] = new RegExp("^" + this.months(i, "").replace(".", "") + "$", "i"), this._shortMonthsParse[s] = new RegExp("^" + this.monthsShort(i, "").replace(".", "") + "$", "i")), n || this._monthsParse[s] || (r = "^" + this.months(i, "") + "|^" + this.monthsShort(i, ""), this._monthsParse[s] = new RegExp(r.replace(".", ""), "i")), n && "MMMM" === t && this._longMonthsParse[s].test(e)) return s;
            if (n && "MMM" === t && this._shortMonthsParse[s].test(e)) return s;
            if (!n && this._monthsParse[s].test(e)) return s
        }
    }, Sn.monthsRegex = function(e) {
        return this._monthsParseExact ? (o(this, "_monthsRegex") || z.call(this), e ? this._monthsStrictRegex : this._monthsRegex) : (o(this, "_monthsRegex") || (this._monthsRegex = Vt), this._monthsStrictRegex && e ? this._monthsStrictRegex : this._monthsRegex)
    }, Sn.monthsShortRegex = function(e) {
        return this._monthsParseExact ? (o(this, "_monthsRegex") || z.call(this), e ? this._monthsShortStrictRegex : this._monthsShortRegex) : (o(this, "_monthsShortRegex") || (this._monthsShortRegex = Gt), this._monthsShortStrictRegex && e ? this._monthsShortStrictRegex : this._monthsShortRegex)
    }, Sn.week = function(e) {
        return B(e, this._week.dow, this._week.doy).week
    }, Sn.firstDayOfYear = function() {
        return this._week.doy
    }, Sn.firstDayOfWeek = function() {
        return this._week.dow
    }, Sn.weekdays = function(e, n) {
        return e ? t(this._weekdays) ? this._weekdays[e.day()] : this._weekdays[this._weekdays.isFormat.test(n) ? "format" : "standalone"][e.day()] : t(this._weekdays) ? this._weekdays : this._weekdays.standalone
    }, Sn.weekdaysMin = function(e) {
        return e ? this._weekdaysMin[e.day()] : this._weekdaysMin
    }, Sn.weekdaysShort = function(e) {
        return e ? this._weekdaysShort[e.day()] : this._weekdaysShort
    }, Sn.weekdaysParse = function(e, t, n) {
        var s, i, r;
        if (this._weekdaysParseExact) return function(e, t, n) {
            var s, i, r, a = e.toLocaleLowerCase();
            if (!this._weekdaysParse)
                for (this._weekdaysParse = [], this._shortWeekdaysParse = [], this._minWeekdaysParse = [], s = 0; s < 7; ++s) r = l([2e3, 1]).day(s), this._minWeekdaysParse[s] = this.weekdaysMin(r, "").toLocaleLowerCase(), this._shortWeekdaysParse[s] = this.weekdaysShort(r, "").toLocaleLowerCase(), this._weekdaysParse[s] = this.weekdays(r, "").toLocaleLowerCase();
            return n ? "dddd" === t ? -1 !== (i = Ct.call(this._weekdaysParse, a)) ? i : null : "ddd" === t ? -1 !== (i = Ct.call(this._shortWeekdaysParse, a)) ? i : null : -1 !== (i = Ct.call(this._minWeekdaysParse, a)) ? i : null : "dddd" === t ? -1 !== (i = Ct.call(this._weekdaysParse, a)) ? i : -1 !== (i = Ct.call(this._shortWeekdaysParse, a)) ? i : -1 !== (i = Ct.call(this._minWeekdaysParse, a)) ? i : null : "ddd" === t ? -1 !== (i = Ct.call(this._shortWeekdaysParse, a)) ? i : -1 !== (i = Ct.call(this._weekdaysParse, a)) ? i : -1 !== (i = Ct.call(this._minWeekdaysParse, a)) ? i : null : -1 !== (i = Ct.call(this._minWeekdaysParse, a)) ? i : -1 !== (i = Ct.call(this._weekdaysParse, a)) ? i : -1 !== (i = Ct.call(this._shortWeekdaysParse, a)) ? i : null
        }.call(this, e, t, n);
        for (this._weekdaysParse || (this._weekdaysParse = [], this._minWeekdaysParse = [], this._shortWeekdaysParse = [], this._fullWeekdaysParse = []), s = 0; s < 7; s++) {
            if (i = l([2e3, 1]).day(s), n && !this._fullWeekdaysParse[s] && (this._fullWeekdaysParse[s] = new RegExp("^" + this.weekdays(i, "").replace(".", ".?") + "$", "i"), this._shortWeekdaysParse[s] = new RegExp("^" + this.weekdaysShort(i, "").replace(".", ".?") + "$", "i"), this._minWeekdaysParse[s] = new RegExp("^" + this.weekdaysMin(i, "").replace(".", ".?") + "$", "i")), this._weekdaysParse[s] || (r = "^" + this.weekdays(i, "") + "|^" + this.weekdaysShort(i, "") + "|^" + this.weekdaysMin(i, ""), this._weekdaysParse[s] = new RegExp(r.replace(".", ""), "i")), n && "dddd" === t && this._fullWeekdaysParse[s].test(e)) return s;
            if (n && "ddd" === t && this._shortWeekdaysParse[s].test(e)) return s;
            if (n && "dd" === t && this._minWeekdaysParse[s].test(e)) return s;
            if (!n && this._weekdaysParse[s].test(e)) return s
        }
    }, Sn.weekdaysRegex = function(e) {
        return this._weekdaysParseExact ? (o(this, "_weekdaysRegex") || X.call(this), e ? this._weekdaysStrictRegex : this._weekdaysRegex) : (o(this, "_weekdaysRegex") || (this._weekdaysRegex = jt), this._weekdaysStrictRegex && e ? this._weekdaysStrictRegex : this._weekdaysRegex)
    }, Sn.weekdaysShortRegex = function(e) {
        return this._weekdaysParseExact ? (o(this, "_weekdaysRegex") || X.call(this), e ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) : (o(this, "_weekdaysShortRegex") || (this._weekdaysShortRegex = Zt), this._weekdaysShortStrictRegex && e ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex)
    }, Sn.weekdaysMinRegex = function(e) {
        return this._weekdaysParseExact ? (o(this, "_weekdaysRegex") || X.call(this), e ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) : (o(this, "_weekdaysMinRegex") || (this._weekdaysMinRegex = zt), this._weekdaysMinStrictRegex && e ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex)
    }, Sn.isPM = function(e) {
        return "p" === (e + "").toLowerCase().charAt(0)
    }, Sn.meridiem = function(e, t, n) {
        return 11 < e ? n ? "pm" : "PM" : n ? "am" : "AM"
    }, ie("en", {
        dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal: function(e) {
            var t = e % 10;
            return e + (1 === g(e % 100 / 10) ? "th" : 1 === t ? "st" : 2 === t ? "nd" : 3 === t ? "rd" : "th")
        }
    }), e.lang = M("moment.lang is deprecated. Use moment.locale instead.", ie), e.langData = M("moment.langData is deprecated. Use moment.localeData instead.", ae);
    var Dn = Math.abs,
        kn = Ze("ms"),
        Yn = Ze("s"),
        On = Ze("m"),
        Tn = Ze("h"),
        xn = Ze("d"),
        bn = Ze("w"),
        Pn = Ze("M"),
        Wn = Ze("y"),
        Hn = ze("milliseconds"),
        Rn = ze("seconds"),
        Cn = ze("minutes"),
        Fn = ze("hours"),
        Ln = ze("days"),
        Un = ze("months"),
        Nn = ze("years"),
        Gn = Math.round,
        Vn = {
            ss: 44,
            s: 45,
            m: 45,
            h: 22,
            d: 26,
            M: 11
        },
        En = Math.abs,
        In = pe.prototype;
    return In.isValid = function() {
        return this._isValid
    }, In.abs = function() {
        var e = this._data;
        return this._milliseconds = Dn(this._milliseconds), this._days = Dn(this._days), this._months = Dn(this._months), e.milliseconds = Dn(e.milliseconds), e.seconds = Dn(e.seconds), e.minutes = Dn(e.minutes), e.hours = Dn(e.hours), e.months = Dn(e.months), e.years = Dn(e.years), this
    }, In.add = function(e, t) {
        return Ee(this, e, t, 1)
    }, In.subtract = function(e, t) {
        return Ee(this, e, t, -1)
    }, In.as = function(e) {
        if (!this.isValid()) return NaN;
        var t, n, s = this._milliseconds;
        if ("month" === (e = O(e)) || "year" === e) return t = this._days + s / 864e5, n = this._months + Ae(t), "month" === e ? n : n / 12;
        switch (t = this._days + Math.round(je(this._months)), e) {
            case "week":
                return t / 7 + s / 6048e5;
            case "day":
                return t + s / 864e5;
            case "hour":
                return 24 * t + s / 36e5;
            case "minute":
                return 1440 * t + s / 6e4;
            case "second":
                return 86400 * t + s / 1e3;
            case "millisecond":
                return Math.floor(864e5 * t) + s;
            default:
                throw new Error("Unknown unit " + e)
        }
    }, In.asMilliseconds = kn, In.asSeconds = Yn, In.asMinutes = On, In.asHours = Tn, In.asDays = xn, In.asWeeks = bn, In.asMonths = Pn, In.asYears = Wn, In.valueOf = function() {
        return this.isValid() ? this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * g(this._months / 12) : NaN
    }, In._bubble = function() {
        var e, t, n, s, i, r = this._milliseconds,
            a = this._days,
            o = this._months,
            u = this._data;
        return 0 <= r && 0 <= a && 0 <= o || r <= 0 && a <= 0 && o <= 0 || (r += 864e5 * Ie(je(o) + a), o = a = 0), u.milliseconds = r % 1e3, e = y(r / 1e3), u.seconds = e % 60, t = y(e / 60), u.minutes = t % 60, n = y(t / 60), u.hours = n % 24, o += i = y(Ae(a += y(n / 24))), a -= Ie(je(i)), s = y(o / 12), o %= 12, u.days = a, u.months = o, u.years = s, this
    }, In.clone = function() {
        return Oe(this)
    }, In.get = function(e) {
        return e = O(e), this.isValid() ? this[e + "s"]() : NaN
    }, In.milliseconds = Hn, In.seconds = Rn, In.minutes = Cn, In.hours = Fn, In.days = Ln, In.weeks = function() {
        return y(this.days() / 7)
    }, In.months = Un, In.years = Nn, In.humanize = function(e) {
        if (!this.isValid()) return this.localeData().invalidDate();
        var t, n, s, i, r, a, o, u, l, d, h, c = this.localeData(),
            f = (n = !e, s = c, i = Oe(t = this).abs(), r = Gn(i.as("s")), a = Gn(i.as("m")), o = Gn(i.as("h")), u = Gn(i.as("d")), l = Gn(i.as("M")), d = Gn(i.as("y")), (h = r <= Vn.ss && ["s", r] || r < Vn.s && ["ss", r] || a <= 1 && ["m"] || a < Vn.m && ["mm", a] || o <= 1 && ["h"] || o < Vn.h && ["hh", o] || u <= 1 && ["d"] || u < Vn.d && ["dd", u] || l <= 1 && ["M"] || l < Vn.M && ["MM", l] || d <= 1 && ["y"] || ["yy", d])[2] = n, h[3] = 0 < +t, h[4] = s, function(e, t, n, s, i) {
                return i.relativeTime(t || 1, !!n, e, s)
            }.apply(null, h));
        return e && (f = c.pastFuture(+this, f)), c.postformat(f)
    }, In.toISOString = qe, In.toString = qe, In.toJSON = qe, In.locale = He, In.localeData = Re, In.toIsoString = M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", qe), In.lang = _n, P("X", 0, 0, "unix"), P("x", 0, 0, "valueOf"), R("x", wt), R("X", /[+-]?\d+(\.\d{1,3})?/), L("X", function(e, t, n) {
        n._d = new Date(1e3 * parseFloat(e, 10))
    }), L("x", function(e, t, n) {
        n._d = new Date(g(e))
    }), e.version = "2.22.1", Je = ye, e.fn = vn, e.min = function() {
        return ge("isBefore", [].slice.call(arguments, 0))
    }, e.max = function() {
        return ge("isAfter", [].slice.call(arguments, 0))
    }, e.now = function() {
        return Date.now ? Date.now() : +new Date
    }, e.utc = l, e.unix = function(e) {
        return ye(1e3 * e)
    }, e.months = function(e, t) {
        return Ge(e, t, "months")
    }, e.isDate = r, e.locale = ie, e.invalid = c, e.duration = Oe, e.isMoment = _, e.weekdays = function(e, t, n) {
        return Ve(e, t, n, "weekdays")
    }, e.parseZone = function() {
        return ye.apply(null, arguments).parseZone()
    }, e.localeData = ae, e.isDuration = we, e.monthsShort = function(e, t) {
        return Ge(e, t, "monthsShort")
    }, e.weekdaysMin = function(e, t, n) {
        return Ve(e, t, n, "weekdaysMin")
    }, e.defineLocale = re, e.updateLocale = function(e, t) {
        if (null != t) {
            var n, s, i = Jt;
            null != (s = se(e)) && (i = s._config), (n = new k(t = D(i, t))).parentLocale = Bt[e], Bt[e] = n, ie(e)
        } else null != Bt[e] && (null != Bt[e].parentLocale ? Bt[e] = Bt[e].parentLocale : null != Bt[e] && delete Bt[e]);
        return Bt[e]
    }, e.locales = function() {
        return Qe(Bt)
    }, e.weekdaysShort = function(e, t, n) {
        return Ve(e, t, n, "weekdaysShort")
    }, e.normalizeUnits = O, e.relativeTimeRounding = function(e) {
        return void 0 === e ? Gn : "function" == typeof e && (Gn = e, !0)
    }, e.relativeTimeThreshold = function(e, t) {
        return void 0 !== Vn[e] && (void 0 === t ? Vn[e] : (Vn[e] = t, "s" === e && (Vn.ss = t - 1), !0))
    }, e.calendarFormat = function(e, t) {
        var n = e.diff(t, "days", !0);
        return n < -6 ? "sameElse" : n < -1 ? "lastWeek" : n < 0 ? "lastDay" : n < 1 ? "sameDay" : n < 2 ? "nextDay" : n < 7 ? "nextWeek" : "sameElse"
    }, e.prototype = vn, e.HTML5_FMT = {
        DATETIME_LOCAL: "YYYY-MM-DDTHH:mm",
        DATETIME_LOCAL_SECONDS: "YYYY-MM-DDTHH:mm:ss",
        DATETIME_LOCAL_MS: "YYYY-MM-DDTHH:mm:ss.SSS",
        DATE: "YYYY-MM-DD",
        TIME: "HH:mm",
        TIME_SECONDS: "HH:mm:ss",
        TIME_MS: "HH:mm:ss.SSS",
        WEEK: "YYYY-[W]WW",
        MONTH: "YYYY-MM"
    }, e
});
! function(e, a) {
    "use strict";
    var n = function(e, a) {
            var n, t, u, l, s, r, m, c, h, d, g, k, f, y, p, A = "-",
                b = [";", "?", ":", "@", "&", "=", "+", "$", ",", "/"],
                z = [";", "?", ":", "@", "&", "=", "+", "$", ","],
                E = [".", "!", "~", "*", "'", "(", ")"],
                j = "",
                S = "",
                O = !0,
                v = {},
                w = {
                    "À": "A",
                    "Á": "A",
                    "Â": "A",
                    "Ã": "A",
                    "Ä": "Ae",
                    "Å": "A",
                    "Æ": "AE",
                    "Ç": "C",
                    "È": "E",
                    "É": "E",
                    "Ê": "E",
                    "Ë": "E",
                    "Ì": "I",
                    "Í": "I",
                    "Î": "I",
                    "Ï": "I",
                    "Ð": "D",
                    "Ñ": "N",
                    "Ò": "O",
                    "Ó": "O",
                    "Ô": "O",
                    "Õ": "O",
                    "Ö": "Oe",
                    "Ő": "O",
                    "Ø": "O",
                    "Ù": "U",
                    "Ú": "U",
                    "Û": "U",
                    "Ü": "Ue",
                    "Ű": "U",
                    "Ý": "Y",
                    "Þ": "TH",
                    "ß": "ss",
                    "à": "a",
                    "á": "a",
                    "â": "a",
                    "ã": "a",
                    "ä": "ae",
                    "å": "a",
                    "æ": "ae",
                    "ç": "c",
                    "è": "e",
                    "é": "e",
                    "ê": "e",
                    "ë": "e",
                    "ì": "i",
                    "í": "i",
                    "î": "i",
                    "ï": "i",
                    "ð": "d",
                    "ñ": "n",
                    "ò": "o",
                    "ó": "o",
                    "ô": "o",
                    "õ": "o",
                    "ö": "oe",
                    "ő": "o",
                    "ø": "o",
                    "ù": "u",
                    "ú": "u",
                    "û": "u",
                    "ü": "ue",
                    "ű": "u",
                    "ý": "y",
                    "þ": "th",
                    "ÿ": "y",
                    "ẞ": "SS",
                    "ا": "a",
                    "أ": "a",
                    "إ": "i",
                    "آ": "aa",
                    "ؤ": "u",
                    "ئ": "e",
                    "ء": "a",
                    "ب": "b",
                    "ت": "t",
                    "ث": "th",
                    "ج": "j",
                    "ح": "h",
                    "خ": "kh",
                    "د": "d",
                    "ذ": "th",
                    "ر": "r",
                    "ز": "z",
                    "س": "s",
                    "ش": "sh",
                    "ص": "s",
                    "ض": "dh",
                    "ط": "t",
                    "ظ": "z",
                    "ع": "a",
                    "غ": "gh",
                    "ف": "f",
                    "ق": "q",
                    "ك": "k",
                    "ل": "l",
                    "م": "m",
                    "ن": "n",
                    "ه": "h",
                    "و": "w",
                    "ي": "y",
                    "ى": "a",
                    "ة": "h",
                    "ﻻ": "la",
                    "ﻷ": "laa",
                    "ﻹ": "lai",
                    "ﻵ": "laa",
                    "َ": "a",
                    "ً": "an",
                    "ِ": "e",
                    "ٍ": "en",
                    "ُ": "u",
                    "ٌ": "on",
                    "ْ": "",
                    "٠": "0",
                    "١": "1",
                    "٢": "2",
                    "٣": "3",
                    "٤": "4",
                    "٥": "5",
                    "٦": "6",
                    "٧": "7",
                    "٨": "8",
                    "٩": "9",
                    "က": "k",
                    "ခ": "kh",
                    "ဂ": "g",
                    "ဃ": "ga",
                    "င": "ng",
                    "စ": "s",
                    "ဆ": "sa",
                    "ဇ": "z",
                    "စျ": "za",
                    "ည": "ny",
                    "ဋ": "t",
                    "ဌ": "ta",
                    "ဍ": "d",
                    "ဎ": "da",
                    "ဏ": "na",
                    "တ": "t",
                    "ထ": "ta",
                    "ဒ": "d",
                    "ဓ": "da",
                    "န": "n",
                    "ပ": "p",
                    "ဖ": "pa",
                    "ဗ": "b",
                    "ဘ": "ba",
                    "မ": "m",
                    "ယ": "y",
                    "ရ": "ya",
                    "လ": "l",
                    "ဝ": "w",
                    "သ": "th",
                    "ဟ": "h",
                    "ဠ": "la",
                    "အ": "a",
                    "ြ": "y",
                    "ျ": "ya",
                    "ွ": "w",
                    "ြွ": "yw",
                    "ျွ": "ywa",
                    "ှ": "h",
                    "ဧ": "e",
                    "၏": "-e",
                    "ဣ": "i",
                    "ဤ": "-i",
                    "ဉ": "u",
                    "ဦ": "-u",
                    "ဩ": "aw",
                    "သြော": "aw",
                    "ဪ": "aw",
                    "၀": "0",
                    "၁": "1",
                    "၂": "2",
                    "၃": "3",
                    "၄": "4",
                    "၅": "5",
                    "၆": "6",
                    "၇": "7",
                    "၈": "8",
                    "၉": "9",
                    "္": "",
                    "့": "",
                    "း": "",
                    "č": "c",
                    "ď": "d",
                    "ě": "e",
                    "ň": "n",
                    "ř": "r",
                    "š": "s",
                    "ť": "t",
                    "ů": "u",
                    "ž": "z",
                    "Č": "C",
                    "Ď": "D",
                    "Ě": "E",
                    "Ň": "N",
                    "Ř": "R",
                    "Š": "S",
                    "Ť": "T",
                    "Ů": "U",
                    "Ž": "Z",
                    "ހ": "h",
                    "ށ": "sh",
                    "ނ": "n",
                    "ރ": "r",
                    "ބ": "b",
                    "ޅ": "lh",
                    "ކ": "k",
                    "އ": "a",
                    "ވ": "v",
                    "މ": "m",
                    "ފ": "f",
                    "ދ": "dh",
                    "ތ": "th",
                    "ލ": "l",
                    "ގ": "g",
                    "ޏ": "gn",
                    "ސ": "s",
                    "ޑ": "d",
                    "ޒ": "z",
                    "ޓ": "t",
                    "ޔ": "y",
                    "ޕ": "p",
                    "ޖ": "j",
                    "ޗ": "ch",
                    "ޘ": "tt",
                    "ޙ": "hh",
                    "ޚ": "kh",
                    "ޛ": "th",
                    "ޜ": "z",
                    "ޝ": "sh",
                    "ޞ": "s",
                    "ޟ": "d",
                    "ޠ": "t",
                    "ޡ": "z",
                    "ޢ": "a",
                    "ޣ": "gh",
                    "ޤ": "q",
                    "ޥ": "w",
                    "ަ": "a",
                    "ާ": "aa",
                    "ި": "i",
                    "ީ": "ee",
                    "ު": "u",
                    "ޫ": "oo",
                    "ެ": "e",
                    "ޭ": "ey",
                    "ޮ": "o",
                    "ޯ": "oa",
                    "ް": "",
                    "α": "a",
                    "β": "v",
                    "γ": "g",
                    "δ": "d",
                    "ε": "e",
                    "ζ": "z",
                    "η": "i",
                    "θ": "th",
                    "ι": "i",
                    "κ": "k",
                    "λ": "l",
                    "μ": "m",
                    "ν": "n",
                    "ξ": "ks",
                    "ο": "o",
                    "π": "p",
                    "ρ": "r",
                    "σ": "s",
                    "τ": "t",
                    "υ": "y",
                    "φ": "f",
                    "χ": "x",
                    "ψ": "ps",
                    "ω": "o",
                    "ά": "a",
                    "έ": "e",
                    "ί": "i",
                    "ό": "o",
                    "ύ": "y",
                    "ή": "i",
                    "ώ": "o",
                    "ς": "s",
                    "ϊ": "i",
                    "ΰ": "y",
                    "ϋ": "y",
                    "ΐ": "i",
                    "Α": "A",
                    "Β": "B",
                    "Γ": "G",
                    "Δ": "D",
                    "Ε": "E",
                    "Ζ": "Z",
                    "Η": "I",
                    "Θ": "TH",
                    "Ι": "I",
                    "Κ": "K",
                    "Λ": "L",
                    "Μ": "M",
                    "Ν": "N",
                    "Ξ": "KS",
                    "Ο": "O",
                    "Π": "P",
                    "Ρ": "R",
                    "Σ": "S",
                    "Τ": "T",
                    "Υ": "Y",
                    "Φ": "F",
                    "Χ": "X",
                    "Ψ": "PS",
                    "Ω": "W",
                    "Ά": "A",
                    "Έ": "E",
                    "Ί": "I",
                    "Ό": "O",
                    "Ύ": "Y",
                    "Ή": "I",
                    "Ώ": "O",
                    "Ϊ": "I",
                    "Ϋ": "Y",
                    "ā": "a",
                    "ē": "e",
                    "ģ": "g",
                    "ī": "i",
                    "ķ": "k",
                    "ļ": "l",
                    "ņ": "n",
                    "ū": "u",
                    "Ā": "A",
                    "Ē": "E",
                    "Ģ": "G",
                    "Ī": "I",
                    "Ķ": "k",
                    "Ļ": "L",
                    "Ņ": "N",
                    "Ū": "U",
                    "Ќ": "Kj",
                    "ќ": "kj",
                    "Љ": "Lj",
                    "љ": "lj",
                    "Њ": "Nj",
                    "њ": "nj",
                    "Тс": "Ts",
                    "тс": "ts",
                    "ą": "a",
                    "ć": "c",
                    "ę": "e",
                    "ł": "l",
                    "ń": "n",
                    "ś": "s",
                    "ź": "z",
                    "ż": "z",
                    "Ą": "A",
                    "Ć": "C",
                    "Ę": "E",
                    "Ł": "L",
                    "Ń": "N",
                    "Ś": "S",
                    "Ź": "Z",
                    "Ż": "Z",
                    "Є": "Ye",
                    "І": "I",
                    "Ї": "Yi",
                    "Ґ": "G",
                    "є": "ye",
                    "і": "i",
                    "ї": "yi",
                    "ґ": "g",
                    "ă": "a",
                    "Ă": "A",
                    "ș": "s",
                    "Ș": "S",
                    "ț": "t",
                    "Ț": "T",
                    "ţ": "t",
                    "Ţ": "T",
                    "а": "a",
                    "б": "b",
                    "в": "v",
                    "г": "g",
                    "д": "d",
                    "е": "e",
                    "ё": "yo",
                    "ж": "zh",
                    "з": "z",
                    "и": "i",
                    "й": "i",
                    "к": "k",
                    "л": "l",
                    "м": "m",
                    "н": "n",
                    "о": "o",
                    "п": "p",
                    "р": "r",
                    "с": "s",
                    "т": "t",
                    "у": "u",
                    "ф": "f",
                    "х": "kh",
                    "ц": "c",
                    "ч": "ch",
                    "ш": "sh",
                    "щ": "sh",
                    "ъ": "",
                    "ы": "y",
                    "ь": "",
                    "э": "e",
                    "ю": "yu",
                    "я": "ya",
                    "А": "A",
                    "Б": "B",
                    "В": "V",
                    "Г": "G",
                    "Д": "D",
                    "Е": "E",
                    "Ё": "Yo",
                    "Ж": "Zh",
                    "З": "Z",
                    "И": "I",
                    "Й": "I",
                    "К": "K",
                    "Л": "L",
                    "М": "M",
                    "Н": "N",
                    "О": "O",
                    "П": "P",
                    "Р": "R",
                    "С": "S",
                    "Т": "T",
                    "У": "U",
                    "Ф": "F",
                    "Х": "Kh",
                    "Ц": "C",
                    "Ч": "Ch",
                    "Ш": "Sh",
                    "Щ": "Sh",
                    "Ъ": "",
                    "Ы": "Y",
                    "Ь": "",
                    "Э": "E",
                    "Ю": "Yu",
                    "Я": "Ya",
                    "ђ": "dj",
                    "ј": "j",
                    "ћ": "c",
                    "џ": "dz",
                    "Ђ": "Dj",
                    "Ј": "j",
                    "Ћ": "C",
                    "Џ": "Dz",
                    "ľ": "l",
                    "ĺ": "l",
                    "ŕ": "r",
                    "Ľ": "L",
                    "Ĺ": "L",
                    "Ŕ": "R",
                    "ş": "s",
                    "Ş": "S",
                    "ı": "i",
                    "İ": "I",
                    "ğ": "g",
                    "Ğ": "G",
                    "ả": "a",
                    "Ả": "A",
                    "ẳ": "a",
                    "Ẳ": "A",
                    "ẩ": "a",
                    "Ẩ": "A",
                    "đ": "d",
                    "Đ": "D",
                    "ẹ": "e",
                    "Ẹ": "E",
                    "ẽ": "e",
                    "Ẽ": "E",
                    "ẻ": "e",
                    "Ẻ": "E",
                    "ế": "e",
                    "Ế": "E",
                    "ề": "e",
                    "Ề": "E",
                    "ệ": "e",
                    "Ệ": "E",
                    "ễ": "e",
                    "Ễ": "E",
                    "ể": "e",
                    "Ể": "E",
                    "ọ": "o",
                    "Ọ": "o",
                    "ố": "o",
                    "Ố": "O",
                    "ồ": "o",
                    "Ồ": "O",
                    "ổ": "o",
                    "Ổ": "O",
                    "ộ": "o",
                    "Ộ": "O",
                    "ỗ": "o",
                    "Ỗ": "O",
                    "ơ": "o",
                    "Ơ": "O",
                    "ớ": "o",
                    "Ớ": "O",
                    "ờ": "o",
                    "Ờ": "O",
                    "ợ": "o",
                    "Ợ": "O",
                    "ỡ": "o",
                    "Ỡ": "O",
                    "Ở": "o",
                    "ở": "o",
                    "ị": "i",
                    "Ị": "I",
                    "ĩ": "i",
                    "Ĩ": "I",
                    "ỉ": "i",
                    "Ỉ": "i",
                    "ủ": "u",
                    "Ủ": "U",
                    "ụ": "u",
                    "Ụ": "U",
                    "ũ": "u",
                    "Ũ": "U",
                    "ư": "u",
                    "Ư": "U",
                    "ứ": "u",
                    "Ứ": "U",
                    "ừ": "u",
                    "Ừ": "U",
                    "ự": "u",
                    "Ự": "U",
                    "ữ": "u",
                    "Ữ": "U",
                    "ử": "u",
                    "Ử": "ư",
                    "ỷ": "y",
                    "Ỷ": "y",
                    "ỳ": "y",
                    "Ỳ": "Y",
                    "ỵ": "y",
                    "Ỵ": "Y",
                    "ỹ": "y",
                    "Ỹ": "Y",
                    "ạ": "a",
                    "Ạ": "A",
                    "ấ": "a",
                    "Ấ": "A",
                    "ầ": "a",
                    "Ầ": "A",
                    "ậ": "a",
                    "Ậ": "A",
                    "ẫ": "a",
                    "Ẫ": "A",
                    "ắ": "a",
                    "Ắ": "A",
                    "ằ": "a",
                    "Ằ": "A",
                    "ặ": "a",
                    "Ặ": "A",
                    "ẵ": "a",
                    "Ẵ": "A",
                    "“": '"',
                    "”": '"',
                    "‘": "'",
                    "’": "'",
                    "∂": "d",
                    "ƒ": "f",
                    "™": "(TM)",
                    "©": "(C)",
                    "œ": "oe",
                    "Œ": "OE",
                    "®": "(R)",
                    "†": "+",
                    "℠": "(SM)",
                    "…": "...",
                    "˚": "o",
                    "º": "o",
                    "ª": "a",
                    "•": "*",
                    "၊": ",",
                    "။": ".",
                    $: "USD",
                    "€": "EUR",
                    "₢": "BRN",
                    "₣": "FRF",
                    "£": "GBP",
                    "₤": "ITL",
                    "₦": "NGN",
                    "₧": "ESP",
                    "₩": "KRW",
                    "₪": "ILS",
                    "₫": "VND",
                    "₭": "LAK",
                    "₮": "MNT",
                    "₯": "GRD",
                    "₱": "ARS",
                    "₲": "PYG",
                    "₳": "ARA",
                    "₴": "UAH",
                    "₵": "GHS",
                    "¢": "cent",
                    "¥": "CNY",
                    "元": "CNY",
                    "円": "YEN",
                    "﷼": "IRR",
                    "₠": "EWE",
                    "฿": "THB",
                    "₨": "INR",
                    "₹": "INR",
                    "₰": "PF"
                },
                U = ["်", "ް"],
                C = {
                    "ာ": "a",
                    "ါ": "a",
                    "ေ": "e",
                    "ဲ": "e",
                    "ိ": "i",
                    "ီ": "i",
                    "ို": "o",
                    "ု": "u",
                    "ူ": "u",
                    "ေါင်": "aung",
                    "ော": "aw",
                    "ော်": "aw",
                    "ေါ": "aw",
                    "ေါ်": "aw",
                    "်": "်",
                    "က်": "et",
                    "ိုက်": "aik",
                    "ောက်": "auk",
                    "င်": "in",
                    "ိုင်": "aing",
                    "ောင်": "aung",
                    "စ်": "it",
                    "ည်": "i",
                    "တ်": "at",
                    "ိတ်": "eik",
                    "ုတ်": "ok",
                    "ွတ်": "ut",
                    "ေတ်": "it",
                    "ဒ်": "d",
                    "ိုဒ်": "ok",
                    "ုဒ်": "ait",
                    "န်": "an",
                    "ာန်": "an",
                    "ိန်": "ein",
                    "ုန်": "on",
                    "ွန်": "un",
                    "ပ်": "at",
                    "ိပ်": "eik",
                    "ုပ်": "ok",
                    "ွပ်": "ut",
                    "န်ုပ်": "nub",
                    "မ်": "an",
                    "ိမ်": "ein",
                    "ုမ်": "on",
                    "ွမ်": "un",
                    "ယ်": "e",
                    "ိုလ်": "ol",
                    "ဉ်": "in",
                    "ံ": "an",
                    "ိံ": "ein",
                    "ုံ": "on",
                    "ައް": "ah",
                    "ަށް": "ah"
                },
                I = {
                    en: {},
                    az: {
                        "ç": "c",
                        "ə": "e",
                        "ğ": "g",
                        "ı": "i",
                        "ö": "o",
                        "ş": "s",
                        "ü": "u",
                        "Ç": "C",
                        "Ə": "E",
                        "Ğ": "G",
                        "İ": "I",
                        "Ö": "O",
                        "Ş": "S",
                        "Ü": "U"
                    },
                    cs: {
                        "č": "c",
                        "ď": "d",
                        "ě": "e",
                        "ň": "n",
                        "ř": "r",
                        "š": "s",
                        "ť": "t",
                        "ů": "u",
                        "ž": "z",
                        "Č": "C",
                        "Ď": "D",
                        "Ě": "E",
                        "Ň": "N",
                        "Ř": "R",
                        "Š": "S",
                        "Ť": "T",
                        "Ů": "U",
                        "Ž": "Z"
                    },
                    fi: {
                        "ä": "a",
                        "Ä": "A",
                        "ö": "o",
                        "Ö": "O"
                    },
                    hu: {
                        "ä": "a",
                        "Ä": "A",
                        "ö": "o",
                        "Ö": "O",
                        "ü": "u",
                        "Ü": "U",
                        "ű": "u",
                        "Ű": "U"
                    },
                    lt: {
                        "ą": "a",
                        "č": "c",
                        "ę": "e",
                        "ė": "e",
                        "į": "i",
                        "š": "s",
                        "ų": "u",
                        "ū": "u",
                        "ž": "z",
                        "Ą": "A",
                        "Č": "C",
                        "Ę": "E",
                        "Ė": "E",
                        "Į": "I",
                        "Š": "S",
                        "Ų": "U",
                        "Ū": "U"
                    },
                    lv: {
                        "ā": "a",
                        "č": "c",
                        "ē": "e",
                        "ģ": "g",
                        "ī": "i",
                        "ķ": "k",
                        "ļ": "l",
                        "ņ": "n",
                        "š": "s",
                        "ū": "u",
                        "ž": "z",
                        "Ā": "A",
                        "Č": "C",
                        "Ē": "E",
                        "Ģ": "G",
                        "Ī": "i",
                        "Ķ": "k",
                        "Ļ": "L",
                        "Ņ": "N",
                        "Š": "S",
                        "Ū": "u",
                        "Ž": "Z"
                    },
                    pl: {
                        "ą": "a",
                        "ć": "c",
                        "ę": "e",
                        "ł": "l",
                        "ń": "n",
                        "ó": "o",
                        "ś": "s",
                        "ź": "z",
                        "ż": "z",
                        "Ą": "A",
                        "Ć": "C",
                        "Ę": "e",
                        "Ł": "L",
                        "Ń": "N",
                        "Ó": "O",
                        "Ś": "S",
                        "Ź": "Z",
                        "Ż": "Z"
                    },
                    sk: {
                        "ä": "a",
                        "Ä": "A"
                    },
                    sr: {
                        "љ": "lj",
                        "њ": "nj",
                        "Љ": "Lj",
                        "Њ": "Nj",
                        "đ": "dj",
                        "Đ": "Dj"
                    },
                    tr: {
                        "Ü": "U",
                        "Ö": "O",
                        "ü": "u",
                        "ö": "o"
                    }
                },
                N = {
                    ar: {
                        "∆": "delta",
                        "∞": "la-nihaya",
                        "♥": "hob",
                        "&": "wa",
                        "|": "aw",
                        "<": "aqal-men",
                        ">": "akbar-men",
                        "∑": "majmou",
                        "¤": "omla"
                    },
                    az: {},
                    ca: {
                        "∆": "delta",
                        "∞": "infinit",
                        "♥": "amor",
                        "&": "i",
                        "|": "o",
                        "<": "menys que",
                        ">": "mes que",
                        "∑": "suma dels",
                        "¤": "moneda"
                    },
                    cz: {
                        "∆": "delta",
                        "∞": "nekonecno",
                        "♥": "laska",
                        "&": "a",
                        "|": "nebo",
                        "<": "mene jako",
                        ">": "vice jako",
                        "∑": "soucet",
                        "¤": "mena"
                    },
                    de: {
                        "∆": "delta",
                        "∞": "unendlich",
                        "♥": "Liebe",
                        "&": "und",
                        "|": "oder",
                        "<": "kleiner als",
                        ">": "groesser als",
                        "∑": "Summe von",
                        "¤": "Waehrung"
                    },
                    dv: {
                        "∆": "delta",
                        "∞": "kolunulaa",
                        "♥": "loabi",
                        "&": "aai",
                        "|": "noonee",
                        "<": "ah vure kuda",
                        ">": "ah vure bodu",
                        "∑": "jumula",
                        "¤": "faisaa"
                    },
                    en: {
                        "∆": "delta",
                        "∞": "infinity",
                        "♥": "love",
                        "&": "and",
                        "|": "or",
                        "<": "less than",
                        ">": "greater than",
                        "∑": "sum",
                        "¤": "currency"
                    },
                    es: {
                        "∆": "delta",
                        "∞": "infinito",
                        "♥": "amor",
                        "&": "y",
                        "|": "u",
                        "<": "menos que",
                        ">": "mas que",
                        "∑": "suma de los",
                        "¤": "moneda"
                    },
                    fr: {
                        "∆": "delta",
                        "∞": "infiniment",
                        "♥": "Amour",
                        "&": "et",
                        "|": "ou",
                        "<": "moins que",
                        ">": "superieure a",
                        "∑": "somme des",
                        "¤": "monnaie"
                    },
                    gr: {},
                    hu: {
                        "∆": "delta",
                        "∞": "vegtelen",
                        "♥": "szerelem",
                        "&": "es",
                        "|": "vagy",
                        "<": "kisebb mint",
                        ">": "nagyobb mint",
                        "∑": "szumma",
                        "¤": "penznem"
                    },
                    it: {
                        "∆": "delta",
                        "∞": "infinito",
                        "♥": "amore",
                        "&": "e",
                        "|": "o",
                        "<": "minore di",
                        ">": "maggiore di",
                        "∑": "somma",
                        "¤": "moneta"
                    },
                    lt: {},
                    lv: {
                        "∆": "delta",
                        "∞": "bezgaliba",
                        "♥": "milestiba",
                        "&": "un",
                        "|": "vai",
                        "<": "mazak neka",
                        ">": "lielaks neka",
                        "∑": "summa",
                        "¤": "valuta"
                    },
                    my: {
                        "∆": "kwahkhyaet",
                        "∞": "asaonasme",
                        "♥": "akhyait",
                        "&": "nhin",
                        "|": "tho",
                        "<": "ngethaw",
                        ">": "kyithaw",
                        "∑": "paungld",
                        "¤": "ngwekye"
                    },
                    mk: {},
                    nl: {
                        "∆": "delta",
                        "∞": "oneindig",
                        "♥": "liefde",
                        "&": "en",
                        "|": "of",
                        "<": "kleiner dan",
                        ">": "groter dan",
                        "∑": "som",
                        "¤": "valuta"
                    },
                    pl: {
                        "∆": "delta",
                        "∞": "nieskonczonosc",
                        "♥": "milosc",
                        "&": "i",
                        "|": "lub",
                        "<": "mniejsze niz",
                        ">": "wieksze niz",
                        "∑": "suma",
                        "¤": "waluta"
                    },
                    pt: {
                        "∆": "delta",
                        "∞": "infinito",
                        "♥": "amor",
                        "&": "e",
                        "|": "ou",
                        "<": "menor que",
                        ">": "maior que",
                        "∑": "soma",
                        "¤": "moeda"
                    },
                    ro: {
                        "∆": "delta",
                        "∞": "infinit",
                        "♥": "dragoste",
                        "&": "si",
                        "|": "sau",
                        "<": "mai mic ca",
                        ">": "mai mare ca",
                        "∑": "suma",
                        "¤": "valuta"
                    },
                    ru: {
                        "∆": "delta",
                        "∞": "beskonechno",
                        "♥": "lubov",
                        "&": "i",
                        "|": "ili",
                        "<": "menshe",
                        ">": "bolshe",
                        "∑": "summa",
                        "¤": "valjuta"
                    },
                    sk: {
                        "∆": "delta",
                        "∞": "nekonecno",
                        "♥": "laska",
                        "&": "a",
                        "|": "alebo",
                        "<": "menej ako",
                        ">": "viac ako",
                        "∑": "sucet",
                        "¤": "mena"
                    },
                    sr: {},
                    tr: {
                        "∆": "delta",
                        "∞": "sonsuzluk",
                        "♥": "ask",
                        "&": "ve",
                        "|": "veya",
                        "<": "kucuktur",
                        ">": "buyuktur",
                        "∑": "toplam",
                        "¤": "para birimi"
                    },
                    uk: {
                        "∆": "delta",
                        "∞": "bezkinechnist",
                        "♥": "lubov",
                        "&": "i",
                        "|": "abo",
                        "<": "menshe",
                        ">": "bilshe",
                        "∑": "suma",
                        "¤": "valjuta"
                    },
                    vn: {
                        "∆": "delta",
                        "∞": "vo cuc",
                        "♥": "yeu",
                        "&": "va",
                        "|": "hoac",
                        "<": "nho hon",
                        ">": "lon hon",
                        "∑": "tong",
                        "¤": "tien te"
                    }
                };
            if ("string" != typeof e) return "";
            if ("string" == typeof a && (A = a), m = N.en, c = I.en, "object" == typeof a) {
                n = a.maintainCase || !1, v = a.custom && "object" == typeof a.custom ? a.custom : v, u = +a.truncate > 1 && a.truncate || !1, l = a.uric || !1, s = a.uricNoSlash || !1, r = a.mark || !1, O = a.symbols !== !1 && a.lang !== !1, A = a.separator || A, l && (p += b.join("")), s && (p += z.join("")), r && (p += E.join("")), m = a.lang && N[a.lang] && O ? N[a.lang] : O ? N.en : {}, c = a.lang && I[a.lang] ? I[a.lang] : a.lang === !1 || a.lang === !0 ? {} : I.en, a.titleCase && "number" == typeof a.titleCase.length && Array.prototype.toString.call(a.titleCase) ? (a.titleCase.forEach(function(e) {
                    v[e + ""] = e + ""
                }), t = !0) : t = !!a.titleCase, a.custom && "number" == typeof a.custom.length && Array.prototype.toString.call(a.custom) && a.custom.forEach(function(e) {
                    v[e + ""] = e + ""
                }), Object.keys(v).forEach(function(a) {
                    var n;
                    n = a.length > 1 ? new RegExp("\\b" + o(a) + "\\b", "gi") : new RegExp(o(a), "gi"), e = e.replace(n, v[a])
                });
                for (g in v) p += g
            }
            for (p += A, p = o(p), e = e.replace(/(^\s+|\s+$)/g, ""), f = !1, y = !1, d = 0, k = e.length; d < k; d++) g = e[d], i(g, v) ? f = !1 : c[g] ? (g = f && c[g].match(/[A-Za-z0-9]/) ? " " + c[g] : c[g], f = !1) : g in w ? (d + 1 < k && U.indexOf(e[d + 1]) >= 0 ? (S += g, g = "") : y === !0 ? (g = C[S] + w[g], S = "") : g = f && w[g].match(/[A-Za-z0-9]/) ? " " + w[g] : w[g], f = !1, y = !1) : g in C ? (S += g, g = "", d === k - 1 && (g = C[S]), y = !0) : !m[g] || l && b.join("").indexOf(g) !== -1 || s && z.join("").indexOf(g) !== -1 ? (y === !0 ? (g = C[S] + g, S = "", y = !1) : f && (/[A-Za-z0-9]/.test(g) || j.substr(-1).match(/A-Za-z0-9]/)) && (g = " " + g), f = !1) : (g = f || j.substr(-1).match(/[A-Za-z0-9]/) ? A + m[g] : m[g], g += void 0 !== e[d + 1] && e[d + 1].match(/[A-Za-z0-9]/) ? A : "", f = !0), j += g.replace(new RegExp("[^\\w\\s" + p + "_-]", "g"), A);
            return t && (j = j.replace(/(\w)(\S*)/g, function(e, a, n) {
                var t = a.toUpperCase() + (null !== n ? n : "");
                return Object.keys(v).indexOf(t.toLowerCase()) < 0 ? t : t.toLowerCase()
            })), j = j.replace(/\s+/g, A).replace(new RegExp("\\" + A + "+", "g"), A).replace(new RegExp("(^\\" + A + "+|\\" + A + "+$)", "g"), ""), u && j.length > u && (h = j.charAt(u) === A, j = j.slice(0, u), h || (j = j.slice(0, j.lastIndexOf(A)))), n || t || (j = j.toLowerCase()), j
        },
        t = function(e) {
            return function(a) {
                return n(a, e)
            }
        },
        o = function(e) {
            return e.replace(/[-\\^$*+?.()|[\]{}\/]/g, "\\$&")
        },
        i = function(e, a) {
            for (var n in a)
                if (a[n] === e) return !0
        };
    if ("undefined" != typeof module && module.exports) module.exports = n, module.exports.createSlug = t;
    else if ("undefined" != typeof define && define.amd) define([], function() {
        return n
    });
    else try {
        if (e.getSlug || e.createSlug) throw "speakingurl: globals exists /(getSlug|createSlug)/";
        e.getSlug = n, e.createSlug = t
    } catch (u) {}
}(this);
! function(t, e) {
    if ("function" == typeof define && define.amd) define(["moment", "jquery"], function(t, a) {
        return a.fn || (a.fn = {}), e(t, a)
    });
    else if ("object" == typeof module && module.exports) {
        var a = "undefined" != typeof window ? window.jQuery : void 0;
        a || (a = require("jquery"), a.fn || (a.fn = {}));
        var i = "undefined" != typeof window && "undefined" != typeof window.moment ? window.moment : require("moment");
        module.exports = e(i, a)
    } else t.daterangepicker = e(t.moment, t.jQuery)
}(this, function(t, e) {
    var a = function(a, i, s) {
        if (this.parentEl = "body", this.element = e(a), this.startDate = t().startOf("day"), this.endDate = t().endOf("day"), this.minDate = !1, this.maxDate = !1, this.dateLimit = !1, this.autoApply = !1, this.singleDatePicker = !1, this.showDropdowns = !1, this.showWeekNumbers = !1, this.showISOWeekNumbers = !1, this.showCustomRangeLabel = !0, this.timePicker = !1, this.timePicker24Hour = !1, this.timePickerIncrement = 1, this.timePickerSeconds = !1, this.linkedCalendars = !0, this.autoUpdateInput = !0, this.alwaysShowCalendars = !1, this.ranges = {}, this.opens = "right", this.element.hasClass("pull-right") && (this.opens = "left"), this.drops = "down", this.element.hasClass("dropup") && (this.drops = "up"), this.buttonClasses = "btn btn-sm", this.applyClass = "btn-success", this.cancelClass = "btn-default", this.locale = {
                direction: "ltr",
                format: t.localeData().longDateFormat("L"),
                separator: " - ",
                applyLabel: "Apply",
                cancelLabel: "Cancel",
                weekLabel: "W",
                customRangeLabel: "Custom Range",
                daysOfWeek: t.weekdaysMin(),
                monthNames: t.monthsShort(),
                firstDay: t.localeData().firstDayOfWeek()
            }, this.callback = function() {}, this.isShowing = !1, this.leftCalendar = {}, this.rightCalendar = {}, "object" == typeof i && null !== i || (i = {}), i = e.extend(this.element.data(), i), "string" == typeof i.template || i.template instanceof e || (i.template = '<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'), this.parentEl = e(i.parentEl && e(i.parentEl).length ? i.parentEl : this.parentEl), this.container = e(i.template).appendTo(this.parentEl), "object" == typeof i.locale && ("string" == typeof i.locale.direction && (this.locale.direction = i.locale.direction), "string" == typeof i.locale.format && (this.locale.format = i.locale.format), "string" == typeof i.locale.separator && (this.locale.separator = i.locale.separator), "object" == typeof i.locale.daysOfWeek && (this.locale.daysOfWeek = i.locale.daysOfWeek.slice()), "object" == typeof i.locale.monthNames && (this.locale.monthNames = i.locale.monthNames.slice()), "number" == typeof i.locale.firstDay && (this.locale.firstDay = i.locale.firstDay), "string" == typeof i.locale.applyLabel && (this.locale.applyLabel = i.locale.applyLabel), "string" == typeof i.locale.cancelLabel && (this.locale.cancelLabel = i.locale.cancelLabel), "string" == typeof i.locale.weekLabel && (this.locale.weekLabel = i.locale.weekLabel), "string" == typeof i.locale.customRangeLabel)) {
            var n = document.createElement("textarea");
            n.innerHTML = i.locale.customRangeLabel;
            var r = n.value;
            this.locale.customRangeLabel = r
        }
        if (this.container.addClass(this.locale.direction), "string" == typeof i.startDate && (this.startDate = t(i.startDate, this.locale.format)), "string" == typeof i.endDate && (this.endDate = t(i.endDate, this.locale.format)), "string" == typeof i.minDate && (this.minDate = t(i.minDate, this.locale.format)), "string" == typeof i.maxDate && (this.maxDate = t(i.maxDate, this.locale.format)), "object" == typeof i.startDate && (this.startDate = t(i.startDate)), "object" == typeof i.endDate && (this.endDate = t(i.endDate)), "object" == typeof i.minDate && (this.minDate = t(i.minDate)), "object" == typeof i.maxDate && (this.maxDate = t(i.maxDate)), this.minDate && this.startDate.isBefore(this.minDate) && (this.startDate = this.minDate.clone()), this.maxDate && this.endDate.isAfter(this.maxDate) && (this.endDate = this.maxDate.clone()), "string" == typeof i.applyClass && (this.applyClass = i.applyClass), "string" == typeof i.cancelClass && (this.cancelClass = i.cancelClass), "object" == typeof i.dateLimit && (this.dateLimit = i.dateLimit), "string" == typeof i.opens && (this.opens = i.opens), "string" == typeof i.drops && (this.drops = i.drops), "boolean" == typeof i.showWeekNumbers && (this.showWeekNumbers = i.showWeekNumbers), "boolean" == typeof i.showISOWeekNumbers && (this.showISOWeekNumbers = i.showISOWeekNumbers), "string" == typeof i.buttonClasses && (this.buttonClasses = i.buttonClasses), "object" == typeof i.buttonClasses && (this.buttonClasses = i.buttonClasses.join(" ")), "boolean" == typeof i.showDropdowns && (this.showDropdowns = i.showDropdowns), "boolean" == typeof i.showCustomRangeLabel && (this.showCustomRangeLabel = i.showCustomRangeLabel), "boolean" == typeof i.singleDatePicker && (this.singleDatePicker = i.singleDatePicker, this.singleDatePicker && (this.endDate = this.startDate.clone())), "boolean" == typeof i.timePicker && (this.timePicker = i.timePicker), "boolean" == typeof i.timePickerSeconds && (this.timePickerSeconds = i.timePickerSeconds), "number" == typeof i.timePickerIncrement && (this.timePickerIncrement = i.timePickerIncrement), "boolean" == typeof i.timePicker24Hour && (this.timePicker24Hour = i.timePicker24Hour), "boolean" == typeof i.autoApply && (this.autoApply = i.autoApply), "boolean" == typeof i.autoUpdateInput && (this.autoUpdateInput = i.autoUpdateInput), "boolean" == typeof i.linkedCalendars && (this.linkedCalendars = i.linkedCalendars), "function" == typeof i.isInvalidDate && (this.isInvalidDate = i.isInvalidDate), "function" == typeof i.isCustomDate && (this.isCustomDate = i.isCustomDate), "boolean" == typeof i.alwaysShowCalendars && (this.alwaysShowCalendars = i.alwaysShowCalendars), 0 != this.locale.firstDay)
            for (var o = this.locale.firstDay; o > 0;) this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()), o--;
        var h, l, c;
        if ("undefined" == typeof i.startDate && "undefined" == typeof i.endDate && e(this.element).is("input[type=text]")) {
            var d = e(this.element).val(),
                m = d.split(this.locale.separator);
            h = l = null, 2 == m.length ? (h = t(m[0], this.locale.format), l = t(m[1], this.locale.format)) : this.singleDatePicker && "" !== d && (h = t(d, this.locale.format), l = t(d, this.locale.format)), null !== h && null !== l && (this.setStartDate(h), this.setEndDate(l))
        }
        if ("object" == typeof i.ranges) {
            for (c in i.ranges) {
                h = "string" == typeof i.ranges[c][0] ? t(i.ranges[c][0], this.locale.format) : t(i.ranges[c][0]), l = "string" == typeof i.ranges[c][1] ? t(i.ranges[c][1], this.locale.format) : t(i.ranges[c][1]), this.minDate && h.isBefore(this.minDate) && (h = this.minDate.clone());
                var f = this.maxDate;
                if (this.dateLimit && f && h.clone().add(this.dateLimit).isAfter(f) && (f = h.clone().add(this.dateLimit)), f && l.isAfter(f) && (l = f.clone()), !(this.minDate && l.isBefore(this.minDate, this.timepicker ? "minute" : "day") || f && h.isAfter(f, this.timepicker ? "minute" : "day"))) {
                    var n = document.createElement("textarea");
                    n.innerHTML = c;
                    var r = n.value;
                    this.ranges[r] = [h, l]
                }
            }
            var p = "<ul>";
            for (c in this.ranges) p += '<li data-range-key="' + c + '">' + c + "</li>";
            this.showCustomRangeLabel && (p += '<li data-range-key="' + this.locale.customRangeLabel + '">' + this.locale.customRangeLabel + "</li>"), p += "</ul>", this.container.find(".ranges").prepend(p)
        }
        "function" == typeof s && (this.callback = s), this.timePicker || (this.startDate = this.startDate.startOf("day"), this.endDate = this.endDate.endOf("day"), this.container.find(".calendar-time").hide()), this.timePicker && this.autoApply && (this.autoApply = !1), this.autoApply && "object" != typeof i.ranges ? this.container.find(".ranges").hide() : this.autoApply && this.container.find(".applyBtn, .cancelBtn").addClass("hide"), this.singleDatePicker && (this.container.addClass("single"), this.container.find(".calendar.left").addClass("single"), this.container.find(".calendar.left").show(), this.container.find(".calendar.right").hide(), this.container.find(".daterangepicker_input input, .daterangepicker_input > i").hide(), this.timePicker ? this.container.find(".ranges ul").hide() : this.container.find(".ranges").hide()), ("undefined" == typeof i.ranges && !this.singleDatePicker || this.alwaysShowCalendars) && this.container.addClass("show-calendar"), this.container.addClass("opens" + this.opens), "undefined" != typeof i.ranges && "right" == this.opens && this.container.find(".ranges").prependTo(this.container.find(".calendar.left").parent()), this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses), this.applyClass.length && this.container.find(".applyBtn").addClass(this.applyClass), this.cancelClass.length && this.container.find(".cancelBtn").addClass(this.cancelClass), this.container.find(".applyBtn").html(this.locale.applyLabel), this.container.find(".cancelBtn").html(this.locale.cancelLabel), this.container.find(".calendar").on("click.daterangepicker", ".prev", e.proxy(this.clickPrev, this)).on("click.daterangepicker", ".next", e.proxy(this.clickNext, this)).on("mousedown.daterangepicker", "td.available", e.proxy(this.clickDate, this)).on("mouseenter.daterangepicker", "td.available", e.proxy(this.hoverDate, this)).on("mouseleave.daterangepicker", "td.available", e.proxy(this.updateFormInputs, this)).on("change.daterangepicker", "select.yearselect", e.proxy(this.monthOrYearChanged, this)).on("change.daterangepicker", "select.monthselect", e.proxy(this.monthOrYearChanged, this)).on("change.daterangepicker", "select.hourselect,select.minuteselect,select.secondselect,select.ampmselect", e.proxy(this.timeChanged, this)).on("click.daterangepicker", ".daterangepicker_input input", e.proxy(this.showCalendars, this)).on("focus.daterangepicker", ".daterangepicker_input input", e.proxy(this.formInputsFocused, this)).on("blur.daterangepicker", ".daterangepicker_input input", e.proxy(this.formInputsBlurred, this)).on("change.daterangepicker", ".daterangepicker_input input", e.proxy(this.formInputsChanged, this)).on("keydown.daterangepicker", ".daterangepicker_input input", e.proxy(this.formInputsKeydown, this)), this.container.find(".ranges").on("click.daterangepicker", "button.applyBtn", e.proxy(this.clickApply, this)).on("click.daterangepicker", "button.cancelBtn", e.proxy(this.clickCancel, this)).on("click.daterangepicker", "li", e.proxy(this.clickRange, this)).on("mouseenter.daterangepicker", "li", e.proxy(this.hoverRange, this)).on("mouseleave.daterangepicker", "li", e.proxy(this.updateFormInputs, this)), this.element.is("input") || this.element.is("button") ? this.element.on({
            "click.daterangepicker": e.proxy(this.show, this),
            "focus.daterangepicker": e.proxy(this.show, this),
            "keyup.daterangepicker": e.proxy(this.elementChanged, this),
            "keydown.daterangepicker": e.proxy(this.keydown, this)
        }) : (this.element.on("click.daterangepicker", e.proxy(this.toggle, this)), this.element.on("keydown.daterangepicker", e.proxy(this.toggle, this))), this.element.is("input") && !this.singleDatePicker && this.autoUpdateInput ? (this.element.val(this.startDate.format(this.locale.format) + this.locale.separator + this.endDate.format(this.locale.format)), this.element.trigger("change")) : this.element.is("input") && this.autoUpdateInput && (this.element.val(this.startDate.format(this.locale.format)), this.element.trigger("change"))
    };
    return a.prototype = {
        constructor: a,
        setStartDate: function(e) {
            "string" == typeof e && (this.startDate = t(e, this.locale.format)), "object" == typeof e && (this.startDate = t(e)), this.timePicker || (this.startDate = this.startDate.startOf("day")), this.timePicker && this.timePickerIncrement && this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement), this.minDate && this.startDate.isBefore(this.minDate) && (this.startDate = this.minDate.clone(), this.timePicker && this.timePickerIncrement && this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement)), this.maxDate && this.startDate.isAfter(this.maxDate) && (this.startDate = this.maxDate.clone(), this.timePicker && this.timePickerIncrement && this.startDate.minute(Math.floor(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement)), this.isShowing || this.updateElement(), this.updateMonthsInView()
        },
        setEndDate: function(e) {
            "string" == typeof e && (this.endDate = t(e, this.locale.format)), "object" == typeof e && (this.endDate = t(e)), this.timePicker || (this.endDate = this.endDate.add(1, "d").startOf("day").subtract(1, "second")), this.timePicker && this.timePickerIncrement && this.endDate.minute(Math.round(this.endDate.minute() / this.timePickerIncrement) * this.timePickerIncrement), this.endDate.isBefore(this.startDate) && (this.endDate = this.startDate.clone()), this.maxDate && this.endDate.isAfter(this.maxDate) && (this.endDate = this.maxDate.clone()), this.dateLimit && this.startDate.clone().add(this.dateLimit).isBefore(this.endDate) && (this.endDate = this.startDate.clone().add(this.dateLimit)), this.previousRightTime = this.endDate.clone(), this.isShowing || this.updateElement(), this.updateMonthsInView()
        },
        isInvalidDate: function() {
            return !1
        },
        isCustomDate: function() {
            return !1
        },
        updateView: function() {
            this.timePicker && (this.renderTimePicker("left"), this.renderTimePicker("right"), this.endDate ? this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled") : this.container.find(".right .calendar-time select").attr("disabled", "disabled").addClass("disabled")), this.endDate ? (this.container.find('input[name="daterangepicker_end"]').removeClass("active"), this.container.find('input[name="daterangepicker_start"]').addClass("active")) : (this.container.find('input[name="daterangepicker_end"]').addClass("active"), this.container.find('input[name="daterangepicker_start"]').removeClass("active")), this.updateMonthsInView(), this.updateCalendars(), this.updateFormInputs()
        },
        updateMonthsInView: function() {
            if (this.endDate) {
                if (!this.singleDatePicker && this.leftCalendar.month && this.rightCalendar.month && (this.startDate.format("YYYY-MM") == this.leftCalendar.month.format("YYYY-MM") || this.startDate.format("YYYY-MM") == this.rightCalendar.month.format("YYYY-MM")) && (this.endDate.format("YYYY-MM") == this.leftCalendar.month.format("YYYY-MM") || this.endDate.format("YYYY-MM") == this.rightCalendar.month.format("YYYY-MM"))) return;
                this.leftCalendar.month = this.startDate.clone().date(2), this.linkedCalendars || this.endDate.month() == this.startDate.month() && this.endDate.year() == this.startDate.year() ? this.rightCalendar.month = this.startDate.clone().date(2).add(1, "month") : this.rightCalendar.month = this.endDate.clone().date(2)
            } else this.leftCalendar.month.format("YYYY-MM") != this.startDate.format("YYYY-MM") && this.rightCalendar.month.format("YYYY-MM") != this.startDate.format("YYYY-MM") && (this.leftCalendar.month = this.startDate.clone().date(2), this.rightCalendar.month = this.startDate.clone().date(2).add(1, "month"));
            this.maxDate && this.linkedCalendars && !this.singleDatePicker && this.rightCalendar.month > this.maxDate && (this.rightCalendar.month = this.maxDate.clone().date(2), this.leftCalendar.month = this.maxDate.clone().date(2).subtract(1, "month"))
        },
        updateCalendars: function() {
            if (this.timePicker) {
                var t, e, a;
                if (this.endDate) {
                    if (t = parseInt(this.container.find(".left .hourselect").val(), 10), e = parseInt(this.container.find(".left .minuteselect").val(), 10), a = this.timePickerSeconds ? parseInt(this.container.find(".left .secondselect").val(), 10) : 0, !this.timePicker24Hour) {
                        var i = this.container.find(".left .ampmselect").val();
                        "PM" === i && t < 12 && (t += 12), "AM" === i && 12 === t && (t = 0)
                    }
                } else if (t = parseInt(this.container.find(".right .hourselect").val(), 10), e = parseInt(this.container.find(".right .minuteselect").val(), 10), a = this.timePickerSeconds ? parseInt(this.container.find(".right .secondselect").val(), 10) : 0, !this.timePicker24Hour) {
                    var i = this.container.find(".right .ampmselect").val();
                    "PM" === i && t < 12 && (t += 12), "AM" === i && 12 === t && (t = 0)
                }
                this.leftCalendar.month.hour(t).minute(e).second(a), this.rightCalendar.month.hour(t).minute(e).second(a)
            }
            this.renderCalendar("left"), this.renderCalendar("right"), this.container.find(".ranges li").removeClass("active"), null != this.endDate && this.calculateChosenLabel()
        },
        renderCalendar: function(a) {
            var i = "left" == a ? this.leftCalendar : this.rightCalendar,
                s = i.month.month(),
                n = i.month.year(),
                r = i.month.hour(),
                o = i.month.minute(),
                h = i.month.second(),
                l = t([n, s]).daysInMonth(),
                c = t([n, s, 1]),
                d = t([n, s, l]),
                m = t(c).subtract(1, "month").month(),
                f = t(c).subtract(1, "month").year(),
                p = t([f, m]).daysInMonth(),
                u = c.day(),
                i = [];
            i.firstDay = c, i.lastDay = d;
            for (var g = 0; g < 6; g++) i[g] = [];
            var D = p - u + this.locale.firstDay + 1;
            D > p && (D -= 7), u == this.locale.firstDay && (D = p - 6);
            for (var k, y, v = t([f, m, D, 12, o, h]), g = 0, k = 0, y = 0; g < 42; g++, k++, v = t(v).add(24, "hour")) g > 0 && k % 7 === 0 && (k = 0, y++), i[y][k] = v.clone().hour(r).minute(o).second(h), v.hour(12), this.minDate && i[y][k].format("YYYY-MM-DD") == this.minDate.format("YYYY-MM-DD") && i[y][k].isBefore(this.minDate) && "left" == a && (i[y][k] = this.minDate.clone()), this.maxDate && i[y][k].format("YYYY-MM-DD") == this.maxDate.format("YYYY-MM-DD") && i[y][k].isAfter(this.maxDate) && "right" == a && (i[y][k] = this.maxDate.clone());
            "left" == a ? this.leftCalendar.calendar = i : this.rightCalendar.calendar = i;
            var C = "left" == a ? this.minDate : this.startDate,
                b = this.maxDate,
                w = ("left" == a ? this.startDate : this.endDate, "ltr" == this.locale.direction ? {
                    left: "chevron-left",
                    right: "chevron-right"
                } : {
                    left: "chevron-right",
                    right: "chevron-left"
                }),
                Y = '<table class="table-condensed">';
            Y += "<thead>", Y += "<tr>", (this.showWeekNumbers || this.showISOWeekNumbers) && (Y += "<th></th>"), Y += C && !C.isBefore(i.firstDay) || this.linkedCalendars && "left" != a ? "<th></th>" : '<th class="prev available"><i class="fa fa-' + w.left + " glyphicon glyphicon-" + w.left + '"></i></th>';
            var P = this.locale.monthNames[i[1][1].month()] + i[1][1].format(" YYYY");
            if (this.showDropdowns) {
                for (var M = i[1][1].month(), x = i[1][1].year(), I = b && b.year() || x + 5, L = C && C.year() || x - 50, S = x == L, A = x == I, _ = '<select class="monthselect">', B = 0; B < 12; B++) _ += (!S || B >= C.month()) && (!A || B <= b.month()) ? "<option value='" + B + "'" + (B === M ? " selected='selected'" : "") + ">" + this.locale.monthNames[B] + "</option>" : "<option value='" + B + "'" + (B === M ? " selected='selected'" : "") + " disabled='disabled'>" + this.locale.monthNames[B] + "</option>";
                _ += "</select>";
                for (var E = '<select class="yearselect">', W = L; W <= I; W++) E += '<option value="' + W + '"' + (W === x ? ' selected="selected"' : "") + ">" + W + "</option>";
                E += "</select>", P = _ + E
            }
            if (Y += '<th colspan="5" class="month">' + P + "</th>", Y += b && !b.isAfter(i.lastDay) || this.linkedCalendars && "right" != a && !this.singleDatePicker ? "<th></th>" : '<th class="next available"><i class="fa fa-' + w.right + " glyphicon glyphicon-" + w.right + '"></i></th>', Y += "</tr>", Y += "<tr>", (this.showWeekNumbers || this.showISOWeekNumbers) && (Y += '<th class="week">' + this.locale.weekLabel + "</th>"), e.each(this.locale.daysOfWeek, function(t, e) {
                    Y += "<th>" + e + "</th>"
                }), Y += "</tr>", Y += "</thead>", Y += "<tbody>", null == this.endDate && this.dateLimit) {
                var O = this.startDate.clone().add(this.dateLimit).endOf("day");
                b && !O.isBefore(b) || (b = O)
            }
            for (var y = 0; y < 6; y++) {
                Y += "<tr>", this.showWeekNumbers ? Y += '<td class="week">' + i[y][0].week() + "</td>" : this.showISOWeekNumbers && (Y += '<td class="week">' + i[y][0].isoWeek() + "</td>");
                for (var k = 0; k < 7; k++) {
                    var N = [];
                    i[y][k].isSame(new Date, "day") && N.push("today"), i[y][k].isoWeekday() > 5 && N.push("weekend"), i[y][k].month() != i[1][1].month() && N.push("off"), this.minDate && i[y][k].isBefore(this.minDate, "day") && N.push("off", "disabled"), b && i[y][k].isAfter(b, "day") && N.push("off", "disabled"), this.isInvalidDate(i[y][k]) && N.push("off", "disabled"), i[y][k].format("YYYY-MM-DD") == this.startDate.format("YYYY-MM-DD") && N.push("active", "start-date"), null != this.endDate && i[y][k].format("YYYY-MM-DD") == this.endDate.format("YYYY-MM-DD") && N.push("active", "end-date"), null != this.endDate && i[y][k] > this.startDate && i[y][k] < this.endDate && N.push("in-range");
                    var R = this.isCustomDate(i[y][k]);
                    R !== !1 && ("string" == typeof R ? N.push(R) : Array.prototype.push.apply(N, R));
                    for (var j = "", H = !1, g = 0; g < N.length; g++) j += N[g] + " ", "disabled" == N[g] && (H = !0);
                    H || (j += "available"), Y += '<td class="' + j.replace(/^\s+|\s+$/g, "") + '" data-title="r' + y + "c" + k + '">' + i[y][k].date() + "</td>"
                }
                Y += "</tr>"
            }
            Y += "</tbody>", Y += "</table>", this.container.find(".calendar." + a + " .calendar-table").html(Y)
        },
        renderTimePicker: function(t) {
            if ("right" != t || this.endDate) {
                var e, a, i, s = this.maxDate;
                if (!this.dateLimit || this.maxDate && !this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate) || (s = this.startDate.clone().add(this.dateLimit)), "left" == t) a = this.startDate.clone(), i = this.minDate;
                else if ("right" == t) {
                    a = this.endDate.clone(), i = this.startDate;
                    var n = this.container.find(".calendar.right .calendar-time div");
                    if ("" != n.html() && (a.hour(n.find(".hourselect option:selected").val() || a.hour()), a.minute(n.find(".minuteselect option:selected").val() || a.minute()), a.second(n.find(".secondselect option:selected").val() || a.second()), !this.timePicker24Hour)) {
                        var r = n.find(".ampmselect option:selected").val();
                        "PM" === r && a.hour() < 12 && a.hour(a.hour() + 12), "AM" === r && 12 === a.hour() && a.hour(0)
                    }
                    a.isBefore(this.startDate) && (a = this.startDate.clone()), s && a.isAfter(s) && (a = s.clone())
                }
                e = '<select class="hourselect">';
                for (var o = this.timePicker24Hour ? 0 : 1, h = this.timePicker24Hour ? 23 : 12, l = o; l <= h; l++) {
                    var c = l;
                    this.timePicker24Hour || (c = a.hour() >= 12 ? 12 == l ? 12 : l + 12 : 12 == l ? 0 : l);
                    var d = a.clone().hour(c),
                        m = !1;
                    i && d.minute(59).isBefore(i) && (m = !0), s && d.minute(0).isAfter(s) && (m = !0), e += c != a.hour() || m ? m ? '<option value="' + l + '" disabled="disabled" class="disabled">' + l + "</option>" : '<option value="' + l + '">' + l + "</option>" : '<option value="' + l + '" selected="selected">' + l + "</option>"
                }
                e += "</select> ", e += ': <select class="minuteselect">';
                for (var l = 0; l < 60; l += this.timePickerIncrement) {
                    var f = l < 10 ? "0" + l : l,
                        d = a.clone().minute(l),
                        m = !1;
                    i && d.second(59).isBefore(i) && (m = !0), s && d.second(0).isAfter(s) && (m = !0), e += a.minute() != l || m ? m ? '<option value="' + l + '" disabled="disabled" class="disabled">' + f + "</option>" : '<option value="' + l + '">' + f + "</option>" : '<option value="' + l + '" selected="selected">' + f + "</option>"
                }
                if (e += "</select> ", this.timePickerSeconds) {
                    e += ': <select class="secondselect">';
                    for (var l = 0; l < 60; l++) {
                        var f = l < 10 ? "0" + l : l,
                            d = a.clone().second(l),
                            m = !1;
                        i && d.isBefore(i) && (m = !0), s && d.isAfter(s) && (m = !0), e += a.second() != l || m ? m ? '<option value="' + l + '" disabled="disabled" class="disabled">' + f + "</option>" : '<option value="' + l + '">' + f + "</option>" : '<option value="' + l + '" selected="selected">' + f + "</option>"
                    }
                    e += "</select> "
                }
                if (!this.timePicker24Hour) {
                    e += '<select class="ampmselect">';
                    var p = "",
                        u = "";
                    i && a.clone().hour(12).minute(0).second(0).isBefore(i) && (p = ' disabled="disabled" class="disabled"'), s && a.clone().hour(0).minute(0).second(0).isAfter(s) && (u = ' disabled="disabled" class="disabled"'), e += a.hour() >= 12 ? '<option value="AM"' + p + '>AM</option><option value="PM" selected="selected"' + u + ">PM</option>" : '<option value="AM" selected="selected"' + p + '>AM</option><option value="PM"' + u + ">PM</option>", e += "</select>"
                }
                this.container.find(".calendar." + t + " .calendar-time div").html(e)
            }
        },
        updateFormInputs: function() {
            this.container.find("input[name=daterangepicker_start]").is(":focus") || this.container.find("input[name=daterangepicker_end]").is(":focus") || (this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)), this.endDate && this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)), this.singleDatePicker || this.endDate && (this.startDate.isBefore(this.endDate) || this.startDate.isSame(this.endDate)) ? this.container.find("button.applyBtn").removeAttr("disabled") : this.container.find("button.applyBtn").attr("disabled", "disabled"))
        },
        move: function() {
            var t, a = {
                    top: 0,
                    left: 0
                },
                i = e(window).width();
            this.parentEl.is("body") || (a = {
                top: this.parentEl.offset().top - this.parentEl.scrollTop(),
                left: this.parentEl.offset().left - this.parentEl.scrollLeft()
            }, i = this.parentEl[0].clientWidth + this.parentEl.offset().left), t = "up" == this.drops ? this.element.offset().top - this.container.outerHeight() - a.top : this.element.offset().top + this.element.outerHeight() - a.top, this.container["up" == this.drops ? "addClass" : "removeClass"]("dropup"), "left" == this.opens ? (this.container.css({
                top: t,
                right: i - this.element.offset().left - this.element.outerWidth(),
                left: "auto"
            }), this.container.offset().left < 0 && this.container.css({
                right: "auto",
                left: 9
            })) : "center" == this.opens ? (this.container.css({
                top: t,
                left: this.element.offset().left - a.left + this.element.outerWidth() / 2 - this.container.outerWidth() / 2,
                right: "auto"
            }), this.container.offset().left < 0 && this.container.css({
                right: "auto",
                left: 9
            })) : (this.container.css({
                top: t,
                left: this.element.offset().left - a.left,
                right: "auto"
            }), this.container.offset().left + this.container.outerWidth() > e(window).width() && this.container.css({
                left: "auto",
                right: 0
            }))
        },
        show: function(t) {
            this.isShowing || (this._outsideClickProxy = e.proxy(function(t) {
                this.outsideClick(t)
            }, this), e(document).on("mousedown.daterangepicker", this._outsideClickProxy).on("touchend.daterangepicker", this._outsideClickProxy).on("click.daterangepicker", "[data-toggle=dropdown]", this._outsideClickProxy).on("focusin.daterangepicker", this._outsideClickProxy), e(window).on("resize.daterangepicker", e.proxy(function(t) {
                this.move(t)
            }, this)), this.oldStartDate = this.startDate.clone(), this.oldEndDate = this.endDate.clone(), this.previousRightTime = this.endDate.clone(), this.updateView(), this.container.show(), this.move(), this.element.trigger("show.daterangepicker", this), this.isShowing = !0)
        },
        hide: function(t) {
            this.isShowing && (this.endDate || (this.startDate = this.oldStartDate.clone(), this.endDate = this.oldEndDate.clone()), this.startDate.isSame(this.oldStartDate) && this.endDate.isSame(this.oldEndDate) || this.callback(this.startDate, this.endDate, this.chosenLabel), this.updateElement(), e(document).off(".daterangepicker"), e(window).off(".daterangepicker"), this.container.hide(), this.element.trigger("hide.daterangepicker", this), this.isShowing = !1)
        },
        toggle: function(t) {
            this.isShowing ? this.hide() : this.show()
        },
        outsideClick: function(t) {
            var a = e(t.target);
            "focusin" == t.type || a.closest(this.element).length || a.closest(this.container).length || a.closest(".calendar-table").length || (this.hide(), this.element.trigger("outsideClick.daterangepicker", this))
        },
        showCalendars: function() {
            this.container.addClass("show-calendar"), this.move(), this.element.trigger("showCalendar.daterangepicker", this)
        },
        hideCalendars: function() {
            this.container.removeClass("show-calendar"), this.element.trigger("hideCalendar.daterangepicker", this)
        },
        hoverRange: function(t) {
            if (!this.container.find("input[name=daterangepicker_start]").is(":focus") && !this.container.find("input[name=daterangepicker_end]").is(":focus")) {
                var e = t.target.getAttribute("data-range-key");
                if (e == this.locale.customRangeLabel) this.updateView();
                else {
                    var a = this.ranges[e];
                    this.container.find("input[name=daterangepicker_start]").val(a[0].format(this.locale.format)), this.container.find("input[name=daterangepicker_end]").val(a[1].format(this.locale.format))
                }
            }
        },
        clickRange: function(t) {
            var e = t.target.getAttribute("data-range-key");
            if (this.chosenLabel = e, e == this.locale.customRangeLabel) this.showCalendars();
            else {
                var a = this.ranges[e];
                this.startDate = a[0], this.endDate = a[1], this.timePicker || (this.startDate.startOf("day"), this.endDate.endOf("day")), this.alwaysShowCalendars || this.hideCalendars(), this.clickApply()
            }
        },
        clickPrev: function(t) {
            var a = e(t.target).parents(".calendar");
            a.hasClass("left") ? (this.leftCalendar.month.subtract(1, "month"), this.linkedCalendars && this.rightCalendar.month.subtract(1, "month")) : this.rightCalendar.month.subtract(1, "month"), this.updateCalendars()
        },
        clickNext: function(t) {
            var a = e(t.target).parents(".calendar");
            a.hasClass("left") ? this.leftCalendar.month.add(1, "month") : (this.rightCalendar.month.add(1, "month"), this.linkedCalendars && this.leftCalendar.month.add(1, "month")), this.updateCalendars()
        },
        hoverDate: function(t) {
            if (e(t.target).hasClass("available")) {
                var a = e(t.target).attr("data-title"),
                    i = a.substr(1, 1),
                    s = a.substr(3, 1),
                    n = e(t.target).parents(".calendar"),
                    r = n.hasClass("left") ? this.leftCalendar.calendar[i][s] : this.rightCalendar.calendar[i][s];
                this.endDate && !this.container.find("input[name=daterangepicker_start]").is(":focus") ? this.container.find("input[name=daterangepicker_start]").val(r.format(this.locale.format)) : this.endDate || this.container.find("input[name=daterangepicker_end]").is(":focus") || this.container.find("input[name=daterangepicker_end]").val(r.format(this.locale.format));
                var o = this.leftCalendar,
                    h = this.rightCalendar,
                    l = this.startDate;
                this.endDate || this.container.find(".calendar tbody td").each(function(t, a) {
                    if (!e(a).hasClass("week")) {
                        var i = e(a).attr("data-title"),
                            s = i.substr(1, 1),
                            n = i.substr(3, 1),
                            c = e(a).parents(".calendar"),
                            d = c.hasClass("left") ? o.calendar[s][n] : h.calendar[s][n];
                        d.isAfter(l) && d.isBefore(r) || d.isSame(r, "day") ? e(a).addClass("in-range") : e(a).removeClass("in-range")
                    }
                })
            }
        },
        clickDate: function(t) {
            if (e(t.target).hasClass("available")) {
                var a = e(t.target).attr("data-title"),
                    i = a.substr(1, 1),
                    s = a.substr(3, 1),
                    n = e(t.target).parents(".calendar"),
                    r = n.hasClass("left") ? this.leftCalendar.calendar[i][s] : this.rightCalendar.calendar[i][s];
                if (this.endDate || r.isBefore(this.startDate, "day")) {
                    if (this.timePicker) {
                        var o = parseInt(this.container.find(".left .hourselect").val(), 10);
                        if (!this.timePicker24Hour) {
                            var h = this.container.find(".left .ampmselect").val();
                            "PM" === h && o < 12 && (o += 12), "AM" === h && 12 === o && (o = 0)
                        }
                        var l = parseInt(this.container.find(".left .minuteselect").val(), 10),
                            c = this.timePickerSeconds ? parseInt(this.container.find(".left .secondselect").val(), 10) : 0;
                        r = r.clone().hour(o).minute(l).second(c)
                    }
                    this.endDate = null, this.setStartDate(r.clone())
                } else if (!this.endDate && r.isBefore(this.startDate)) this.setEndDate(this.startDate.clone());
                else {
                    if (this.timePicker) {
                        var o = parseInt(this.container.find(".right .hourselect").val(), 10);
                        if (!this.timePicker24Hour) {
                            var h = this.container.find(".right .ampmselect").val();
                            "PM" === h && o < 12 && (o += 12), "AM" === h && 12 === o && (o = 0)
                        }
                        var l = parseInt(this.container.find(".right .minuteselect").val(), 10),
                            c = this.timePickerSeconds ? parseInt(this.container.find(".right .secondselect").val(), 10) : 0;
                        r = r.clone().hour(o).minute(l).second(c)
                    }
                    this.setEndDate(r.clone()), this.autoApply && (this.calculateChosenLabel(), this.clickApply())
                }
                this.singleDatePicker && (this.setEndDate(this.startDate), this.timePicker || this.clickApply()), this.updateView(), t.stopPropagation()
            }
        },
        calculateChosenLabel: function() {
            var t = !0,
                e = 0;
            for (var a in this.ranges) {
                if (this.timePicker) {
                    var i = this.timePickerSeconds ? "YYYY-MM-DD hh:mm:ss" : "YYYY-MM-DD hh:mm";
                    if (this.startDate.format(i) == this.ranges[a][0].format(i) && this.endDate.format(i) == this.ranges[a][1].format(i)) {
                        t = !1, this.chosenLabel = this.container.find(".ranges li:eq(" + e + ")").addClass("active").html();
                        break
                    }
                } else if (this.startDate.format("YYYY-MM-DD") == this.ranges[a][0].format("YYYY-MM-DD") && this.endDate.format("YYYY-MM-DD") == this.ranges[a][1].format("YYYY-MM-DD")) {
                    t = !1, this.chosenLabel = this.container.find(".ranges li:eq(" + e + ")").addClass("active").html();
                    break
                }
                e++
            }
            t && (this.showCustomRangeLabel ? this.chosenLabel = this.container.find(".ranges li:last").addClass("active").html() : this.chosenLabel = null, this.showCalendars())
        },
        clickApply: function(t) {
            this.hide(), this.element.trigger("apply.daterangepicker", this)
        },
        clickCancel: function(t) {
            this.startDate = this.oldStartDate, this.endDate = this.oldEndDate, this.hide(), this.element.trigger("cancel.daterangepicker", this)
        },
        monthOrYearChanged: function(t) {
            var a = e(t.target).closest(".calendar").hasClass("left"),
                i = a ? "left" : "right",
                s = this.container.find(".calendar." + i),
                n = parseInt(s.find(".monthselect").val(), 10),
                r = s.find(".yearselect").val();
            a || (r < this.startDate.year() || r == this.startDate.year() && n < this.startDate.month()) && (n = this.startDate.month(), r = this.startDate.year()), this.minDate && (r < this.minDate.year() || r == this.minDate.year() && n < this.minDate.month()) && (n = this.minDate.month(), r = this.minDate.year()), this.maxDate && (r > this.maxDate.year() || r == this.maxDate.year() && n > this.maxDate.month()) && (n = this.maxDate.month(), r = this.maxDate.year()), a ? (this.leftCalendar.month.month(n).year(r), this.linkedCalendars && (this.rightCalendar.month = this.leftCalendar.month.clone().add(1, "month"))) : (this.rightCalendar.month.month(n).year(r),
                this.linkedCalendars && (this.leftCalendar.month = this.rightCalendar.month.clone().subtract(1, "month"))), this.updateCalendars()
        },
        timeChanged: function(t) {
            var a = e(t.target).closest(".calendar"),
                i = a.hasClass("left"),
                s = parseInt(a.find(".hourselect").val(), 10),
                n = parseInt(a.find(".minuteselect").val(), 10),
                r = this.timePickerSeconds ? parseInt(a.find(".secondselect").val(), 10) : 0;
            if (!this.timePicker24Hour) {
                var o = a.find(".ampmselect").val();
                "PM" === o && s < 12 && (s += 12), "AM" === o && 12 === s && (s = 0)
            }
            if (i) {
                var h = this.startDate.clone();
                h.hour(s), h.minute(n), h.second(r), this.setStartDate(h), this.singleDatePicker ? this.endDate = this.startDate.clone() : this.endDate && this.endDate.format("YYYY-MM-DD") == h.format("YYYY-MM-DD") && this.endDate.isBefore(h) && this.setEndDate(h.clone())
            } else if (this.endDate) {
                var l = this.endDate.clone();
                l.hour(s), l.minute(n), l.second(r), this.setEndDate(l)
            }
            this.updateCalendars(), this.updateFormInputs(), this.renderTimePicker("left"), this.renderTimePicker("right")
        },
        formInputsChanged: function(a) {
            var i = e(a.target).closest(".calendar").hasClass("right"),
                s = t(this.container.find('input[name="daterangepicker_start"]').val(), this.locale.format),
                n = t(this.container.find('input[name="daterangepicker_end"]').val(), this.locale.format);
            s.isValid() && n.isValid() && (i && n.isBefore(s) && (s = n.clone()), this.setStartDate(s), this.setEndDate(n), i ? this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)) : this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))), this.updateView()
        },
        formInputsFocused: function(t) {
            this.container.find('input[name="daterangepicker_start"], input[name="daterangepicker_end"]').removeClass("active"), e(t.target).addClass("active");
            var a = e(t.target).closest(".calendar").hasClass("right");
            a && (this.endDate = null, this.setStartDate(this.startDate.clone()), this.updateView())
        },
        formInputsBlurred: function(e) {
            if (!this.endDate) {
                var a = this.container.find('input[name="daterangepicker_end"]').val(),
                    i = t(a, this.locale.format);
                i.isValid() && (this.setEndDate(i), this.updateView())
            }
        },
        formInputsKeydown: function(t) {
            13 === t.keyCode && (t.preventDefault(), this.formInputsChanged(t))
        },
        elementChanged: function() {
            if (this.element.is("input") && this.element.val().length) {
                var e = this.element.val().split(this.locale.separator),
                    a = null,
                    i = null;
                2 === e.length && (a = t(e[0], this.locale.format), i = t(e[1], this.locale.format)), (this.singleDatePicker || null === a || null === i) && (a = t(this.element.val(), this.locale.format), i = a), a.isValid() && i.isValid() && (this.setStartDate(a), this.setEndDate(i), this.updateView())
            }
        },
        keydown: function(t) {
            9 !== t.keyCode && 13 !== t.keyCode || this.hide(), 27 === t.keyCode && (t.preventDefault(), t.stopPropagation(), this.hide())
        },
        updateElement: function() {
            this.element.is("input") && !this.singleDatePicker && this.autoUpdateInput ? (this.element.val(this.startDate.format(this.locale.format) + this.locale.separator + this.endDate.format(this.locale.format)), this.element.trigger("change")) : this.element.is("input") && this.autoUpdateInput && (this.element.val(this.startDate.format(this.locale.format)), this.element.trigger("change"))
        },
        remove: function() {
            this.container.remove(), this.element.off(".daterangepicker"), this.element.removeData()
        }
    }, e.fn.daterangepicker = function(t, i) {
        var s = e.extend(!0, {}, e.fn.daterangepicker.defaultOptions, t);
        return this.each(function() {
            var t = e(this);
            t.data("daterangepicker") && t.data("daterangepicker").remove(), t.data("daterangepicker", new a(t, s, i))
        }), this
    }, a
});
! function(c, M) {
    "use strict";
    "function" == typeof define && define.amd ? define(["moment"], M) : "object" == typeof module && module.exports ? module.exports = M(require("moment")) : M(c.moment)
}(this, function(c) {
    "use strict";

    function M(c) {
        return c > 96 ? c - 87 : c > 64 ? c - 29 : c - 48
    }

    function z(c) {
        var z, A = 0,
            b = c.split("."),
            o = b[0],
            p = b[1] || "",
            n = 1,
            a = 0,
            L = 1;
        for (45 === c.charCodeAt(0) && (A = 1, L = -1), A; A < o.length; A++) z = M(o.charCodeAt(A)), a = 60 * a + z;
        for (A = 0; A < p.length; A++) n /= 60, z = M(p.charCodeAt(A)), a += z * n;
        return a * L
    }

    function A(c) {
        for (var M = 0; M < c.length; M++) c[M] = z(c[M])
    }

    function b(c, M) {
        for (var z = 0; z < M; z++) c[z] = Math.round((c[z - 1] || 0) + 6e4 * c[z]);
        c[M - 1] = 1 / 0
    }

    function o(c, M) {
        var z, A = [];
        for (z = 0; z < M.length; z++) A[z] = c[M[z]];
        return A
    }

    function p(c) {
        var M = c.split("|"),
            z = M[2].split(" "),
            p = M[3].split(""),
            n = M[4].split(" ");
        return A(z), A(p), A(n), b(n, p.length), {
            name: M[0],
            abbrs: o(M[1].split(" "), p),
            offsets: o(z, p),
            untils: n,
            population: 0 | M[5]
        }
    }

    function n(c) {
        c && this._set(p(c))
    }

    function a(c) {
        var M = c.toTimeString(),
            z = M.match(/\([a-z ]+\)/i);
        z && z[0] ? (z = z[0].match(/[A-Z]/g), z = z ? z.join("") : void 0) : (z = M.match(/[A-Z]{3,5}/g), z = z ? z[0] : void 0), "GMT" === z && (z = void 0), this.at = +c, this.abbr = z, this.offset = c.getTimezoneOffset()
    }

    function L(c) {
        this.zone = c, this.offsetScore = 0, this.abbrScore = 0
    }

    function q(c, M) {
        for (var z, A; A = 6e4 * ((M.at - c.at) / 12e4 | 0);) z = new a(new Date(c.at + A)), z.offset === c.offset ? c = z : M = z;
        return c
    }

    function O() {
        var c, M, z, A = (new Date).getFullYear() - 2,
            b = new a(new Date(A, 0, 1)),
            o = [b];
        for (z = 1; z < 48; z++) M = new a(new Date(A, z, 1)), M.offset !== b.offset && (c = q(b, M), o.push(c), o.push(new a(new Date(c.at + 6e4)))), b = M;
        for (z = 0; z < 4; z++) o.push(new a(new Date(A + z, 0, 1))), o.push(new a(new Date(A + z, 6, 1)));
        return o
    }

    function N(c, M) {
        return c.offsetScore !== M.offsetScore ? c.offsetScore - M.offsetScore : c.abbrScore !== M.abbrScore ? c.abbrScore - M.abbrScore : M.zone.population - c.zone.population
    }

    function i(c, M) {
        var z, b;
        for (A(M), z = 0; z < M.length; z++) b = M[z], h[b] = h[b] || {}, h[b][c] = !0
    }

    function W(c) {
        var M, z, A, b = c.length,
            o = {},
            p = [];
        for (M = 0; M < b; M++) {
            A = h[c[M].offset] || {};
            for (z in A) A.hasOwnProperty(z) && (o[z] = !0)
        }
        for (M in o) o.hasOwnProperty(M) && p.push(g[M]);
        return p
    }

    function d() {
        try {
            var c = Intl.DateTimeFormat().resolvedOptions().timeZone;
            if (c && c.length > 3) {
                var M = g[X(c)];
                if (M) return M;
                s("Moment Timezone found " + c + " from the Intl api, but did not have that data loaded.")
            }
        } catch (z) {}
        var A, b, o, p = O(),
            n = p.length,
            a = W(p),
            q = [];
        for (b = 0; b < a.length; b++) {
            for (A = new L(B(a[b]), n), o = 0; o < n; o++) A.scoreOffsetAt(p[o]);
            q.push(A)
        }
        return q.sort(N), q.length > 0 ? q[0].zone.name : void 0
    }

    function e(c) {
        return S && !c || (S = d()), S
    }

    function X(c) {
        return (c || "").toLowerCase().replace(/\//g, "_")
    }

    function f(c) {
        var M, z, A, b;
        for ("string" == typeof c && (c = [c]), M = 0; M < c.length; M++) A = c[M].split("|"), z = A[0], b = X(z), D[b] = c[M], g[b] = z, i(b, A[2].split(" "))
    }

    function B(c, M) {
        c = X(c);
        var z, A = D[c];
        return A instanceof n ? A : "string" == typeof A ? (A = new n(A), D[c] = A, A) : P[c] && M !== B && (z = B(P[c], B)) ? (A = D[c] = new n, A._set(z), A.name = g[c], A) : null
    }

    function r() {
        var c, M = [];
        for (c in g) g.hasOwnProperty(c) && (D[c] || D[P[c]]) && g[c] && M.push(g[c]);
        return M.sort()
    }

    function T(c) {
        var M, z, A, b;
        for ("string" == typeof c && (c = [c]), M = 0; M < c.length; M++) z = c[M].split("|"), A = X(z[0]), b = X(z[1]), P[A] = b, g[A] = z[0], P[b] = A, g[b] = z[1]
    }

    function l(c) {
        f(c.zones), T(c.links), E.dataVersion = c.version
    }

    function u(c) {
        return u.didShowError || (u.didShowError = !0, s("moment.tz.zoneExists('" + c + "') has been deprecated in favor of !moment.tz.zone('" + c + "')")), !!B(c)
    }

    function t(c) {
        var M = "X" === c._f || "x" === c._f;
        return !(!c._a || void 0 !== c._tzm || M)
    }

    function s(c) {
        "undefined" != typeof console && "function" == typeof console.error && console.error(c)
    }

    function E(M) {
        var z = Array.prototype.slice.call(arguments, 0, -1),
            A = arguments[arguments.length - 1],
            b = B(A),
            o = c.utc.apply(null, z);
        return b && !c.isMoment(M) && t(o) && o.add(b.parse(o), "minutes"), o.tz(A), o
    }

    function C(c) {
        return function() {
            return this._z ? this._z.abbr(this) : c.call(this)
        }
    }

    function R(c) {
        return function() {
            return this._z = null, c.apply(this, arguments)
        }
    }
    var S, m = "0.5.16",
        D = {},
        P = {},
        g = {},
        h = {},
        H = c.version.split("."),
        k = +H[0],
        w = +H[1];
    (k < 2 || 2 === k && w < 6) && s("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js " + c.version + ". See momentjs.com"), n.prototype = {
        _set: function(c) {
            this.name = c.name, this.abbrs = c.abbrs, this.untils = c.untils, this.offsets = c.offsets, this.population = c.population
        },
        _index: function(c) {
            var M, z = +c,
                A = this.untils;
            for (M = 0; M < A.length; M++)
                if (z < A[M]) return M
        },
        parse: function(c) {
            var M, z, A, b, o = +c,
                p = this.offsets,
                n = this.untils,
                a = n.length - 1;
            for (b = 0; b < a; b++)
                if (M = p[b], z = p[b + 1], A = p[b ? b - 1 : b], M < z && E.moveAmbiguousForward ? M = z : M > A && E.moveInvalidForward && (M = A), o < n[b] - 6e4 * M) return p[b];
            return p[a]
        },
        abbr: function(c) {
            return this.abbrs[this._index(c)]
        },
        offset: function(c) {
            return s("zone.offset has been deprecated in favor of zone.utcOffset"), this.offsets[this._index(c)]
        },
        utcOffset: function(c) {
            return this.offsets[this._index(c)]
        }
    }, L.prototype.scoreOffsetAt = function(c) {
        this.offsetScore += Math.abs(this.zone.utcOffset(c.at) - c.offset), this.zone.abbr(c.at).replace(/[^A-Z]/g, "") !== c.abbr && this.abbrScore++
    }, E.version = m, E.dataVersion = "", E._zones = D, E._links = P, E._names = g, E.add = f, E.link = T, E.load = l, E.zone = B, E.zoneExists = u, E.guess = e, E.names = r, E.Zone = n, E.unpack = p, E.unpackBase60 = z, E.needsOffset = t, E.moveInvalidForward = !0, E.moveAmbiguousForward = !1;
    var v = c.fn;
    c.tz = E, c.defaultZone = null, c.updateOffset = function(M, z) {
        var A, b = c.defaultZone;
        void 0 === M._z && (b && t(M) && !M._isUTC && (M._d = c.utc(M._a)._d, M.utc().add(b.parse(M), "minutes")), M._z = b), M._z && (A = M._z.utcOffset(M), Math.abs(A) < 16 && (A /= 60), void 0 !== M.utcOffset ? M.utcOffset(-A, z) : M.zone(A, z))
    }, v.tz = function(M, z) {
        return M ? (this._z = B(M), this._z ? c.updateOffset(this, z) : s("Moment Timezone has no data for " + M + ". See http://momentjs.com/timezone/docs/#/data-loading/."), this) : this._z ? this._z.name : void 0
    }, v.zoneName = C(v.zoneName), v.zoneAbbr = C(v.zoneAbbr), v.utc = R(v.utc), c.tz.setDefault = function(M) {
        return (k < 2 || 2 === k && w < 9) && s("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js " + c.version + "."), c.defaultZone = M ? B(M) : null, c
    };
    var I = c.momentProperties;
    return "[object Array]" === Object.prototype.toString.call(I) ? (I.push("_z"), I.push("_a")) : I && (I._z = null), l({
        version: "2018d",
        zones: ["Africa/Abidjan|LMT GMT|g.8 0|01|-2ldXH.Q|48e5", "Africa/Accra|LMT GMT +0020|.Q 0 -k|012121212121212121212121212121212121212121212121|-26BbX.8 6tzX.8 MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE|41e5", "Africa/Nairobi|LMT EAT +0230 +0245|-2r.g -30 -2u -2J|01231|-1F3Cr.g 3Dzr.g okMu MFXJ|47e5", "Africa/Algiers|PMT WET WEST CET CEST|-9.l 0 -10 -10 -20|0121212121212121343431312123431213|-2nco9.l cNb9.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 DA0 Imo0 rd0 De0 9Xz0 1fb0 1ap0 16K0 2yo0 mEp0 hwL0 jxA0 11A0 dDd0 17b0 11B0 1cN0 2Dy0 1cN0 1fB0 1cL0|26e5", "Africa/Lagos|LMT WAT|-d.A -10|01|-22y0d.A|17e6", "Africa/Bissau|LMT -01 GMT|12.k 10 0|012|-2ldX0 2xoo0|39e4", "Africa/Maputo|LMT CAT|-2a.k -20|01|-2GJea.k|26e5", "Africa/Cairo|EET EEST|-20 -30|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-1bIO0 vb0 1ip0 11z0 1iN0 1nz0 12p0 1pz0 10N0 1pz0 16p0 1jz0 s3d0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1WL0 rd0 1Rz0 wp0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1qL0 Xd0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1ny0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 WL0 1qN0 Rb0 1wp0 On0 1zd0 Lz0 1EN0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0|15e6", "Africa/Casablanca|LMT WET WEST CET|u.k 0 -10 -10|0121212121212121213121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2gMnt.E 130Lt.E rb0 Dd0 dVb0 b6p0 TX0 EoB0 LL0 gnd0 rz0 43d0 AL0 1Nd0 XX0 1Cp0 pz0 dEp0 4mn0 SyN0 AL0 1Nd0 wn0 1FB0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 Rc0 11A0 e00 e00 U00 11A0 8o0 e00 11A0 11A0 5A0 e00 17c0 1fA0 1a00 1a00 1fA0 17c0 1io0 14o0 1lc0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1lc0 14o0 1fA0|32e5", "Africa/Ceuta|WET WEST CET CEST|0 -10 -10 -20|010101010101010101010232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-25KN0 11z0 drd0 18p0 3HX0 17d0 1fz0 1a10 1io0 1a00 1y7o0 LL0 gnd0 rz0 43d0 AL0 1Nd0 XX0 1Cp0 pz0 dEp0 4VB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|85e3", "Africa/El_Aaiun|LMT -01 WET WEST|Q.M 10 0 -10|01232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1rDz7.c 1GVA7.c 6L0 AL0 1Nd0 XX0 1Cp0 pz0 1cBB0 AL0 1Nd0 wn0 1FB0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 Rc0 11A0 e00 e00 U00 11A0 8o0 e00 11A0 11A0 5A0 e00 17c0 1fA0 1a00 1a00 1fA0 17c0 1io0 14o0 1lc0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1lc0 14o0 1fA0|20e4", "Africa/Johannesburg|SAST SAST SAST|-1u -20 -30|012121|-2GJdu 1Ajdu 1cL0 1cN0 1cL0|84e5", "Africa/Juba|LMT CAT CAST EAT|-26.s -20 -30 -30|01212121212121212121212121212121213|-1yW26.s 1zK06.s 16L0 1iN0 17b0 1jd0 17b0 1ip0 17z0 1i10 17X0 1hB0 18n0 1hd0 19b0 1gp0 19z0 1iN0 17b0 1ip0 17z0 1i10 18n0 1hd0 18L0 1gN0 19b0 1gp0 19z0 1iN0 17z0 1i10 17X0 yGd0", "Africa/Khartoum|LMT CAT CAST EAT|-2a.8 -20 -30 -30|012121212121212121212121212121212131|-1yW2a.8 1zK0a.8 16L0 1iN0 17b0 1jd0 17b0 1ip0 17z0 1i10 17X0 1hB0 18n0 1hd0 19b0 1gp0 19z0 1iN0 17b0 1ip0 17z0 1i10 18n0 1hd0 18L0 1gN0 19b0 1gp0 19z0 1iN0 17z0 1i10 17X0 yGd0 HjL0|51e5", "Africa/Monrovia|MMT MMT GMT|H.8 I.u 0|012|-23Lzg.Q 28G01.m|11e5", "Africa/Ndjamena|LMT WAT WAST|-10.c -10 -20|0121|-2le10.c 2J3c0.c Wn0|13e5", "Africa/Sao_Tome|LMT GMT WAT|A.J 0 -10|012|-2le00 4i6N0", "Africa/Tripoli|LMT CET CEST EET|-Q.I -10 -20 -20|012121213121212121212121213123123|-21JcQ.I 1hnBQ.I vx0 4iP0 xx0 4eN0 Bb0 7ip0 U0n0 A10 1db0 1cN0 1db0 1dd0 1db0 1eN0 1bb0 1e10 1cL0 1c10 1db0 1dd0 1db0 1cN0 1db0 1q10 fAn0 1ep0 1db0 AKq0 TA0 1o00|11e5", "Africa/Tunis|PMT CET CEST|-9.l -10 -20|0121212121212121212121212121212121|-2nco9.l 18pa9.l 1qM0 DA0 3Tc0 11B0 1ze0 WM0 7z0 3d0 14L0 1cN0 1f90 1ar0 16J0 1gXB0 WM0 1rA0 11c0 nwo0 Ko0 1cM0 1cM0 1rA0 10M0 zuM0 10N0 1aN0 1qM0 WM0 1qM0 11A0 1o00|20e5", "Africa/Windhoek|+0130 SAST SAST CAT WAT WAST|-1u -20 -30 -20 -10 -20|01213454545454545454545454545454545454545454545454543|-2GJdu 1Ajdu 1cL0 1SqL0 9Io0 16P0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0|32e4", "America/Adak|NST NWT NPT BST BDT AHST HST HDT|b0 a0 a0 b0 a0 a0 a0 90|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17SX0 8wW0 iB0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cm0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|326", "America/Anchorage|AST AWT APT AHST AHDT YST AKST AKDT|a0 90 90 a0 90 90 90 80|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17T00 8wX0 iA0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cm0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|30e4", "America/Port_of_Spain|LMT AST|46.4 40|01|-2kNvR.U|43e3", "America/Araguaina|LMT -03 -02|3c.M 30 20|0121212121212121212121212121212121212121212121212121|-2glwL.c HdKL.c 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 dMN0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 ny10 Lz0|14e4", "America/Argentina/Buenos_Aires|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323232323232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 A4p0 uL0 1qN0 WL0", "America/Argentina/Catamarca|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323132321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 rlB0 7B0 8zb0 uL0", "America/Argentina/Cordoba|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323132323232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 A4p0 uL0 1qN0 WL0", "America/Argentina/Jujuy|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323121323232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1ze0 TX0 1ld0 WK0 1wp0 TX0 A4p0 uL0", "America/Argentina/La_Rioja|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323231232321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Qn0 qO0 16n0 Rb0 1wp0 TX0 rlB0 7B0 8zb0 uL0", "America/Argentina/Mendoza|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232312121321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1u20 SL0 1vd0 Tb0 1wp0 TW0 ri10 Op0 7TX0 uL0", "America/Argentina/Rio_Gallegos|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323232321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 rlB0 7B0 8zb0 uL0", "America/Argentina/Salta|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323231323232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 A4p0 uL0", "America/Argentina/San_Juan|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323231232321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Qn0 qO0 16n0 Rb0 1wp0 TX0 rld0 m10 8lb0 uL0", "America/Argentina/San_Luis|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323121212321212|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 XX0 1q20 SL0 AN0 vDb0 m10 8lb0 8L0 jd0 1qN0 WL0 1qN0", "America/Argentina/Tucuman|CMT -04 -03 -02|4g.M 40 30 20|0121212121212121212121212121212121212121212323232313232123232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 rlB0 4N0 8BX0 uL0 1qN0 WL0", "America/Argentina/Ushuaia|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323232321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 rkN0 8p0 8zb0 uL0", "America/Curacao|LMT -0430 AST|4z.L 4u 40|012|-2kV7o.d 28KLS.d|15e4", "America/Asuncion|AMT -04 -03|3O.E 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-1x589.k 1DKM9.k 3CL0 3Dd0 10L0 1pB0 10n0 1pB0 10n0 1pB0 1cL0 1dd0 1db0 1dd0 1cL0 1dd0 1cL0 1dd0 1cL0 1dd0 1db0 1dd0 1cL0 1dd0 1cL0 1dd0 1cL0 1dd0 1db0 1dd0 1cL0 1lB0 14n0 1dd0 1cL0 1fd0 WL0 1rd0 1aL0 1dB0 Xz0 1qp0 Xb0 1qN0 10L0 1rB0 TX0 1tB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 WN0 1qL0 11B0 1nX0 1ip0 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 TX0 1tB0 19X0 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0|28e5", "America/Atikokan|CST CDT CWT CPT EST|60 50 50 50 50|0101234|-25TQ0 1in0 Rnb0 3je0 8x30 iw0|28e2", "America/Bahia_Banderas|LMT MST CST PST MDT CDT|71 70 60 80 60 50|0121212131414141414141414141414141414152525252525252525252525252525252525252525252525252525252|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|84e3", "America/Bahia|LMT -03 -02|2y.4 30 20|01212121212121212121212121212121212121212121212121212121212121|-2glxp.U HdLp.U 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 l5B0 Rb0|27e5", "America/Barbados|LMT BMT AST ADT|3W.t 3W.t 40 30|01232323232|-1Q0I1.v jsM0 1ODC1.v IL0 1ip0 17b0 1ip0 17b0 1ld0 13b0|28e4", "America/Belem|LMT -03 -02|3d.U 30 20|012121212121212121212121212121|-2glwK.4 HdKK.4 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0|20e5", "America/Belize|LMT CST -0530 CDT|5Q.M 60 5u 50|01212121212121212121212121212121212121212121212121213131|-2kBu7.c fPA7.c Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1f0Mu qn0 lxB0 mn0|57e3", "America/Blanc-Sablon|AST ADT AWT APT|40 30 30 30|010230|-25TS0 1in0 UGp0 8x50 iu0|11e2", "America/Boa_Vista|LMT -04 -03|42.E 40 30|0121212121212121212121212121212121|-2glvV.k HdKV.k 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 smp0 WL0 1tB0 2L0|62e2", "America/Bogota|BMT -05 -04|4U.g 50 40|0121|-2eb73.I 38yo3.I 2en0|90e5", "America/Boise|PST PDT MST MWT MPT MDT|80 70 70 60 60 60|0101023425252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-261q0 1nX0 11B0 1nX0 8C10 JCL0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 Dd0 1Kn0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|21e4", "America/Cambridge_Bay|-00 MST MWT MPT MDDT MDT CST CDT EST|0 70 60 60 50 60 60 50 50|0123141515151515151515151515151515151515151515678651515151515151515151515151515151515151515151515151515151515151515151515151|-21Jc0 RO90 8x20 ix0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11A0 1nX0 2K0 WQ0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|15e2", "America/Campo_Grande|LMT -04 -03|3C.s 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2glwl.w HdLl.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 1C10 Lz0 1Ip0 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0 1HB0 FX0 1HB0 IL0 1HB0 FX0 1HB0 IL0 1EN0 FX0 1HB0 FX0 1HB0 IL0 1EN0 IL0 1HB0 FX0 1HB0 FX0 1HB0 FX0 1HB0 FX0 1HB0 FX0 1Kp0 FX0 1HB0 IL0 1EN0 FX0 1HB0 FX0 1HB0 IL0 1EN0|77e4", "America/Cancun|LMT CST EST EDT CDT|5L.4 60 50 40 50|0123232341414141414141414141414141414141412|-1UQG0 2q2o0 yLB0 1lb0 14p0 1lb0 14p0 Lz0 xB0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 Dd0|63e4", "America/Caracas|CMT -0430 -04|4r.E 4u 40|01212|-2kV7w.k 28KM2.k 1IwOu kqo0|29e5", "America/Cayenne|LMT -04 -03|3t.k 40 30|012|-2mrwu.E 2gWou.E|58e3", "America/Panama|CMT EST|5j.A 50|01|-2uduE.o|15e5", "America/Chicago|CST CDT EST CWT CPT|60 50 50 50 50|01010101010101010101010101010101010102010101010103401010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 1wp0 TX0 WN0 1qL0 1cN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 11B0 1Hz0 14p0 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 RB0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|92e5", "America/Chihuahua|LMT MST CST CDT MDT|74.k 70 60 50 60|0121212323241414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 2zQN0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|81e4", "America/Costa_Rica|SJMT CST CDT|5A.d 60 50|0121212121|-1Xd6n.L 2lu0n.L Db0 1Kp0 Db0 pRB0 15b0 1kp0 mL0|12e5", "America/Creston|MST PST|70 80|010|-29DR0 43B0|53e2", "America/Cuiaba|LMT -04 -03|3I.k 40 30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2glwf.E HdLf.E 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 4a10 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0 1HB0 FX0 1HB0 IL0 1HB0 FX0 1HB0 IL0 1EN0 FX0 1HB0 FX0 1HB0 IL0 1EN0 IL0 1HB0 FX0 1HB0 FX0 1HB0 FX0 1HB0 FX0 1HB0 FX0 1Kp0 FX0 1HB0 IL0 1EN0 FX0 1HB0 FX0 1HB0 IL0 1EN0|54e4", "America/Danmarkshavn|LMT -03 -02 GMT|1e.E 30 20 0|01212121212121212121212121212121213|-2a5WJ.k 2z5fJ.k 19U0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 DC0|8", "America/Dawson_Creek|PST PDT PWT PPT MST|80 70 70 70 70|0102301010101010101010101010101010101010101010101010101014|-25TO0 1in0 UGp0 8x10 iy0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 ML0|12e3", "America/Dawson|YST YDT YWT YPT YDDT PST PDT|90 80 80 80 70 80 70|0101023040565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-25TN0 1in0 1o10 13V0 Ser0 8x00 iz0 LCL0 1fA0 jrA0 fNd0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|13e2", "America/Denver|MST MDT MWT MPT|70 60 60 60|01010101023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261r0 1nX0 11B0 1nX0 11B0 1qL0 WN0 mn0 Ord0 8x20 ix0 LCN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|26e5", "America/Detroit|LMT CST EST EWT EPT EDT|5w.b 60 50 40 40 40|012342525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-2Cgir.N peqr.N 156L0 8x40 iv0 6fd0 11z0 XQp0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e5", "America/Edmonton|LMT MST MDT MWT MPT|7x.Q 70 60 60 60|01212121212121341212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2yd4q.8 shdq.8 1in0 17d0 hz0 2dB0 1fz0 1a10 11z0 1qN0 WL0 1qN0 11z0 IGN0 8x20 ix0 3NB0 11z0 LFB0 1cL0 3Cp0 1cL0 66N0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|10e5", "America/Eirunepe|LMT -05 -04|4D.s 50 40|0121212121212121212121212121212121|-2glvk.w HdLk.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 dPB0 On0 yTd0 d5X0|31e3", "America/El_Salvador|LMT CST CDT|5U.M 60 50|012121|-1XiG3.c 2Fvc3.c WL0 1qN0 WL0|11e5", "America/Tijuana|LMT MST PST PDT PWT PPT|7M.4 70 80 70 70 70|012123245232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UQE0 4PX0 8mM0 8lc0 SN0 1cL0 pHB0 83r0 zI0 5O10 1Rz0 cOO0 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 BUp0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|20e5", "America/Fort_Nelson|PST PDT PWT PPT MST|80 70 70 70 70|01023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010104|-25TO0 1in0 UGp0 8x10 iy0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0|39e2", "America/Fort_Wayne|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|010101023010101010101010101040454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 QI10 Db0 RB0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 5Tz0 1o10 qLb0 1cL0 1cN0 1cL0 1qhd0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0", "America/Fortaleza|LMT -03 -02|2y 30 20|0121212121212121212121212121212121212121|-2glxq HdLq 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 5z0 2mN0 On0|34e5", "America/Glace_Bay|LMT AST ADT AWT APT|3X.M 40 30 30 30|012134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsI0.c CwO0.c 1in0 UGp0 8x50 iu0 iq10 11z0 Jg10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|19e3", "America/Godthab|LMT -03 -02|3q.U 30 20|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a5Ux.4 2z5dx.4 19U0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|17e3", "America/Goose_Bay|NST NDT NST NDT NWT NPT AST ADT ADDT|3u.Q 2u.Q 3u 2u 2u 2u 40 30 20|010232323232323245232323232323232323232323232323232323232326767676767676767676767676767676767676767676768676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-25TSt.8 1in0 DXb0 2HbX.8 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 WL0 1qN0 WL0 1qN0 7UHu itu 1tB0 WL0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1tB0 WL0 1ld0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 S10 g0u 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14n1 1lb0 14p0 1nW0 11C0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|76e2", "America/Grand_Turk|KMT EST EDT AST|57.a 50 40 40|01212121212121212121212121212121212121212121212121212121212121212121212121232121212121212121212121212121212121212121|-2l1uQ.O 2HHBQ.O 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 5Ip0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e2", "America/Guatemala|LMT CST CDT|62.4 60 50|0121212121|-24KhV.U 2efXV.U An0 mtd0 Nz0 ifB0 17b0 zDB0 11z0|13e5", "America/Guayaquil|QMT -05 -04|5e 50 40|0121|-1yVSK 2uILK rz0|27e5", "America/Guyana|LMT -0345 -03 -04|3Q.E 3J 30 40|0123|-2dvU7.k 2r6LQ.k Bxbf|80e4", "America/Halifax|LMT AST ADT AWT APT|4e.o 40 30 30 30|0121212121212121212121212121212121212121212121212134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsHJ.A xzzJ.A 1db0 3I30 1in0 3HX0 IL0 1E10 ML0 1yN0 Pb0 1Bd0 Mn0 1Bd0 Rz0 1w10 Xb0 1w10 LX0 1w10 Xb0 1w10 Lz0 1C10 Jz0 1E10 OL0 1yN0 Un0 1qp0 Xb0 1qp0 11X0 1w10 Lz0 1HB0 LX0 1C10 FX0 1w10 Xb0 1qp0 Xb0 1BB0 LX0 1td0 Xb0 1qp0 Xb0 Rf0 8x50 iu0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 3Qp0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 3Qp0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 6i10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|39e4", "America/Havana|HMT CST CDT|5t.A 50 40|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1Meuu.o 72zu.o ML0 sld0 An0 1Nd0 Db0 1Nd0 An0 6Ep0 An0 1Nd0 An0 JDd0 Mn0 1Ap0 On0 1fd0 11X0 1qN0 WL0 1wp0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 14n0 1ld0 14L0 1kN0 15b0 1kp0 1cL0 1cN0 1fz0 1a10 1fz0 1fB0 11z0 14p0 1nX0 11B0 1nX0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 1a10 1in0 1a10 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 17c0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 11A0 6i00 Rc0 1wo0 U00 1tA0 Rc0 1wo0 U00 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0|21e5", "America/Hermosillo|LMT MST CST PST MDT|7n.Q 70 60 80 60|0121212131414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0|64e4", "America/Indiana/Knox|CST CDT CWT CPT EST|60 50 50 50 50|0101023010101010101010101010101010101040101010101010101010101010101010101010101010101010141010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 11z0 1o10 11z0 1o10 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 3Cn0 8wp0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 z8o0 1o00 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0", "America/Indiana/Marengo|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101023010101010101010104545454545414545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 dyN0 11z0 6fd0 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 jrz0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1VA0 LA0 1BX0 1e6p0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0", "America/Indiana/Petersburg|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010104010101010101010101010141014545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 njX0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 3Fb0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 19co0 1o00 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0", "America/Indiana/Tell_City|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010454541010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 g0p0 11z0 1o10 11z0 1qL0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 caL0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0", "America/Indiana/Vevay|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|010102304545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 kPB0 Awn0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1lnd0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0", "America/Indiana/Vincennes|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010454541014545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 g0p0 11z0 1o10 11z0 1qL0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 caL0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0", "America/Indiana/Winamac|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010101010454541054545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 jrz0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1za0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0", "America/Inuvik|-00 PST PDDT MST MDT|0 80 60 70 60|0121343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-FnA0 tWU0 1fA0 wPe0 2pz0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|35e2", "America/Iqaluit|-00 EWT EPT EST EDDT EDT CST CDT|0 40 40 50 30 40 60 50|01234353535353535353535353535353535353535353567353535353535353535353535353535353535353535353535353535353535353535353535353|-16K00 7nX0 iv0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11C0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|67e2", "America/Jamaica|KMT EST EDT|57.a 50 40|0121212121212121212121|-2l1uQ.O 2uM1Q.O 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0|94e4", "America/Juneau|PST PWT PPT PDT YDT YST AKST AKDT|80 70 70 70 80 90 90 80|01203030303030303030303030403030356767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cM0 1cM0 1cL0 1cN0 1fz0 1a10 1fz0 co0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|33e3", "America/Kentucky/Louisville|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101010102301010101010101010101010101454545454545414545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 3Fd0 Nb0 LPd0 11z0 RB0 8x30 iw0 Bb0 10N0 2bB0 8in0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 xz0 gso0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1VA0 LA0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0", "America/Kentucky/Monticello|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101023010101010101010101010101010101010101010101010101010101010101010101454545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 SWp0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0", "America/La_Paz|CMT BST -04|4w.A 3w.A 40|012|-1x37r.o 13b0|19e5", "America/Lima|LMT -05 -04|58.A 50 40|0121212121212121|-2tyGP.o 1bDzP.o zX0 1aN0 1cL0 1cN0 1cL0 1PrB0 zX0 1O10 zX0 6Gp0 zX0 98p0 zX0|11e6", "America/Los_Angeles|PST PDT PWT PPT|80 70 70 70|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261q0 1nX0 11B0 1nX0 SgN0 8x10 iy0 5Wp1 1VaX 3dA0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|15e6", "America/Maceio|LMT -03 -02|2m.Q 30 20|012121212121212121212121212121212121212121|-2glxB.8 HdLB.8 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 dMN0 Lz0 8Q10 WL0 1tB0 5z0 2mN0 On0|93e4", "America/Managua|MMT CST EST CDT|5J.c 60 50 50|0121313121213131|-1quie.M 1yAMe.M 4mn0 9Up0 Dz0 1K10 Dz0 s3F0 1KH0 DB0 9In0 k8p0 19X0 1o30 11y0|22e5", "America/Manaus|LMT -04 -03|40.4 40 30|01212121212121212121212121212121|-2glvX.U HdKX.U 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 dPB0 On0|19e5", "America/Martinique|FFMT AST ADT|44.k 40 30|0121|-2mPTT.E 2LPbT.E 19X0|39e4", "America/Matamoros|LMT CST CDT|6E 60 50|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1UQG0 2FjC0 1nX0 i6p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|45e4", "America/Mazatlan|LMT MST CST PST MDT|75.E 70 60 80 60|0121212131414141414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|44e4", "America/Menominee|CST CDT CWT CPT EST|60 50 50 50 50|01010230101041010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 LCN0 1fz0 6410 9Jb0 1cM0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|85e2", "America/Merida|LMT CST EST CDT|5W.s 60 50 50|0121313131313131313131313131313131313131313131313131313131313131313131313131313131313131|-1UQG0 2q2o0 2hz0 wu30 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|11e5", "America/Metlakatla|PST PWT PPT PDT AKST AKDT|80 70 70 70 90 80|0120303030303030303030303030303030454545454545454545454545454545454545454545454|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1hU10 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|14e2", "America/Mexico_City|LMT MST CST CDT CWT|6A.A 70 60 50 50|012121232324232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 gEn0 TX0 3xd0 Jb0 6zB0 SL0 e5d0 17b0 1Pff0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|20e6", "America/Miquelon|LMT AST -03 -02|3I.E 40 30 20|012323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-2mKkf.k 2LTAf.k gQ10 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|61e2", "America/Moncton|EST AST ADT AWT APT|50 40 30 30 30|012121212121212121212134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsH0 CwN0 1in0 zAo0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1K10 Lz0 1zB0 NX0 1u10 Wn0 S20 8x50 iu0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 3Cp0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14n1 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 ReX 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|64e3", "America/Monterrey|LMT CST CDT|6F.g 60 50|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1UQG0 2FjC0 1nX0 i6p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|41e5", "America/Montevideo|LMT MMT -04 -03 -0330 -0230 -02 -0130|3I.P 3I.P 40 30 3u 2u 20 1u|012343434343434343434343435353636353636375363636363636363636363636363636363636363636363|-2tRUf.9 sVc0 8jcf.9 1db0 1dcu 1cLu 1dcu 1cLu ircu 11zu 1o0u 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 1qMu WLu 1fAu 1cLu 1o0u 11zu NAu 3jXu zXu Dq0u 19Xu pcu jz0 cm10 19X0 6tB0 1fbu 3o0u jX0 4vB0 xz0 3Cp0 mmu 1a10 IMu Db0 4c10 uL0 1Nd0 An0 1SN0 uL0 mp0 28L0 iPB0 un0 1SN0 xz0 1zd0 Lz0 1zd0 Rb0 1zd0 On0 1wp0 Rb0 s8p0 1fB0 1ip0 11z0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0|17e5", "America/Toronto|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101012301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TR0 1in0 11Wu 1nzu 1fD0 WJ0 1wr0 Nb0 1Ap0 On0 1zd0 On0 1wp0 TX0 1tB0 TX0 1tB0 TX0 1tB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 4kM0 8x40 iv0 1o10 11z0 1nX0 11z0 1o10 11z0 1o10 1qL0 11D0 1nX0 11B0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|65e5", "America/Nassau|LMT EST EDT|59.u 50 40|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2kNuO.u 26XdO.u 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|24e4", "America/New_York|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261t0 1nX0 11B0 1nX0 11B0 1qL0 1a10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 RB0 8x40 iv0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|21e6", "America/Nipigon|EST EDT EWT EPT|50 40 40 40|010123010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TR0 1in0 Rnb0 3je0 8x40 iv0 19yN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|16e2", "America/Nome|NST NWT NPT BST BDT YST AKST AKDT|b0 a0 a0 b0 a0 90 90 80|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17SX0 8wW0 iB0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cl0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|38e2", "America/Noronha|LMT -02 -01|29.E 20 10|0121212121212121212121212121212121212121|-2glxO.k HdKO.k 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 2L0 2pB0 On0|30e2", "America/North_Dakota/Beulah|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101014545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0", "America/North_Dakota/Center|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101014545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14o0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0", "America/North_Dakota/New_Salem|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101454545454545454545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14o0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0", "America/Ojinaga|LMT MST CST CDT MDT|6V.E 70 60 50 60|0121212323241414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 2zQN0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e3", "America/Pangnirtung|-00 AST AWT APT ADDT ADT EDT EST CST CDT|0 40 30 30 20 30 40 50 60 50|012314151515151515151515151515151515167676767689767676767676767676767676767676767676767676767676767676767676767676767676767|-1XiM0 PnG0 8x50 iu0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1o00 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11C0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|14e2", "America/Paramaribo|LMT PMT PMT -0330 -03|3E.E 3E.Q 3E.A 3u 30|01234|-2nDUj.k Wqo0.c qanX.I 1yVXN.o|24e4", "America/Phoenix|MST MDT MWT|70 60 60|01010202010|-261r0 1nX0 11B0 1nX0 SgN0 4Al1 Ap0 1db0 SWqX 1cL0|42e5", "America/Port-au-Prince|PPMT EST EDT|4N 50 40|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-28RHb 2FnMb 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14q0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 i6n0 1nX0 11B0 1nX0 d430 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 3iN0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e5", "America/Rio_Branco|LMT -05 -04|4v.c 50 40|01212121212121212121212121212121|-2glvs.M HdLs.M 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 NBd0 d5X0|31e4", "America/Porto_Velho|LMT -04 -03|4f.A 40 30|012121212121212121212121212121|-2glvI.o HdKI.o 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0|37e4", "America/Puerto_Rico|AST AWT APT|40 30 30|0120|-17lU0 7XT0 iu0|24e5", "America/Punta_Arenas|SMT -05 -04 -03|4G.K 50 40 30|0102021212121212121232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-2q2jh.e fJAh.e 5knG.K 1Vzh.e jRAG.K 1pbh.e 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 nHX0 op0 blz0 ko0 Qeo0 WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0", "America/Rainy_River|CST CDT CWT CPT|60 50 50 50|010123010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TQ0 1in0 Rnb0 3je0 8x30 iw0 19yN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|842", "America/Rankin_Inlet|-00 CST CDDT CDT EST|0 60 40 50 50|012131313131313131313131313131313131313131313431313131313131313131313131313131313131313131313131313131313131313131313131|-vDc0 keu0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|26e2", "America/Recife|LMT -03 -02|2j.A 30 20|0121212121212121212121212121212121212121|-2glxE.o HdLE.o 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 2L0 2pB0 On0|33e5", "America/Regina|LMT MST MDT MWT MPT CST|6W.A 70 60 60 60 60|012121212121212121212121341212121212121212121212121215|-2AD51.o uHe1.o 1in0 s2L0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 66N0 1cL0 1cN0 19X0 1fB0 1cL0 1fB0 1cL0 1cN0 1cL0 M30 8x20 ix0 1ip0 1cL0 1ip0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 3NB0 1cL0 1cN0|19e4", "America/Resolute|-00 CST CDDT CDT EST|0 60 40 50 50|012131313131313131313131313131313131313131313431313131313431313131313131313131313131313131313131313131313131313131313131|-SnA0 GWS0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|229", "America/Santarem|LMT -04 -03|3C.M 40 30|0121212121212121212121212121212|-2glwl.c HdLl.c 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 NBd0|21e4", "America/Santiago|SMT -05 -04 -03|4G.K 50 40 30|010202121212121212321232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-2q2jh.e fJAh.e 5knG.K 1Vzh.e jRAG.K 1pbh.e 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 nHX0 op0 9Bz0 jb0 1oN0 ko0 Qeo0 WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0|62e5", "America/Santo_Domingo|SDMT EST EDT -0430 AST|4E 50 40 4u 40|01213131313131414|-1ttjk 1lJMk Mn0 6sp0 Lbu 1Cou yLu 1RAu wLu 1QMu xzu 1Q0u xXu 1PAu 13jB0 e00|29e5", "America/Sao_Paulo|LMT -03 -02|36.s 30 20|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2glwR.w HdKR.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 pTd0 PX0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 1C10 Lz0 1Ip0 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0 1HB0 FX0 1HB0 IL0 1HB0 FX0 1HB0 IL0 1EN0 FX0 1HB0 FX0 1HB0 IL0 1EN0 IL0 1HB0 FX0 1HB0 FX0 1HB0 FX0 1HB0 FX0 1HB0 FX0 1Kp0 FX0 1HB0 IL0 1EN0 FX0 1HB0 FX0 1HB0 IL0 1EN0|20e6", "America/Scoresbysund|LMT -02 -01 +00|1r.Q 20 10 0|0121323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-2a5Ww.8 2z5ew.8 1a00 1cK0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|452", "America/Sitka|PST PWT PPT PDT YST AKST AKDT|80 70 70 70 90 90 80|01203030303030303030303030303030345656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 co0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|90e2", "America/St_Johns|NST NDT NST NDT NWT NPT NDDT|3u.Q 2u.Q 3u 2u 2u 2u 1u|01010101010101010101010101010101010102323232323232324523232323232323232323232323232323232323232323232323232323232323232323232323232323232326232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-28oit.8 14L0 1nB0 1in0 1gm0 Dz0 1JB0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1fB0 19X0 1fB0 19X0 10O0 eKX.8 19X0 1iq0 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 WL0 1qN0 WL0 1qN0 7UHu itu 1tB0 WL0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1tB0 WL0 1ld0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14n1 1lb0 14p0 1nW0 11C0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|11e4", "America/Swift_Current|LMT MST MDT MWT MPT CST|7b.k 70 60 60 60 60|012134121212121212121215|-2AD4M.E uHdM.E 1in0 UGp0 8x20 ix0 1o10 17b0 1ip0 11z0 1o10 11z0 1o10 11z0 isN0 1cL0 3Cp0 1cL0 1cN0 11z0 1qN0 WL0 pMp0|16e3", "America/Tegucigalpa|LMT CST CDT|5M.Q 60 50|01212121|-1WGGb.8 2ETcb.8 WL0 1qN0 WL0 GRd0 AL0|11e5", "America/Thule|LMT AST ADT|4z.8 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a5To.Q 31NBo.Q 1cL0 1cN0 1cL0 1fB0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|656", "America/Thunder_Bay|CST EST EWT EPT EDT|60 50 40 40 40|0123141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141|-2q5S0 1iaN0 8x40 iv0 XNB0 1cL0 1cN0 1fz0 1cN0 1cL0 3Cp0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|11e4", "America/Vancouver|PST PDT PWT PPT|80 70 70 70|0102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TO0 1in0 UGp0 8x10 iy0 1o10 17b0 1ip0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e5", "America/Whitehorse|YST YDT YWT YPT YDDT PST PDT|90 80 80 80 70 80 70|0101023040565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-25TN0 1in0 1o10 13V0 Ser0 8x00 iz0 LCL0 1fA0 3NA0 vrd0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e3", "America/Winnipeg|CST CDT CWT CPT|60 50 50 50|010101023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aIi0 WL0 3ND0 1in0 Jap0 Rb0 aCN0 8x30 iw0 1tB0 11z0 1ip0 11z0 1o10 11z0 1o10 11z0 1rd0 10L0 1op0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 1cL0 1cN0 11z0 6i10 WL0 6i10 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|66e4", "America/Yakutat|YST YWT YPT YDT AKST AKDT|90 80 80 80 90 80|01203030303030303030303030303030304545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-17T10 8x00 iz0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cn0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|642", "America/Yellowknife|-00 MST MWT MPT MDDT MDT|0 70 60 60 50 60|012314151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151|-1pdA0 hix0 8x20 ix0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|19e3", "Antarctica/Casey|-00 +08 +11|0 -80 -b0|01212121|-2q00 1DjS0 T90 40P0 KL0 blz0 3m10|10", "Antarctica/Davis|-00 +07 +05|0 -70 -50|01012121|-vyo0 iXt0 alj0 1D7v0 VB0 3Wn0 KN0|70", "Antarctica/DumontDUrville|-00 +10|0 -a0|0101|-U0o0 cfq0 bFm0|80", "Antarctica/Macquarie|AEST AEDT -00 +11|-a0 -b0 0 -b0|0102010101010101010101010101010101010101010101010101010101010101010101010101010101010101013|-29E80 19X0 4SL0 1ayy0 Lvs0 1cM0 1o00 Rc0 1wo0 Rc0 1wo0 U00 1wo0 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0|1", "Antarctica/Mawson|-00 +06 +05|0 -60 -50|012|-CEo0 2fyk0|60", "Pacific/Auckland|NZMT NZST NZST NZDT|-bu -cu -c0 -d0|01020202020202020202020202023232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-1GCVu Lz0 1tB0 11zu 1o0u 11zu 1o0u 11zu 1o0u 14nu 1lcu 14nu 1lcu 1lbu 11Au 1nXu 11Au 1nXu 11Au 1nXu 11Au 1nXu 11Au 1qLu WMu 1qLu 11Au 1n1bu IM0 1C00 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1qM0 14o0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1io0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|14e5", "Antarctica/Palmer|-00 -03 -04 -02|0 30 40 20|0121212121213121212121212121212121212121212121212121212121212121212121212121212121|-cao0 nD0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 jsN0 14N0 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0|40", "Antarctica/Rothera|-00 -03|0 30|01|gOo0|130", "Antarctica/Syowa|-00 +03|0 -30|01|-vs00|20", "Antarctica/Troll|-00 +00 +02|0 0 -20|01212121212121212121212121212121212121212121212121212121212121212121|1puo0 hd0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|40", "Antarctica/Vostok|-00 +06|0 -60|01|-tjA0|25", "Europe/Oslo|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2awM0 Qm0 W6o0 5pf0 WM0 1fA0 1cM0 1cM0 1cM0 1cM0 wJc0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1qM0 WM0 zpc0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|62e4", "Asia/Riyadh|LMT +03|-36.Q -30|01|-TvD6.Q|57e5", "Asia/Almaty|LMT +05 +06 +07|-57.M -50 -60 -70|012323232323232323232321232323232323232323232323232|-1Pc57.M eUo7.M 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0|15e5", "Asia/Amman|LMT EET EEST|-2n.I -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1yW2n.I 1HiMn.I KL0 1oN0 11b0 1oN0 11b0 1pd0 1dz0 1cp0 11b0 1op0 11b0 fO10 1db0 1e10 1cL0 1cN0 1cL0 1cN0 1fz0 1pd0 10n0 1ld0 14n0 1hB0 15b0 1ip0 19X0 1cN0 1cL0 1cN0 17b0 1ld0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1So0 y00 1fc0 1dc0 1co0 1dc0 1cM0 1cM0 1cM0 1o00 11A0 1lc0 17c0 1cM0 1cM0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|25e5", "Asia/Anadyr|LMT +12 +13 +14 +11|-bN.U -c0 -d0 -e0 -b0|01232121212121212121214121212121212121212121212121212121212141|-1PcbN.U eUnN.U 23CL0 1db0 2q10 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|13e3", "Asia/Aqtau|LMT +04 +05 +06|-3l.4 -40 -50 -60|012323232323232323232123232312121212121212121212|-1Pc3l.4 eUnl.4 24PX0 2pX0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|15e4", "Asia/Aqtobe|LMT +04 +05 +06|-3M.E -40 -50 -60|0123232323232323232321232323232323232323232323232|-1Pc3M.E eUnM.E 23CL0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0|27e4", "Asia/Ashgabat|LMT +04 +05 +06|-3R.w -40 -50 -60|0123232323232323232323212|-1Pc3R.w eUnR.w 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0|41e4", "Asia/Atyrau|LMT +03 +05 +06 +04|-3r.I -30 -50 -60 -40|01232323232323232323242323232323232324242424242|-1Pc3r.I eUor.I 24PW0 2pX0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 2sp0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0", "Asia/Baghdad|BMT +03 +04|-2V.A -30 -40|012121212121212121212121212121212121212121212121212121|-26BeV.A 2ACnV.A 11b0 1cp0 1dz0 1dd0 1db0 1cN0 1cp0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1de0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0|66e5", "Asia/Qatar|LMT +04 +03|-3q.8 -40 -30|012|-21Jfq.8 27BXq.8|96e4", "Asia/Baku|LMT +03 +04 +05|-3j.o -30 -40 -50|01232323232323232323232123232323232323232323232323232323232323232|-1Pc3j.o 1jUoj.o WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cM0 9Je0 1o00 11z0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|27e5", "Asia/Bangkok|BMT +07|-6G.4 -70|01|-218SG.4|15e6", "Asia/Barnaul|LMT +06 +07 +08|-5z -60 -70 -80|0123232323232323232323212323232321212121212121212121212121212121212|-21S5z pCnz 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 p90 LE0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0", "Asia/Beirut|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-21aq0 1on0 1410 1db0 19B0 1in0 1ip0 WL0 1lQp0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 q6N0 En0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1op0 11b0 dA10 17b0 1iN0 17b0 1iN0 17b0 1iN0 17b0 1vB0 SL0 1mp0 13z0 1iN0 17b0 1iN0 17b0 1jd0 12n0 1a10 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0|22e5", "Asia/Bishkek|LMT +05 +06 +07|-4W.o -50 -60 -70|012323232323232323232321212121212121212121212121212|-1Pc4W.o eUnW.o 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2e00 1tX0 17b0 1ip0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1cPu 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0|87e4", "Asia/Brunei|LMT +0730 +08|-7D.E -7u -80|012|-1KITD.E gDc9.E|42e4", "Asia/Kolkata|MMT IST +0630|-5l.a -5u -6u|012121|-2zOtl.a 1r2LP.a 1un0 HB0 7zX0|15e6", "Asia/Chita|LMT +08 +09 +10|-7x.Q -80 -90 -a0|012323232323232323232321232323232323232323232323232323232323232312|-21Q7x.Q pAnx.Q 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3re0|33e4", "Asia/Choibalsan|LMT +07 +08 +10 +09|-7C -70 -80 -a0 -90|0123434343434343434343434343434343434343434343424242|-2APHC 2UkoC cKn0 1da0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 3Db0 h1f0 1cJ0 1cP0 1cJ0|38e3", "Asia/Shanghai|CST CDT|-80 -90|01010101010101010|-1c1I0 LX0 16p0 1jz0 1Myp0 Rb0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0|23e6", "Asia/Colombo|MMT +0530 +06 +0630|-5j.w -5u -60 -6u|01231321|-2zOtj.w 1rFbN.w 1zzu 7Apu 23dz0 11zu n3cu|22e5", "Asia/Dhaka|HMT +0630 +0530 +06 +07|-5R.k -6u -5u -60 -70|0121343|-18LFR.k 1unn.k HB0 m6n0 2kxbu 1i00|16e6", "Asia/Damascus|LMT EET EEST|-2p.c -20 -30|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-21Jep.c Hep.c 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1xRB0 11X0 1oN0 10L0 1pB0 11b0 1oN0 10L0 1mp0 13X0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 Nb0 1AN0 Nb0 bcp0 19X0 1gp0 19X0 3ld0 1xX0 Vd0 1Bz0 Sp0 1vX0 10p0 1dz0 1cN0 1cL0 1db0 1db0 1g10 1an0 1ap0 1db0 1fd0 1db0 1cN0 1db0 1dd0 1db0 1cp0 1dz0 1c10 1dX0 1cN0 1db0 1dd0 1db0 1cN0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1db0 1cN0 1db0 1cN0 19z0 1fB0 1qL0 11B0 1on0 Wp0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0|26e5", "Asia/Dili|LMT +08 +09|-8m.k -80 -90|01212|-2le8m.k 1dnXm.k 1nfA0 Xld0|19e4", "Asia/Dubai|LMT +04|-3F.c -40|01|-21JfF.c|39e5", "Asia/Dushanbe|LMT +05 +06 +07|-4z.c -50 -60 -70|012323232323232323232321|-1Pc4z.c eUnz.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2hB0|76e4", "Asia/Famagusta|LMT EET EEST +03|-2f.M -20 -30 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212312121212121212121212121212121212121212121|-1Vc2f.M 2a3cf.M 1cL0 1qp0 Xz0 19B0 19X0 1fB0 1db0 1cp0 1cL0 1fB0 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1o30 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 15U0 2Ks0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00", "Asia/Gaza|EET EEST IST IDT|-20 -30 -20 -30|010101010101010101010101010101012323232323232323232323232320101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-1c2q0 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 pBd0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 dW0 hfB0 Db0 1fB0 Rb0 npB0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 M10 C00 17c0 1io0 17c0 1io0 17c0 1o00 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 17c0 1io0 18N0 1bz0 19z0 1gp0 1610 1iL0 11z0 1o10 14o0 1lA1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1qL0|18e5", "Asia/Hebron|EET EEST IST IDT|-20 -30 -20 -30|01010101010101010101010101010101232323232323232323232323232010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-1c2q0 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 pBd0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 dW0 hfB0 Db0 1fB0 Rb0 npB0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 M10 C00 17c0 1io0 17c0 1io0 17c0 1o00 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 17c0 1io0 18N0 1bz0 19z0 1gp0 1610 1iL0 12L0 1mN0 14o0 1lc0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1qL0|25e4", "Asia/Ho_Chi_Minh|LMT PLMT +07 +08 +09|-76.E -76.u -70 -80 -90|0123423232|-2yC76.E bK00.a 1h7b6.u 5lz0 18o0 3Oq0 k5b0 aW00 BAM0|90e5", "Asia/Hong_Kong|LMT HKT HKST JST|-7A.G -80 -90 -90|0121312121212121212121212121212121212121212121212121212121212121212121|-2CFHA.G 1sEP6.G 1cL0 ylu 93X0 1qQu 1tX0 Rd0 1In0 NB0 1cL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1kL0 14N0 1nX0 U10 1tz0 U10 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1wn0 Rd0 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 17d0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1cL0 6fd0 14n0|73e5", "Asia/Hovd|LMT +06 +07 +08|-66.A -60 -70 -80|012323232323232323232323232323232323232323232323232|-2APG6.A 2Uko6.A cKn0 1db0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 kEp0 1cJ0 1cP0 1cJ0|81e3", "Asia/Irkutsk|IMT +07 +08 +09|-6V.5 -70 -80 -90|01232323232323232323232123232323232323232323232323232323232323232|-21zGV.5 pjXV.5 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|60e4", "Europe/Istanbul|IMT EET EEST +04 +03|-1U.U -20 -30 -40 -30|012121212121212121212121212121212121212121212121212121234343434342121212121212121212121212121212121212121212121212121212121212124|-2ogNU.U dzzU.U 11b0 8tB0 1on0 1410 1db0 19B0 1in0 3Rd0 Un0 1oN0 11b0 zSp0 CL0 mN0 1Vz0 1gN0 1pz0 5Rd0 1fz0 1yp0 ML0 1kp0 17b0 1ip0 17b0 1fB0 19X0 1jB0 18L0 1ip0 17z0 qdd0 xX0 3S10 Tz0 dA10 11z0 1o10 11z0 1qN0 11z0 1ze0 11B0 WM0 1qO0 WI0 1nX0 1rB0 10L0 11B0 1in0 17d0 1in0 2pX0 19E0 1fU0 16Q0 1iI0 16Q0 1iI0 1Vd0 pb0 3Kp0 14o0 1de0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1a00 1fA0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WO0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1tA0 U00 15w0|13e6", "Asia/Jakarta|BMT +0720 +0730 +09 +08 WIB|-77.c -7k -7u -90 -80 -70|01232425|-1Q0Tk luM0 mPzO 8vWu 6kpu 4PXu xhcu|31e6", "Asia/Jayapura|LMT +09 +0930 WIT|-9m.M -90 -9u -90|0123|-1uu9m.M sMMm.M L4nu|26e4", "Asia/Jerusalem|JMT IST IDT IDDT|-2k.E -20 -30 -40|01212121212132121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-26Bek.E SyMk.E 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 3LB0 Em0 or0 1cn0 1dB0 16n0 10O0 1ja0 1tC0 14o0 1cM0 1a00 11A0 1Na0 An0 1MP0 AJ0 1Kp0 LC0 1oo0 Wl0 EQN0 Db0 1fB0 Rb0 npB0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 1hB0 1dX0 1ep0 1aL0 1eN0 17X0 1nf0 11z0 1tB0 19W0 1e10 17b0 1ep0 1gL0 18N0 1fz0 1eN0 17b0 1gq0 1gn0 19d0 1dz0 1c10 17X0 1hB0 1gn0 19d0 1dz0 1c10 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0|81e4", "Asia/Kabul|+04 +0430|-40 -4u|01|-10Qs0|46e5", "Asia/Kamchatka|LMT +11 +12 +13|-ay.A -b0 -c0 -d0|012323232323232323232321232323232323232323232323232323232323212|-1SLKy.A ivXy.A 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|18e4", "Asia/Karachi|LMT +0530 +0630 +05 PKT PKST|-4s.c -5u -6u -50 -50 -60|012134545454|-2xoss.c 1qOKW.c 7zX0 eup0 LqMu 1fy00 1cL0 dK10 11b0 1610 1jX0|24e6", "Asia/Urumqi|LMT +06|-5O.k -60|01|-1GgtO.k|32e5", "Asia/Kathmandu|LMT +0530 +0545|-5F.g -5u -5J|012|-21JhF.g 2EGMb.g|12e5", "Asia/Khandyga|LMT +08 +09 +10 +11|-92.d -80 -90 -a0 -b0|0123232323232323232323212323232323232323232323232343434343434343432|-21Q92.d pAp2.d 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 qK0 yN0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 17V0 7zD0|66e2", "Asia/Krasnoyarsk|LMT +06 +07 +08|-6b.q -60 -70 -80|01232323232323232323232123232323232323232323232323232323232323232|-21Hib.q prAb.q 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|10e5", "Asia/Kuala_Lumpur|SMT +07 +0720 +0730 +09 +08|-6T.p -70 -7k -7u -90 -80|0123435|-2Bg6T.p 17anT.p l5XE 17bO 8Fyu 1so1u|71e5", "Asia/Kuching|LMT +0730 +08 +0820 +09|-7l.k -7u -80 -8k -90|0123232323232323242|-1KITl.k gDbP.k 6ynu AnE 1O0k AnE 1NAk AnE 1NAk AnE 1NAk AnE 1O0k AnE 1NAk AnE pAk 8Fz0|13e4", "Asia/Macau|LMT CST CDT|-7y.k -80 -90|012121212121212121212121212121212121212121|-2le80 1XO3u 1wn0 Rd0 1wn0 R9u 1wqu U10 1tz0 TVu 1tz0 17gu 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cJu 1cL0 1cN0 1fz0 1cN0 1cOu 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cJu 1cL0 1cN0 1fz0 1cN0 1cL0|57e4", "Asia/Magadan|LMT +10 +11 +12|-a3.c -a0 -b0 -c0|012323232323232323232321232323232323232323232323232323232323232312|-1Pca3.c eUo3.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3Cq0|95e3", "Asia/Makassar|LMT MMT +08 +09 WITA|-7V.A -7V.A -80 -90 -80|01234|-21JjV.A vfc0 myLV.A 8ML0|15e5", "Asia/Manila|+08 +09|-80 -90|010101010|-1kJI0 AL0 cK10 65X0 mXB0 vX0 VK10 1db0|24e6", "Asia/Nicosia|LMT EET EEST|-2d.s -20 -30|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1Vc2d.s 2a3cd.s 1cL0 1qp0 Xz0 19B0 19X0 1fB0 1db0 1cp0 1cL0 1fB0 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1o30 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|32e4", "Asia/Novokuznetsk|LMT +06 +07 +08|-5M.M -60 -70 -80|012323232323232323232321232323232323232323232323232323232323212|-1PctM.M eULM.M 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|55e4", "Asia/Novosibirsk|LMT +06 +07 +08|-5v.E -60 -70 -80|0123232323232323232323212323212121212121212121212121212121212121212|-21Qnv.E pAFv.E 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 ml0 Os0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 4eN0|15e5", "Asia/Omsk|LMT +05 +06 +07|-4R.u -50 -60 -70|01232323232323232323232123232323232323232323232323232323232323232|-224sR.u pMLR.u 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|12e5", "Asia/Oral|LMT +03 +05 +06 +04|-3p.o -30 -50 -60 -40|01232323232323232424242424242424242424242424242|-1Pc3p.o eUop.o 23CK0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 1cM0 IM0 1EM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|27e4", "Asia/Pontianak|LMT PMT +0730 +09 +08 WITA WIB|-7h.k -7h.k -7u -90 -80 -80 -70|012324256|-2ua7h.k XE00 munL.k 8Rau 6kpu 4PXu xhcu Wqnu|23e4", "Asia/Pyongyang|LMT KST JST KST|-8n -8u -90 -90|01231|-2um8n 97XR 1lTzu 2Onc0|29e5", "Asia/Qyzylorda|LMT +04 +05 +06|-4l.Q -40 -50 -60|0123232323232323232323232323232323232323232323|-1Pc4l.Q eUol.Q 23CL0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 3ao0 1EM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|73e4", "Asia/Rangoon|RMT +0630 +09|-6o.L -6u -90|0121|-21Jio.L SmnS.L 7j9u|48e5", "Asia/Sakhalin|LMT +09 +11 +12 +10|-9u.M -90 -b0 -c0 -a0|01232323232323232323232423232323232424242424242424242424242424242|-2AGVu.M 1BoMu.M 1qFa0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 2pB0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0|58e4", "Asia/Samarkand|LMT +04 +05 +06|-4r.R -40 -50 -60|01232323232323232323232|-1Pc4r.R eUor.R 23CL0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0|36e4", "Asia/Seoul|LMT KST JST KST KDT KDT|-8r.Q -8u -90 -90 -9u -a0|0123141414141414135353|-2um8r.Q 97XV.Q 1m1zu kKo0 2I0u OL0 1FB0 Rb0 1qN0 TX0 1tB0 TX0 1tB0 TX0 1tB0 TX0 2ap0 12FBu 11A0 1o00 11A0|23e6", "Asia/Srednekolymsk|LMT +10 +11 +12|-ae.Q -a0 -b0 -c0|01232323232323232323232123232323232323232323232323232323232323232|-1Pcae.Q eUoe.Q 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|35e2", "Asia/Taipei|CST JST CDT|-80 -90 -90|01020202020202020202020202020202020202020|-1iw80 joM0 1yo0 Tz0 1ip0 1jX0 1cN0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 10N0 1BX0 10p0 1pz0 10p0 1pz0 10p0 1db0 1dd0 1db0 1cN0 1db0 1cN0 1db0 1cN0 1db0 1BB0 ML0 1Bd0 ML0 uq10 1db0 1cN0 1db0 97B0 AL0|74e5", "Asia/Tashkent|LMT +05 +06 +07|-4B.b -50 -60 -70|012323232323232323232321|-1Pc4B.b eUnB.b 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0|23e5", "Asia/Tbilisi|TBMT +03 +04 +05|-2X.b -30 -40 -50|0123232323232323232323212121232323232323232323212|-1Pc2X.b 1jUnX.b WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cK0 1cL0 1cN0 1cL0 1cN0 2pz0 1cL0 1fB0 3Nz0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 An0 Os0 WM0|11e5", "Asia/Tehran|LMT TMT +0330 +04 +05 +0430|-3p.I -3p.I -3u -40 -50 -4u|01234325252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-2btDp.I 1d3c0 1huLT.I TXu 1pz0 sN0 vAu 1cL0 1dB0 1en0 pNB0 UL0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 64p0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0|14e6", "Asia/Thimphu|LMT +0530 +06|-5W.A -5u -60|012|-Su5W.A 1BGMs.A|79e3", "Asia/Tokyo|JST JDT|-90 -a0|010101010|-QJJ0 Rb0 1ld0 14n0 1zd0 On0 1zd0 On0|38e6", "Asia/Tomsk|LMT +06 +07 +08|-5D.P -60 -70 -80|0123232323232323232323212323232323232323232323212121212121212121212|-21NhD.P pxzD.P 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 co0 1bB0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3Qp0|10e5", "Asia/Ulaanbaatar|LMT +07 +08 +09|-77.w -70 -80 -90|012323232323232323232323232323232323232323232323232|-2APH7.w 2Uko7.w cKn0 1db0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 kEp0 1cJ0 1cP0 1cJ0|12e5", "Asia/Ust-Nera|LMT +08 +09 +12 +11 +10|-9w.S -80 -90 -c0 -b0 -a0|012343434343434343434345434343434343434343434343434343434343434345|-21Q9w.S pApw.S 23CL0 1d90 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 17V0 7zD0|65e2", "Asia/Vladivostok|LMT +09 +10 +11|-8L.v -90 -a0 -b0|01232323232323232323232123232323232323232323232323232323232323232|-1SJIL.v itXL.v 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|60e4", "Asia/Yakutsk|LMT +08 +09 +10|-8C.W -80 -90 -a0|01232323232323232323232123232323232323232323232323232323232323232|-21Q8C.W pAoC.W 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|28e4", "Asia/Yekaterinburg|LMT PMT +04 +05 +06|-42.x -3J.5 -40 -50 -60|012343434343434343434343234343434343434343434343434343434343434343|-2ag42.x 7mQh.s qBvJ.5 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|14e5", "Asia/Yerevan|LMT +03 +04 +05|-2W -30 -40 -50|0123232323232323232323212121212323232323232323232323232323232|-1Pc2W 1jUnW WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 4RX0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|13e5", "Atlantic/Azores|HMT -02 -01 +00 WET|1S.w 20 10 0 0|01212121212121212121212121212121212121212121232123212321232121212121212121212121212121212121212121232323232323232323232323232323234323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-2ldW0 aPX0 Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 qIl0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|25e4", "Atlantic/Bermuda|LMT AST ADT|4j.i 40 30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1BnRE.G 1LTbE.G 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|65e3", "Atlantic/Canary|LMT -01 WET WEST|11.A 10 0 -10|01232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UtaW.o XPAW.o 1lAK0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|54e4", "Atlantic/Cape_Verde|LMT -02 -01|1y.4 20 10|01212|-2ldW0 1eEo0 7zX0 1djf0|50e4", "Atlantic/Faroe|LMT WET WEST|r.4 0 -10|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2uSnw.U 2Wgow.U 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|49e3", "Atlantic/Madeira|FMT -01 +00 +01 WET WEST|17.A 10 0 -10 0 -10|01212121212121212121212121212121212121212121232123212321232121212121212121212121212121212121212121454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-2ldX0 aPX0 Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 qIl0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|27e4", "Atlantic/Reykjavik|LMT -01 +00 GMT|1s 10 0 0|012121212121212121212121212121212121212121212121212121212121212121213|-2uWmw mfaw 1Bd0 ML0 1LB0 Cn0 1LB0 3fX0 C10 HrX0 1cO0 LB0 1EL0 LA0 1C00 Oo0 1wo0 Rc0 1wo0 Rc0 1wo0 Rc0 1zc0 Oo0 1zc0 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0|12e4", "Atlantic/South_Georgia|-02|20|0||30", "Atlantic/Stanley|SMT -04 -03 -02|3P.o 40 30 20|012121212121212323212121212121212121212121212121212121212121212121212|-2kJw8.A 12bA8.A 19X0 1fB0 19X0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 Cn0 1Cc10 WL0 1qL0 U10 1tz0 2mN0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1tz0 U10 1tz0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1tz0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qN0 U10 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1wn0 U10 1tz0 U10 1tz0 U10|21e2", "Australia/Sydney|AEST AEDT|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 14o0 1o00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 11A0 1o00 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|40e5", "Australia/Adelaide|ACST ACDT|-9u -au|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 Oo0 1zc0 WM0 1qM0 Rc0 1zc0 U00 1tA0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|11e5", "Australia/Brisbane|AEST AEDT|-a0 -b0|01010101010101010|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 H1A0 Oo0 1zc0 Oo0 1zc0 Oo0|20e5", "Australia/Broken_Hill|ACST ACDT|-9u -au|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 14o0 1o00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|18e3", "Australia/Currie|AEST AEDT|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-29E80 19X0 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|746", "Australia/Darwin|ACST ACDT|-9u -au|010101010|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0|12e4", "Australia/Eucla|+0845 +0945|-8J -9J|0101010101010101010|-293kI xcX 10jd0 yL0 1cN0 1cL0 1gSp0 Oo0 l5A0 Oo0 iJA0 G00 zU00 IM0 1qM0 11A0 1o00 11A0|368", "Australia/Hobart|AEST AEDT|-a0 -b0|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-29E80 19X0 10jd0 yL0 1cN0 1cL0 1fB0 19X0 VfB0 1cM0 1o00 Rc0 1wo0 Rc0 1wo0 U00 1wo0 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|21e4", "Australia/Lord_Howe|AEST +1030 +1130 +11|-a0 -au -bu -b0|0121212121313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313|raC0 1zdu Rb0 1zd0 On0 1zd0 On0 1zd0 On0 1zd0 TXu 1qMu WLu 1tAu WLu 1tAu TXu 1tAu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu 11zu 1o0u 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 11Au 1nXu 1qMu 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 1qMu 11zu 1o0u WLu 1qMu 14nu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1fzu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu|347", "Australia/Lindeman|AEST AEDT|-a0 -b0|010101010101010101010|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 H1A0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0|10", "Australia/Melbourne|AEST AEDT|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1qM0 11A0 1tA0 U00 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 11A0 1o00 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|39e5", "Australia/Perth|AWST AWDT|-80 -90|0101010101010101010|-293jX xcX 10jd0 yL0 1cN0 1cL0 1gSp0 Oo0 l5A0 Oo0 iJA0 G00 zU00 IM0 1qM0 11A0 1o00 11A0|18e5", "CET|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00", "Pacific/Easter|EMT -07 -06 -05|7h.s 70 60 50|012121212121212121212121212123232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-1uSgG.w 1s4IG.w WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 2pA0 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0|30e2", "CST6CDT|CST CDT CWT CPT|60 50 50 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0", "EET|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00", "Europe/Dublin|DMT IST GMT BST IST|p.l -y.D 0 -10 -10|01232323232324242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242|-2ax9y.D Rc0 1fzy.D 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 g600 14o0 1wo0 17c0 1io0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1a00 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1tA0 IM0 90o0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5", "EST|EST|50|0|", "EST5EDT|EST EDT EWT EPT|50 40 40 40|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261t0 1nX0 11B0 1nX0 SgN0 8x40 iv0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0", "Etc/GMT-0|GMT|0|0|", "Etc/GMT-1|+01|-10|0|", "Pacific/Port_Moresby|+10|-a0|0||25e4", "Pacific/Pohnpei|+11|-b0|0||34e3", "Pacific/Tarawa|+12|-c0|0||29e3", "Etc/GMT-13|+13|-d0|0|", "Etc/GMT-14|+14|-e0|0|", "Etc/GMT-2|+02|-20|0|", "Etc/GMT-3|+03|-30|0|", "Etc/GMT-4|+04|-40|0|", "Etc/GMT-5|+05|-50|0|", "Etc/GMT-6|+06|-60|0|", "Indian/Christmas|+07|-70|0||21e2", "Etc/GMT-8|+08|-80|0|", "Pacific/Palau|+09|-90|0||21e3", "Etc/GMT+1|-01|10|0|", "Etc/GMT+10|-10|a0|0|", "Etc/GMT+11|-11|b0|0|", "Etc/GMT+12|-12|c0|0|", "Etc/GMT+3|-03|30|0|", "Etc/GMT+4|-04|40|0|", "Etc/GMT+5|-05|50|0|", "Etc/GMT+6|-06|60|0|", "Etc/GMT+7|-07|70|0|", "Etc/GMT+8|-08|80|0|", "Etc/GMT+9|-09|90|0|", "Etc/UCT|UCT|0|0|", "Etc/UTC|UTC|0|0|", "Europe/Amsterdam|AMT NST +0120 +0020 CEST CET|-j.w -1j.w -1k -k -20 -10|010101010101010101010101010101010101010101012323234545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545|-2aFcj.w 11b0 1iP0 11A0 1io0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1co0 1io0 1yo0 Pc0 1a00 1fA0 1Bc0 Mo0 1tc0 Uo0 1tA0 U00 1uo0 W00 1s00 VA0 1so0 Vc0 1sM0 UM0 1wo0 Rc0 1u00 Wo0 1rA0 W00 1s00 VA0 1sM0 UM0 1w00 fV0 BCX.w 1tA0 U00 1u00 Wo0 1sm0 601k WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|16e5", "Europe/Andorra|WET CET CEST|0 -10 -20|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-UBA0 1xIN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|79e3", "Europe/Astrakhan|LMT +03 +04 +05|-3c.c -30 -40 -50|012323232323232323212121212121212121212121212121212121212121212|-1Pcrc.c eUMc.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0", "Europe/Athens|AMT EET EEST CEST CET|-1y.Q -20 -30 -20 -10|012123434121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a61x.Q CNbx.Q mn0 kU10 9b0 3Es0 Xa0 1fb0 1dd0 k3X0 Nz0 SCp0 1vc0 SO0 1cM0 1a00 1ao0 1fc0 1a10 1fG0 1cg0 1dX0 1bX0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|35e5", "Europe/London|GMT BST BDST|0 -10 -20|0101010101010101010101010101010101010101010101010121212121210101210101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2axa0 Rc0 1fA0 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 2Rz0 Dc0 1zc0 Oo0 1zc0 Rc0 1wo0 17c0 1iM0 FA0 xB0 1fA0 1a00 14o0 bb0 LA0 xB0 Rc0 1wo0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1a00 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1tA0 IM0 90o0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|10e6", "Europe/Belgrade|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-19RC0 3IP0 WM0 1fA0 1cM0 1cM0 1rc0 Qo0 1vmo0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5", "Europe/Berlin|CET CEST CEMT|-10 -20 -30|01010101010101210101210101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 kL0 Nc0 m10 WM0 1ao0 1cp0 dX0 jz0 Dd0 1io0 17c0 1fA0 1a00 1ehA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|41e5", "Europe/Prague|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 16M0 1lc0 1tA0 17A0 11c0 1io0 17c0 1io0 17c0 1fc0 1ao0 1bNc0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|13e5", "Europe/Brussels|WET CET CEST WEST|0 -10 -20 -10|0121212103030303030303030303030303030303030303030303212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ehc0 3zX0 11c0 1iO0 11A0 1o00 11A0 my0 Ic0 1qM0 Rc0 1EM0 UM0 1u00 10o0 1io0 1io0 17c0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a30 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 y00 5Wn0 WM0 1fA0 1cM0 16M0 1iM0 16M0 1C00 Uo0 1eeo0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|21e5", "Europe/Bucharest|BMT EET EEST|-1I.o -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1xApI.o 20LI.o RA0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Axc0 On0 1fA0 1a10 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cK0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|19e5", "Europe/Budapest|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1ip0 17b0 1op0 1tb0 Q2m0 3Ne0 WM0 1fA0 1cM0 1cM0 1oJ0 1dc0 1030 1fA0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1iM0 1fA0 8Ha0 Rb0 1wN0 Rb0 1BB0 Lz0 1C20 LB0 SNX0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|17e5", "Europe/Zurich|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-19Lc0 11A0 1o00 11A0 1xG10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|38e4", "Europe/Chisinau|CMT BMT EET EEST CEST CET MSK MSD|-1T -1I.o -20 -30 -20 -10 -30 -40|012323232323232323234545467676767676767676767323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-26jdT wGMa.A 20LI.o RA0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 27A0 2en0 39g0 WM0 1fA0 1cM0 V90 1t7z0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 gL0 WO0 1cM0 1cM0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1nX0 11D0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|67e4", "Europe/Copenhagen|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2azC0 Tz0 VuO0 60q0 WM0 1fA0 1cM0 1cM0 1cM0 S00 1HA0 Nc0 1C00 Dc0 1Nc0 Ao0 1h5A0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5", "Europe/Gibraltar|GMT BST BDST CET CEST|0 -10 -20 -10 -20|010101010101010101010101010101010101010101010101012121212121010121010101010101010101034343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-2axa0 Rc0 1fA0 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 2Rz0 Dc0 1zc0 Oo0 1zc0 Rc0 1wo0 17c0 1iM0 FA0 xB0 1fA0 1a00 14o0 bb0 LA0 xB0 Rc0 1wo0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 10Jz0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|30e3", "Europe/Helsinki|HMT EET EEST|-1D.N -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1WuND.N OULD.N 1dA0 1xGq0 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5", "Europe/Kaliningrad|CET CEST CET CEST MSK MSD EEST EET +03|-10 -20 -20 -30 -30 -40 -30 -20 -30|0101010101010232454545454545454546767676767676767676767676767676767676767676787|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 Am0 Lb0 1en0 op0 1pNz0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|44e4", "Europe/Kiev|KMT EET MSK CEST CET MSD EEST|-22.4 -20 -30 -20 -10 -40 -30|0123434252525252525252525256161616161616161616161616161616161616161616161616161616161616161616161616161616161616161616161|-1Pc22.4 eUo2.4 rnz0 2Hg0 WM0 1fA0 da0 1v4m0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 Db0 3220 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|34e5", "Europe/Kirov|LMT +03 +04 +05|-3i.M -30 -40 -50|01232323232323232321212121212121212121212121212121212121212121|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|48e4", "Europe/Lisbon|LMT WET WEST WEMT CET CEST|A.J 0 -10 -20 -10 -20|012121212121212121212121212121212121212121212321232123212321212121212121212121212121212121212121214121212121212121212121212121212124545454212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2le00 aPX0 Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 pvy0 1cM0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|27e5", "Europe/Luxembourg|LMT CET CEST WET WEST WEST WET|-o.A -10 -20 0 -10 -20 -10|0121212134343434343434343434343434343434343434343434565651212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2DG0o.A t6mo.A TB0 1nX0 Up0 1o20 11A0 rW0 CM0 1qP0 R90 1EO0 UK0 1u20 10m0 1ip0 1in0 17e0 19W0 1fB0 1db0 1cp0 1in0 17d0 1fz0 1a10 1in0 1a10 1in0 17f0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 vA0 60L0 WM0 1fA0 1cM0 17c0 1io0 16M0 1C00 Uo0 1eeo0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|54e4", "Europe/Madrid|WET WEST WEMT CET CEST|0 -10 -20 -10 -20|010101010101010101210343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-25Td0 19B0 1cL0 1dd0 b1z0 18p0 3HX0 17d0 1fz0 1a10 1io0 1a00 1in0 17d0 iIn0 Hd0 1cL0 bb0 1200 2s20 14n0 5aL0 Mp0 1vz0 17d0 1in0 17d0 1in0 17d0 1in0 17d0 6hX0 11B0 XHX0 1a10 1fz0 1a10 19X0 1cN0 1fz0 1a10 1fC0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|62e5", "Europe/Malta|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2arB0 Lz0 1cN0 1db0 1410 1on0 Wp0 1qL0 17d0 1cL0 M3B0 5M20 WM0 1fA0 1co0 17c0 1iM0 16m0 1de0 1lc0 14m0 1lc0 WO0 1qM0 GTW0 On0 1C10 LA0 1C00 LA0 1EM0 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1co0 1cM0 1lA0 Xc0 1qq0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1iN0 19z0 1fB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|42e4", "Europe/Minsk|MMT EET MSK CEST CET MSD EEST +03|-1O -20 -30 -20 -10 -40 -30 -30|01234343252525252525252525261616161616161616161616161616161616161617|-1Pc1O eUnO qNX0 3gQ0 WM0 1fA0 1cM0 Al0 1tsn0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 3Fc0 1cN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0|19e5", "Europe/Monaco|PMT WET WEST WEMT CET CEST|-9.l 0 -10 -20 -10 -20|01212121212121212121212121212121212121212121212121232323232345454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-2nco9.l cNb9.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 1u00 10o0 1io0 1wo0 Rc0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Df0 2RV0 11z0 11B0 1ze0 WM0 1fA0 1cM0 1fa0 1aq0 16M0 1ekn0 1cL0 1fC0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|38e3", "Europe/Moscow|MMT MMT MST MDST MSD MSK +05 EET EEST MSK|-2u.h -2v.j -3v.j -4v.j -40 -30 -50 -20 -30 -40|012132345464575454545454545454545458754545454545454545454545454545454545454595|-2ag2u.h 2pyW.W 1bA0 11X0 GN0 1Hb0 c4v.j ik0 3DA0 dz0 15A0 c10 2q10 iM10 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|16e6", "Europe/Paris|PMT WET WEST CEST CET WEMT|-9.l 0 -10 -20 -10 -20|0121212121212121212121212121212121212121212121212123434352543434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434|-2nco8.l cNb8.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 1u00 10o0 1io0 1wo0 Rc0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Df0 Ik0 5M30 WM0 1fA0 1cM0 Vx0 hB0 1aq0 16M0 1ekn0 1cL0 1fC0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|11e6", "Europe/Riga|RMT LST EET MSK CEST CET MSD EEST|-1A.y -2A.y -20 -30 -20 -10 -40 -30|010102345454536363636363636363727272727272727272727272727272727272727272727272727272727272727272727272727272727272727272727272|-25TzA.y 11A0 1iM0 ko0 gWm0 yDXA.y 2bX0 3fE0 WM0 1fA0 1cM0 1cM0 4m0 1sLy0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 1o00 11A0 1o00 11A0 1qM0 3oo0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|64e4", "Europe/Rome|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2arB0 Lz0 1cN0 1db0 1410 1on0 Wp0 1qL0 17d0 1cL0 M3B0 5M20 WM0 1fA0 1cM0 16M0 1iM0 16m0 1de0 1lc0 14m0 1lc0 WO0 1qM0 GTW0 On0 1C10 LA0 1C00 LA0 1EM0 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1C00 LA0 1zc0 Oo0 1C00 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1zc0 Oo0 1fC0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|39e5", "Europe/Samara|LMT +03 +04 +05|-3k.k -30 -40 -50|0123232323232323232121232323232323232323232323232323232323212|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 2y10 14m0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|12e5", "Europe/Saratov|LMT +03 +04 +05|-34.i -30 -40 -50|012323232323232321212121212121212121212121212121212121212121212|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1cM0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 5810", "Europe/Simferopol|SMT EET MSK CEST CET MSD EEST MSK|-2g -20 -30 -20 -10 -40 -30 -40|012343432525252525252525252161616525252616161616161616161616161616161616172|-1Pc2g eUog rEn0 2qs0 WM0 1fA0 1cM0 3V0 1u0L0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Q00 4eL0 1cL0 1cN0 1cL0 1cN0 dX0 WL0 1cN0 1cL0 1fB0 1o30 11B0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0 1nW0|33e4", "Europe/Sofia|EET CET CEST EEST|-20 -10 -20 -30|01212103030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030|-168L0 WM0 1fA0 1cM0 1cM0 1cN0 1mKH0 1dd0 1fb0 1ap0 1fb0 1a20 1fy0 1a30 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5", "Europe/Stockholm|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2azC0 TB0 2yDe0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|15e5", "Europe/Tallinn|TMT CET CEST EET MSK MSD EEST|-1D -10 -20 -20 -30 -40 -30|012103421212454545454545454546363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363|-26oND teD 11A0 1Ta0 4rXl KSLD 2FX0 2Jg0 WM0 1fA0 1cM0 18J0 1sTX0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o10 11A0 1qM0 5QM0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|41e4", "Europe/Tirane|LMT CET CEST|-1j.k -10 -20|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2glBj.k 14pcj.k 5LC0 WM0 4M0 1fCK0 10n0 1op0 11z0 1pd0 11z0 1qN0 WL0 1qp0 Xb0 1qp0 Xb0 1qp0 11z0 1lB0 11z0 1qN0 11z0 1iN0 16n0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|42e4", "Europe/Ulyanovsk|LMT +03 +04 +05 +02|-3d.A -30 -40 -50 -20|01232323232323232321214121212121212121212121212121212121212121212|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0", "Europe/Uzhgorod|CET CEST MSK MSD EET EEST|-10 -20 -30 -40 -20 -30|010101023232323232323232320454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-1cqL0 6i00 WM0 1fA0 1cM0 1ml0 1Cp0 1r3W0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Q00 1Nf0 2pw0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|11e4", "Europe/Vienna|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 3KM0 14o0 LA00 6i00 WM0 1fA0 1cM0 1cM0 1cM0 400 2qM0 1a00 1cM0 1cM0 1io0 17c0 1gHa0 19X0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|18e5", "Europe/Vilnius|WMT KMT CET EET MSK CEST MSD EEST|-1o -1z.A -10 -20 -30 -20 -40 -30|012324525254646464646464646473737373737373737352537373737373737373737373737373737373737373737373737373737373737373737373|-293do 6ILM.o 1Ooz.A zz0 Mfd0 29W0 3is0 WM0 1fA0 1cM0 LV0 1tgL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11B0 1o00 11A0 1qM0 8io0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|54e4", "Europe/Volgograd|LMT +03 +04 +05|-2V.E -30 -40 -50|01232323232323232121212121212121212121212121212121212121212121|-21IqV.E psLV.E 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1cM0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|10e5", "Europe/Warsaw|WMT CET CEST EET EEST|-1o -10 -20 -20 -30|012121234312121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ctdo 1LXo 11d0 1iO0 11A0 1o00 11A0 1on0 11A0 6zy0 HWP0 5IM0 WM0 1fA0 1cM0 1dz0 1mL0 1en0 15B0 1aq0 1nA0 11A0 1io0 17c0 1fA0 1a00 iDX0 LA0 1cM0 1cM0 1C00 Oo0 1cM0 1cM0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1C00 LA0 uso0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|17e5", "Europe/Zaporozhye|+0220 EET MSK CEST CET MSD EEST|-2k -20 -30 -20 -10 -40 -30|01234342525252525252525252526161616161616161616161616161616161616161616161616161616161616161616161616161616161616161616161|-1Pc2k eUok rdb0 2RE0 WM0 1fA0 8m0 1v9a0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cK0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|77e4", "HST|HST|a0|0|", "Indian/Chagos|LMT +05 +06|-4N.E -50 -60|012|-2xosN.E 3AGLN.E|30e2", "Indian/Cocos|+0630|-6u|0||596", "Indian/Kerguelen|-00 +05|0 -50|01|-MG00|130", "Indian/Mahe|LMT +04|-3F.M -40|01|-2yO3F.M|79e3", "Indian/Maldives|MMT +05|-4S -50|01|-olgS|35e4", "Indian/Mauritius|LMT +04 +05|-3O -40 -50|012121|-2xorO 34unO 14L0 12kr0 11z0|15e4", "Indian/Reunion|LMT +04|-3F.Q -40|01|-2mDDF.Q|84e4", "Pacific/Kwajalein|+11 -12 +12|-b0 c0 -c0|012|-AX0 W9X0|14e3", "MET|MET MEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00", "MST|MST|70|0|", "MST7MDT|MST MDT MWT MPT|70 60 60 60|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0", "Pacific/Chatham|+1215 +1245 +1345|-cf -cJ -dJ|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-WqAf 1adef IM0 1C00 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1qM0 14o0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1io0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|600", "Pacific/Apia|LMT -1130 -11 -10 +14 +13|bq.U bu b0 a0 -e0 -d0|01232345454545454545454545454545454545454545454545454545454|-2nDMx.4 1yW03.4 2rRbu 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|37e3", "Pacific/Bougainville|+10 +09 +11|-a0 -90 -b0|0102|-16Wy0 7CN0 2MQp0|18e4", "Pacific/Efate|LMT +11 +12|-bd.g -b0 -c0|0121212121212121212121|-2l9nd.g 2Szcd.g 1cL0 1oN0 10L0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 Lz0 1Nd0 An0|66e3", "Pacific/Enderbury|-12 -11 +13|c0 b0 -d0|012|nIc0 B7X0|1", "Pacific/Fakaofo|-11 +13|b0 -d0|01|1Gfn0|483", "Pacific/Fiji|LMT +12 +13|-bT.I -c0 -d0|0121212121212121212121212121212121212121212121212121212121212121|-2bUzT.I 3m8NT.I LA0 1EM0 IM0 nJc0 LA0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0|88e4", "Pacific/Galapagos|LMT -05 -06|5W.o 50 60|01212|-1yVS1.A 2dTz1.A gNd0 rz0|25e3", "Pacific/Gambier|LMT -09|8X.M 90|01|-2jof0.c|125", "Pacific/Guadalcanal|LMT +11|-aD.M -b0|01|-2joyD.M|11e4", "Pacific/Guam|GST ChST|-a0 -a0|01|1fpq0|17e4", "Pacific/Honolulu|HST HDT HST|au 9u a0|010102|-1thLu 8x0 lef0 8Pz0 46p0|37e4", "Pacific/Kiritimati|-1040 -10 +14|aE a0 -e0|012|nIaE B7Xk|51e2", "Pacific/Kosrae|+11 +12|-b0 -c0|010|-AX0 1bdz0|66e2", "Pacific/Majuro|+11 +12|-b0 -c0|01|-AX0|28e3", "Pacific/Marquesas|LMT -0930|9i 9u|01|-2joeG|86e2", "Pacific/Pago_Pago|LMT SST|bm.M b0|01|-2nDMB.c|37e2", "Pacific/Nauru|LMT +1130 +09 +12|-b7.E -bu -90 -c0|01213|-1Xdn7.E PvzB.E 5RCu 1ouJu|10e3", "Pacific/Niue|-1120 -1130 -11|bk bu b0|012|-KfME 17y0a|12e2", "Pacific/Norfolk|+1112 +1130 +1230 +11|-bc -bu -cu -b0|01213|-Kgbc W01G On0 1COp0|25e4", "Pacific/Noumea|LMT +11 +12|-b5.M -b0 -c0|01212121|-2l9n5.M 2EqM5.M xX0 1PB0 yn0 HeP0 Ao0|98e3", "Pacific/Pitcairn|-0830 -08|8u 80|01|18Vku|56", "Pacific/Rarotonga|-1030 -0930 -10|au 9u a0|012121212121212121212121212|lyWu IL0 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu Onu|13e3", "Pacific/Tahiti|LMT -10|9W.g a0|01|-2joe1.I|18e4", "Pacific/Tongatapu|+1220 +13 +14|-ck -d0 -e0|0121212121|-1aB0k 2n5dk 15A0 1wo0 xz0 1Q10 xz0 zWN0 s00|75e3", "PST8PDT|PST PDT PWT PPT|80 70 70 70|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261q0 1nX0 11B0 1nX0 SgN0 8x10 iy0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0", "WET|WET WEST|0 -10|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00"],
        links: ["Africa/Abidjan|Africa/Bamako", "Africa/Abidjan|Africa/Banjul", "Africa/Abidjan|Africa/Conakry", "Africa/Abidjan|Africa/Dakar", "Africa/Abidjan|Africa/Freetown", "Africa/Abidjan|Africa/Lome", "Africa/Abidjan|Africa/Nouakchott", "Africa/Abidjan|Africa/Ouagadougou", "Africa/Abidjan|Africa/Timbuktu", "Africa/Abidjan|Atlantic/St_Helena", "Africa/Cairo|Egypt", "Africa/Johannesburg|Africa/Maseru", "Africa/Johannesburg|Africa/Mbabane", "Africa/Lagos|Africa/Bangui", "Africa/Lagos|Africa/Brazzaville", "Africa/Lagos|Africa/Douala", "Africa/Lagos|Africa/Kinshasa", "Africa/Lagos|Africa/Libreville", "Africa/Lagos|Africa/Luanda", "Africa/Lagos|Africa/Malabo", "Africa/Lagos|Africa/Niamey", "Africa/Lagos|Africa/Porto-Novo", "Africa/Maputo|Africa/Blantyre", "Africa/Maputo|Africa/Bujumbura", "Africa/Maputo|Africa/Gaborone", "Africa/Maputo|Africa/Harare", "Africa/Maputo|Africa/Kigali", "Africa/Maputo|Africa/Lubumbashi", "Africa/Maputo|Africa/Lusaka", "Africa/Nairobi|Africa/Addis_Ababa", "Africa/Nairobi|Africa/Asmara", "Africa/Nairobi|Africa/Asmera", "Africa/Nairobi|Africa/Dar_es_Salaam", "Africa/Nairobi|Africa/Djibouti", "Africa/Nairobi|Africa/Kampala", "Africa/Nairobi|Africa/Mogadishu", "Africa/Nairobi|Indian/Antananarivo", "Africa/Nairobi|Indian/Comoro", "Africa/Nairobi|Indian/Mayotte", "Africa/Tripoli|Libya", "America/Adak|America/Atka", "America/Adak|US/Aleutian", "America/Anchorage|US/Alaska", "America/Argentina/Buenos_Aires|America/Buenos_Aires", "America/Argentina/Catamarca|America/Argentina/ComodRivadavia", "America/Argentina/Catamarca|America/Catamarca", "America/Argentina/Cordoba|America/Cordoba", "America/Argentina/Cordoba|America/Rosario", "America/Argentina/Jujuy|America/Jujuy", "America/Argentina/Mendoza|America/Mendoza", "America/Atikokan|America/Coral_Harbour", "America/Chicago|US/Central", "America/Curacao|America/Aruba", "America/Curacao|America/Kralendijk", "America/Curacao|America/Lower_Princes", "America/Denver|America/Shiprock", "America/Denver|Navajo", "America/Denver|US/Mountain", "America/Detroit|US/Michigan", "America/Edmonton|Canada/Mountain", "America/Fort_Wayne|America/Indiana/Indianapolis", "America/Fort_Wayne|America/Indianapolis", "America/Fort_Wayne|US/East-Indiana", "America/Halifax|Canada/Atlantic", "America/Havana|Cuba", "America/Indiana/Knox|America/Knox_IN", "America/Indiana/Knox|US/Indiana-Starke", "America/Jamaica|Jamaica", "America/Kentucky/Louisville|America/Louisville", "America/Los_Angeles|US/Pacific", "America/Los_Angeles|US/Pacific-New", "America/Manaus|Brazil/West", "America/Mazatlan|Mexico/BajaSur", "America/Mexico_City|Mexico/General", "America/New_York|US/Eastern", "America/Noronha|Brazil/DeNoronha", "America/Panama|America/Cayman", "America/Phoenix|US/Arizona", "America/Port_of_Spain|America/Anguilla", "America/Port_of_Spain|America/Antigua", "America/Port_of_Spain|America/Dominica", "America/Port_of_Spain|America/Grenada", "America/Port_of_Spain|America/Guadeloupe", "America/Port_of_Spain|America/Marigot", "America/Port_of_Spain|America/Montserrat", "America/Port_of_Spain|America/St_Barthelemy", "America/Port_of_Spain|America/St_Kitts", "America/Port_of_Spain|America/St_Lucia", "America/Port_of_Spain|America/St_Thomas", "America/Port_of_Spain|America/St_Vincent", "America/Port_of_Spain|America/Tortola", "America/Port_of_Spain|America/Virgin", "America/Regina|Canada/Saskatchewan", "America/Rio_Branco|America/Porto_Acre", "America/Rio_Branco|Brazil/Acre", "America/Santiago|Chile/Continental", "America/Sao_Paulo|Brazil/East", "America/St_Johns|Canada/Newfoundland", "America/Tijuana|America/Ensenada", "America/Tijuana|America/Santa_Isabel", "America/Tijuana|Mexico/BajaNorte", "America/Toronto|America/Montreal", "America/Toronto|Canada/Eastern", "America/Vancouver|Canada/Pacific", "America/Whitehorse|Canada/Yukon", "America/Winnipeg|Canada/Central", "Asia/Ashgabat|Asia/Ashkhabad", "Asia/Bangkok|Asia/Phnom_Penh", "Asia/Bangkok|Asia/Vientiane", "Asia/Dhaka|Asia/Dacca", "Asia/Dubai|Asia/Muscat", "Asia/Ho_Chi_Minh|Asia/Saigon", "Asia/Hong_Kong|Hongkong", "Asia/Jerusalem|Asia/Tel_Aviv", "Asia/Jerusalem|Israel", "Asia/Kathmandu|Asia/Katmandu", "Asia/Kolkata|Asia/Calcutta", "Asia/Kuala_Lumpur|Asia/Singapore", "Asia/Kuala_Lumpur|Singapore", "Asia/Macau|Asia/Macao", "Asia/Makassar|Asia/Ujung_Pandang", "Asia/Nicosia|Europe/Nicosia", "Asia/Qatar|Asia/Bahrain", "Asia/Rangoon|Asia/Yangon", "Asia/Riyadh|Asia/Aden", "Asia/Riyadh|Asia/Kuwait", "Asia/Seoul|ROK", "Asia/Shanghai|Asia/Chongqing", "Asia/Shanghai|Asia/Chungking", "Asia/Shanghai|Asia/Harbin", "Asia/Shanghai|PRC", "Asia/Taipei|ROC", "Asia/Tehran|Iran", "Asia/Thimphu|Asia/Thimbu", "Asia/Tokyo|Japan", "Asia/Ulaanbaatar|Asia/Ulan_Bator", "Asia/Urumqi|Asia/Kashgar", "Atlantic/Faroe|Atlantic/Faeroe", "Atlantic/Reykjavik|Iceland", "Atlantic/South_Georgia|Etc/GMT+2", "Australia/Adelaide|Australia/South", "Australia/Brisbane|Australia/Queensland", "Australia/Broken_Hill|Australia/Yancowinna", "Australia/Darwin|Australia/North", "Australia/Hobart|Australia/Tasmania", "Australia/Lord_Howe|Australia/LHI", "Australia/Melbourne|Australia/Victoria", "Australia/Perth|Australia/West", "Australia/Sydney|Australia/ACT", "Australia/Sydney|Australia/Canberra", "Australia/Sydney|Australia/NSW", "Etc/GMT-0|Etc/GMT", "Etc/GMT-0|Etc/GMT+0", "Etc/GMT-0|Etc/GMT0", "Etc/GMT-0|Etc/Greenwich", "Etc/GMT-0|GMT", "Etc/GMT-0|GMT+0", "Etc/GMT-0|GMT-0", "Etc/GMT-0|GMT0", "Etc/GMT-0|Greenwich", "Etc/UCT|UCT", "Etc/UTC|Etc/Universal", "Etc/UTC|Etc/Zulu", "Etc/UTC|UTC", "Etc/UTC|Universal", "Etc/UTC|Zulu", "Europe/Belgrade|Europe/Ljubljana", "Europe/Belgrade|Europe/Podgorica", "Europe/Belgrade|Europe/Sarajevo", "Europe/Belgrade|Europe/Skopje", "Europe/Belgrade|Europe/Zagreb", "Europe/Chisinau|Europe/Tiraspol", "Europe/Dublin|Eire", "Europe/Helsinki|Europe/Mariehamn", "Europe/Istanbul|Asia/Istanbul", "Europe/Istanbul|Turkey", "Europe/Lisbon|Portugal", "Europe/London|Europe/Belfast", "Europe/London|Europe/Guernsey", "Europe/London|Europe/Isle_of_Man", "Europe/London|Europe/Jersey", "Europe/London|GB", "Europe/London|GB-Eire", "Europe/Moscow|W-SU", "Europe/Oslo|Arctic/Longyearbyen", "Europe/Oslo|Atlantic/Jan_Mayen", "Europe/Prague|Europe/Bratislava", "Europe/Rome|Europe/San_Marino", "Europe/Rome|Europe/Vatican", "Europe/Warsaw|Poland", "Europe/Zurich|Europe/Busingen", "Europe/Zurich|Europe/Vaduz", "Indian/Christmas|Etc/GMT-7", "Pacific/Auckland|Antarctica/McMurdo", "Pacific/Auckland|Antarctica/South_Pole", "Pacific/Auckland|NZ", "Pacific/Chatham|NZ-CHAT", "Pacific/Easter|Chile/EasterIsland", "Pacific/Guam|Pacific/Saipan", "Pacific/Honolulu|Pacific/Johnston", "Pacific/Honolulu|US/Hawaii", "Pacific/Kwajalein|Kwajalein", "Pacific/Pago_Pago|Pacific/Midway", "Pacific/Pago_Pago|Pacific/Samoa", "Pacific/Pago_Pago|US/Samoa", "Pacific/Palau|Etc/GMT-9", "Pacific/Pohnpei|Etc/GMT-11", "Pacific/Pohnpei|Pacific/Ponape", "Pacific/Port_Moresby|Etc/GMT-10", "Pacific/Port_Moresby|Pacific/Chuuk", "Pacific/Port_Moresby|Pacific/Truk", "Pacific/Port_Moresby|Pacific/Yap", "Pacific/Tarawa|Etc/GMT-12", "Pacific/Tarawa|Pacific/Funafuti", "Pacific/Tarawa|Pacific/Wake", "Pacific/Tarawa|Pacific/Wallis"]
    }), c
});
var idbModules = {
    util: {
        cleanInterface: !1
    }
};
! function() {
    "use strict";
    var e = {
        test: !0
    };
    if (Object.defineProperty) try {
        Object.defineProperty(e, "test", {
            enumerable: !1
        }), e.test && (idbModules.util.cleanInterface = !0)
    } catch (t) {}
}(),
function(e) {
    "use strict";

    function t(e, t, n) {
        n.target = t, "function" == typeof t[e] && t[e].apply(t, [n])
    }
    var n = function() {
        this.length = 0, this._items = [], e.util.cleanInterface && Object.defineProperty(this, "_items", {
            enumerable: !1
        })
    };
    if (n.prototype = {
            contains: function(e) {
                return -1 !== this._items.indexOf(e)
            },
            item: function(e) {
                return this._items[e]
            },
            indexOf: function(e) {
                return this._items.indexOf(e)
            },
            push: function(e) {
                this._items.push(e), this.length += 1;
                for (var t = 0; t < this._items.length; t++) this[t] = this._items[t]
            },
            splice: function() {
                this._items.splice.apply(this._items, arguments), this.length = this._items.length;
                for (var e in this) e === String(parseInt(e, 10)) && delete this[e];
                for (e = 0; e < this._items.length; e++) this[e] = this._items[e]
            }
        }, e.util.cleanInterface)
        for (var r in {
                indexOf: !1,
                push: !1,
                splice: !1
            }) Object.defineProperty(n.prototype, r, {
            enumerable: !1
        });
    e.util.callback = t, e.util.StringList = n, e.util.quote = function(e) {
        return '"' + e + '"'
    }
}(idbModules),
function(e) {
    "use strict";

    function t() {
        (navigator.userAgent.match(/MSIE/) || navigator.userAgent.match(/Trident/) || navigator.userAgent.match(/Edge/)) && n()
    }

    function n() {
        var e = IDBFactory.prototype.cmp,
            t = IDBDatabase.prototype.createObjectStore,
            n = IDBObjectStore.prototype.createIndex,
            i = IDBObjectStore.prototype.add,
            u = IDBObjectStore.prototype.put,
            l = IDBIndex.prototype.get,
            d = IDBIndex.prototype.getKey,
            p = IDBIndex.prototype.openCursor,
            f = IDBIndex.prototype.openKeyCursor,
            h = IDBObjectStore.prototype.get,
            _ = IDBObjectStore.prototype["delete"],
            y = IDBObjectStore.prototype.openCursor,
            v = IDBObjectStore.prototype.openKeyCursor,
            g = IDBKeyRange.bound,
            m = IDBKeyRange.upperBound,
            E = IDBKeyRange.lowerBound,
            D = IDBKeyRange.only,
            b = Object.getOwnPropertyDescriptor(IDBRequest.prototype, "result"),
            I = Object.getOwnPropertyDescriptor(IDBCursor.prototype, "primaryKey"),
            w = Object.getOwnPropertyDescriptor(IDBCursor.prototype, "key"),
            B = Object.getOwnPropertyDescriptor(IDBCursorWithValue.prototype, "value");
        IDBFactory.prototype.cmp = function(t, n) {
            var r = Array.prototype.slice.call(arguments);
            return t instanceof Array && (r[0] = c(t)), n instanceof Array && (r[1] = c(n)), e.apply(this, r)
        }, IDBDatabase.prototype.createObjectStore = function(e, n) {
            return n && n.keyPath instanceof Array && (n.keyPath = o(n.keyPath)), t.apply(this, arguments)
        }, IDBObjectStore.prototype.createIndex = function(e, t, r) {
            var i = Array.prototype.slice.call(arguments);
            return t instanceof Array && (i[1] = o(t)), n.apply(this, i)
        }, IDBObjectStore.prototype.add = function(e, t) {
            return this.__insertData(i, arguments)
        }, IDBObjectStore.prototype.put = function(e, t) {
            return this.__insertData(u, arguments)
        }, IDBObjectStore.prototype.__insertData = function(e, t) {
            t = Array.prototype.slice.call(t);
            var n = t[0],
                o = t[1];
            if (o instanceof Array && (t[1] = c(o)), "object" == typeof n) {
                r(this.keyPath) && a(n, this.keyPath);
                for (var i = 0; i < this.indexNames.length; i++) {
                    var s = this.index(this.indexNames[i]);
                    if (r(s.keyPath)) try {
                        a(n, s.keyPath)
                    } catch (u) {}
                }
            }
            return e.apply(this, t)
        }, IDBIndex.prototype.get = function(e) {
            var t = Array.prototype.slice.call(arguments);
            return e instanceof Array && (t[0] = c(e)), l.apply(this, t)
        }, IDBIndex.prototype.getKey = function(e) {
            var t = Array.prototype.slice.call(arguments);
            return e instanceof Array && (t[0] = c(e)), d.apply(this, t)
        }, IDBIndex.prototype.openCursor = function(e) {
            var t = Array.prototype.slice.call(arguments);
            return e instanceof Array && (t[0] = c(e)), p.apply(this, t)
        }, IDBIndex.prototype.openKeyCursor = function(e) {
            var t = Array.prototype.slice.call(arguments);
            return e instanceof Array && (t[0] = c(e)), f.apply(this, t)
        }, IDBObjectStore.prototype.get = function(e) {
            var t = Array.prototype.slice.call(arguments);
            return e instanceof Array && (t[0] = c(e)), h.apply(this, t)
        }, IDBObjectStore.prototype["delete"] = function(e) {
            var t = Array.prototype.slice.call(arguments);
            return e instanceof Array && (t[0] = c(e)), _.apply(this, t)
        }, IDBObjectStore.prototype.openCursor = function(e) {
            var t = Array.prototype.slice.call(arguments);
            return e instanceof Array && (t[0] = c(e)), y.apply(this, t)
        }, IDBObjectStore.prototype.openKeyCursor = function(e) {
            var t = Array.prototype.slice.call(arguments);
            return e instanceof Array && (t[0] = c(e)), v.apply(this, t)
        }, IDBKeyRange.bound = function(e, t, n, r) {
            var o = Array.prototype.slice.call(arguments);
            return e instanceof Array && (o[0] = c(e)), t instanceof Array && (o[1] = c(t)), g.apply(IDBKeyRange, o)
        }, IDBKeyRange.upperBound = function(e, t) {
            var n = Array.prototype.slice.call(arguments);
            return e instanceof Array && (n[0] = c(e)), m.apply(IDBKeyRange, n)
        }, IDBKeyRange.lowerBound = function(e, t) {
            var n = Array.prototype.slice.call(arguments);
            return e instanceof Array && (n[0] = c(e)), E.apply(IDBKeyRange, n)
        }, IDBKeyRange.only = function(e) {
            var t = Array.prototype.slice.call(arguments);
            return e instanceof Array && (t[0] = c(e)), D.apply(IDBKeyRange, t)
        }, Object.defineProperty(IDBRequest.prototype, "result", {
            enumerable: b.enumerable,
            configurable: b.configurable,
            get: function() {
                var e = b.get.call(this);
                return s(e)
            }
        }), Object.defineProperty(IDBCursor.prototype, "primaryKey", {
            enumerable: I.enumerable,
            configurable: I.configurable,
            get: function() {
                var e = I.get.call(this);
                return s(e)
            }
        }), Object.defineProperty(IDBCursor.prototype, "key", {
            enumerable: w.enumerable,
            configurable: w.configurable,
            get: function() {
                var e = w.get.call(this);
                return s(e)
            }
        }), Object.defineProperty(IDBCursorWithValue.prototype, "value", {
            enumerable: B.enumerable,
            configurable: B.configurable,
            get: function() {
                var e = B.get.call(this);
                return s(e)
            }
        });
        try {
            IDBTransaction.VERSION_CHANGE || (IDBTransaction.VERSION_CHANGE = "versionchange")
        } catch (x) {}
    }

    function r(e) {
        return e && 0 === e.indexOf(d + ".")
    }

    function o(e) {
        for (var t = 0; t < e.length; t++) e[t] = e[t].replace(/\./g, f);
        return d + "." + e.join(h)
    }

    function i(e) {
        e = e.substr(d.length + 1), e = e.split(h);
        for (var t = 0; t < e.length; t++) e[t] = e[t].replace(p, ".");
        return e
    }

    function a(t, n) {
        var r = i(n),
            o = e.Key.getValue(t, r),
            a = c(o);
        n = n.substr(d.length + 1), t[d] = t[d] || {}, t[d][n] = a
    }

    function s(e) {
        return "string" == typeof e && r(e) ? u(e) : (e && "object" == typeof e[d] && delete e[d], e)
    }

    function c(t) {
        return e.Key.validate(t), t = e.Key.encode(t), t = d + "." + t, l(t), t
    }

    function u(t) {
        return l(t), t = t.substr(d.length + 1), t = e.Key.decode(t)
    }

    function l(t) {
        if (t.length > 889) throw e.util.createDOMException("DataError", "The encoded key is " + t.length + " characters long, but IE only allows 889 characters. Consider replacing numeric keys with strings to reduce the encoded length.")
    }
    var d = "__$$compoundKey",
        p = /\$\$/g,
        f = "$$$$",
        h = "$_$";
    e.polyfill = t
}(idbModules),
function(idbModules) {
    "use strict";
    var Sca = function() {
        return {
            decycle: function(object, callback) {
                function checkForCompletion() {
                    0 === queuedObjects.length && returnCallback(derezObj)
                }

                function readBlobAsDataURL(e, t) {
                    var n = new FileReader;
                    n.onloadend = function(n) {
                        var r = n.target.result,
                            o = "Blob";
                        e instanceof File, updateEncodedBlob(r, t, o)
                    }, n.readAsDataURL(e)
                }

                function updateEncodedBlob(dataURL, path, blobtype) {
                    var encoded = queuedObjects.indexOf(path);
                    path = path.replace("$", "derezObj"), eval(path + '.$enc="' + dataURL + '"'), eval(path + '.$type="' + blobtype + '"'), queuedObjects.splice(encoded, 1), checkForCompletion()
                }

                function derez(e, t) {
                    var n, r, o;
                    if (!("object" != typeof e || null === e || e instanceof Boolean || e instanceof Date || e instanceof Number || e instanceof RegExp || e instanceof Blob || e instanceof String)) {
                        for (n = 0; n < objects.length; n += 1)
                            if (objects[n] === e) return {
                                $ref: paths[n]
                            };
                        if (objects.push(e), paths.push(t), "[object Array]" === Object.prototype.toString.apply(e))
                            for (o = [], n = 0; n < e.length; n += 1) o[n] = derez(e[n], t + "[" + n + "]");
                        else {
                            o = {};
                            for (r in e) Object.prototype.hasOwnProperty.call(e, r) && (o[r] = derez(e[r], t + "[" + JSON.stringify(r) + "]"))
                        }
                        return o
                    }
                    return e instanceof Blob ? (queuedObjects.push(t), readBlobAsDataURL(e, t)) : e instanceof Boolean ? e = {
                        $type: "Boolean",
                        $enc: e.toString()
                    } : e instanceof Date ? e = {
                        $type: "Date",
                        $enc: e.getTime()
                    } : e instanceof Number ? e = {
                        $type: "Number",
                        $enc: e.toString()
                    } : e instanceof RegExp ? e = {
                        $type: "RegExp",
                        $enc: e.toString()
                    } : "number" == typeof e ? e = {
                        $type: "number",
                        $enc: e + ""
                    } : void 0 === e && (e = {
                        $type: "undefined"
                    }), e
                }
                var objects = [],
                    paths = [],
                    queuedObjects = [],
                    returnCallback = callback,
                    derezObj = derez(object, "$");
                checkForCompletion()
            },
            retrocycle: function retrocycle($) {
                function dataURLToBlob(e) {
                    var t, n, r, o = ";base64,";
                    if (e.indexOf(o) === -1) return n = e.split(","), t = n[0].split(":")[1], r = n[1], new Blob([r], {
                        type: t
                    });
                    n = e.split(o), t = n[0].split(":")[1], r = window.atob(n[1]);
                    for (var i = r.length, a = new Uint8Array(i), s = 0; s < i; ++s) a[s] = r.charCodeAt(s);
                    return new Blob([a.buffer], {
                        type: t
                    })
                }

                function rez(value) {
                    var i, item, name, path;
                    if (value && "object" == typeof value)
                        if ("[object Array]" === Object.prototype.toString.apply(value))
                            for (i = 0; i < value.length; i += 1) item = value[i], item && "object" == typeof item && (path = item.$ref, "string" == typeof path && px.test(path) ? value[i] = eval(path) : value[i] = rez(item));
                        else if (void 0 !== value.$type) switch (value.$type) {
                        case "Blob":
                        case "File":
                            value = dataURLToBlob(value.$enc);
                            break;
                        case "Boolean":
                            value = Boolean("true" === value.$enc);
                            break;
                        case "Date":
                            value = new Date(value.$enc);
                            break;
                        case "Number":
                            value = Number(value.$enc);
                            break;
                        case "RegExp":
                            value = eval(value.$enc);
                            break;
                        case "number":
                            value = parseFloat(value.$enc);
                            break;
                        case "undefined":
                            value = void 0
                    } else
                        for (name in value) "object" == typeof value[name] && (item = value[name], item && (path = item.$ref, "string" == typeof path && px.test(path) ? value[name] = eval(path) : value[name] = rez(item)));
                    return value
                }
                var px = /^\$(?:\[(?:\d+|\"(?:[^\\\"\u0000-\u001f]|\\([\\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*\")\])*$/;
                return rez($)
            },
            encode: function(e, t) {
                function n(e) {
                    t(JSON.stringify(e))
                }
                this.decycle(e, n)
            },
            decode: function(e) {
                return this.retrocycle(JSON.parse(e))
            }
        }
    }();
    idbModules.Sca = Sca
}(idbModules),
function(idbModules) {
    "use strict";

    function padBase32Exponent(e) {
        return e = e.toString(32), 1 === e.length ? "0" + e : e
    }

    function padBase32Mantissa(e) {
        return (e + zeros(11)).slice(0, 11)
    }

    function flipBase32(e) {
        for (var t = "", n = 0; n < e.length; n++) t += (31 - parseInt(e[n], 32)).toString(32);
        return t
    }

    function pow32(e, t) {
        var n, r, o;
        return t = parseInt(t, 32), t < 0 ? roundToPrecision(parseInt(e, 32) * Math.pow(32, t - 10)) : t < 11 ? (n = e.slice(0, t), n = parseInt(n, 32), r = e.slice(t), r = parseInt(r, 32) * Math.pow(32, t - 11), roundToPrecision(n + r)) : (o = e + zeros(t - 11), parseInt(o, 32))
    }

    function roundToPrecision(e, t) {
        return t = t || 16, parseFloat(e.toPrecision(t))
    }

    function zeros(e) {
        for (var t = ""; e--;) t += "0";
        return t
    }

    function negate(e) {
        return "-" + e
    }

    function getType(e) {
        return e instanceof Date ? "date" : e instanceof Array ? "array" : typeof e
    }

    function validate(e) {
        var t = getType(e);
        if ("array" === t)
            for (var n = 0; n < e.length; n++) validate(e[n]);
        else if (!types[t] || "string" !== t && isNaN(e)) throw idbModules.util.createDOMException("DataError", "Not a valid key")
    }

    function getValue(source, keyPath) {
        try {
            if (keyPath instanceof Array) {
                for (var arrayValue = [], i = 0; i < keyPath.length; i++) arrayValue.push(eval("source." + keyPath[i]));
                return arrayValue
            }
            return eval("source." + keyPath)
        } catch (e) {
            return
        }
    }

    function setValue(e, t, n) {
        for (var r = t.split("."), o = 0; o < r.length - 1; o++) {
            var i = r[o];
            e = e[i] = e[i] || {}
        }
        e[r[r.length - 1]] = n
    }

    function isMultiEntryMatch(e, t) {
        var n = collations[t.substring(0, 1)];
        return "array" === n ? t.indexOf(e) > 1 : t === e
    }

    function isKeyInRange(e, t) {
        var n = void 0 === t.lower,
            r = void 0 === t.upper,
            o = idbModules.Key.encode(e, !0);
        return void 0 !== t.lower && (t.lowerOpen && o > t.__lower && (n = !0), !t.lowerOpen && o >= t.__lower && (n = !0)), void 0 !== t.upper && (t.upperOpen && o < t.__upper && (r = !0), !t.upperOpen && o <= t.__upper && (r = !0)), n && r
    }

    function findMultiEntryMatches(e, t) {
        var n = [];
        if (e instanceof Array)
            for (var r = 0; r < e.length; r++) {
                var o = e[r];
                if (o instanceof Array) {
                    if (t.lower === t.upper) continue;
                    if (1 !== o.length) {
                        var i = findMultiEntryMatches(o, t);
                        i.length > 0 && n.push(o);
                        continue
                    }
                    o = o[0]
                }
                isKeyInRange(o, t) && n.push(o)
            } else isKeyInRange(e, t) && n.push(e);
        return n
    }
    var collations = ["undefined", "number", "date", "string", "array"],
        signValues = ["negativeInfinity", "bigNegative", "smallNegative", "smallPositive", "bigPositive", "positiveInfinity"],
        types = {
            undefined: {
                encode: function(e) {
                    return collations.indexOf("undefined") + "-"
                },
                decode: function(e) {}
            },
            date: {
                encode: function(e) {
                    return collations.indexOf("date") + "-" + e.toJSON()
                },
                decode: function(e) {
                    return new Date(e.substring(2))
                }
            },
            number: {
                encode: function(e) {
                    var t = Math.abs(e).toString(32),
                        n = t.indexOf(".");
                    t = n !== -1 ? t.replace(".", "") : t;
                    var r = t.search(/[^0]/);
                    t = t.slice(r);
                    var o, i = zeros(2),
                        a = zeros(11);
                    return isFinite(e) ? e < 0 ? e > -1 ? (o = signValues.indexOf("smallNegative"), i = padBase32Exponent(r), a = flipBase32(padBase32Mantissa(t))) : (o = signValues.indexOf("bigNegative"), i = flipBase32(padBase32Exponent(n !== -1 ? n : t.length)), a = flipBase32(padBase32Mantissa(t))) : e < 1 ? (o = signValues.indexOf("smallPositive"), i = flipBase32(padBase32Exponent(r)), a = padBase32Mantissa(t)) : (o = signValues.indexOf("bigPositive"), i = padBase32Exponent(n !== -1 ? n : t.length), a = padBase32Mantissa(t)) : o = signValues.indexOf(e > 0 ? "positiveInfinity" : "negativeInfinity"), collations.indexOf("number") + "-" + o + i + a
                },
                decode: function(e) {
                    var t = +e.substr(2, 1),
                        n = e.substr(3, 2),
                        r = e.substr(5, 11);
                    switch (signValues[t]) {
                        case "negativeInfinity":
                            return -(1 / 0);
                        case "positiveInfinity":
                            return 1 / 0;
                        case "bigPositive":
                            return pow32(r, n);
                        case "smallPositive":
                            return n = negate(flipBase32(n)), pow32(r, n);
                        case "smallNegative":
                            return n = negate(n), r = flipBase32(r), -pow32(r, n);
                        case "bigNegative":
                            return n = flipBase32(n), r = flipBase32(r), -pow32(r, n);
                        default:
                            throw new Error("Invalid number.")
                    }
                }
            },
            string: {
                encode: function(e, t) {
                    return t && (e = e.replace(/(.)/g, "-$1") + " "), collations.indexOf("string") + "-" + e
                },
                decode: function(e, t) {
                    return e = e.substring(2), t && (e = e.substr(0, e.length - 1).replace(/-(.)/g, "$1")), e
                }
            },
            array: {
                encode: function(e) {
                    for (var t = [], n = 0; n < e.length; n++) {
                        var r = e[n],
                            o = idbModules.Key.encode(r, !0);
                        t[n] = o
                    }
                    return t.push(collations.indexOf("undefined") + "-"), collations.indexOf("array") + "-" + JSON.stringify(t)
                },
                decode: function(e) {
                    var t = JSON.parse(e.substring(2));
                    t.pop();
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n],
                            o = idbModules.Key.decode(r, !0);
                        t[n] = o
                    }
                    return t
                }
            }
        };
    idbModules.Key = {
        encode: function(e, t) {
            return void 0 === e ? null : types[getType(e)].encode(e, t)
        },
        decode: function(e, t) {
            if ("string" == typeof e) return types[collations[e.substring(0, 1)]].decode(e, t)
        },
        validate: validate,
        getValue: getValue,
        setValue: setValue,
        isMultiEntryMatch: isMultiEntryMatch,
        findMultiEntryMatches: findMultiEntryMatches
    }
}(idbModules),
function(e) {
    "use strict";

    function t(e, t) {
        var n = new Event(e);
        return n.debug = t, Object.defineProperty(n, "target", {
            writable: !0
        }), n
    }

    function n(e, t) {
        this.type = e, this.debug = t, this.bubbles = !1, this.cancelable = !1, this.eventPhase = 0, this.timeStamp = (new Date).valueOf()
    }
    var r = !1;
    try {
        var o = t("test type", "test debug"),
            i = {
                test: "test target"
            };
        o.target = i, o instanceof Event && "test type" === o.type && "test debug" === o.debug && o.target === i && (r = !0)
    } catch (a) {}
    r ? (e.Event = Event, e.IDBVersionChangeEvent = Event, e.util.createEvent = t) : (e.Event = n, e.IDBVersionChangeEvent = n, e.util.createEvent = function(e, t) {
        return new n(e, t)
    })
}(idbModules),
function(e) {
    "use strict";

    function t(e, t) {
        var n = new DOMException.prototype.constructor(0, t);
        return n.name = e || "DOMException", n.message = t, n
    }

    function n(e, t) {
        e = e || "DOMError";
        var n = new DOMError(e, t);
        return n.name === e || (n.name = e), n.message === t || (n.message = t), n
    }

    function r(e, t) {
        var n = new Error(t);
        return n.name = e || "DOMException", n.message = t, n
    }
    e.util.logError = function(t, n, r) {
        if (e.DEBUG) {
            r && r.message && (r = r.message);
            var o = "function" == typeof console.error ? "error" : "log";
            console[o](t + ": " + n + ". " + (r || "")), console.trace && console.trace()
        }
    }, e.util.findError = function(e) {
        var t;
        if (e) {
            if (1 === e.length) return e[0];
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                if (r instanceof Error || r instanceof DOMException) return r;
                r && "string" == typeof r.message && (t = r)
            }
        }
        return t
    };
    var o, i = !1,
        a = !1;
    try {
        o = t("test name", "test message"), o instanceof DOMException && "test name" === o.name && "test message" === o.message && (i = !0)
    } catch (s) {}
    try {
        o = n("test name", "test message"), o instanceof DOMError && "test name" === o.name && "test message" === o.message && (a = !0)
    } catch (s) {}
    i ? (e.DOMException = DOMException, e.util.createDOMException = function(n, r, o) {
        return e.util.logError(n, r, o), t(n, r)
    }) : (e.DOMException = Error, e.util.createDOMException = function(t, n, o) {
        return e.util.logError(t, n, o), r(t, n)
    }), a ? (e.DOMError = DOMError, e.util.createDOMError = function(t, r, o) {
        return e.util.logError(t, r, o), n(t, r)
    }) : (e.DOMError = Error, e.util.createDOMError = function(t, n, o) {
        return e.util.logError(t, n, o), r(t, n)
    })
}(idbModules),
function(e) {
    "use strict";

    function t() {
        this.onsuccess = this.onerror = this.result = this.error = this.source = this.transaction = null, this.readyState = "pending"
    }

    function n() {
        this.onblocked = this.onupgradeneeded = null
    }
    n.prototype = new t, n.prototype.constructor = n, e.IDBRequest = t, e.IDBOpenDBRequest = n
}(idbModules),
function(e, t) {
    "use strict";

    function n(n, r, o, i) {
        n !== t && e.Key.validate(n), r !== t && e.Key.validate(r), this.lower = n, this.upper = r, this.lowerOpen = !!o, this.upperOpen = !!i
    }
    n.only = function(e) {
        return new n(e, e, (!1), (!1))
    }, n.lowerBound = function(e, r) {
        return new n(e, t, r, t)
    }, n.upperBound = function(e, r) {
        return new n(t, e, t, r)
    }, n.bound = function(e, t, r, o) {
        return new n(e, t, r, o)
    }, e.IDBKeyRange = n
}(idbModules),
function(e, t) {
    "use strict";

    function n(n, r, o, i, a, s, c) {
        if (null === n && (n = t), n === t || n instanceof e.IDBKeyRange || (n = new e.IDBKeyRange(n, n, (!1), (!1))), o.transaction.__assertActive(), r !== t && ["next", "prev", "nextunique", "prevunique"].indexOf(r) === -1) throw new TypeError(r + "is not a valid cursor direction");
        this.source = i, this.direction = r || "next", this.key = t, this.primaryKey = t, this.__store = o, this.__range = n, this.__req = new e.IDBRequest, this.__keyColumnName = a, this.__valueColumnName = s, this.__valueDecoder = "value" === s ? e.Sca : e.Key, this.__count = c, this.__offset = -1, this.__lastKeyContinued = t, this.__multiEntryIndex = i instanceof e.IDBIndex && i.multiEntry, this.__unique = this.direction.indexOf("unique") !== -1, n !== t && (n.__lower = n.lower !== t && e.Key.encode(n.lower, this.__multiEntryIndex), n.__upper = n.upper !== t && e.Key.encode(n.upper, this.__multiEntryIndex)), this["continue"]()
    }
    n.prototype.__find = function() {
        var e = Array.prototype.slice.call(arguments);
        this.__multiEntryIndex ? this.__findMultiEntry.apply(this, e) : this.__findBasic.apply(this, e)
    }, n.prototype.__findBasic = function(n, r, o, i, a) {
        a = a || 1;
        var s = this,
            c = e.util.quote(s.__keyColumnName),
            u = ["SELECT * FROM", e.util.quote(s.__store.name)],
            l = [];
        u.push("WHERE", c, "NOT NULL"), !s.__range || s.__range.lower === t && s.__range.upper === t || (u.push("AND"), s.__range.lower !== t && (u.push(c, s.__range.lowerOpen ? ">" : ">=", "?"), l.push(s.__range.__lower)), s.__range.lower !== t && s.__range.upper !== t && u.push("AND"), s.__range.upper !== t && (u.push(c, s.__range.upperOpen ? "<" : "<=", "?"), l.push(s.__range.__upper))), "undefined" != typeof n && (s.__lastKeyContinued = n, s.__offset = 0), s.__lastKeyContinued !== t && (u.push("AND", c, ">= ?"), e.Key.validate(s.__lastKeyContinued), l.push(e.Key.encode(s.__lastKeyContinued)));
        var d = "prev" === s.direction || "prevunique" === s.direction ? "DESC" : "ASC";
        s.__count || (u.push("ORDER BY", c, d), u.push("LIMIT", a, "OFFSET", s.__offset)), u = u.join(" "), e.DEBUG && console.log(u, l), s.__prefetchedData = null, s.__prefetchedIndex = 0, r.executeSql(u, l, function(n, r) {
            s.__count ? o(t, r.rows.length, t) : r.rows.length > 1 ? (s.__prefetchedData = r.rows, s.__prefetchedIndex = 0, e.DEBUG && console.log("Preloaded " + s.__prefetchedData.length + " records for cursor"), s.__decode(r.rows.item(0), o)) : 1 === r.rows.length ? s.__decode(r.rows.item(0), o) : (e.DEBUG && console.log("Reached end of cursors"), o(t, t, t))
        }, function(t, n) {
            e.DEBUG && console.log("Could not execute Cursor.continue", u, l), i(n)
        })
    }, n.prototype.__findMultiEntry = function(n, r, o, i) {
        var a = this;
        if (a.__prefetchedData && a.__prefetchedData.length === a.__prefetchedIndex) return e.DEBUG && console.log("Reached end of multiEntry cursor"), void o(t, t, t);
        var s = e.util.quote(a.__keyColumnName),
            c = ["SELECT * FROM", e.util.quote(a.__store.name)],
            u = [];
        c.push("WHERE", s, "NOT NULL"), a.__range && a.__range.lower !== t && a.__range.upper !== t && 0 === a.__range.upper.indexOf(a.__range.lower) && (c.push("AND", s, "LIKE ?"), u.push("%" + a.__range.__lower.slice(0, -1) + "%")), "undefined" != typeof n && (a.__lastKeyContinued = n, a.__offset = 0), a.__lastKeyContinued !== t && (c.push("AND", s, ">= ?"), e.Key.validate(a.__lastKeyContinued), u.push(e.Key.encode(a.__lastKeyContinued)));
        var l = "prev" === a.direction || "prevunique" === a.direction ? "DESC" : "ASC";
        a.__count || c.push("ORDER BY key", l), c = c.join(" "), e.DEBUG && console.log(c, u), a.__prefetchedData = null, a.__prefetchedIndex = 0, r.executeSql(c, u, function(n, r) {
            if (a.__multiEntryOffset = r.rows.length, r.rows.length > 0) {
                for (var i = [], s = 0; s < r.rows.length; s++)
                    for (var c = r.rows.item(s), u = e.Key.decode(c[a.__keyColumnName], !0), l = e.Key.findMultiEntryMatches(u, a.__range), d = 0; d < l.length; d++) {
                        var p = l[d],
                            f = {
                                matchingKey: e.Key.encode(p, !0),
                                key: c.key
                            };
                        f[a.__keyColumnName] = c[a.__keyColumnName], f[a.__valueColumnName] = c[a.__valueColumnName], i.push(f)
                    }
                var h = 0 === a.direction.indexOf("prev");
                i.sort(function(e, t) {
                    return e.matchingKey.replace("[", "z") < t.matchingKey.replace("[", "z") ? h ? 1 : -1 : e.matchingKey.replace("[", "z") > t.matchingKey.replace("[", "z") ? h ? -1 : 1 : e.key < t.key ? "prev" === a.direction ? 1 : -1 : e.key > t.key ? "prev" === a.direction ? -1 : 1 : 0
                }), a.__prefetchedData = {
                    data: i,
                    length: i.length,
                    item: function(e) {
                        return this.data[e]
                    }
                }, a.__prefetchedIndex = 0, a.__count ? o(t, i.length, t) : i.length > 1 ? (e.DEBUG && console.log("Preloaded " + a.__prefetchedData.length + " records for multiEntry cursor"), a.__decode(i[0], o)) : 1 === i.length ? (e.DEBUG && console.log("Reached end of multiEntry cursor"), a.__decode(i[0], o)) : (e.DEBUG && console.log("Reached end of multiEntry cursor"), o(t, t, t))
            } else e.DEBUG && console.log("Reached end of multiEntry cursor"), o(t, t, t)
        }, function(t, n) {
            e.DEBUG && console.log("Could not execute Cursor.continue", c, u), i(n)
        })
    }, n.prototype.__onsuccess = function(e) {
        var n = this;
        return function(r, o, i) {
            if (n.__count) e(o, n.__req);
            else {
                n.key = r === t ? null : r, n.value = o === t ? null : o, n.primaryKey = i === t ? null : i;
                var a = r === t ? null : n;
                e(a, n.__req)
            }
        }
    }, n.prototype.__decode = function(n, r) {
        if (this.__multiEntryIndex && this.__unique) {
            if (this.__matchedKeys || (this.__matchedKeys = {}), this.__matchedKeys[n.matchingKey]) return void r(t, t, t);
            this.__matchedKeys[n.matchingKey] = !0
        }
        var o = e.Key.decode(this.__multiEntryIndex ? n.matchingKey : n[this.__keyColumnName], this.__multiEntryIndex),
            i = this.__valueDecoder.decode(n[this.__valueColumnName]),
            a = e.Key.decode(n.key);
        r(o, i, a)
    }, n.prototype["continue"] = function(t) {
        var n = e.cursorPreloadPackSize || 100,
            r = this;
        this.__store.transaction.__pushToQueue(r.__req, function(e, o, i, a) {
            return r.__offset++, r.__prefetchedData && (r.__prefetchedIndex++, r.__prefetchedIndex < r.__prefetchedData.length) ? void r.__decode(r.__prefetchedData.item(r.__prefetchedIndex), r.__onsuccess(i)) : void r.__find(t, e, r.__onsuccess(i), a, n)
        })
    }, n.prototype.advance = function(n) {
        if (n <= 0) throw e.util.createDOMException("Type Error", "Count is invalid - 0 or negative", n);
        var r = this;
        this.__store.transaction.__pushToQueue(r.__req, function(e, o, i, a) {
            r.__offset += n, r.__find(t, e, r.__onsuccess(i), a)
        })
    }, n.prototype.update = function(n) {
        var r = this;
        return r.__store.transaction.__assertWritable(), r.__store.transaction.__addToTransactionQueue(function(o, i, a, s) {
            e.Sca.encode(n, function(i) {
                r.__find(t, o, function(t, c, u) {
                    var l = r.__store,
                        d = [i],
                        p = ["UPDATE", e.util.quote(l.name), "SET value = ?"];
                    e.Key.validate(u);
                    for (var f = 0; f < l.indexNames.length; f++) {
                        var h = l.__indexes[l.indexNames[f]],
                            _ = e.Key.getValue(n, h.keyPath);
                        p.push(",", e.util.quote(h.name), "= ?"), d.push(e.Key.encode(_, h.multiEntry))
                    }
                    p.push("WHERE key = ?"), d.push(e.Key.encode(u)), e.DEBUG && console.log(p.join(" "), i, t, u), o.executeSql(p.join(" "), d, function(e, n) {
                        r.__prefetchedData = null, r.__prefetchedIndex = 0, 1 === n.rowsAffected ? a(t) : s("No rows with key found" + t)
                    }, function(e, t) {
                        s(t)
                    })
                }, s)
            })
        })
    }, n.prototype["delete"] = function() {
        var n = this;
        return n.__store.transaction.__assertWritable(), this.__store.transaction.__addToTransactionQueue(function(r, o, i, a) {
            n.__find(t, r, function(o, s, c) {
                var u = "DELETE FROM  " + e.util.quote(n.__store.name) + " WHERE key = ?";
                e.DEBUG && console.log(u, o, c), e.Key.validate(c), r.executeSql(u, [e.Key.encode(c)], function(e, r) {
                    n.__prefetchedData = null, n.__prefetchedIndex = 0, 1 === r.rowsAffected ? (n.__offset--, i(t)) : a("No rows with key found" + o)
                }, function(e, t) {
                    a(t)
                })
            }, a)
        })
    }, e.IDBCursor = n
}(idbModules),
function(e, t) {
    "use strict";

    function n(e, t) {
        this.objectStore = e, this.name = t.columnName, this.keyPath = t.keyPath, this.multiEntry = t.optionalParams && t.optionalParams.multiEntry, this.unique = t.optionalParams && t.optionalParams.unique, this.__deleted = !!t.__deleted
    }
    n.__clone = function(e, t) {
        return new n(t, {
            columnName: e.name,
            keyPath: e.keyPath,
            optionalParams: {
                multiEntry: e.multiEntry,
                unique: e.unique
            }
        })
    }, n.__createIndex = function(t, r) {
        var o = !!t.__indexes[r.name] && t.__indexes[r.name].__deleted;
        t.__indexes[r.name] = r, t.indexNames.push(r.name);
        var i = t.transaction;
        i.__addToTransactionQueue(function(i, a, s, c) {
            function u(t, n) {
                c(e.util.createDOMException(0, 'Could not create index "' + r.name + '"', n))
            }

            function l(o) {
                n.__updateIndexList(t, o, function() {
                    o.executeSql("SELECT * FROM " + e.util.quote(t.name), [], function(n, o) {
                        function i(a) {
                            if (a < o.rows.length) try {
                                var c = e.Sca.decode(o.rows.item(a).value),
                                    l = e.Key.getValue(c, r.keyPath);
                                l = e.Key.encode(l, r.multiEntry), n.executeSql("UPDATE " + e.util.quote(t.name) + " set " + e.util.quote(r.name) + " = ? where key = ?", [l, o.rows.item(a).key], function(e, t) {
                                    i(a + 1)
                                }, u)
                            } catch (d) {
                                i(a + 1)
                            } else s(t)
                        }
                        e.DEBUG && console.log("Adding existing " + t.name + " records to the " + r.name + " index"), i(0)
                    }, u)
                }, u)
            }
            if (o) l(i);
            else {
                var d = ["ALTER TABLE", e.util.quote(t.name), "ADD", e.util.quote(r.name), "BLOB"].join(" ");
                e.DEBUG && console.log(d), i.executeSql(d, [], l, u)
            }
        })
    }, n.__deleteIndex = function(t, r) {
        t.__indexes[r.name].__deleted = !0, t.indexNames.splice(t.indexNames.indexOf(r.name), 1);
        var o = t.transaction;
        o.__addToTransactionQueue(function(o, i, a, s) {
            function c(t, n) {
                s(e.util.createDOMException(0, 'Could not delete index "' + r.name + '"', n))
            }
            n.__updateIndexList(t, o, a, c)
        })
    }, n.__updateIndexList = function(t, n, r, o) {
        for (var i = {}, a = 0; a < t.indexNames.length; a++) {
            var s = t.__indexes[t.indexNames[a]];
            i[s.name] = {
                columnName: s.name,
                keyPath: s.keyPath,
                optionalParams: {
                    unique: s.unique,
                    multiEntry: s.multiEntry
                },
                deleted: !!s.deleted
            }
        }
        e.DEBUG && console.log("Updating the index list for " + t.name, i), n.executeSql("UPDATE __sys__ set indexList = ? where name = ?", [JSON.stringify(i), t.name], function() {
            r(t)
        }, o)
    }, n.prototype.__fetchIndexData = function(n, r) {
        var o, i, a = this;
        return 1 === arguments.length ? (r = n, o = !1) : (e.Key.validate(n), i = e.Key.encode(n, a.multiEntry), o = !0), a.objectStore.transaction.__addToTransactionQueue(function(n, s, c, u) {
            var l = ["SELECT * FROM", e.util.quote(a.objectStore.name), "WHERE", e.util.quote(a.name), "NOT NULL"],
                d = [];
            o && (a.multiEntry ? (l.push("AND", e.util.quote(a.name), "LIKE ?"), d.push("%" + i + "%")) : (l.push("AND", e.util.quote(a.name), "= ?"), d.push(i))), e.DEBUG && console.log("Trying to fetch data for Index", l.join(" "), d), n.executeSql(l.join(" "), d, function(n, s) {
                var u = 0,
                    l = null;
                if (a.multiEntry)
                    for (var d = 0; d < s.rows.length; d++) {
                        var p = s.rows.item(d),
                            f = e.Key.decode(p[a.name]);
                        o && e.Key.isMultiEntryMatch(i, p[a.name]) ? (u++, l = l || p) : o || f === t || (u += f instanceof Array ? f.length : 1, l = l || p)
                    } else u = s.rows.length, l = u && s.rows.item(0);
                c("count" === r ? u : 0 === u ? t : "key" === r ? e.Key.decode(l.key) : e.Sca.decode(l.value))
            }, u)
        })
    }, n.prototype.openCursor = function(t, n) {
        return new e.IDBCursor(t, n, this.objectStore, this, this.name, "value").__req
    }, n.prototype.openKeyCursor = function(t, n) {
        return new e.IDBCursor(t, n, this.objectStore, this, this.name, "key").__req
    }, n.prototype.get = function(e) {
        if (0 === arguments.length) throw new TypeError("No key was specified");
        return this.__fetchIndexData(e, "value")
    }, n.prototype.getKey = function(e) {
        if (0 === arguments.length) throw new TypeError("No key was specified");
        return this.__fetchIndexData(e, "key")
    }, n.prototype.count = function(n) {
        return n === t ? this.__fetchIndexData("count") : n instanceof e.IDBKeyRange ? new e.IDBCursor(n, "next", this.objectStore, this, this.name, "value", (!0)).__req : this.__fetchIndexData(n, "count")
    }, e.IDBIndex = n
}(idbModules),
function(e) {
    "use strict";

    function t(t, n) {
        this.name = t.name, this.keyPath = JSON.parse(t.keyPath), this.transaction = n, this.autoIncrement = "string" == typeof t.autoInc ? "true" === t.autoInc : !!t.autoInc, this.__indexes = {}, this.indexNames = new e.util.StringList;
        var r = JSON.parse(t.indexList);
        for (var o in r)
            if (r.hasOwnProperty(o)) {
                var i = new e.IDBIndex(this, r[o]);
                this.__indexes[i.name] = i, i.__deleted || this.indexNames.push(i.name)
            }
    }
    t.__clone = function(e, n) {
        var r = new t({
            name: e.name,
            keyPath: JSON.stringify(e.keyPath),
            autoInc: JSON.stringify(e.autoIncrement),
            indexList: "{}"
        }, n);
        return r.__indexes = e.__indexes, r.indexNames = e.indexNames, r
    }, t.__createObjectStore = function(t, n) {
        t.__objectStores[n.name] = n, t.objectStoreNames.push(n.name);
        var r = t.__versionTransaction;
        e.IDBTransaction.__assertVersionChange(r), r.__addToTransactionQueue(function(t, r, o, i) {
            function a(t, r) {
                throw e.util.createDOMException(0, 'Could not create object store "' + n.name + '"', r)
            }
            var s = ["CREATE TABLE", e.util.quote(n.name), "(key BLOB", n.autoIncrement ? "UNIQUE, inc INTEGER PRIMARY KEY AUTOINCREMENT" : "PRIMARY KEY", ", value BLOB)"].join(" ");
            e.DEBUG && console.log(s), t.executeSql(s, [], function(e, t) {
                e.executeSql("INSERT INTO __sys__ VALUES (?,?,?,?)", [n.name, JSON.stringify(n.keyPath), n.autoIncrement, "{}"], function() {
                    o(n)
                }, a)
            }, a)
        })
    }, t.__deleteObjectStore = function(t, n) {
        t.__objectStores[n.name] = void 0, t.objectStoreNames.splice(t.objectStoreNames.indexOf(n.name), 1);
        var r = t.__versionTransaction;
        e.IDBTransaction.__assertVersionChange(r), r.__addToTransactionQueue(function(t, r, o, i) {
            function a(t, n) {
                i(e.util.createDOMException(0, "Could not delete ObjectStore", n))
            }
            t.executeSql("SELECT * FROM __sys__ where name = ?", [n.name], function(t, r) {
                r.rows.length > 0 && t.executeSql("DROP TABLE " + e.util.quote(n.name), [], function() {
                    t.executeSql("DELETE FROM __sys__ WHERE name = ?", [n.name], function() {
                        o()
                    }, a)
                }, a)
            })
        })
    }, t.prototype.__validateKey = function(t, n) {
        if (this.keyPath) {
            if ("undefined" != typeof n) throw e.util.createDOMException("DataError", "The object store uses in-line keys and the key parameter was provided", this);
            if (!t || "object" != typeof t) throw e.util.createDOMException("DataError", "KeyPath was specified, but value was not an object");
            if (n = e.Key.getValue(t, this.keyPath), void 0 === n) {
                if (this.autoIncrement) return;
                throw e.util.createDOMException("DataError", "Could not eval key from keyPath")
            }
        } else if ("undefined" == typeof n) {
            if (this.autoIncrement) return;
            throw e.util.createDOMException("DataError", "The object store uses out-of-line keys and has no key generator and the key parameter was not provided. ", this)
        }
        e.Key.validate(n)
    }, t.prototype.__deriveKey = function(t, n, r, o, i) {
        function a(n) {
            t.executeSql("SELECT * FROM sqlite_sequence where name like ?", [s.name], function(e, t) {
                n(1 !== t.rows.length ? 1 : t.rows.item(0).seq + 1)
            }, function(t, n) {
                i(e.util.createDOMException("DataError", "Could not get the auto increment value for key", n))
            })
        }
        var s = this;
        if (s.keyPath) {
            var c = e.Key.getValue(n, s.keyPath);
            void 0 === c && s.autoIncrement ? a(function(t) {
                try {
                    e.Key.setValue(n, s.keyPath, t), o(t)
                } catch (r) {
                    i(e.util.createDOMException("DataError", "Could not assign a generated value to the keyPath", r))
                }
            }) : o(c)
        } else "undefined" == typeof r && s.autoIncrement ? a(o) : o(r)
    }, t.prototype.__insertData = function(t, n, r, o, i, a) {
        try {
            var s = {};
            "undefined" != typeof o && (e.Key.validate(o), s.key = e.Key.encode(o));
            for (var c = 0; c < this.indexNames.length; c++) {
                var u = this.__indexes[this.indexNames[c]];
                s[u.name] = e.Key.encode(e.Key.getValue(r, u.keyPath), u.multiEntry)
            }
            var l = ["INSERT INTO ", e.util.quote(this.name), "("],
                d = [" VALUES ("],
                p = [];
            for (var f in s) l.push(e.util.quote(f) + ","), d.push("?,"), p.push(s[f]);
            l.push("value )"), d.push("?)"), p.push(n);
            var h = l.join(" ") + d.join(" ");
            e.DEBUG && console.log("SQL for adding", h, p), t.executeSql(h, p, function(t, n) {
                e.Sca.encode(o, function(t) {
                    t = e.Sca.decode(t), i(t)
                })
            }, function(t, n) {
                a(e.util.createDOMError("ConstraintError", n.message, n))
            })
        } catch (_) {
            a(_)
        }
    }, t.prototype.add = function(t, n) {
        var r = this;
        if (0 === arguments.length) throw new TypeError("No value was specified");
        this.__validateKey(t, n), r.transaction.__assertWritable();
        var o = r.transaction.__createRequest();
        return r.transaction.__pushToQueue(o, function(o, i, a, s) {
            r.__deriveKey(o, t, n, function(n) {
                e.Sca.encode(t, function(e) {
                    r.__insertData(o, e, t, n, a, s)
                })
            }, s)
        }), o
    }, t.prototype.put = function(t, n) {
        var r = this;
        if (0 === arguments.length) throw new TypeError("No value was specified");
        this.__validateKey(t, n), r.transaction.__assertWritable();
        var o = r.transaction.__createRequest();
        return r.transaction.__pushToQueue(o, function(o, i, a, s) {
            r.__deriveKey(o, t, n, function(n) {
                e.Sca.encode(t, function(i) {
                    e.Key.validate(n);
                    var c = "DELETE FROM " + e.util.quote(r.name) + " where key = ?";
                    o.executeSql(c, [e.Key.encode(n)], function(o, c) {
                        e.DEBUG && console.log("Did the row with the", n, "exist? ", c.rowsAffected), r.__insertData(o, i, t, n, a, s)
                    }, function(e, t) {
                        s(t)
                    })
                })
            }, s)
        }), o
    }, t.prototype.get = function(t) {
        var n = this;
        if (0 === arguments.length) throw new TypeError("No key was specified");
        e.Key.validate(t);
        var r = e.Key.encode(t);
        return n.transaction.__addToTransactionQueue(function(t, o, i, a) {
            e.DEBUG && console.log("Fetching", n.name, r), t.executeSql("SELECT * FROM " + e.util.quote(n.name) + " where key = ?", [r], function(t, n) {
                e.DEBUG && console.log("Fetched data", n);
                var r;
                try {
                    if (0 === n.rows.length) return i();
                    r = e.Sca.decode(n.rows.item(0).value)
                } catch (o) {
                    e.DEBUG && console.log(o)
                }
                i(r)
            }, function(e, t) {
                a(t)
            })
        })
    }, t.prototype["delete"] = function(t) {
        var n = this;
        if (0 === arguments.length) throw new TypeError("No key was specified");
        n.transaction.__assertWritable(), e.Key.validate(t);
        var r = e.Key.encode(t);
        return n.transaction.__addToTransactionQueue(function(t, o, i, a) {
            e.DEBUG && console.log("Fetching", n.name, r), t.executeSql("DELETE FROM " + e.util.quote(n.name) + " where key = ?", [r], function(t, n) {
                e.DEBUG && console.log("Deleted from database", n.rowsAffected), i()
            }, function(e, t) {
                a(t)
            })
        })
    }, t.prototype.clear = function() {
        var t = this;
        return t.transaction.__assertWritable(), t.transaction.__addToTransactionQueue(function(n, r, o, i) {
            n.executeSql("DELETE FROM " + e.util.quote(t.name), [], function(t, n) {
                e.DEBUG && console.log("Cleared all records from database", n.rowsAffected), o()
            }, function(e, t) {
                i(t)
            })
        })
    }, t.prototype.count = function(t) {
        if (t instanceof e.IDBKeyRange) return new e.IDBCursor(t, "next", this, this, "key", "value", (!0)).__req;
        var n = this,
            r = !1;
        return void 0 !== t && (r = !0, e.Key.validate(t)), n.transaction.__addToTransactionQueue(function(o, i, a, s) {
            var c = "SELECT * FROM " + e.util.quote(n.name) + (r ? " WHERE key = ?" : ""),
                u = [];
            r && u.push(e.Key.encode(t)), o.executeSql(c, u, function(e, t) {
                a(t.rows.length)
            }, function(e, t) {
                s(t)
            })
        })
    }, t.prototype.openCursor = function(t, n) {
        return new e.IDBCursor(t, n, this, this, "key", "value").__req
    }, t.prototype.index = function(t) {
        if (0 === arguments.length) throw new TypeError("No index name was specified");
        var n = this.__indexes[t];
        if (!n) throw e.util.createDOMException("NotFoundError", 'Index "' + t + '" does not exist on ' + this.name);
        return e.IDBIndex.__clone(n, this)
    }, t.prototype.createIndex = function(t, n, r) {
        if (0 === arguments.length) throw new TypeError("No index name was specified");
        if (1 === arguments.length) throw new TypeError("No key path was specified");
        if (n instanceof Array && r && r.multiEntry) throw e.util.createDOMException("InvalidAccessError", "The keyPath argument was an array and the multiEntry option is true.");
        if (this.__indexes[t] && !this.__indexes[t].__deleted) throw e.util.createDOMException("ConstraintError", 'Index "' + t + '" already exists on ' + this.name);
        this.transaction.__assertVersionChange(), r = r || {};
        var o = {
                columnName: t,
                keyPath: n,
                optionalParams: {
                    unique: !!r.unique,
                    multiEntry: !!r.multiEntry
                }
            },
            i = new e.IDBIndex(this, o);
        return e.IDBIndex.__createIndex(this, i), i
    }, t.prototype.deleteIndex = function(t) {
        if (0 === arguments.length) throw new TypeError("No index name was specified");
        var n = this.__indexes[t];
        if (!n) throw e.util.createDOMException("NotFoundError", 'Index "' + t + '" does not exist on ' + this.name);
        this.transaction.__assertVersionChange(), e.IDBIndex.__deleteIndex(this, n)
    }, e.IDBObjectStore = t
}(idbModules),
function(e) {
    "use strict";

    function t(e, t, r) {
        this.__id = ++n, this.__active = !0, this.__running = !1, this.__errored = !1, this.__requests = [], this.__storeNames = t, this.mode = r, this.db = e, this.error = null, this.onabort = this.onerror = this.oncomplete = null;
        var o = this;
        setTimeout(function() {
            o.__executeRequests()
        }, 0)
    }
    var n = 0;
    t.prototype.__executeRequests = function() {
        function t(t) {
            if (e.util.logError("Error", "An error occurred in a transaction", t), !r.__errored) {
                if (r.__errored = !0, !r.__active) throw t;
                try {
                    r.error = t;
                    var n = e.util.createEvent("error");
                    e.util.callback("onerror", r, n), e.util.callback("onerror", r.db, n)
                } finally {
                    r.abort()
                }
            }
        }

        function n() {
            e.DEBUG && console.log("Transaction completed");
            var t = e.util.createEvent("complete");
            try {
                e.util.callback("oncomplete", r, t), e.util.callback("__oncomplete", r, t)
            } catch (n) {
                throw r.__errored = !0, n
            }
        }
        if (this.__running) return void(e.DEBUG && console.log("Looks like the request set is already running", this.mode));
        this.__running = !0;
        var r = this;
        r.db.__db.transaction(function(o) {
            function i(t, n) {
                n && (c.req = n), c.req.readyState = "done", c.req.result = t, delete c.req.error;
                var r = e.util.createEvent("success");
                e.util.callback("onsuccess", c.req, r), u++, s()
            }

            function a(n, r) {
                r = e.util.findError(arguments);
                try {
                    c.req.readyState = "done", c.req.error = r || "DOMError", c.req.result = void 0;
                    var o = e.util.createEvent("error", r);
                    e.util.callback("onerror", c.req, o)
                } finally {
                    t(r)
                }
            }

            function s() {
                if (u >= r.__requests.length) r.__requests = [], r.__active && (r.__active = !1, n());
                else try {
                    c = r.__requests[u], c.op(o, c.args, i, a)
                } catch (e) {
                    a(e)
                }
            }
            r.__tx = o;
            var c = null,
                u = 0;
            s()
        }, function(e) {
            t(e)
        })
    }, t.prototype.__createRequest = function() {
        var t = new e.IDBRequest;
        return t.source = this.db, t.transaction = this, t
    }, t.prototype.__addToTransactionQueue = function(e, t) {
        var n = this.__createRequest();
        return this.__pushToQueue(n, e, t), n
    }, t.prototype.__pushToQueue = function(e, t, n) {
        this.__assertActive(), this.__requests.push({
            op: t,
            args: n,
            req: e
        })
    }, t.prototype.__assertActive = function() {
        if (!this.__active) throw e.util.createDOMException("TransactionInactiveError", "A request was placed against a transaction which is currently not active, or which is finished")
    }, t.prototype.__assertWritable = function() {
        if (this.mode === t.READ_ONLY) throw e.util.createDOMException("ReadOnlyError", "The transaction is read only")
    }, t.prototype.__assertVersionChange = function() {
        t.__assertVersionChange(this)
    }, t.__assertVersionChange = function(n) {
        if (!n || n.mode !== t.VERSION_CHANGE) throw e.util.createDOMException("InvalidStateError", "Not a version transaction")
    }, t.prototype.objectStore = function(n) {
        if (0 === arguments.length) throw new TypeError("No object store name was specified");
        if (!this.__active) throw e.util.createDOMException("InvalidStateError", "A request was placed against a transaction which is currently not active, or which is finished");
        if (this.__storeNames.indexOf(n) === -1 && this.mode !== t.VERSION_CHANGE) throw e.util.createDOMException("NotFoundError", n + " is not participating in this transaction");
        var r = this.db.__objectStores[n];
        if (!r) throw e.util.createDOMException("NotFoundError", n + " does not exist in " + this.db.name);
        return e.IDBObjectStore.__clone(r, this)
    }, t.prototype.abort = function() {
        var t = this;
        e.DEBUG && console.log("The transaction was aborted", t), t.__active = !1;
        var n = e.util.createEvent("abort");
        setTimeout(function() {
            e.util.callback("onabort", t, n)
        }, 0)
    }, t.READ_ONLY = "readonly", t.READ_WRITE = "readwrite", t.VERSION_CHANGE = "versionchange", e.IDBTransaction = t
}(idbModules),
function(e) {
    "use strict";

    function t(t, n, r, o) {
        this.__db = t, this.__closed = !1, this.version = r, this.name = n, this.onabort = this.onerror = this.onversionchange = null, this.__objectStores = {}, this.objectStoreNames = new e.util.StringList;
        for (var i = 0; i < o.rows.length; i++) {
            var a = new e.IDBObjectStore(o.rows.item(i));
            this.__objectStores[a.name] = a, this.objectStoreNames.push(a.name)
        }
    }
    t.prototype.createObjectStore = function(t, n) {
        if (0 === arguments.length) throw new TypeError("No object store name was specified");
        if (this.__objectStores[t]) throw e.util.createDOMException("ConstraintError", 'Object store "' + t + '" already exists in ' + this.name);
        this.__versionTransaction.__assertVersionChange(), n = n || {};
        var r = {
                name: t,
                keyPath: JSON.stringify(n.keyPath || null),
                autoInc: JSON.stringify(n.autoIncrement),
                indexList: "{}"
            },
            o = new e.IDBObjectStore(r, this.__versionTransaction);
        return e.IDBObjectStore.__createObjectStore(this, o), o
    }, t.prototype.deleteObjectStore = function(t) {
        if (0 === arguments.length) throw new TypeError("No object store name was specified");
        var n = this.__objectStores[t];
        if (!n) throw e.util.createDOMException("NotFoundError", 'Object store "' + t + '" does not exist in ' + this.name);
        this.__versionTransaction.__assertVersionChange(), e.IDBObjectStore.__deleteObjectStore(this, n)
    }, t.prototype.close = function() {
        this.__closed = !0
    }, t.prototype.transaction = function(t, n) {
        if (this.__closed) throw e.util.createDOMException("InvalidStateError", "An attempt was made to start a new transaction on a database connection that is not open");
        if ("number" == typeof n ? (n = 1 === n ? IDBTransaction.READ_WRITE : IDBTransaction.READ_ONLY, e.DEBUG && console.log("Mode should be a string, but was specified as ", n)) : n = n || IDBTransaction.READ_ONLY, n !== IDBTransaction.READ_ONLY && n !== IDBTransaction.READ_WRITE) throw new TypeError("Invalid transaction mode: " + n);
        if (t = "string" == typeof t ? [t] : t, 0 === t.length) throw e.util.createDOMException("InvalidAccessError", "No object store names were specified");
        for (var r = 0; r < t.length; r++)
            if (!this.objectStoreNames.contains(t[r])) throw e.util.createDOMException("NotFoundError", 'The "' + t[r] + '" object store does not exist');
        var o = new e.IDBTransaction(this, t, n);
        return o
    }, e.IDBDatabase = t
}(idbModules),
function(e) {
    "use strict";

    function t(t, n) {
        function i(t, r) {
            r = e.util.findError(arguments), e.DEBUG && console.log("Error in sysdb transaction - when creating dbVersions", r), n(r)
        }
        r ? t() : (r = window.openDatabase("__sysdb__", 1, "System Database", o), r.transaction(function(e) {
            e.executeSql("CREATE TABLE IF NOT EXISTS dbVersions (name VARCHAR(255), version INT);", [], t, i)
        }, i))
    }

    function n() {
        this.modules = e
    }
    var r, o = 4194304;
    n.prototype.open = function(n, i) {
        function a(t, n) {
            if (!u) {
                n = e.util.findError(arguments), u = !0;
                var r = e.util.createEvent("error", arguments);
                c.readyState = "done", c.error = n || "DOMError", e.util.callback("onerror", c, r)
            }
        }

        function s(t) {
            var s = window.openDatabase(n, 1, n, o);
            if (c.readyState = "done", "undefined" == typeof i && (i = t || 1), i <= 0 || t > i) {
                var u = e.util.createDOMError("VersionError", "An attempt was made to open a database using a lower version than the existing version.", i);
                return void a(u)
            }
            s.transaction(function(o) {
                o.executeSql("CREATE TABLE IF NOT EXISTS __sys__ (name VARCHAR(255), keyPath VARCHAR(255), autoInc BOOLEAN, indexList BLOB)", [], function() {
                    o.executeSql("SELECT * FROM __sys__", [], function(o, u) {
                        var l = e.util.createEvent("success");
                        c.source = c.result = new e.IDBDatabase(s, n, i, u), t < i ? r.transaction(function(r) {
                            r.executeSql("UPDATE dbVersions set version = ? where name = ?", [i, n], function() {
                                var n = e.util.createEvent("upgradeneeded");
                                n.oldVersion = t, n.newVersion = i, c.transaction = c.result.__versionTransaction = new e.IDBTransaction(c.source, [], e.IDBTransaction.VERSION_CHANGE), c.transaction.__addToTransactionQueue(function(t, r, o) {
                                    e.util.callback("onupgradeneeded", c, n), o()
                                }), c.transaction.__oncomplete = function() {
                                    c.transaction = null;
                                    var t = e.util.createEvent("success");
                                    e.util.callback("onsuccess", c, t)
                                }
                            }, a)
                        }, a) : e.util.callback("onsuccess", c, l)
                    }, a)
                }, a)
            }, a)
        }
        var c = new e.IDBOpenDBRequest,
            u = !1;
        if (0 === arguments.length) throw new TypeError("Database name is required");
        if (2 === arguments.length && (i = parseFloat(i), isNaN(i) || !isFinite(i) || i <= 0)) throw new TypeError("Invalid database version: " + i);
        return n += "", t(function() {
            r.transaction(function(e) {
                e.executeSql("SELECT * FROM dbVersions where name = ?", [n], function(e, t) {
                    0 === t.rows.length ? e.executeSql("INSERT INTO dbVersions VALUES (?,?)", [n, i || 1], function() {
                        s(0)
                    }, a) : s(t.rows.item(0).version)
                }, a)
            }, a)
        }, a), c
    }, n.prototype.deleteDatabase = function(n) {
        function i(t, n) {
            if (!c) {
                n = e.util.findError(arguments), s.readyState = "done", s.error = n || "DOMError";
                var r = e.util.createEvent("error");
                r.debug = arguments, e.util.callback("onerror", s, r), c = !0
            }
        }

        function a() {
            r.transaction(function(t) {
                t.executeSql("DELETE FROM dbVersions where name = ? ", [n], function() {
                    s.result = void 0;
                    var t = e.util.createEvent("success");
                    t.newVersion = null, t.oldVersion = u, e.util.callback("onsuccess", s, t)
                }, i)
            }, i)
        }
        var s = new e.IDBOpenDBRequest,
            c = !1,
            u = null;
        if (0 === arguments.length) throw new TypeError("Database name is required");
        return n += "", t(function() {
            r.transaction(function(t) {
                t.executeSql("SELECT * FROM dbVersions where name = ?", [n], function(t, r) {
                    if (0 === r.rows.length) {
                        s.result = void 0;
                        var c = e.util.createEvent("success");
                        return c.newVersion = null, c.oldVersion = u, void e.util.callback("onsuccess", s, c)
                    }
                    u = r.rows.item(0).version;
                    var l = window.openDatabase(n, 1, n, o);
                    l.transaction(function(t) {
                        t.executeSql("SELECT * FROM __sys__", [], function(t, n) {
                            var r = n.rows;
                            ! function o(n) {
                                n >= r.length ? t.executeSql("DROP TABLE IF EXISTS __sys__", [], function() {
                                    a()
                                }, i) : t.executeSql("DROP TABLE " + e.util.quote(r.item(n).name), [], function() {
                                    o(n + 1)
                                }, function() {
                                    o(n + 1)
                                })
                            }(0)
                        }, function(e) {
                            a()
                        })
                    })
                }, i)
            }, i)
        }, i), s
    }, n.prototype.cmp = function(t, n) {
        if (arguments.length < 2) throw new TypeError("You must provide two keys to be compared");
        e.Key.validate(t), e.Key.validate(n);
        var r = e.Key.encode(t),
            o = e.Key.encode(n),
            i = r > o ? 1 : r === o ? 0 : -1;
        if (e.DEBUG) {
            var a = e.Key.decode(r),
                s = e.Key.decode(o);
            "object" == typeof t && (t = JSON.stringify(t), a = JSON.stringify(a)), "object" == typeof n && (n = JSON.stringify(n), s = JSON.stringify(s)), a !== t && console.warn(t + " was incorrectly encoded as " + a), s !== n && console.warn(n + " was incorrectly encoded as " + s)
        }
        return i
    }, e.shimIndexedDB = new n, e.IDBFactory = n
}(idbModules),
function(e, t) {
    "use strict";

    function n(t, n) {
        try {
            e[t] = n
        } catch (r) {}
        if (e[t] !== n && Object.defineProperty) {
            try {
                Object.defineProperty(e, t, {
                    value: n
                })
            } catch (r) {}
            e[t] !== n && e.console && console.warn && console.warn("Unable to shim " + t)
        }
    }
    n("shimIndexedDB", t.shimIndexedDB), e.shimIndexedDB && (e.shimIndexedDB.__useShim = function() {
        "undefined" != typeof e.openDatabase ? (n("indexedDB", t.shimIndexedDB), n("IDBFactory", t.IDBFactory), n("IDBDatabase", t.IDBDatabase), n("IDBObjectStore", t.IDBObjectStore), n("IDBIndex", t.IDBIndex), n("IDBTransaction", t.IDBTransaction), n("IDBCursor", t.IDBCursor), n("IDBKeyRange", t.IDBKeyRange), n("IDBRequest", t.IDBRequest), n("IDBOpenDBRequest", t.IDBOpenDBRequest), n("IDBVersionChangeEvent", t.IDBVersionChangeEvent)) : "object" == typeof e.indexedDB && t.polyfill()
    }, e.shimIndexedDB.__debug = function(e) {
        t.DEBUG = e
    }), "indexedDB" in e || (e.indexedDB = e.indexedDB || e.webkitIndexedDB || e.mozIndexedDB || e.oIndexedDB || e.msIndexedDB);
    var r = !1;
    if ((navigator.userAgent.match(/Android 2/) || navigator.userAgent.match(/Android 3/) || navigator.userAgent.match(/Android 4\.[0-3]/)) && (navigator.userAgent.match(/Chrome/) || (r = !0)), "undefined" != typeof e.indexedDB && e.indexedDB && !r || "undefined" == typeof e.openDatabase) {
        e.IDBDatabase = e.IDBDatabase || e.webkitIDBDatabase, e.IDBTransaction = e.IDBTransaction || e.webkitIDBTransaction, e.IDBCursor = e.IDBCursor || e.webkitIDBCursor, e.IDBKeyRange = e.IDBKeyRange || e.webkitIDBKeyRange, e.IDBTransaction || (e.IDBTransaction = {});
        try {
            e.IDBTransaction.READ_ONLY = e.IDBTransaction.READ_ONLY || "readonly", e.IDBTransaction.READ_WRITE = e.IDBTransaction.READ_WRITE || "readwrite"
        } catch (o) {}
    } else e.shimIndexedDB.__useShim()
}(window, idbModules);

function RGBColor(e) {
    this.ok = !1, this.alpha = 1, "#" == e.charAt(0) && (e = e.substr(1, 6)), e = e.replace(/ /g, ""), e = e.toLowerCase();
    var f = {
        aliceblue: "f0f8ff",
        antiquewhite: "faebd7",
        aqua: "00ffff",
        aquamarine: "7fffd4",
        azure: "f0ffff",
        beige: "f5f5dc",
        bisque: "ffe4c4",
        black: "000000",
        blanchedalmond: "ffebcd",
        blue: "0000ff",
        blueviolet: "8a2be2",
        brown: "a52a2a",
        burlywood: "deb887",
        cadetblue: "5f9ea0",
        chartreuse: "7fff00",
        chocolate: "d2691e",
        coral: "ff7f50",
        cornflowerblue: "6495ed",
        cornsilk: "fff8dc",
        crimson: "dc143c",
        cyan: "00ffff",
        darkblue: "00008b",
        darkcyan: "008b8b",
        darkgoldenrod: "b8860b",
        darkgray: "a9a9a9",
        darkgreen: "006400",
        darkkhaki: "bdb76b",
        darkmagenta: "8b008b",
        darkolivegreen: "556b2f",
        darkorange: "ff8c00",
        darkorchid: "9932cc",
        darkred: "8b0000",
        darksalmon: "e9967a",
        darkseagreen: "8fbc8f",
        darkslateblue: "483d8b",
        darkslategray: "2f4f4f",
        darkturquoise: "00ced1",
        darkviolet: "9400d3",
        deeppink: "ff1493",
        deepskyblue: "00bfff",
        dimgray: "696969",
        dodgerblue: "1e90ff",
        feldspar: "d19275",
        firebrick: "b22222",
        floralwhite: "fffaf0",
        forestgreen: "228b22",
        fuchsia: "ff00ff",
        gainsboro: "dcdcdc",
        ghostwhite: "f8f8ff",
        gold: "ffd700",
        goldenrod: "daa520",
        gray: "808080",
        green: "008000",
        greenyellow: "adff2f",
        honeydew: "f0fff0",
        hotpink: "ff69b4",
        indianred: "cd5c5c",
        indigo: "4b0082",
        ivory: "fffff0",
        khaki: "f0e68c",
        lavender: "e6e6fa",
        lavenderblush: "fff0f5",
        lawngreen: "7cfc00",
        lemonchiffon: "fffacd",
        lightblue: "add8e6",
        lightcoral: "f08080",
        lightcyan: "e0ffff",
        lightgoldenrodyellow: "fafad2",
        lightgrey: "d3d3d3",
        lightgreen: "90ee90",
        lightpink: "ffb6c1",
        lightsalmon: "ffa07a",
        lightseagreen: "20b2aa",
        lightskyblue: "87cefa",
        lightslateblue: "8470ff",
        lightslategray: "778899",
        lightsteelblue: "b0c4de",
        lightyellow: "ffffe0",
        lime: "00ff00",
        limegreen: "32cd32",
        linen: "faf0e6",
        magenta: "ff00ff",
        maroon: "800000",
        mediumaquamarine: "66cdaa",
        mediumblue: "0000cd",
        mediumorchid: "ba55d3",
        mediumpurple: "9370d8",
        mediumseagreen: "3cb371",
        mediumslateblue: "7b68ee",
        mediumspringgreen: "00fa9a",
        mediumturquoise: "48d1cc",
        mediumvioletred: "c71585",
        midnightblue: "191970",
        mintcream: "f5fffa",
        mistyrose: "ffe4e1",
        moccasin: "ffe4b5",
        navajowhite: "ffdead",
        navy: "000080",
        oldlace: "fdf5e6",
        olive: "808000",
        olivedrab: "6b8e23",
        orange: "ffa500",
        orangered: "ff4500",
        orchid: "da70d6",
        palegoldenrod: "eee8aa",
        palegreen: "98fb98",
        paleturquoise: "afeeee",
        palevioletred: "d87093",
        papayawhip: "ffefd5",
        peachpuff: "ffdab9",
        peru: "cd853f",
        pink: "ffc0cb",
        plum: "dda0dd",
        powderblue: "b0e0e6",
        purple: "800080",
        red: "ff0000",
        rosybrown: "bc8f8f",
        royalblue: "4169e1",
        saddlebrown: "8b4513",
        salmon: "fa8072",
        sandybrown: "f4a460",
        seagreen: "2e8b57",
        seashell: "fff5ee",
        sienna: "a0522d",
        silver: "c0c0c0",
        skyblue: "87ceeb",
        slateblue: "6a5acd",
        slategray: "708090",
        snow: "fffafa",
        springgreen: "00ff7f",
        steelblue: "4682b4",
        tan: "d2b48c",
        teal: "008080",
        thistle: "d8bfd8",
        tomato: "ff6347",
        turquoise: "40e0d0",
        violet: "ee82ee",
        violetred: "d02090",
        wheat: "f5deb3",
        white: "ffffff",
        whitesmoke: "f5f5f5",
        yellow: "ffff00",
        yellowgreen: "9acd32"
    };
    e = f[e] || e;
    for (var a = [{
            re: /^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,
            example: ["rgba(123, 234, 45, 0.8)", "rgba(255,234,245,1.0)"],
            process: function(e) {
                return [parseInt(e[1]), parseInt(e[2]), parseInt(e[3]), parseFloat(e[4])]
            }
        }, {
            re: /^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,
            process: function(e) {
                return [parseInt(e[1]), parseInt(e[2]), parseInt(e[3])]
            }
        }, {
            re: /^(\w{2})(\w{2})(\w{2})$/,
            process: function(e) {
                return [parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16)]
            }
        }, {
            re: /^(\w{1})(\w{1})(\w{1})$/,
            process: function(e) {
                return [parseInt(e[1] + e[1], 16), parseInt(e[2] + e[2], 16), parseInt(e[3] + e[3], 16)]
            }
        }], r = 0; r < a.length; r++) {
        var t = a[r].re,
            i = a[r].process,
            d = t.exec(e);
        if (d) {
            var l = i(d);
            this.r = l[0], this.g = l[1], this.b = l[2], l.length > 3 && (this.alpha = l[3]), this.ok = !0
        }
    }
    this.r = this.r < 0 || isNaN(this.r) ? 0 : this.r > 255 ? 255 : this.r, this.g = this.g < 0 || isNaN(this.g) ? 0 : this.g > 255 ? 255 : this.g, this.b = this.b < 0 || isNaN(this.b) ? 0 : this.b > 255 ? 255 : this.b, this.alpha = this.alpha < 0 ? 0 : this.alpha > 1 || isNaN(this.alpha) ? 1 : this.alpha, this.toRGB = function() {
        return "rgb(" + this.r + ", " + this.g + ", " + this.b + ")"
    }, this.toRGBA = function() {
        return "rgba(" + this.r + ", " + this.g + ", " + this.b + ", " + this.alpha + ")"
    }, this.toHex = function() {
        var e = this.r.toString(16),
            f = this.g.toString(16),
            a = this.b.toString(16);
        return 1 == e.length && (e = "0" + e), 1 == f.length && (f = "0" + f), 1 == a.length && (a = "0" + a), "#" + e + f + a
    }
}
"undefined" != typeof module && (module.exports = RGBColor);
! function(t, e) {
    "use strict";
    "undefined" != typeof define && define.amd ? define("canvgModule", ["rgbcolor", "stackblur"], e) : "undefined" != typeof module && module.exports ? module.exports = e(require("rgbcolor"), require("stackblur")) : t.canvg = e(t.RGBColor, t.stackBlur)
}("undefined" != typeof window ? window : this, function(t, e) {
    function i() {
        var t;
        return t = l ? new o : document.createElement("canvas")
    }

    function n(t) {
        var e = [0, 0, 0],
            i = function(i, n) {
                var s = t.match(i);
                null != s && (e[n] += s.length, t = t.replace(i, " "))
            };
        return t = t.replace(/:not\(([^\)]*)\)/g, "     $1 "), t = t.replace(/{[\s\S]*/gm, " "), i(d, 1), i(m, 0), i(y, 1), i(v, 2), i(g, 1), i(x, 1), t = t.replace(/[\*\s\+>~]/g, " "), t = t.replace(/[#\.]/g, " "), i(b, 2), e.join("")
    }

    function s(s) {
        var o = {
            opts: s
        };
        o.FRAMERATE = 30, o.MAX_VIRTUAL_PIXELS = 3e4, o.log = function(t) {}, 1 == o.opts.log && "undefined" != typeof console && (o.log = function(t) {
            console.log(t)
        }), o.init = function(t) {
            var e = 0;
            o.UniqueId = function() {
                return e++, "canvg" + e
            }, o.Definitions = {}, o.Styles = {}, o.StylesSpecificity = {}, o.Animations = [], o.Images = [], o.ctx = t, o.ViewPort = new function() {
                this.viewPorts = [], this.Clear = function() {
                    this.viewPorts = []
                }, this.SetCurrent = function(t, e) {
                    this.viewPorts.push({
                        width: t,
                        height: e
                    })
                }, this.RemoveCurrent = function() {
                    this.viewPorts.pop()
                }, this.Current = function() {
                    return this.viewPorts[this.viewPorts.length - 1]
                }, this.width = function() {
                    return this.Current().width
                }, this.height = function() {
                    return this.Current().height
                }, this.ComputeSize = function(t) {
                    return null != t && "number" == typeof t ? t : "x" == t ? this.width() : "y" == t ? this.height() : Math.sqrt(Math.pow(this.width(), 2) + Math.pow(this.height(), 2)) / Math.sqrt(2)
                }
            }
        }, o.init(), o.ImagesLoaded = function() {
            for (var t = 0; t < o.Images.length; t++)
                if (!o.Images[t].loaded) return !1;
            return !0
        }, o.trim = function(t) {
            return t.replace(/^\s+|\s+$/g, "")
        }, o.compressSpaces = function(t) {
            return t.replace(/[\s\r\t\n]+/gm, " ")
        }, o.ajax = function(t) {
            if (l) return null;
            var e;
            return e = a.XMLHttpRequest ? new a.XMLHttpRequest : new ActiveXObject("Microsoft.XMLHTTP"), e ? (e.open("GET", t, !1), e.send(null), e.responseText) : null
        }, o.parseXml = function(t) {
            if ("undefined" != typeof Windows && "undefined" != typeof Windows.Data && "undefined" != typeof Windows.Data.Xml) {
                var e = new Windows.Data.Xml.Dom.XmlDocument,
                    i = new Windows.Data.Xml.Dom.XmlLoadSettings;
                return i.prohibitDtd = !1, e.loadXml(t, i), e
            }
            if (!a.DOMParser) {
                t = t.replace(/<!DOCTYPE svg[^>]*>/, "");
                var e = new ActiveXObject("Microsoft.XMLDOM");
                return e.async = "false", e.loadXML(t), e
            }
            try {
                var n = new a.DOMParser;
                return n.parseFromString(t, "image/svg+xml")
            } catch (s) {
                return n = new a.DOMParser, n.parseFromString(t, "text/xml")
            }
        }, o.Property = function(t, e) {
            this.name = t, this.value = e
        }, o.Property.prototype.getValue = function() {
            return this.value
        }, o.Property.prototype.hasValue = function() {
            return null != this.value && "" !== this.value
        }, o.Property.prototype.numValue = function() {
            if (!this.hasValue()) return 0;
            var t = parseFloat(this.value);
            return (this.value + "").match(/%$/) && (t /= 100), t
        }, o.Property.prototype.valueOrDefault = function(t) {
            return this.hasValue() ? this.value : t
        }, o.Property.prototype.numValueOrDefault = function(t) {
            return this.hasValue() ? this.numValue() : t
        }, o.Property.prototype.addOpacity = function(e) {
            var i = this.value;
            if (null != e.value && "" != e.value && "string" == typeof this.value) {
                var n = new t(this.value);
                n.ok && (i = "rgba(" + n.r + ", " + n.g + ", " + n.b + ", " + e.numValue() + ")")
            }
            return new o.Property(this.name, i)
        }, o.Property.prototype.getDefinition = function() {
            var t = this.value.match(/#([^\)'"]+)/);
            return t && (t = t[1]), t || (t = this.value), o.Definitions[t]
        }, o.Property.prototype.isUrlDefinition = function() {
            return 0 == this.value.indexOf("url(")
        }, o.Property.prototype.getFillStyleDefinition = function(t, e) {
            var i = this.getDefinition();
            if (null != i && i.createGradient) return i.createGradient(o.ctx, t, e);
            if (null != i && i.createPattern) {
                if (i.getHrefAttribute().hasValue()) {
                    var n = i.attribute("patternTransform");
                    i = i.getHrefAttribute().getDefinition(), n.hasValue() && (i.attribute("patternTransform", !0).value = n.value)
                }
                return i.createPattern(o.ctx, t)
            }
            return null
        }, o.Property.prototype.getDPI = function(t) {
            return 96
        }, o.Property.prototype.getEM = function(t) {
            var e = 12,
                i = new o.Property("fontSize", o.Font.Parse(o.ctx.font).fontSize);
            return i.hasValue() && (e = i.toPixels(t)), e
        }, o.Property.prototype.getUnits = function() {
            var t = this.value + "";
            return t.replace(/[0-9\.\-]/g, "")
        }, o.Property.prototype.toPixels = function(t, e) {
            if (!this.hasValue()) return 0;
            var i = this.value + "";
            if (i.match(/em$/)) return this.numValue() * this.getEM(t);
            if (i.match(/ex$/)) return this.numValue() * this.getEM(t) / 2;
            if (i.match(/px$/)) return this.numValue();
            if (i.match(/pt$/)) return this.numValue() * this.getDPI(t) * (1 / 72);
            if (i.match(/pc$/)) return 15 * this.numValue();
            if (i.match(/cm$/)) return this.numValue() * this.getDPI(t) / 2.54;
            if (i.match(/mm$/)) return this.numValue() * this.getDPI(t) / 25.4;
            if (i.match(/in$/)) return this.numValue() * this.getDPI(t);
            if (i.match(/%$/)) return this.numValue() * o.ViewPort.ComputeSize(t);
            var n = this.numValue();
            return e && n < 1 ? n * o.ViewPort.ComputeSize(t) : n
        }, o.Property.prototype.toMilliseconds = function() {
            if (!this.hasValue()) return 0;
            var t = this.value + "";
            return t.match(/s$/) ? 1e3 * this.numValue() : t.match(/ms$/) ? this.numValue() : this.numValue()
        }, o.Property.prototype.toRadians = function() {
            if (!this.hasValue()) return 0;
            var t = this.value + "";
            return t.match(/deg$/) ? this.numValue() * (Math.PI / 180) : t.match(/grad$/) ? this.numValue() * (Math.PI / 200) : t.match(/rad$/) ? this.numValue() : this.numValue() * (Math.PI / 180)
        };
        var f = {
            baseline: "alphabetic",
            "before-edge": "top",
            "text-before-edge": "top",
            middle: "middle",
            central: "middle",
            "after-edge": "bottom",
            "text-after-edge": "bottom",
            ideographic: "ideographic",
            alphabetic: "alphabetic",
            hanging: "hanging",
            mathematical: "alphabetic"
        };
        return o.Property.prototype.toTextBaseline = function() {
            return this.hasValue() ? f[this.value] : null
        }, o.Font = new function() {
            this.Styles = "normal|italic|oblique|inherit", this.Variants = "normal|small-caps|inherit", this.Weights = "normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit", this.CreateFont = function(t, e, i, n, s, a) {
                var r = null != a ? this.Parse(a) : this.CreateFont("", "", "", "", "", o.ctx.font),
                    s = s || r.fontFamily;
                if (s) {
                    var l = s.trim();
                    '"' !== l[0] && l.indexOf(" ") > 0 && (s = '"' + l + '"')
                }
                return {
                    fontFamily: s,
                    fontSize: n || r.fontSize,
                    fontStyle: t || r.fontStyle,
                    fontWeight: i || r.fontWeight,
                    fontVariant: e || r.fontVariant,
                    toString: function() {
                        return [this.fontStyle, this.fontVariant, this.fontWeight, this.fontSize, this.fontFamily].join(" ")
                    }
                }
            };
            var t = this;
            this.Parse = function(e) {
                for (var i = {}, n = o.trim(o.compressSpaces(e || "")).split(" "), s = {
                        fontSize: !1,
                        fontStyle: !1,
                        fontWeight: !1,
                        fontVariant: !1
                    }, a = "", r = 0; r < n.length; r++) s.fontStyle || t.Styles.indexOf(n[r]) == -1 ? s.fontVariant || t.Variants.indexOf(n[r]) == -1 ? s.fontWeight || t.Weights.indexOf(n[r]) == -1 ? s.fontSize ? "inherit" != n[r] && (a += n[r]) : ("inherit" != n[r] && (i.fontSize = n[r].split("/")[0]), s.fontStyle = s.fontVariant = s.fontWeight = s.fontSize = !0) : ("inherit" != n[r] && (i.fontWeight = n[r]), s.fontStyle = s.fontVariant = s.fontWeight = !0) : ("inherit" != n[r] && (i.fontVariant = n[r]), s.fontStyle = s.fontVariant = !0) : ("inherit" != n[r] && (i.fontStyle = n[r]), s.fontStyle = !0);
                return "" != a && (i.fontFamily = a), i
            }
        }, o.ToNumberArray = function(t) {
            for (var e = o.trim(o.compressSpaces((t || "").replace(/,/g, " "))).split(" "), i = 0; i < e.length; i++) e[i] = parseFloat(e[i]);
            return e
        }, o.Point = function(t, e) {
            this.x = t, this.y = e
        }, o.Point.prototype.angleTo = function(t) {
            return Math.atan2(t.y - this.y, t.x - this.x)
        }, o.Point.prototype.applyTransform = function(t) {
            var e = this.x * t[0] + this.y * t[2] + t[4],
                i = this.x * t[1] + this.y * t[3] + t[5];
            this.x = e, this.y = i
        }, o.CreatePoint = function(t) {
            var e = o.ToNumberArray(t);
            return new o.Point(e[0], e[1])
        }, o.CreatePath = function(t) {
            for (var e = o.ToNumberArray(t), i = [], n = 0; n < e.length; n += 2) i.push(new o.Point(e[n], e[n + 1]));
            return i
        }, o.BoundingBox = function(t, e, i, n) {
            this.x1 = Number.NaN, this.y1 = Number.NaN, this.x2 = Number.NaN, this.y2 = Number.NaN, this.x = function() {
                return this.x1
            }, this.y = function() {
                return this.y1
            }, this.width = function() {
                return this.x2 - this.x1
            }, this.height = function() {
                return this.y2 - this.y1
            }, this.addPoint = function(t, e) {
                null != t && ((isNaN(this.x1) || isNaN(this.x2)) && (this.x1 = t, this.x2 = t), t < this.x1 && (this.x1 = t), t > this.x2 && (this.x2 = t)), null != e && ((isNaN(this.y1) || isNaN(this.y2)) && (this.y1 = e, this.y2 = e), e < this.y1 && (this.y1 = e), e > this.y2 && (this.y2 = e))
            }, this.addX = function(t) {
                this.addPoint(t, null)
            }, this.addY = function(t) {
                this.addPoint(null, t)
            }, this.addBoundingBox = function(t) {
                this.addPoint(t.x1, t.y1), this.addPoint(t.x2, t.y2)
            }, this.addQuadraticCurve = function(t, e, i, n, s, a) {
                var r = t + 2 / 3 * (i - t),
                    o = e + 2 / 3 * (n - e),
                    l = r + 1 / 3 * (s - t),
                    h = o + 1 / 3 * (a - e);
                this.addBezierCurve(t, e, r, l, o, h, s, a)
            }, this.addBezierCurve = function(t, e, i, n, s, a, r, o) {
                var l = [t, e],
                    h = [i, n],
                    u = [s, a],
                    f = [r, o];
                this.addPoint(l[0], l[1]), this.addPoint(f[0], f[1]);
                for (var c = 0; c <= 1; c++) {
                    var p = function(t) {
                            return Math.pow(1 - t, 3) * l[c] + 3 * Math.pow(1 - t, 2) * t * h[c] + 3 * (1 - t) * Math.pow(t, 2) * u[c] + Math.pow(t, 3) * f[c]
                        },
                        d = 6 * l[c] - 12 * h[c] + 6 * u[c],
                        m = -3 * l[c] + 9 * h[c] - 9 * u[c] + 3 * f[c],
                        y = 3 * h[c] - 3 * l[c];
                    if (0 != m) {
                        var v = Math.pow(d, 2) - 4 * y * m;
                        if (!(v < 0)) {
                            var g = (-d + Math.sqrt(v)) / (2 * m);
                            0 < g && g < 1 && (0 == c && this.addX(p(g)), 1 == c && this.addY(p(g)));
                            var x = (-d - Math.sqrt(v)) / (2 * m);
                            0 < x && x < 1 && (0 == c && this.addX(p(x)), 1 == c && this.addY(p(x)))
                        }
                    } else {
                        if (0 == d) continue;
                        var b = -y / d;
                        0 < b && b < 1 && (0 == c && this.addX(p(b)), 1 == c && this.addY(p(b)))
                    }
                }
            }, this.isPointInBox = function(t, e) {
                return this.x1 <= t && t <= this.x2 && this.y1 <= e && e <= this.y2
            }, this.addPoint(t, e), this.addPoint(i, n)
        }, o.Transform = function(t) {
            var e = this;
            this.Type = {}, this.Type.translate = function(t) {
                this.p = o.CreatePoint(t), this.apply = function(t) {
                    t.translate(this.p.x || 0, this.p.y || 0)
                }, this.unapply = function(t) {
                    t.translate(-1 * this.p.x || 0, -1 * this.p.y || 0)
                }, this.applyToPoint = function(t) {
                    t.applyTransform([1, 0, 0, 1, this.p.x || 0, this.p.y || 0])
                }
            }, this.Type.rotate = function(t) {
                var e = o.ToNumberArray(t);
                this.angle = new o.Property("angle", e[0]), this.cx = e[1] || 0, this.cy = e[2] || 0, this.apply = function(t) {
                    t.translate(this.cx, this.cy), t.rotate(this.angle.toRadians()), t.translate(-this.cx, -this.cy)
                }, this.unapply = function(t) {
                    t.translate(this.cx, this.cy), t.rotate(-1 * this.angle.toRadians()), t.translate(-this.cx, -this.cy)
                }, this.applyToPoint = function(t) {
                    var e = this.angle.toRadians();
                    t.applyTransform([1, 0, 0, 1, this.p.x || 0, this.p.y || 0]), t.applyTransform([Math.cos(e), Math.sin(e), -Math.sin(e), Math.cos(e), 0, 0]), t.applyTransform([1, 0, 0, 1, -this.p.x || 0, -this.p.y || 0])
                }
            }, this.Type.scale = function(t) {
                this.p = o.CreatePoint(t), this.apply = function(t) {
                    t.scale(this.p.x || 1, this.p.y || this.p.x || 1)
                }, this.unapply = function(t) {
                    t.scale(1 / this.p.x || 1, 1 / this.p.y || this.p.x || 1)
                }, this.applyToPoint = function(t) {
                    t.applyTransform([this.p.x || 0, 0, 0, this.p.y || 0, 0, 0])
                }
            }, this.Type.matrix = function(t) {
                this.m = o.ToNumberArray(t), this.apply = function(t) {
                    t.transform(this.m[0], this.m[1], this.m[2], this.m[3], this.m[4], this.m[5])
                }, this.unapply = function(t) {
                    var e = this.m[0],
                        i = this.m[2],
                        n = this.m[4],
                        s = this.m[1],
                        a = this.m[3],
                        r = this.m[5],
                        o = 0,
                        l = 0,
                        h = 1,
                        u = 1 / (e * (a * h - r * l) - i * (s * h - r * o) + n * (s * l - a * o));
                    t.transform(u * (a * h - r * l), u * (r * o - s * h), u * (n * l - i * h), u * (e * h - n * o), u * (i * r - n * a), u * (n * s - e * r))
                }, this.applyToPoint = function(t) {
                    t.applyTransform(this.m)
                }
            }, this.Type.SkewBase = function(t) {
                this.base = e.Type.matrix, this.base(t), this.angle = new o.Property("angle", t)
            }, this.Type.SkewBase.prototype = new this.Type.matrix, this.Type.skewX = function(t) {
                this.base = e.Type.SkewBase, this.base(t), this.m = [1, 0, Math.tan(this.angle.toRadians()), 1, 0, 0]
            }, this.Type.skewX.prototype = new this.Type.SkewBase, this.Type.skewY = function(t) {
                this.base = e.Type.SkewBase, this.base(t), this.m = [1, Math.tan(this.angle.toRadians()), 0, 1, 0, 0]
            }, this.Type.skewY.prototype = new this.Type.SkewBase, this.transforms = [], this.apply = function(t) {
                for (var e = 0; e < this.transforms.length; e++) this.transforms[e].apply(t)
            }, this.unapply = function(t) {
                for (var e = this.transforms.length - 1; e >= 0; e--) this.transforms[e].unapply(t)
            }, this.applyToPoint = function(t) {
                for (var e = 0; e < this.transforms.length; e++) this.transforms[e].applyToPoint(t)
            };
            for (var i = o.trim(o.compressSpaces(t)).replace(/\)([a-zA-Z])/g, ") $1").replace(/\)(\s?,\s?)/g, ") ").split(/\s(?=[a-z])/), n = 0; n < i.length; n++) {
                var s = o.trim(i[n].split("(")[0]),
                    a = i[n].split("(")[1].replace(")", ""),
                    r = this.Type[s];
                if ("undefined" != typeof r) {
                    var l = new r(a);
                    l.type = s, this.transforms.push(l)
                }
            }
        }, o.AspectRatio = function(t, e, i, n, s, a, r, l, h, u) {
            e = o.compressSpaces(e), e = e.replace(/^defer\s/, "");
            var f = e.split(" ")[0] || "xMidYMid",
                c = e.split(" ")[1] || "meet",
                p = i / n,
                d = s / a,
                m = Math.min(p, d),
                y = Math.max(p, d);
            "meet" == c && (n *= m, a *= m), "slice" == c && (n *= y, a *= y), h = new o.Property("refX", h), u = new o.Property("refY", u), h.hasValue() && u.hasValue() ? t.translate(-m * h.toPixels("x"), -m * u.toPixels("y")) : (f.match(/^xMid/) && ("meet" == c && m == d || "slice" == c && y == d) && t.translate(i / 2 - n / 2, 0), f.match(/YMid$/) && ("meet" == c && m == p || "slice" == c && y == p) && t.translate(0, s / 2 - a / 2), f.match(/^xMax/) && ("meet" == c && m == d || "slice" == c && y == d) && t.translate(i - n, 0), f.match(/YMax$/) && ("meet" == c && m == p || "slice" == c && y == p) && t.translate(0, s - a)), "none" == f ? t.scale(p, d) : "meet" == c ? t.scale(m, m) : "slice" == c && t.scale(y, y), t.translate(null == r ? 0 : -r, null == l ? 0 : -l)
        }, o.Element = {}, o.EmptyProperty = new o.Property("EMPTY", ""), o.Element.ElementBase = function(t) {
            this.attributes = {}, this.styles = {}, this.stylesSpecificity = {}, this.children = [], this.attribute = function(t, e) {
                var i = this.attributes[t];
                return null != i ? i : (1 == e && (i = new o.Property(t, ""), this.attributes[t] = i), i || o.EmptyProperty)
            }, this.getHrefAttribute = function() {
                for (var t in this.attributes)
                    if ("href" == t || t.match(/:href$/)) return this.attributes[t];
                return o.EmptyProperty
            }, this.style = function(t, e, i) {
                var n = this.styles[t];
                if (null != n) return n;
                var s = this.attribute(t);
                if (null != s && s.hasValue()) return this.styles[t] = s, s;
                if (1 != i) {
                    var a = this.parent;
                    if (null != a) {
                        var r = a.style(t);
                        if (null != r && r.hasValue()) return r
                    }
                }
                return 1 == e && (n = new o.Property(t, ""), this.styles[t] = n), n || o.EmptyProperty
            }, this.render = function(t) {
                if ("none" != this.style("display").value && "hidden" != this.style("visibility").value) {
                    if (t.save(), this.style("mask").hasValue()) {
                        var e = this.style("mask").getDefinition();
                        null != e && e.apply(t, this)
                    } else if (this.style("filter").hasValue()) {
                        var i = this.style("filter").getDefinition();
                        null != i && i.apply(t, this)
                    } else this.setContext(t), this.renderChildren(t), this.clearContext(t);
                    t.restore()
                }
            }, this.setContext = function(t) {}, this.clearContext = function(t) {}, this.renderChildren = function(t) {
                for (var e = 0; e < this.children.length; e++) this.children[e].render(t)
            }, this.addChild = function(t, e) {
                var i = t;
                e && (i = o.CreateElement(t)), i.parent = this, "title" != i.type && this.children.push(i)
            }, this.addStylesFromStyleDefinition = function() {
                for (var e in o.Styles)
                    if ("@" != e[0] && c(t, e)) {
                        var i = o.Styles[e],
                            n = o.StylesSpecificity[e];
                        if (null != i)
                            for (var s in i) {
                                var a = this.stylesSpecificity[s];
                                "undefined" == typeof a && (a = "000"), n > a && (this.styles[s] = i[s], this.stylesSpecificity[s] = n)
                            }
                    }
            };
            var e = new RegExp("^[A-Z-]+$"),
                i = function(t) {
                    return e.test(t) ? t.toLowerCase() : t
                };
            if (null != t && 1 == t.nodeType) {
                for (var n = 0; n < t.attributes.length; n++) {
                    var s = t.attributes[n],
                        a = i(s.nodeName);
                    this.attributes[a] = new o.Property(a, s.value)
                }
                if (this.addStylesFromStyleDefinition(), this.attribute("style").hasValue())
                    for (var r = this.attribute("style").value.split(";"), n = 0; n < r.length; n++)
                        if ("" != o.trim(r[n])) {
                            var l = r[n].split(":"),
                                h = o.trim(l[0]),
                                u = o.trim(l[1]);
                            this.styles[h] = new o.Property(h, u)
                        }
                this.attribute("id").hasValue() && null == o.Definitions[this.attribute("id").value] && (o.Definitions[this.attribute("id").value] = this);
                for (var n = 0; n < t.childNodes.length; n++) {
                    var f = t.childNodes[n];
                    if (1 == f.nodeType && this.addChild(f, !0), this.captureTextNodes && (3 == f.nodeType || 4 == f.nodeType)) {
                        var p = f.value || f.text || f.textContent || "";
                        "" != o.compressSpaces(p) && this.addChild(new o.Element.tspan(f), !1)
                    }
                }
            }
        }, o.Element.RenderedElementBase = function(t) {
            this.base = o.Element.ElementBase, this.base(t), this.setContext = function(t) {
                if (this.style("fill").isUrlDefinition()) {
                    var e = this.style("fill").getFillStyleDefinition(this, this.style("fill-opacity"));
                    null != e && (t.fillStyle = e)
                } else if (this.style("fill").hasValue()) {
                    var i = this.style("fill");
                    "currentColor" == i.value && (i.value = this.style("color").value), "inherit" != i.value && (t.fillStyle = "none" == i.value ? "rgba(0,0,0,0)" : i.value)
                }
                if (this.style("fill-opacity").hasValue()) {
                    var i = new o.Property("fill", t.fillStyle);
                    i = i.addOpacity(this.style("fill-opacity")), t.fillStyle = i.value
                }
                if (this.style("stroke").isUrlDefinition()) {
                    var e = this.style("stroke").getFillStyleDefinition(this, this.style("stroke-opacity"));
                    null != e && (t.strokeStyle = e)
                } else if (this.style("stroke").hasValue()) {
                    var n = this.style("stroke");
                    "currentColor" == n.value && (n.value = this.style("color").value), "inherit" != n.value && (t.strokeStyle = "none" == n.value ? "rgba(0,0,0,0)" : n.value)
                }
                if (this.style("stroke-opacity").hasValue()) {
                    var n = new o.Property("stroke", t.strokeStyle);
                    n = n.addOpacity(this.style("stroke-opacity")), t.strokeStyle = n.value
                }
                if (this.style("stroke-width").hasValue()) {
                    var s = this.style("stroke-width").toPixels();
                    t.lineWidth = 0 == s ? .001 : s
                }
                if (this.style("stroke-linecap").hasValue() && (t.lineCap = this.style("stroke-linecap").value), this.style("stroke-linejoin").hasValue() && (t.lineJoin = this.style("stroke-linejoin").value), this.style("stroke-miterlimit").hasValue() && (t.miterLimit = this.style("stroke-miterlimit").value), this.style("paint-order").hasValue() && (t.paintOrder = this.style("paint-order").value), this.style("stroke-dasharray").hasValue() && "none" != this.style("stroke-dasharray").value) {
                    var a = o.ToNumberArray(this.style("stroke-dasharray").value);
                    "undefined" != typeof t.setLineDash ? t.setLineDash(a) : "undefined" != typeof t.webkitLineDash ? t.webkitLineDash = a : "undefined" == typeof t.mozDash || 1 == a.length && 0 == a[0] || (t.mozDash = a);
                    var r = this.style("stroke-dashoffset").numValueOrDefault(1);
                    "undefined" != typeof t.lineDashOffset ? t.lineDashOffset = r : "undefined" != typeof t.webkitLineDashOffset ? t.webkitLineDashOffset = r : "undefined" != typeof t.mozDashOffset && (t.mozDashOffset = r)
                }
                if ("undefined" != typeof t.font && (t.font = o.Font.CreateFont(this.style("font-style").value, this.style("font-variant").value, this.style("font-weight").value, this.style("font-size").hasValue() ? this.style("font-size").toPixels() + "px" : "", this.style("font-family").value).toString()), this.style("transform", !1, !0).hasValue()) {
                    var l = new o.Transform(this.style("transform", !1, !0).value);
                    l.apply(t)
                }
                if (this.style("clip-path", !1, !0).hasValue()) {
                    var h = this.style("clip-path", !1, !0).getDefinition();
                    null != h && h.apply(t)
                }
                this.style("opacity").hasValue() && (t.globalAlpha = this.style("opacity").numValue())
            }
        }, o.Element.RenderedElementBase.prototype = new o.Element.ElementBase, o.Element.PathElementBase = function(t) {
            this.base = o.Element.RenderedElementBase, this.base(t), this.path = function(t) {
                return null != t && t.beginPath(), new o.BoundingBox
            }, this.renderChildren = function(t) {
                this.path(t), o.Mouse.checkPath(this, t), "" != t.fillStyle && ("inherit" != this.style("fill-rule").valueOrDefault("inherit") ? t.fill(this.style("fill-rule").value) : t.fill()), "" != t.strokeStyle && t.stroke();
                var e = this.getMarkers();
                if (null != e) {
                    if (this.style("marker-start").isUrlDefinition()) {
                        var i = this.style("marker-start").getDefinition();
                        i.render(t, e[0][0], e[0][1])
                    }
                    if (this.style("marker-mid").isUrlDefinition())
                        for (var i = this.style("marker-mid").getDefinition(), n = 1; n < e.length - 1; n++) i.render(t, e[n][0], e[n][1]);
                    if (this.style("marker-end").isUrlDefinition()) {
                        var i = this.style("marker-end").getDefinition();
                        i.render(t, e[e.length - 1][0], e[e.length - 1][1])
                    }
                }
            }, this.getBoundingBox = function() {
                return this.path()
            }, this.getMarkers = function() {
                return null
            }
        }, o.Element.PathElementBase.prototype = new o.Element.RenderedElementBase, o.Element.svg = function(t) {
            this.base = o.Element.RenderedElementBase, this.base(t), this.baseClearContext = this.clearContext, this.clearContext = function(t) {
                this.baseClearContext(t), o.ViewPort.RemoveCurrent()
            }, this.baseSetContext = this.setContext, this.setContext = function(t) {
                t.strokeStyle = "rgba(0,0,0,0)", t.lineCap = "butt", t.lineJoin = "miter", t.miterLimit = 4, t.canvas.style && "undefined" != typeof t.font && "undefined" != typeof a.getComputedStyle && (t.font = a.getComputedStyle(t.canvas).getPropertyValue("font")), this.baseSetContext(t), this.attribute("x").hasValue() || (this.attribute("x", !0).value = 0), this.attribute("y").hasValue() || (this.attribute("y", !0).value = 0), t.translate(this.attribute("x").toPixels("x"), this.attribute("y").toPixels("y"));
                var e = o.ViewPort.width(),
                    i = o.ViewPort.height();
                if (this.attribute("width").hasValue() || (this.attribute("width", !0).value = "100%"), this.attribute("height").hasValue() || (this.attribute("height", !0).value = "100%"), "undefined" == typeof this.root) {
                    e = this.attribute("width").toPixels("x"), i = this.attribute("height").toPixels("y");
                    var n = 0,
                        s = 0;
                    this.attribute("refX").hasValue() && this.attribute("refY").hasValue() && (n = -this.attribute("refX").toPixels("x"), s = -this.attribute("refY").toPixels("y")), "visible" != this.attribute("overflow").valueOrDefault("hidden") && (t.beginPath(), t.moveTo(n, s), t.lineTo(e, s), t.lineTo(e, i), t.lineTo(n, i), t.closePath(), t.clip())
                }
                if (o.ViewPort.SetCurrent(e, i), this.attribute("viewBox").hasValue()) {
                    var r = o.ToNumberArray(this.attribute("viewBox").value),
                        l = r[0],
                        h = r[1];
                    e = r[2], i = r[3], o.AspectRatio(t, this.attribute("preserveAspectRatio").value, o.ViewPort.width(), e, o.ViewPort.height(), i, l, h, this.attribute("refX").value, this.attribute("refY").value), o.ViewPort.RemoveCurrent(), o.ViewPort.SetCurrent(r[2], r[3])
                }
            }
        }, o.Element.svg.prototype = new o.Element.RenderedElementBase, o.Element.rect = function(t) {
            this.base = o.Element.PathElementBase, this.base(t), this.path = function(t) {
                var e = this.attribute("x").toPixels("x"),
                    i = this.attribute("y").toPixels("y"),
                    n = this.attribute("width").toPixels("x"),
                    s = this.attribute("height").toPixels("y"),
                    a = this.attribute("rx").toPixels("x"),
                    r = this.attribute("ry").toPixels("y");
                return this.attribute("rx").hasValue() && !this.attribute("ry").hasValue() && (r = a), this.attribute("ry").hasValue() && !this.attribute("rx").hasValue() && (a = r), a = Math.min(a, n / 2), r = Math.min(r, s / 2), null != t && (t.beginPath(), t.moveTo(e + a, i), t.lineTo(e + n - a, i), t.quadraticCurveTo(e + n, i, e + n, i + r), t.lineTo(e + n, i + s - r), t.quadraticCurveTo(e + n, i + s, e + n - a, i + s), t.lineTo(e + a, i + s), t.quadraticCurveTo(e, i + s, e, i + s - r), t.lineTo(e, i + r), t.quadraticCurveTo(e, i, e + a, i), t.closePath()), new o.BoundingBox(e, i, e + n, i + s)
            }
        }, o.Element.rect.prototype = new o.Element.PathElementBase, o.Element.circle = function(t) {
            this.base = o.Element.PathElementBase, this.base(t), this.path = function(t) {
                var e = this.attribute("cx").toPixels("x"),
                    i = this.attribute("cy").toPixels("y"),
                    n = this.attribute("r").toPixels();
                return null != t && (t.beginPath(), t.arc(e, i, n, 0, 2 * Math.PI, !0), t.closePath()), new o.BoundingBox(e - n, i - n, e + n, i + n)
            }
        }, o.Element.circle.prototype = new o.Element.PathElementBase, o.Element.ellipse = function(t) {
            this.base = o.Element.PathElementBase, this.base(t), this.path = function(t) {
                var e = 4 * ((Math.sqrt(2) - 1) / 3),
                    i = this.attribute("rx").toPixels("x"),
                    n = this.attribute("ry").toPixels("y"),
                    s = this.attribute("cx").toPixels("x"),
                    a = this.attribute("cy").toPixels("y");
                return null != t && (t.beginPath(), t.moveTo(s, a - n), t.bezierCurveTo(s + e * i, a - n, s + i, a - e * n, s + i, a), t.bezierCurveTo(s + i, a + e * n, s + e * i, a + n, s, a + n), t.bezierCurveTo(s - e * i, a + n, s - i, a + e * n, s - i, a), t.bezierCurveTo(s - i, a - e * n, s - e * i, a - n, s, a - n), t.closePath()), new o.BoundingBox(s - i, a - n, s + i, a + n)
            }
        }, o.Element.ellipse.prototype = new o.Element.PathElementBase, o.Element.line = function(t) {
            this.base = o.Element.PathElementBase, this.base(t), this.getPoints = function() {
                return [new o.Point(this.attribute("x1").toPixels("x"), this.attribute("y1").toPixels("y")), new o.Point(this.attribute("x2").toPixels("x"), this.attribute("y2").toPixels("y"))]
            }, this.path = function(t) {
                var e = this.getPoints();
                return null != t && (t.beginPath(), t.moveTo(e[0].x, e[0].y), t.lineTo(e[1].x, e[1].y)), new o.BoundingBox(e[0].x, e[0].y, e[1].x, e[1].y)
            }, this.getMarkers = function() {
                var t = this.getPoints(),
                    e = t[0].angleTo(t[1]);
                return [
                    [t[0], e],
                    [t[1], e]
                ]
            }
        }, o.Element.line.prototype = new o.Element.PathElementBase, o.Element.polyline = function(t) {
            this.base = o.Element.PathElementBase, this.base(t), this.points = o.CreatePath(this.attribute("points").value), this.path = function(t) {
                var e = new o.BoundingBox(this.points[0].x, this.points[0].y);
                null != t && (t.beginPath(), t.moveTo(this.points[0].x, this.points[0].y));
                for (var i = 1; i < this.points.length; i++) e.addPoint(this.points[i].x, this.points[i].y), null != t && t.lineTo(this.points[i].x, this.points[i].y);
                return e
            }, this.getMarkers = function() {
                for (var t = [], e = 0; e < this.points.length - 1; e++) t.push([this.points[e], this.points[e].angleTo(this.points[e + 1])]);
                return t.length > 0 && t.push([this.points[this.points.length - 1], t[t.length - 1][1]]), t
            }
        }, o.Element.polyline.prototype = new o.Element.PathElementBase, o.Element.polygon = function(t) {
            this.base = o.Element.polyline, this.base(t), this.basePath = this.path, this.path = function(t) {
                var e = this.basePath(t);
                return null != t && (t.lineTo(this.points[0].x, this.points[0].y), t.closePath()), e
            }
        }, o.Element.polygon.prototype = new o.Element.polyline, o.Element.path = function(t) {
            this.base = o.Element.PathElementBase, this.base(t);
            var e = this.attribute("d").value;
            e = e.replace(/,/gm, " ");
            for (var i = 0; i < 2; i++) e = e.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm, "$1 $2");
            e = e.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm, "$1 $2"), e = e.replace(/([0-9])([+\-])/gm, "$1 $2");
            for (var i = 0; i < 2; i++) e = e.replace(/(\.[0-9]*)(\.)/gm, "$1 $2");
            e = e.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm, "$1 $3 $4 "), e = o.compressSpaces(e), e = o.trim(e), this.PathParser = new function(t) {
                this.tokens = t.split(" "), this.reset = function() {
                    this.i = -1, this.command = "", this.previousCommand = "", this.start = new o.Point(0, 0), this.control = new o.Point(0, 0), this.current = new o.Point(0, 0), this.points = [], this.angles = []
                }, this.isEnd = function() {
                    return this.i >= this.tokens.length - 1
                }, this.isCommandOrEnd = function() {
                    return !!this.isEnd() || null != this.tokens[this.i + 1].match(/^[A-Za-z]$/)
                }, this.isRelativeCommand = function() {
                    switch (this.command) {
                        case "m":
                        case "l":
                        case "h":
                        case "v":
                        case "c":
                        case "s":
                        case "q":
                        case "t":
                        case "a":
                        case "z":
                            return !0
                    }
                    return !1
                }, this.getToken = function() {
                    return this.i++, this.tokens[this.i]
                }, this.getScalar = function() {
                    return parseFloat(this.getToken())
                }, this.nextCommand = function() {
                    this.previousCommand = this.command, this.command = this.getToken()
                }, this.getPoint = function() {
                    var t = new o.Point(this.getScalar(), this.getScalar());
                    return this.makeAbsolute(t)
                }, this.getAsControlPoint = function() {
                    var t = this.getPoint();
                    return this.control = t, t
                }, this.getAsCurrentPoint = function() {
                    var t = this.getPoint();
                    return this.current = t, t
                }, this.getReflectedControlPoint = function() {
                    if ("c" != this.previousCommand.toLowerCase() && "s" != this.previousCommand.toLowerCase() && "q" != this.previousCommand.toLowerCase() && "t" != this.previousCommand.toLowerCase()) return this.current;
                    var t = new o.Point(2 * this.current.x - this.control.x, 2 * this.current.y - this.control.y);
                    return t
                }, this.makeAbsolute = function(t) {
                    return this.isRelativeCommand() && (t.x += this.current.x, t.y += this.current.y), t
                }, this.addMarker = function(t, e, i) {
                    null != i && this.angles.length > 0 && null == this.angles[this.angles.length - 1] && (this.angles[this.angles.length - 1] = this.points[this.points.length - 1].angleTo(i)), this.addMarkerAngle(t, null == e ? null : e.angleTo(t))
                }, this.addMarkerAngle = function(t, e) {
                    this.points.push(t), this.angles.push(e)
                }, this.getMarkerPoints = function() {
                    return this.points
                }, this.getMarkerAngles = function() {
                    for (var t = 0; t < this.angles.length; t++)
                        if (null == this.angles[t])
                            for (var e = t + 1; e < this.angles.length; e++)
                                if (null != this.angles[e]) {
                                    this.angles[t] = this.angles[e];
                                    break
                                }
                    return this.angles
                }
            }(e), this.path = function(t) {
                var e = this.PathParser;
                e.reset();
                var i = new o.BoundingBox;
                for (null != t && t.beginPath(); !e.isEnd();) switch (e.nextCommand(), e.command) {
                    case "M":
                    case "m":
                        var n = e.getAsCurrentPoint();
                        for (e.addMarker(n), i.addPoint(n.x, n.y), null != t && t.moveTo(n.x, n.y), e.start = e.current; !e.isCommandOrEnd();) {
                            var n = e.getAsCurrentPoint();
                            e.addMarker(n, e.start), i.addPoint(n.x, n.y), null != t && t.lineTo(n.x, n.y)
                        }
                        break;
                    case "L":
                    case "l":
                        for (; !e.isCommandOrEnd();) {
                            var s = e.current,
                                n = e.getAsCurrentPoint();
                            e.addMarker(n, s), i.addPoint(n.x, n.y), null != t && t.lineTo(n.x, n.y)
                        }
                        break;
                    case "H":
                    case "h":
                        for (; !e.isCommandOrEnd();) {
                            var a = new o.Point((e.isRelativeCommand() ? e.current.x : 0) + e.getScalar(), e.current.y);
                            e.addMarker(a, e.current), e.current = a, i.addPoint(e.current.x, e.current.y), null != t && t.lineTo(e.current.x, e.current.y)
                        }
                        break;
                    case "V":
                    case "v":
                        for (; !e.isCommandOrEnd();) {
                            var a = new o.Point(e.current.x, (e.isRelativeCommand() ? e.current.y : 0) + e.getScalar());
                            e.addMarker(a, e.current), e.current = a, i.addPoint(e.current.x, e.current.y), null != t && t.lineTo(e.current.x, e.current.y)
                        }
                        break;
                    case "C":
                    case "c":
                        for (; !e.isCommandOrEnd();) {
                            var r = e.current,
                                l = e.getPoint(),
                                h = e.getAsControlPoint(),
                                u = e.getAsCurrentPoint();
                            e.addMarker(u, h, l), i.addBezierCurve(r.x, r.y, l.x, l.y, h.x, h.y, u.x, u.y), null != t && t.bezierCurveTo(l.x, l.y, h.x, h.y, u.x, u.y)
                        }
                        break;
                    case "S":
                    case "s":
                        for (; !e.isCommandOrEnd();) {
                            var r = e.current,
                                l = e.getReflectedControlPoint(),
                                h = e.getAsControlPoint(),
                                u = e.getAsCurrentPoint();
                            e.addMarker(u, h, l), i.addBezierCurve(r.x, r.y, l.x, l.y, h.x, h.y, u.x, u.y), null != t && t.bezierCurveTo(l.x, l.y, h.x, h.y, u.x, u.y)
                        }
                        break;
                    case "Q":
                    case "q":
                        for (; !e.isCommandOrEnd();) {
                            var r = e.current,
                                h = e.getAsControlPoint(),
                                u = e.getAsCurrentPoint();
                            e.addMarker(u, h, h), i.addQuadraticCurve(r.x, r.y, h.x, h.y, u.x, u.y), null != t && t.quadraticCurveTo(h.x, h.y, u.x, u.y)
                        }
                        break;
                    case "T":
                    case "t":
                        for (; !e.isCommandOrEnd();) {
                            var r = e.current,
                                h = e.getReflectedControlPoint();
                            e.control = h;
                            var u = e.getAsCurrentPoint();
                            e.addMarker(u, h, h), i.addQuadraticCurve(r.x, r.y, h.x, h.y, u.x, u.y), null != t && t.quadraticCurveTo(h.x, h.y, u.x, u.y)
                        }
                        break;
                    case "A":
                    case "a":
                        for (; !e.isCommandOrEnd();) {
                            var r = e.current,
                                f = e.getScalar(),
                                c = e.getScalar(),
                                p = e.getScalar() * (Math.PI / 180),
                                d = e.getScalar(),
                                m = e.getScalar(),
                                u = e.getAsCurrentPoint(),
                                y = new o.Point(Math.cos(p) * (r.x - u.x) / 2 + Math.sin(p) * (r.y - u.y) / 2, -Math.sin(p) * (r.x - u.x) / 2 + Math.cos(p) * (r.y - u.y) / 2),
                                v = Math.pow(y.x, 2) / Math.pow(f, 2) + Math.pow(y.y, 2) / Math.pow(c, 2);
                            v > 1 && (f *= Math.sqrt(v), c *= Math.sqrt(v));
                            var g = (d == m ? -1 : 1) * Math.sqrt((Math.pow(f, 2) * Math.pow(c, 2) - Math.pow(f, 2) * Math.pow(y.y, 2) - Math.pow(c, 2) * Math.pow(y.x, 2)) / (Math.pow(f, 2) * Math.pow(y.y, 2) + Math.pow(c, 2) * Math.pow(y.x, 2)));
                            isNaN(g) && (g = 0);
                            var x = new o.Point(g * f * y.y / c, g * -c * y.x / f),
                                b = new o.Point((r.x + u.x) / 2 + Math.cos(p) * x.x - Math.sin(p) * x.y, (r.y + u.y) / 2 + Math.sin(p) * x.x + Math.cos(p) * x.y),
                                P = function(t) {
                                    return Math.sqrt(Math.pow(t[0], 2) + Math.pow(t[1], 2))
                                },
                                E = function(t, e) {
                                    return (t[0] * e[0] + t[1] * e[1]) / (P(t) * P(e))
                                },
                                w = function(t, e) {
                                    return (t[0] * e[1] < t[1] * e[0] ? -1 : 1) * Math.acos(E(t, e))
                                },
                                B = w([1, 0], [(y.x - x.x) / f, (y.y - x.y) / c]),
                                C = [(y.x - x.x) / f, (y.y - x.y) / c],
                                T = [(-y.x - x.x) / f, (-y.y - x.y) / c],
                                V = w(C, T);
                            E(C, T) <= -1 && (V = Math.PI), E(C, T) >= 1 && (V = 0);
                            var M = 1 - m ? 1 : -1,
                                S = B + M * (V / 2),
                                k = new o.Point(b.x + f * Math.cos(S), b.y + c * Math.sin(S));
                            if (e.addMarkerAngle(k, S - M * Math.PI / 2), e.addMarkerAngle(u, S - M * Math.PI), i.addPoint(u.x, u.y), null != t) {
                                var E = f > c ? f : c,
                                    D = f > c ? 1 : f / c,
                                    A = f > c ? c / f : 1;
                                t.translate(b.x, b.y), t.rotate(p), t.scale(D, A), t.arc(0, 0, E, B, B + V, 1 - m), t.scale(1 / D, 1 / A), t.rotate(-p), t.translate(-b.x, -b.y)
                            }
                        }
                        break;
                    case "Z":
                    case "z":
                        null != t && t.closePath(), e.current = e.start
                }
                return i
            }, this.getMarkers = function() {
                for (var t = this.PathParser.getMarkerPoints(), e = this.PathParser.getMarkerAngles(), i = [], n = 0; n < t.length; n++) i.push([t[n], e[n]]);
                return i
            }
        }, o.Element.path.prototype = new o.Element.PathElementBase, o.Element.pattern = function(t) {
            this.base = o.Element.ElementBase, this.base(t), this.createPattern = function(t, e) {
                var n = this.attribute("width").toPixels("x", !0),
                    s = this.attribute("height").toPixels("y", !0),
                    a = new o.Element.svg;
                a.attributes.viewBox = new o.Property("viewBox", this.attribute("viewBox").value), a.attributes.width = new o.Property("width", n + "px"), a.attributes.height = new o.Property("height", s + "px"), a.attributes.transform = new o.Property("transform", this.attribute("patternTransform").value), a.children = this.children;
                var r = i();
                r.width = n, r.height = s;
                var l = r.getContext("2d");
                this.attribute("x").hasValue() && this.attribute("y").hasValue() && l.translate(this.attribute("x").toPixels("x", !0), this.attribute("y").toPixels("y", !0));
                for (var h = -1; h <= 1; h++)
                    for (var u = -1; u <= 1; u++) l.save(), a.attributes.x = new o.Property("x", h * r.width), a.attributes.y = new o.Property("y", u * r.height), a.render(l), l.restore();
                var f = t.createPattern(r, "repeat");
                return f
            }
        }, o.Element.pattern.prototype = new o.Element.ElementBase, o.Element.marker = function(t) {
            this.base = o.Element.ElementBase, this.base(t), this.baseRender = this.render, this.render = function(t, e, i) {
                t.translate(e.x, e.y), "auto" == this.attribute("orient").valueOrDefault("auto") && t.rotate(i), "strokeWidth" == this.attribute("markerUnits").valueOrDefault("strokeWidth") && t.scale(t.lineWidth, t.lineWidth), t.save();
                var n = new o.Element.svg;
                n.attributes.viewBox = new o.Property("viewBox", this.attribute("viewBox").value), n.attributes.refX = new o.Property("refX", this.attribute("refX").value), n.attributes.refY = new o.Property("refY", this.attribute("refY").value), n.attributes.width = new o.Property("width", this.attribute("markerWidth").value), n.attributes.height = new o.Property("height", this.attribute("markerHeight").value), n.attributes.fill = new o.Property("fill", this.attribute("fill").valueOrDefault("black")), n.attributes.stroke = new o.Property("stroke", this.attribute("stroke").valueOrDefault("none")), n.children = this.children, n.render(t), t.restore(), "strokeWidth" == this.attribute("markerUnits").valueOrDefault("strokeWidth") && t.scale(1 / t.lineWidth, 1 / t.lineWidth), "auto" == this.attribute("orient").valueOrDefault("auto") && t.rotate(-i), t.translate(-e.x, -e.y)
            }
        }, o.Element.marker.prototype = new o.Element.ElementBase, o.Element.defs = function(t) {
            this.base = o.Element.ElementBase, this.base(t), this.render = function(t) {}
        }, o.Element.defs.prototype = new o.Element.ElementBase, o.Element.GradientBase = function(t) {
            this.base = o.Element.ElementBase, this.base(t), this.stops = [];
            for (var e = 0; e < this.children.length; e++) {
                var n = this.children[e];
                "stop" == n.type && this.stops.push(n)
            }
            this.getGradient = function() {}, this.gradientUnits = function() {
                return this.attribute("gradientUnits").valueOrDefault("objectBoundingBox")
            }, this.attributesToInherit = ["gradientUnits"], this.inheritStopContainer = function(t) {
                for (var e = 0; e < this.attributesToInherit.length; e++) {
                    var i = this.attributesToInherit[e];
                    !this.attribute(i).hasValue() && t.attribute(i).hasValue() && (this.attribute(i, !0).value = t.attribute(i).value)
                }
            }, this.createGradient = function(t, e, n) {
                var s = this;
                this.getHrefAttribute().hasValue() && (s = this.getHrefAttribute().getDefinition(), this.inheritStopContainer(s));
                var a = function(t) {
                        if (n.hasValue()) {
                            var e = new o.Property("color", t);
                            return e.addOpacity(n).value
                        }
                        return t
                    },
                    r = this.getGradient(t, e);
                if (null == r) return a(s.stops[s.stops.length - 1].color);
                for (var l = 0; l < s.stops.length; l++) r.addColorStop(s.stops[l].offset, a(s.stops[l].color));
                if (this.attribute("gradientTransform").hasValue()) {
                    var h = o.ViewPort.viewPorts[0],
                        u = new o.Element.rect;
                    u.attributes.x = new o.Property("x", -o.MAX_VIRTUAL_PIXELS / 3), u.attributes.y = new o.Property("y", -o.MAX_VIRTUAL_PIXELS / 3), u.attributes.width = new o.Property("width", o.MAX_VIRTUAL_PIXELS), u.attributes.height = new o.Property("height", o.MAX_VIRTUAL_PIXELS);
                    var f = new o.Element.g;
                    f.attributes.transform = new o.Property("transform", this.attribute("gradientTransform").value), f.children = [u];
                    var c = new o.Element.svg;
                    c.attributes.x = new o.Property("x", 0), c.attributes.y = new o.Property("y", 0), c.attributes.width = new o.Property("width", h.width), c.attributes.height = new o.Property("height", h.height), c.children = [f];
                    var p = i();
                    p.width = h.width, p.height = h.height;
                    var d = p.getContext("2d");
                    return d.fillStyle = r, c.render(d), d.createPattern(p, "no-repeat")
                }
                return r
            }
        }, o.Element.GradientBase.prototype = new o.Element.ElementBase, o.Element.linearGradient = function(t) {
            this.base = o.Element.GradientBase, this.base(t), this.attributesToInherit.push("x1"), this.attributesToInherit.push("y1"), this.attributesToInherit.push("x2"), this.attributesToInherit.push("y2"), this.getGradient = function(t, e) {
                var i = "objectBoundingBox" == this.gradientUnits() ? e.getBoundingBox() : null;
                this.attribute("x1").hasValue() || this.attribute("y1").hasValue() || this.attribute("x2").hasValue() || this.attribute("y2").hasValue() || (this.attribute("x1", !0).value = 0, this.attribute("y1", !0).value = 0, this.attribute("x2", !0).value = 1, this.attribute("y2", !0).value = 0);
                var n = "objectBoundingBox" == this.gradientUnits() ? i.x() + i.width() * this.attribute("x1").numValue() : this.attribute("x1").toPixels("x"),
                    s = "objectBoundingBox" == this.gradientUnits() ? i.y() + i.height() * this.attribute("y1").numValue() : this.attribute("y1").toPixels("y"),
                    a = "objectBoundingBox" == this.gradientUnits() ? i.x() + i.width() * this.attribute("x2").numValue() : this.attribute("x2").toPixels("x"),
                    r = "objectBoundingBox" == this.gradientUnits() ? i.y() + i.height() * this.attribute("y2").numValue() : this.attribute("y2").toPixels("y");
                return n == a && s == r ? null : t.createLinearGradient(n, s, a, r)
            }
        }, o.Element.linearGradient.prototype = new o.Element.GradientBase, o.Element.radialGradient = function(t) {
            this.base = o.Element.GradientBase, this.base(t), this.attributesToInherit.push("cx"), this.attributesToInherit.push("cy"), this.attributesToInherit.push("r"), this.attributesToInherit.push("fx"), this.attributesToInherit.push("fy"), this.getGradient = function(t, e) {
                var i = e.getBoundingBox();
                this.attribute("cx").hasValue() || (this.attribute("cx", !0).value = "50%"), this.attribute("cy").hasValue() || (this.attribute("cy", !0).value = "50%"), this.attribute("r").hasValue() || (this.attribute("r", !0).value = "50%");
                var n = "objectBoundingBox" == this.gradientUnits() ? i.x() + i.width() * this.attribute("cx").numValue() : this.attribute("cx").toPixels("x"),
                    s = "objectBoundingBox" == this.gradientUnits() ? i.y() + i.height() * this.attribute("cy").numValue() : this.attribute("cy").toPixels("y"),
                    a = n,
                    r = s;
                this.attribute("fx").hasValue() && (a = "objectBoundingBox" == this.gradientUnits() ? i.x() + i.width() * this.attribute("fx").numValue() : this.attribute("fx").toPixels("x")), this.attribute("fy").hasValue() && (r = "objectBoundingBox" == this.gradientUnits() ? i.y() + i.height() * this.attribute("fy").numValue() : this.attribute("fy").toPixels("y"));
                var o = "objectBoundingBox" == this.gradientUnits() ? (i.width() + i.height()) / 2 * this.attribute("r").numValue() : this.attribute("r").toPixels();
                return t.createRadialGradient(a, r, 0, n, s, o)
            }
        }, o.Element.radialGradient.prototype = new o.Element.GradientBase, o.Element.stop = function(t) {
            this.base = o.Element.ElementBase, this.base(t), this.offset = this.attribute("offset").numValue(), this.offset < 0 && (this.offset = 0), this.offset > 1 && (this.offset = 1);
            var e = this.style("stop-color", !0);
            "" === e.value && (e.value = "#000"), this.style("stop-opacity").hasValue() && (e = e.addOpacity(this.style("stop-opacity"))), this.color = e.value
        }, o.Element.stop.prototype = new o.Element.ElementBase, o.Element.AnimateBase = function(t) {
            this.base = o.Element.ElementBase, this.base(t), o.Animations.push(this), this.duration = 0, this.begin = this.attribute("begin").toMilliseconds(), this.maxDuration = this.begin + this.attribute("dur").toMilliseconds(), this.getProperty = function() {
                var t = this.attribute("attributeType").value,
                    e = this.attribute("attributeName").value;
                return "CSS" == t ? this.parent.style(e, !0) : this.parent.attribute(e, !0)
            }, this.initialValue = null, this.initialUnits = "", this.removed = !1, this.calcValue = function() {
                return ""
            }, this.update = function(t) {
                if (null == this.initialValue && (this.initialValue = this.getProperty().value, this.initialUnits = this.getProperty().getUnits()), this.duration > this.maxDuration) {
                    if ("indefinite" == this.attribute("repeatCount").value || "indefinite" == this.attribute("repeatDur").value) this.duration = 0;
                    else if ("freeze" != this.attribute("fill").valueOrDefault("remove") || this.frozen) {
                        if ("remove" == this.attribute("fill").valueOrDefault("remove") && !this.removed) return this.removed = !0, this.getProperty().value = this.parent.animationFrozen ? this.parent.animationFrozenValue : this.initialValue, !0
                    } else this.frozen = !0, this.parent.animationFrozen = !0, this.parent.animationFrozenValue = this.getProperty().value;
                    return !1
                }
                this.duration = this.duration + t;
                var e = !1;
                if (this.begin < this.duration) {
                    var i = this.calcValue();
                    if (this.attribute("type").hasValue()) {
                        var n = this.attribute("type").value;
                        i = n + "(" + i + ")"
                    }
                    this.getProperty().value = i, e = !0
                }
                return e
            }, this.from = this.attribute("from"), this.to = this.attribute("to"), this.values = this.attribute("values"), this.values.hasValue() && (this.values.value = this.values.value.split(";")), this.progress = function() {
                var t = {
                    progress: (this.duration - this.begin) / (this.maxDuration - this.begin)
                };
                if (this.values.hasValue()) {
                    var e = t.progress * (this.values.value.length - 1),
                        i = Math.floor(e),
                        n = Math.ceil(e);
                    t.from = new o.Property("from", parseFloat(this.values.value[i])), t.to = new o.Property("to", parseFloat(this.values.value[n])), t.progress = (e - i) / (n - i)
                } else t.from = this.from, t.to = this.to;
                return t
            }
        }, o.Element.AnimateBase.prototype = new o.Element.ElementBase, o.Element.animate = function(t) {
            this.base = o.Element.AnimateBase, this.base(t), this.calcValue = function() {
                var t = this.progress(),
                    e = t.from.numValue() + (t.to.numValue() - t.from.numValue()) * t.progress;
                return e + this.initialUnits
            }
        }, o.Element.animate.prototype = new o.Element.AnimateBase, o.Element.animateColor = function(e) {
            this.base = o.Element.AnimateBase, this.base(e), this.calcValue = function() {
                var e = this.progress(),
                    i = new t(e.from.value),
                    n = new t(e.to.value);
                if (i.ok && n.ok) {
                    var s = i.r + (n.r - i.r) * e.progress,
                        a = i.g + (n.g - i.g) * e.progress,
                        r = i.b + (n.b - i.b) * e.progress;
                    return "rgb(" + parseInt(s, 10) + "," + parseInt(a, 10) + "," + parseInt(r, 10) + ")"
                }
                return this.attribute("from").value
            }
        }, o.Element.animateColor.prototype = new o.Element.AnimateBase, o.Element.animateTransform = function(t) {
            this.base = o.Element.AnimateBase, this.base(t), this.calcValue = function() {
                for (var t = this.progress(), e = o.ToNumberArray(t.from.value), i = o.ToNumberArray(t.to.value), n = "", s = 0; s < e.length; s++) n += e[s] + (i[s] - e[s]) * t.progress + " ";
                return n
            }
        }, o.Element.animateTransform.prototype = new o.Element.animate, o.Element.font = function(t) {
            this.base = o.Element.ElementBase, this.base(t), this.horizAdvX = this.attribute("horiz-adv-x").numValue(), this.isRTL = !1, this.isArabic = !1, this.fontFace = null, this.missingGlyph = null, this.glyphs = [];
            for (var e = 0; e < this.children.length; e++) {
                var i = this.children[e];
                "font-face" == i.type ? (this.fontFace = i, i.style("font-family").hasValue() && (o.Definitions[i.style("font-family").value] = this)) : "missing-glyph" == i.type ? this.missingGlyph = i : "glyph" == i.type && ("" != i.arabicForm ? (this.isRTL = !0, this.isArabic = !0, "undefined" == typeof this.glyphs[i.unicode] && (this.glyphs[i.unicode] = []), this.glyphs[i.unicode][i.arabicForm] = i) : this.glyphs[i.unicode] = i)
            }
        }, o.Element.font.prototype = new o.Element.ElementBase, o.Element.fontface = function(t) {
            this.base = o.Element.ElementBase, this.base(t), this.ascent = this.attribute("ascent").value, this.descent = this.attribute("descent").value, this.unitsPerEm = this.attribute("units-per-em").numValue()
        }, o.Element.fontface.prototype = new o.Element.ElementBase, o.Element.missingglyph = function(t) {
            this.base = o.Element.path, this.base(t), this.horizAdvX = 0
        }, o.Element.missingglyph.prototype = new o.Element.path, o.Element.glyph = function(t) {
            this.base = o.Element.path, this.base(t), this.horizAdvX = this.attribute("horiz-adv-x").numValue(), this.unicode = this.attribute("unicode").value, this.arabicForm = this.attribute("arabic-form").value
        }, o.Element.glyph.prototype = new o.Element.path, o.Element.text = function(t) {
            this.captureTextNodes = !0, this.base = o.Element.RenderedElementBase, this.base(t), this.baseSetContext = this.setContext, this.setContext = function(t) {
                this.baseSetContext(t);
                var e = this.style("dominant-baseline").toTextBaseline();
                null == e && (e = this.style("alignment-baseline").toTextBaseline()), null != e && (t.textBaseline = e)
            }, this.getBoundingBox = function() {
                var t = this.attribute("x").toPixels("x"),
                    e = this.attribute("y").toPixels("y"),
                    i = this.parent.style("font-size").numValueOrDefault(o.Font.Parse(o.ctx.font).fontSize);
                return new o.BoundingBox(t, e - i, t + Math.floor(2 * i / 3) * this.children[0].getText().length, e)
            }, this.renderChildren = function(t) {
                this.x = this.attribute("x").toPixels("x"), this.y = this.attribute("y").toPixels("y"), this.attribute("dx").hasValue() && (this.x += this.attribute("dx").toPixels("x")), this.attribute("dy").hasValue() && (this.y += this.attribute("dy").toPixels("y")), this.x += this.getAnchorDelta(t, this, 0);
                for (var e = 0; e < this.children.length; e++) this.renderChild(t, this, this, e)
            }, this.getAnchorDelta = function(t, e, i) {
                var n = this.style("text-anchor").valueOrDefault("start");
                if ("start" != n) {
                    for (var s = 0, a = i; a < e.children.length; a++) {
                        var r = e.children[a];
                        if (a > i && r.attribute("x").hasValue()) break;
                        s += r.measureTextRecursive(t)
                    }
                    return -1 * ("end" == n ? s : s / 2)
                }
                return 0
            }, this.renderChild = function(t, e, i, n) {
                var s = i.children[n];
                s.attribute("x").hasValue() ? (s.x = s.attribute("x").toPixels("x") + e.getAnchorDelta(t, i, n), s.attribute("dx").hasValue() && (s.x += s.attribute("dx").toPixels("x"))) : (s.attribute("dx").hasValue() && (e.x += s.attribute("dx").toPixels("x")), s.x = e.x), e.x = s.x + s.measureText(t), s.attribute("y").hasValue() ? (s.y = s.attribute("y").toPixels("y"), s.attribute("dy").hasValue() && (s.y += s.attribute("dy").toPixels("y"))) : (s.attribute("dy").hasValue() && (e.y += s.attribute("dy").toPixels("y")), s.y = e.y), e.y = s.y, s.render(t);
                for (var n = 0; n < s.children.length; n++) e.renderChild(t, e, s, n)
            }
        }, o.Element.text.prototype = new o.Element.RenderedElementBase, o.Element.TextElementBase = function(t) {
            this.base = o.Element.RenderedElementBase, this.base(t), this.getGlyph = function(t, e, i) {
                var n = e[i],
                    s = null;
                if (t.isArabic) {
                    var a = "isolated";
                    (0 == i || " " == e[i - 1]) && i < e.length - 2 && " " != e[i + 1] && (a = "terminal"), i > 0 && " " != e[i - 1] && i < e.length - 2 && " " != e[i + 1] && (a = "medial"), i > 0 && " " != e[i - 1] && (i == e.length - 1 || " " == e[i + 1]) && (a = "initial"), "undefined" != typeof t.glyphs[n] && (s = t.glyphs[n][a], null == s && "glyph" == t.glyphs[n].type && (s = t.glyphs[n]))
                } else s = t.glyphs[n];
                return null == s && (s = t.missingGlyph), s
            }, this.renderChildren = function(t) {
                var e = this.parent.style("font-family").getDefinition();
                if (null == e) "stroke" == t.paintOrder ? ("" != t.strokeStyle && t.strokeText(o.compressSpaces(this.getText()), this.x, this.y), "" != t.fillStyle && t.fillText(o.compressSpaces(this.getText()), this.x, this.y)) : ("" != t.fillStyle && t.fillText(o.compressSpaces(this.getText()), this.x, this.y), "" != t.strokeStyle && t.strokeText(o.compressSpaces(this.getText()), this.x, this.y));
                else {
                    var i = this.parent.style("font-size").numValueOrDefault(o.Font.Parse(o.ctx.font).fontSize),
                        n = this.parent.style("font-style").valueOrDefault(o.Font.Parse(o.ctx.font).fontStyle),
                        s = this.getText();
                    e.isRTL && (s = s.split("").reverse().join(""));
                    for (var a = o.ToNumberArray(this.parent.attribute("dx").value), r = 0; r < s.length; r++) {
                        var l = this.getGlyph(e, s, r),
                            h = i / e.fontFace.unitsPerEm;
                        t.translate(this.x, this.y), t.scale(h, -h);
                        var u = t.lineWidth;
                        t.lineWidth = t.lineWidth * e.fontFace.unitsPerEm / i, "italic" == n && t.transform(1, 0, .4, 1, 0, 0), l.render(t), "italic" == n && t.transform(1, 0, -.4, 1, 0, 0), t.lineWidth = u, t.scale(1 / h, -1 / h), t.translate(-this.x, -this.y), this.x += i * (l.horizAdvX || e.horizAdvX) / e.fontFace.unitsPerEm, "undefined" == typeof a[r] || isNaN(a[r]) || (this.x += a[r])
                    }
                }
            }, this.getText = function() {}, this.measureTextRecursive = function(t) {
                for (var e = this.measureText(t), i = 0; i < this.children.length; i++) e += this.children[i].measureTextRecursive(t);
                return e
            }, this.measureText = function(t) {
                var e = this.parent.style("font-family").getDefinition();
                if (null != e) {
                    var i = this.parent.style("font-size").numValueOrDefault(o.Font.Parse(o.ctx.font).fontSize),
                        n = 0,
                        s = this.getText();
                    e.isRTL && (s = s.split("").reverse().join(""));
                    for (var a = o.ToNumberArray(this.parent.attribute("dx").value), r = 0; r < s.length; r++) {
                        var l = this.getGlyph(e, s, r);
                        n += (l.horizAdvX || e.horizAdvX) * i / e.fontFace.unitsPerEm, "undefined" == typeof a[r] || isNaN(a[r]) || (n += a[r])
                    }
                    return n
                }
                var h = o.compressSpaces(this.getText());
                if (!t.measureText) return 10 * h.length;
                t.save(), this.setContext(t);
                var u = t.measureText(h).width;
                return t.restore(), u
            }
        }, o.Element.TextElementBase.prototype = new o.Element.RenderedElementBase, o.Element.tspan = function(t) {
            this.captureTextNodes = !0, this.base = o.Element.TextElementBase, this.base(t), this.text = o.compressSpaces(t.value || t.text || t.textContent || ""), this.getText = function() {
                return this.children.length > 0 ? "" : this.text
            }
        }, o.Element.tspan.prototype = new o.Element.TextElementBase, o.Element.tref = function(t) {
            this.base = o.Element.TextElementBase, this.base(t), this.getText = function() {
                var t = this.getHrefAttribute().getDefinition();
                if (null != t) return t.children[0].getText()
            }
        }, o.Element.tref.prototype = new o.Element.TextElementBase, o.Element.a = function(t) {
            this.base = o.Element.TextElementBase, this.base(t), this.hasText = t.childNodes.length > 0;
            for (var e = 0; e < t.childNodes.length; e++) 3 != t.childNodes[e].nodeType && (this.hasText = !1);
            this.text = this.hasText ? t.childNodes[0].value || t.childNodes[0].data : "", this.getText = function() {
                return this.text
            }, this.baseRenderChildren = this.renderChildren, this.renderChildren = function(t) {
                if (this.hasText) {
                    this.baseRenderChildren(t);
                    var e = new o.Property("fontSize", o.Font.Parse(o.ctx.font).fontSize);
                    o.Mouse.checkBoundingBox(this, new o.BoundingBox(this.x, this.y - e.toPixels("y"), this.x + this.measureText(t), this.y))
                } else if (this.children.length > 0) {
                    var i = new o.Element.g;
                    i.children = this.children, i.parent = this, i.render(t)
                }
            }, this.onclick = function() {
                a.open(this.getHrefAttribute().value)
            }, this.onmousemove = function() {
                o.ctx.canvas.style.cursor = "pointer"
            }
        }, o.Element.a.prototype = new o.Element.TextElementBase, o.Element.image = function(t) {
            this.base = o.Element.RenderedElementBase, this.base(t);
            var e = this.getHrefAttribute().value;
            if ("" != e) {
                var i = e.match(/\.svg$/);
                if (o.Images.push(this), this.loaded = !1, i) this.img = o.ajax(e), this.loaded = !0;
                else {
                    this.img = l ? new r : document.createElement("img"), 1 == o.opts.useCORS && (this.img.crossOrigin = "Anonymous");
                    var n = this;
                    this.img.onload = function() {
                        n.loaded = !0
                    }, this.img.onerror = function() {
                        o.log('ERROR: image "' + e + '" not found'), n.loaded = !0
                    }, this.img.src = e
                }
                this.renderChildren = function(t) {
                    var e = this.attribute("x").toPixels("x"),
                        s = this.attribute("y").toPixels("y"),
                        a = this.attribute("width").toPixels("x"),
                        r = this.attribute("height").toPixels("y");
                    0 != a && 0 != r && (t.save(), i ? t.drawSvg(this.img, e, s, a, r) : (t.translate(e, s), o.AspectRatio(t, this.attribute("preserveAspectRatio").value, a, this.img.width, r, this.img.height, 0, 0), n.loaded && (void 0 === this.img.complete || this.img.complete) && t.drawImage(this.img, 0, 0)), t.restore())
                }, this.getBoundingBox = function() {
                    var t = this.attribute("x").toPixels("x"),
                        e = this.attribute("y").toPixels("y"),
                        i = this.attribute("width").toPixels("x"),
                        n = this.attribute("height").toPixels("y");
                    return new o.BoundingBox(t, e, t + i, e + n)
                }
            }
        }, o.Element.image.prototype = new o.Element.RenderedElementBase, o.Element.g = function(t) {
            this.base = o.Element.RenderedElementBase, this.base(t), this.getBoundingBox = function() {
                for (var t = new o.BoundingBox, e = 0; e < this.children.length; e++) t.addBoundingBox(this.children[e].getBoundingBox());
                return t
            }
        }, o.Element.g.prototype = new o.Element.RenderedElementBase, o.Element.symbol = function(t) {
            this.base = o.Element.RenderedElementBase, this.base(t), this.render = function(t) {}
        }, o.Element.symbol.prototype = new o.Element.RenderedElementBase, o.Element.style = function(t) {
            this.base = o.Element.ElementBase, this.base(t);
            for (var e = "", i = 0; i < t.childNodes.length; i++) e += t.childNodes[i].data;
            e = e.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm, ""), e = o.compressSpaces(e);
            for (var s = e.split("}"), i = 0; i < s.length; i++)
                if ("" != o.trim(s[i]))
                    for (var a = s[i].split("{"), r = a[0].split(","), h = a[1].split(";"), u = 0; u < r.length; u++) {
                        var f = o.trim(r[u]);
                        if ("" != f) {
                            for (var c = o.Styles[f] || {}, p = 0; p < h.length; p++) {
                                var d = h[p].indexOf(":"),
                                    m = h[p].substr(0, d),
                                    y = h[p].substr(d + 1, h[p].length - d);
                                null != m && null != y && (c[o.trim(m)] = new o.Property(o.trim(m), o.trim(y)))
                            }
                            if (o.Styles[f] = c, o.StylesSpecificity[f] = n(f), "@font-face" == f && !l)
                                for (var v = c["font-family"].value.replace(/"/g, ""), g = c.src.value.split(","), x = 0; x < g.length; x++)
                                    if (g[x].indexOf('format("svg")') > 0)
                                        for (var b = g[x].indexOf("url"), P = g[x].indexOf(")", b), E = g[x].substr(b + 5, P - b - 6), w = o.parseXml(o.ajax(E)), B = w.getElementsByTagName("font"), C = 0; C < B.length; C++) {
                                            var T = o.CreateElement(B[C]);
                                            o.Definitions[v] = T
                                        }
                        }
                    }
        }, o.Element.style.prototype = new o.Element.ElementBase, o.Element.use = function(t) {
            this.base = o.Element.RenderedElementBase, this.base(t), this.baseSetContext = this.setContext, this.setContext = function(t) {
                this.baseSetContext(t), this.attribute("x").hasValue() && t.translate(this.attribute("x").toPixels("x"), 0), this.attribute("y").hasValue() && t.translate(0, this.attribute("y").toPixels("y"))
            };
            var e = this.getHrefAttribute().getDefinition();
            this.path = function(t) {
                null != e && e.path(t)
            }, this.getBoundingBox = function() {
                if (null != e) return e.getBoundingBox()
            }, this.renderChildren = function(t) {
                if (null != e) {
                    var i = e;
                    "symbol" == e.type && (i = new o.Element.svg, i.type = "svg", i.attributes.viewBox = new o.Property("viewBox", e.attribute("viewBox").value), i.attributes.preserveAspectRatio = new o.Property("preserveAspectRatio", e.attribute("preserveAspectRatio").value), i.attributes.overflow = new o.Property("overflow", e.attribute("overflow").value), i.children = e.children), "svg" == i.type && (this.attribute("width").hasValue() && (i.attributes.width = new o.Property("width", this.attribute("width").value)), this.attribute("height").hasValue() && (i.attributes.height = new o.Property("height", this.attribute("height").value)));
                    var n = i.parent;
                    i.parent = null, i.render(t), i.parent = n
                }
            }
        }, o.Element.use.prototype = new o.Element.RenderedElementBase, o.Element.mask = function(t) {
            this.base = o.Element.ElementBase, this.base(t), this.apply = function(t, e) {
                var n = this.attribute("x").toPixels("x"),
                    s = this.attribute("y").toPixels("y"),
                    a = this.attribute("width").toPixels("x"),
                    r = this.attribute("height").toPixels("y");
                if (0 == a && 0 == r) {
                    for (var l = new o.BoundingBox, h = 0; h < this.children.length; h++) l.addBoundingBox(this.children[h].getBoundingBox());
                    var n = Math.floor(l.x1),
                        s = Math.floor(l.y1),
                        a = Math.floor(l.width()),
                        r = Math.floor(l.height())
                }
                var u = e.attribute("mask").value;
                e.attribute("mask").value = "";
                var f = i();
                f.width = n + a, f.height = s + r;
                var c = f.getContext("2d");
                this.renderChildren(c);
                var p = i();
                p.width = n + a, p.height = s + r;
                var d = p.getContext("2d");
                e.render(d), d.globalCompositeOperation = "destination-in", d.fillStyle = c.createPattern(f, "no-repeat"), d.fillRect(0, 0, n + a, s + r), t.fillStyle = d.createPattern(p, "no-repeat"), t.fillRect(0, 0, n + a, s + r), e.attribute("mask").value = u
            }, this.render = function(t) {}
        }, o.Element.mask.prototype = new o.Element.ElementBase, o.Element.clipPath = function(t) {
            this.base = o.Element.ElementBase, this.base(t), this.apply = function(t) {
                var e = "undefined" != typeof CanvasRenderingContext2D,
                    i = t.beginPath,
                    n = t.closePath;
                e && (CanvasRenderingContext2D.prototype.beginPath = function() {}, CanvasRenderingContext2D.prototype.closePath = function() {}), i.call(t);
                for (var s = 0; s < this.children.length; s++) {
                    var a = this.children[s];
                    if ("undefined" != typeof a.path) {
                        var r = null;
                        a.style("transform", !1, !0).hasValue() && (r = new o.Transform(a.style("transform", !1, !0).value), r.apply(t)), a.path(t), e && (CanvasRenderingContext2D.prototype.closePath = n), r && r.unapply(t)
                    }
                }
                n.call(t), t.clip(), e && (CanvasRenderingContext2D.prototype.beginPath = i, CanvasRenderingContext2D.prototype.closePath = n)
            }, this.render = function(t) {}
        }, o.Element.clipPath.prototype = new o.Element.ElementBase, o.Element.filter = function(t) {
            this.base = o.Element.ElementBase, this.base(t), this.apply = function(t, e) {
                var n = e.getBoundingBox(),
                    s = Math.floor(n.x1),
                    a = Math.floor(n.y1),
                    r = Math.floor(n.width()),
                    o = Math.floor(n.height()),
                    l = e.style("filter").value;
                e.style("filter").value = "";
                for (var h = 0, u = 0, f = 0; f < this.children.length; f++) {
                    var c = this.children[f].extraFilterDistance || 0;
                    h = Math.max(h, c), u = Math.max(u, c)
                }
                var p = i();
                p.width = r + 2 * h, p.height = o + 2 * u;
                var d = p.getContext("2d");
                d.translate(-s + h, -a + u), e.render(d);
                for (var f = 0; f < this.children.length; f++) "function" == typeof this.children[f].apply && this.children[f].apply(d, 0, 0, r + 2 * h, o + 2 * u);
                t.drawImage(p, 0, 0, r + 2 * h, o + 2 * u, s - h, a - u, r + 2 * h, o + 2 * u), e.style("filter", !0).value = l
            }, this.render = function(t) {}
        }, o.Element.filter.prototype = new o.Element.ElementBase, o.Element.feMorphology = function(t) {
            this.base = o.Element.ElementBase, this.base(t), this.apply = function(t, e, i, n, s) {}
        }, o.Element.feMorphology.prototype = new o.Element.ElementBase, o.Element.feComposite = function(t) {
            this.base = o.Element.ElementBase, this.base(t), this.apply = function(t, e, i, n, s) {}
        }, o.Element.feComposite.prototype = new o.Element.ElementBase, o.Element.feColorMatrix = function(t) {
            function e(t, e, i, n, s, a) {
                return t[i * n * 4 + 4 * e + a]
            }

            function i(t, e, i, n, s, a, r) {
                t[i * n * 4 + 4 * e + a] = r
            }

            function n(t, e) {
                var i = s[t];
                return i * (i < 0 ? e - 255 : e)
            }
            this.base = o.Element.ElementBase, this.base(t);
            var s = o.ToNumberArray(this.attribute("values").value);
            switch (this.attribute("type").valueOrDefault("matrix")) {
                case "saturate":
                    var a = s[0];
                    s = [.213 + .787 * a, .715 - .715 * a, .072 - .072 * a, 0, 0, .213 - .213 * a, .715 + .285 * a, .072 - .072 * a, 0, 0, .213 - .213 * a, .715 - .715 * a, .072 + .928 * a, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1];
                    break;
                case "hueRotate":
                    var r = s[0] * Math.PI / 180,
                        l = function(t, e, i) {
                            return t + Math.cos(r) * e + Math.sin(r) * i
                        };
                    s = [l(.213, .787, -.213), l(.715, -.715, -.715), l(.072, -.072, .928), 0, 0, l(.213, -.213, .143), l(.715, .285, .14), l(.072, -.072, -.283), 0, 0, l(.213, -.213, -.787), l(.715, -.715, .715), l(.072, .928, .072), 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1];
                    break;
                case "luminanceToAlpha":
                    s = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, .2125, .7154, .0721, 0, 0, 0, 0, 0, 0, 1]
            }
            this.apply = function(t, s, a, r, o) {
                for (var l = t.getImageData(0, 0, r, o), a = 0; a < o; a++)
                    for (var s = 0; s < r; s++) {
                        var h = e(l.data, s, a, r, o, 0),
                            u = e(l.data, s, a, r, o, 1),
                            f = e(l.data, s, a, r, o, 2),
                            c = e(l.data, s, a, r, o, 3);
                        i(l.data, s, a, r, o, 0, n(0, h) + n(1, u) + n(2, f) + n(3, c) + n(4, 1)), i(l.data, s, a, r, o, 1, n(5, h) + n(6, u) + n(7, f) + n(8, c) + n(9, 1)), i(l.data, s, a, r, o, 2, n(10, h) + n(11, u) + n(12, f) + n(13, c) + n(14, 1)), i(l.data, s, a, r, o, 3, n(15, h) + n(16, u) + n(17, f) + n(18, c) + n(19, 1))
                    }
                t.clearRect(0, 0, r, o), t.putImageData(l, 0, 0)
            }
        }, o.Element.feColorMatrix.prototype = new o.Element.ElementBase, o.Element.feGaussianBlur = function(t) {
            this.base = o.Element.ElementBase, this.base(t), this.blurRadius = Math.floor(this.attribute("stdDeviation").numValue()), this.extraFilterDistance = this.blurRadius, this.apply = function(t, i, n, s, a) {
                return "undefined" == typeof e.canvasRGBA ? void o.log("ERROR: StackBlur.js must be included for blur to work") : (t.canvas.id = o.UniqueId(), t.canvas.style.display = "none", document.body.appendChild(t.canvas), e.canvasRGBA(t.canvas.id, i, n, s, a, this.blurRadius), void document.body.removeChild(t.canvas))
            }
        }, o.Element.feGaussianBlur.prototype = new o.Element.ElementBase, o.Element.title = function(t) {}, o.Element.title.prototype = new o.Element.ElementBase, o.Element.desc = function(t) {}, o.Element.desc.prototype = new o.Element.ElementBase, o.Element.MISSING = function(t) {
            o.log("ERROR: Element '" + t.nodeName + "' not yet implemented.")
        }, o.Element.MISSING.prototype = new o.Element.ElementBase, o.CreateElement = function(t) {
            var e = t.nodeName.replace(/^[^:]+:/, "");
            e = e.replace(/\-/g, "");
            var i = null;
            return i = "undefined" != typeof o.Element[e] ? new o.Element[e](t) : new o.Element.MISSING(t), i.type = t.nodeName, i
        }, o.load = function(t, e) {
            o.loadXml(t, o.ajax(e))
        }, o.loadXml = function(t, e) {
            o.loadXmlDoc(t, o.parseXml(e))
        }, o.loadXmlDoc = function(t, e) {
            o.init(t);
            var i = function(e) {
                for (var i = t.canvas; i;) e.x -= i.offsetLeft, e.y -= i.offsetTop, i = i.offsetParent;
                return a.scrollX && (e.x += a.scrollX), a.scrollY && (e.y += a.scrollY), e
            };
            1 != o.opts.ignoreMouse && (t.canvas.onclick = function(t) {
                var e = i(new o.Point(null != t ? t.clientX : event.clientX, null != t ? t.clientY : event.clientY));
                o.Mouse.onclick(e.x, e.y)
            }, t.canvas.onmousemove = function(t) {
                var e = i(new o.Point(null != t ? t.clientX : event.clientX, null != t ? t.clientY : event.clientY));
                o.Mouse.onmousemove(e.x, e.y)
            });
            var n = o.CreateElement(e.documentElement);
            n.root = !0, n.addStylesFromStyleDefinition();
            var r = !0,
                f = function() {
                    o.ViewPort.Clear(), t.canvas.parentNode ? o.ViewPort.SetCurrent(t.canvas.parentNode.clientWidth, t.canvas.parentNode.clientHeight) : o.ViewPort.SetCurrent(h, u), 1 != o.opts.ignoreDimensions && (n.style("width").hasValue() && (t.canvas.width = n.style("width").toPixels("x"), t.canvas.style && (t.canvas.style.width = t.canvas.width + "px")), n.style("height").hasValue() && (t.canvas.height = n.style("height").toPixels("y"), t.canvas.style && (t.canvas.style.height = t.canvas.height + "px")));
                    var i = t.canvas.clientWidth || t.canvas.width,
                        s = t.canvas.clientHeight || t.canvas.height;
                    if (1 == o.opts.ignoreDimensions && n.style("width").hasValue() && n.style("height").hasValue() && (i = n.style("width").toPixels("x"), s = n.style("height").toPixels("y")), o.ViewPort.SetCurrent(i, s), null != o.opts.offsetX && (n.attribute("x", !0).value = o.opts.offsetX), null != o.opts.offsetY && (n.attribute("y", !0).value = o.opts.offsetY), null != o.opts.scaleWidth || null != o.opts.scaleHeight) {
                        var a = null,
                            l = null,
                            f = o.ToNumberArray(n.attribute("viewBox").value);
                        null != o.opts.scaleWidth && (n.attribute("width").hasValue() ? a = n.attribute("width").toPixels("x") / o.opts.scaleWidth : isNaN(f[2]) || (a = f[2] / o.opts.scaleWidth)), null != o.opts.scaleHeight && (n.attribute("height").hasValue() ? l = n.attribute("height").toPixels("y") / o.opts.scaleHeight : isNaN(f[3]) || (l = f[3] / o.opts.scaleHeight)), null == a && (a = l), null == l && (l = a), n.attribute("width", !0).value = o.opts.scaleWidth, n.attribute("height", !0).value = o.opts.scaleHeight, n.style("transform", !0, !0).value += " scale(" + 1 / a + "," + 1 / l + ")"
                    }
                    1 != o.opts.ignoreClear && t.clearRect(0, 0, i, s), n.render(t), r && (r = !1, "function" == typeof o.opts.renderCallback && o.opts.renderCallback(e))
                },
                c = !0;
            o.ImagesLoaded() && (c = !1, f()), l && !s.enableRedraw || (o.intervalID = setInterval(function() {
                var t = !1;
                if (c && o.ImagesLoaded() && (c = !1, t = !0), 1 != o.opts.ignoreMouse && (t |= o.Mouse.hasEvents()), 1 != o.opts.ignoreAnimation)
                    for (var e = 0; e < o.Animations.length; e++) t |= o.Animations[e].update(1e3 / o.FRAMERATE);
                "function" == typeof o.opts.forceRedraw && 1 == o.opts.forceRedraw() && (t = !0), t && (f(), o.Mouse.runEvents())
            }, 1e3 / o.FRAMERATE))
        }, o.stop = function() {
            o.intervalID && clearInterval(o.intervalID)
        }, o.Mouse = new function() {
            this.events = [], this.hasEvents = function() {
                return 0 != this.events.length
            }, this.onclick = function(t, e) {
                this.events.push({
                    type: "onclick",
                    x: t,
                    y: e,
                    run: function(t) {
                        t.onclick && t.onclick()
                    }
                })
            }, this.onmousemove = function(t, e) {
                this.events.push({
                    type: "onmousemove",
                    x: t,
                    y: e,
                    run: function(t) {
                        t.onmousemove && t.onmousemove()
                    }
                })
            }, this.eventElements = [], this.checkPath = function(t, e) {
                for (var i = 0; i < this.events.length; i++) {
                    var n = this.events[i];
                    e.isPointInPath && e.isPointInPath(n.x, n.y) && (this.eventElements[i] = t)
                }
            }, this.checkBoundingBox = function(t, e) {
                for (var i = 0; i < this.events.length; i++) {
                    var n = this.events[i];
                    e.isPointInBox(n.x, n.y) && (this.eventElements[i] = t)
                }
            }, this.runEvents = function() {
                o.ctx.canvas.style.cursor = "";
                for (var t = 0; t < this.events.length; t++)
                    for (var e = this.events[t], i = this.eventElements[t]; i;) e.run(i), i = i.parent;
                this.events = [], this.eventElements = []
            }
        }, o
    }
    var a, r, o, l = "undefined" != typeof module && module.exports,
        h = 800,
        u = 600;
    if (l && "undefined" == typeof window) {
        var f = require("jsdom").jsdom;
        a = f().defaultView
    } else a = window;
    a.DOMParser || (a.DOMParser = require("xmldom").DOMParser);
    var c, p = function(t, e, i) {
        if (null != t || null != e || null != i) {
            var n = s(i || {});
            if (l) {
                if (!e || "" === e) return;
                return r = i.ImageClass, o = t.constructor, void n.loadXml(t.getContext("2d"), e)
            }
            "string" == typeof t && (t = document.getElementById(t)), null != t.svg && t.svg.stop(), t.childNodes && 1 == t.childNodes.length && "OBJECT" == t.childNodes[0].nodeName || (t.svg = n);
            var a = t.getContext("2d");
            "undefined" != typeof e.documentElement ? n.loadXmlDoc(a, e) : "<" == e.substr(0, 1) ? n.loadXml(a, e) : n.load(a, e)
        } else
            for (var h = document.querySelectorAll("svg"), u = 0; u < h.length; u++) {
                var f = h[u],
                    c = document.createElement("canvas");
                c.width = f.clientWidth, c.height = f.clientHeight, f.parentNode.insertBefore(c, f), f.parentNode.removeChild(f);
                var d = document.createElement("div");
                d.appendChild(f), p(c, d.innerHTML)
            }
    };
    l ? c = function(t, e) {
        var i = t.getAttribute("class");
        if (!i || "" === i) return !1;
        i = i.split(" ");
        for (var n = 0; n < i.length; n++)
            if ("." + i[n] === e) return !0;
        return !1
    } : "undefined" == typeof Element || ("undefined" != typeof Element.prototype.matches ? c = function(t, e) {
        return t.matches(e)
    } : "undefined" != typeof Element.prototype.webkitMatchesSelector ? c = function(t, e) {
        return t.webkitMatchesSelector(e)
    } : "undefined" != typeof Element.prototype.mozMatchesSelector ? c = function(t, e) {
        return t.mozMatchesSelector(e)
    } : "undefined" != typeof Element.prototype.msMatchesSelector ? c = function(t, e) {
        return t.msMatchesSelector(e)
    } : "undefined" != typeof Element.prototype.oMatchesSelector ? c = function(t, e) {
        return t.oMatchesSelector(e)
    } : ("function" != typeof jQuery && "function" != typeof Zepto || (c = function(t, e) {
        return $(t).is(e)
    }), "undefined" == typeof c && "undefined" != typeof Sizzle && (c = Sizzle.matchesSelector)));
    var d = /(\[[^\]]+\])/g,
        m = /(#[^\s\+>~\.\[:]+)/g,
        y = /(\.[^\s\+>~\.\[:]+)/g,
        v = /(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,
        g = /(:[\w-]+\([^\)]*\))/gi,
        x = /(:[^\s\+>~\.\[:]+)/g,
        b = /([^\s\+>~\.\[:]+)/g;
    return "undefined" != typeof CanvasRenderingContext2D && (CanvasRenderingContext2D.prototype.drawSvg = function(t, e, i, n, s, a) {
        var r = {
            ignoreMouse: !0,
            ignoreAnimation: !0,
            ignoreDimensions: !0,
            ignoreClear: !0,
            offsetX: e,
            offsetY: i,
            scaleWidth: n,
            scaleHeight: s
        };
        for (var o in a) a.hasOwnProperty(o) && (r[o] = a[o]);
        p(this.canvas, t, r)
    }), p
});
! function(e) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : e("object" == typeof exports ? require("jquery") : jQuery)
}(function(e) {
    "use strict";

    function t(e) {
        for (var t, n = e.split(/\s+/), o = [], a = 0; t = n[a]; a++) t = t.charAt(0).toUpperCase(), o.push(t);
        return o
    }

    function n(t) {
        return t.id && e('label[for="' + t.id + '"]').val() || t.name
    }

    function o(t, a, s) {
        return s || (s = 0), a.each(function() {
            var a, i, c = e(this),
                r = this,
                l = this.nodeName.toLowerCase();
            switch ("label" === l && c.find("input, textarea, select").length && (a = c.text(), c = c.children().first(), r = c.get(0), l = r.nodeName.toLowerCase()), l) {
                case "menu":
                    i = {
                        name: c.attr("label"),
                        items: {}
                    }, s = o(i.items, c.children(), s);
                    break;
                case "a":
                case "button":
                    i = {
                        name: c.text(),
                        disabled: !!c.attr("disabled"),
                        callback: function() {
                            return function() {
                                c.get(0).click()
                            }
                        }()
                    };
                    break;
                case "menuitem":
                case "command":
                    switch (c.attr("type")) {
                        case void 0:
                        case "command":
                        case "menuitem":
                            i = {
                                name: c.attr("label"),
                                disabled: !!c.attr("disabled"),
                                icon: c.attr("icon"),
                                callback: function() {
                                    return function() {
                                        c.get(0).click()
                                    }
                                }()
                            };
                            break;
                        case "checkbox":
                            i = {
                                type: "checkbox",
                                disabled: !!c.attr("disabled"),
                                name: c.attr("label"),
                                selected: !!c.attr("checked")
                            };
                            break;
                        case "radio":
                            i = {
                                type: "radio",
                                disabled: !!c.attr("disabled"),
                                name: c.attr("label"),
                                radio: c.attr("radiogroup"),
                                value: c.attr("id"),
                                selected: !!c.attr("checked")
                            };
                            break;
                        default:
                            i = void 0
                    }
                    break;
                case "hr":
                    i = "-------";
                    break;
                case "input":
                    switch (c.attr("type")) {
                        case "text":
                            i = {
                                type: "text",
                                name: a || n(r),
                                disabled: !!c.attr("disabled"),
                                value: c.val()
                            };
                            break;
                        case "checkbox":
                            i = {
                                type: "checkbox",
                                name: a || n(r),
                                disabled: !!c.attr("disabled"),
                                selected: !!c.attr("checked")
                            };
                            break;
                        case "radio":
                            i = {
                                type: "radio",
                                name: a || n(r),
                                disabled: !!c.attr("disabled"),
                                radio: !!c.attr("name"),
                                value: c.val(),
                                selected: !!c.attr("checked")
                            };
                            break;
                        default:
                            i = void 0
                    }
                    break;
                case "select":
                    i = {
                        type: "select",
                        name: a || n(r),
                        disabled: !!c.attr("disabled"),
                        selected: c.val(),
                        options: {}
                    }, c.children().each(function() {
                        i.options[this.value] = e(this).text()
                    });
                    break;
                case "textarea":
                    i = {
                        type: "textarea",
                        name: a || n(r),
                        disabled: !!c.attr("disabled"),
                        value: c.val()
                    };
                    break;
                case "label":
                    break;
                default:
                    i = {
                        type: "html",
                        html: c.clone(!0)
                    }
            }
            i && (s++, t["key" + s] = i)
        }), s
    }
    e.support.htmlMenuitem = "HTMLMenuItemElement" in window, e.support.htmlCommand = "HTMLCommandElement" in window, e.support.eventSelectstart = "onselectstart" in document.documentElement, e.ui && e.widget || (e.cleanData = function(t) {
        return function(n) {
            var o, a, s;
            for (s = 0; null != n[s]; s++) {
                a = n[s];
                try {
                    o = e._data(a, "events"), o && o.remove && e(a).triggerHandler("remove")
                } catch (i) {}
            }
            t(n)
        }
    }(e.cleanData));
    var a = null,
        s = !1,
        i = e(window),
        c = 0,
        r = {},
        l = {},
        u = {},
        d = {
            selector: null,
            appendTo: null,
            trigger: "right",
            autoHide: !1,
            delay: 200,
            reposition: !0,
            hideOnSecondTrigger: !1,
            selectableSubMenu: !1,
            classNames: {
                hover: "context-menu-hover",
                disabled: "context-menu-disabled",
                visible: "context-menu-visible",
                notSelectable: "context-menu-not-selectable",
                icon: "context-menu-icon",
                iconEdit: "context-menu-icon-edit",
                iconCut: "context-menu-icon-cut",
                iconCopy: "context-menu-icon-copy",
                iconPaste: "context-menu-icon-paste",
                iconDelete: "context-menu-icon-delete",
                iconAdd: "context-menu-icon-add",
                iconQuit: "context-menu-icon-quit",
                iconLoadingClass: "context-menu-icon-loading"
            },
            determinePosition: function(t) {
                if (e.ui && e.ui.position) t.css("display", "block").position({
                    my: "center top",
                    at: "center bottom",
                    of: this,
                    offset: "0 5",
                    collision: "fit"
                }).css("display", "none");
                else {
                    var n = this.offset();
                    n.top += this.outerHeight(), n.left += this.outerWidth() / 2 - t.outerWidth() / 2, t.css(n)
                }
            },
            position: function(e, t, n) {
                var o;
                if (!t && !n) return void e.determinePosition.call(this, e.$menu);
                if ("maintain" === t && "maintain" === n) o = e.$menu.position();
                else {
                    var a = e.$menu.offsetParent().offset();
                    o = {
                        top: n - a.top,
                        left: t - a.left
                    }
                }
                var s = i.scrollTop() + i.height(),
                    c = i.scrollLeft() + i.width(),
                    r = e.$menu.outerHeight(),
                    l = e.$menu.outerWidth();
                o.top + r > s && (o.top -= r), o.top < 0 && (o.top = 0), o.left + l > c && (o.left -= l), o.left < 0 && (o.left = 0), e.$menu.css(o)
            },
            positionSubmenu: function(t) {
                if ("undefined" != typeof t)
                    if (e.ui && e.ui.position) t.css("display", "block").position({
                        my: "left top-5",
                        at: "right top",
                        of: this,
                        collision: "flipfit fit"
                    }).css("display", "");
                    else {
                        var n = {
                            top: -9,
                            left: this.outerWidth() - 5
                        };
                        t.css(n)
                    }
            },
            zIndex: 1,
            animation: {
                duration: 50,
                show: "slideDown",
                hide: "slideUp"
            },
            events: {
                show: e.noop,
                hide: e.noop,
                activated: e.noop
            },
            callback: null,
            items: {}
        },
        m = {
            timer: null,
            pageX: null,
            pageY: null
        },
        p = function(e) {
            for (var t = 0, n = e;;)
                if (t = Math.max(t, parseInt(n.css("z-index"), 10) || 0), n = n.parent(), !n || !n.length || "html body".indexOf(n.prop("nodeName").toLowerCase()) > -1) break;
            return t
        },
        f = {
            abortevent: function(e) {
                e.preventDefault(), e.stopImmediatePropagation()
            },
            contextmenu: function(t) {
                var n = e(this);
                if ("right" === t.data.trigger && (t.preventDefault(), t.stopImmediatePropagation()), !("right" !== t.data.trigger && "demand" !== t.data.trigger && t.originalEvent || !("undefined" == typeof t.mouseButton || !t.data || "left" === t.data.trigger && 0 === t.mouseButton || "right" === t.data.trigger && 2 === t.mouseButton) || n.hasClass("context-menu-active") || n.hasClass("context-menu-disabled"))) {
                    if (a = n, t.data.build) {
                        var o = t.data.build(a, t);
                        if (o === !1) return;
                        if (t.data = e.extend(!0, {}, d, t.data, o || {}), !t.data.items || e.isEmptyObject(t.data.items)) throw window.console && (console.error || console.log).call(console, "No items specified to show in contextMenu"), new Error("No Items specified");
                        t.data.$trigger = a, h.create(t.data)
                    }
                    h.show.call(n, t.data, t.pageX, t.pageY)
                }
            },
            click: function(t) {
                t.preventDefault(), t.stopImmediatePropagation(), e(this).trigger(e.Event("contextmenu", {
                    data: t.data,
                    pageX: t.pageX,
                    pageY: t.pageY
                }))
            },
            mousedown: function(t) {
                var n = e(this);
                a && a.length && !a.is(n) && a.data("contextMenu").$menu.trigger("contextmenu:hide"), 2 === t.button && (a = n.data("contextMenuActive", !0))
            },
            mouseup: function(t) {
                var n = e(this);
                n.data("contextMenuActive") && a && a.length && a.is(n) && !n.hasClass("context-menu-disabled") && (t.preventDefault(), t.stopImmediatePropagation(), a = n, n.trigger(e.Event("contextmenu", {
                    data: t.data,
                    pageX: t.pageX,
                    pageY: t.pageY
                }))), n.removeData("contextMenuActive")
            },
            mouseenter: function(t) {
                var n = e(this),
                    o = e(t.relatedTarget),
                    s = e(document);
                o.is(".context-menu-list") || o.closest(".context-menu-list").length || a && a.length || (m.pageX = t.pageX, m.pageY = t.pageY, m.data = t.data, s.on("mousemove.contextMenuShow", f.mousemove), m.timer = setTimeout(function() {
                    m.timer = null, s.off("mousemove.contextMenuShow"), a = n, n.trigger(e.Event("contextmenu", {
                        data: m.data,
                        pageX: m.pageX,
                        pageY: m.pageY
                    }))
                }, t.data.delay))
            },
            mousemove: function(e) {
                m.pageX = e.pageX, m.pageY = e.pageY
            },
            mouseleave: function(t) {
                var n = e(t.relatedTarget);
                if (!n.is(".context-menu-list") && !n.closest(".context-menu-list").length) {
                    try {
                        clearTimeout(m.timer)
                    } catch (t) {}
                    m.timer = null
                }
            },
            layerClick: function(t) {
                var n, o, a = e(this),
                    s = a.data("contextMenuRoot"),
                    c = t.button,
                    r = t.pageX,
                    l = t.pageY,
                    u = void 0 === r;
                t.preventDefault(), setTimeout(function() {
                    if (u) return void(null !== s && "undefined" != typeof s && null !== s.$menu && "undefined" != typeof s.$menu && s.$menu.trigger("contextmenu:hide"));
                    var a, d = "left" === s.trigger && 0 === c || "right" === s.trigger && 2 === c;
                    if (document.elementFromPoint && s.$layer) {
                        if (s.$layer.hide(), n = document.elementFromPoint(r - i.scrollLeft(), l - i.scrollTop()), n.isContentEditable) {
                            var m = document.createRange(),
                                p = window.getSelection();
                            m.selectNode(n), m.collapse(!0), p.removeAllRanges(), p.addRange(m)
                        }
                        e(n).trigger(t), s.$layer.show()
                    }
                    if (s.hideOnSecondTrigger && d && null !== s.$menu && "undefined" != typeof s.$menu) return void s.$menu.trigger("contextmenu:hide");
                    if (s.reposition && d)
                        if (document.elementFromPoint) {
                            if (s.$trigger.is(n)) return void s.position.call(s.$trigger, s, r, l)
                        } else if (o = s.$trigger.offset(), a = e(window), o.top += a.scrollTop(), o.top <= t.pageY && (o.left += a.scrollLeft(), o.left <= t.pageX && (o.bottom = o.top + s.$trigger.outerHeight(), o.bottom >= t.pageY && (o.right = o.left + s.$trigger.outerWidth(), o.right >= t.pageX)))) return void s.position.call(s.$trigger, s, r, l);
                    n && d && s.$trigger.one("contextmenu:hidden", function() {
                        e(n).contextMenu({
                            x: r,
                            y: l,
                            button: c
                        })
                    }), null !== s && "undefined" != typeof s && null !== s.$menu && "undefined" != typeof s.$menu && s.$menu.trigger("contextmenu:hide")
                }, 50)
            },
            keyStop: function(e, t) {
                t.isInput || e.preventDefault(), e.stopPropagation()
            },
            key: function(e) {
                var t = {};
                a && (t = a.data("contextMenu") || {}), "undefined" == typeof t.zIndex && (t.zIndex = 0);
                var n = 0,
                    o = function(e) {
                        "" !== e.style.zIndex ? n = e.style.zIndex : null !== e.offsetParent && "undefined" != typeof e.offsetParent ? o(e.offsetParent) : null !== e.parentElement && "undefined" != typeof e.parentElement && o(e.parentElement)
                    };
                if (o(e.target), !(t.$menu && parseInt(n, 10) > parseInt(t.$menu.css("zIndex"), 10))) {
                    switch (e.keyCode) {
                        case 9:
                        case 38:
                            if (f.keyStop(e, t), t.isInput) {
                                if (9 === e.keyCode && e.shiftKey) return e.preventDefault(), t.$selected && t.$selected.find("input, textarea, select").blur(), void(null !== t.$menu && "undefined" != typeof t.$menu && t.$menu.trigger("prevcommand"));
                                if (38 === e.keyCode && "checkbox" === t.$selected.find("input, textarea, select").prop("type")) return void e.preventDefault()
                            } else if (9 !== e.keyCode || e.shiftKey) return void(null !== t.$menu && "undefined" != typeof t.$menu && t.$menu.trigger("prevcommand"));
                            break;
                        case 40:
                            if (f.keyStop(e, t), !t.isInput) return void(null !== t.$menu && "undefined" != typeof t.$menu && t.$menu.trigger("nextcommand"));
                            if (9 === e.keyCode) return e.preventDefault(), t.$selected && t.$selected.find("input, textarea, select").blur(), void(null !== t.$menu && "undefined" != typeof t.$menu && t.$menu.trigger("nextcommand"));
                            if (40 === e.keyCode && "checkbox" === t.$selected.find("input, textarea, select").prop("type")) return void e.preventDefault();
                            break;
                        case 37:
                            if (f.keyStop(e, t), t.isInput || !t.$selected || !t.$selected.length) break;
                            if (!t.$selected.parent().hasClass("context-menu-root")) {
                                var s = t.$selected.parent().parent();
                                return t.$selected.trigger("contextmenu:blur"), void(t.$selected = s)
                            }
                            break;
                        case 39:
                            if (f.keyStop(e, t), t.isInput || !t.$selected || !t.$selected.length) break;
                            var i = t.$selected.data("contextMenu") || {};
                            if (i.$menu && t.$selected.hasClass("context-menu-submenu")) return t.$selected = null, i.$selected = null, void i.$menu.trigger("nextcommand");
                            break;
                        case 35:
                        case 36:
                            return t.$selected && t.$selected.find("input, textarea, select").length ? void 0 : ((t.$selected && t.$selected.parent() || t.$menu).children(":not(." + t.classNames.disabled + ", ." + t.classNames.notSelectable + ")")[36 === e.keyCode ? "first" : "last"]().trigger("contextmenu:focus"), void e.preventDefault());
                        case 13:
                            if (f.keyStop(e, t), t.isInput) {
                                if (t.$selected && !t.$selected.is("textarea, select")) return void e.preventDefault();
                                break
                            }
                            return void("undefined" != typeof t.$selected && null !== t.$selected && t.$selected.trigger("mouseup"));
                        case 32:
                        case 33:
                        case 34:
                            return void f.keyStop(e, t);
                        case 27:
                            return f.keyStop(e, t), void(null !== t.$menu && "undefined" != typeof t.$menu && t.$menu.trigger("contextmenu:hide"));
                        default:
                            var c = String.fromCharCode(e.keyCode).toUpperCase();
                            if (t.accesskeys && t.accesskeys[c]) return void t.accesskeys[c].$node.trigger(t.accesskeys[c].$menu ? "contextmenu:focus" : "mouseup")
                    }
                    e.stopPropagation(), "undefined" != typeof t.$selected && null !== t.$selected && t.$selected.trigger(e)
                }
            },
            prevItem: function(t) {
                t.stopPropagation();
                var n = e(this).data("contextMenu") || {},
                    o = e(this).data("contextMenuRoot") || {};
                if (n.$selected) {
                    var a = n.$selected;
                    n = n.$selected.parent().data("contextMenu") || {}, n.$selected = a
                }
                for (var s = n.$menu.children(), i = n.$selected && n.$selected.prev().length ? n.$selected.prev() : s.last(), c = i; i.hasClass(o.classNames.disabled) || i.hasClass(o.classNames.notSelectable) || i.is(":hidden");)
                    if (i = i.prev().length ? i.prev() : s.last(), i.is(c)) return;
                n.$selected && f.itemMouseleave.call(n.$selected.get(0), t), f.itemMouseenter.call(i.get(0), t);
                var r = i.find("input, textarea, select");
                r.length && r.focus()
            },
            nextItem: function(t) {
                t.stopPropagation();
                var n = e(this).data("contextMenu") || {},
                    o = e(this).data("contextMenuRoot") || {};
                if (n.$selected) {
                    var a = n.$selected;
                    n = n.$selected.parent().data("contextMenu") || {}, n.$selected = a
                }
                for (var s = n.$menu.children(), i = n.$selected && n.$selected.next().length ? n.$selected.next() : s.first(), c = i; i.hasClass(o.classNames.disabled) || i.hasClass(o.classNames.notSelectable) || i.is(":hidden");)
                    if (i = i.next().length ? i.next() : s.first(), i.is(c)) return;
                n.$selected && f.itemMouseleave.call(n.$selected.get(0), t), f.itemMouseenter.call(i.get(0), t);
                var r = i.find("input, textarea, select");
                r.length && r.focus()
            },
            focusInput: function() {
                var t = e(this).closest(".context-menu-item"),
                    n = t.data(),
                    o = n.contextMenu,
                    a = n.contextMenuRoot;
                a.$selected = o.$selected = t, a.isInput = o.isInput = !0
            },
            blurInput: function() {
                var t = e(this).closest(".context-menu-item"),
                    n = t.data(),
                    o = n.contextMenu,
                    a = n.contextMenuRoot;
                a.isInput = o.isInput = !1
            },
            menuMouseenter: function() {
                var t = e(this).data().contextMenuRoot;
                t.hovering = !0
            },
            menuMouseleave: function(t) {
                var n = e(this).data().contextMenuRoot;
                n.$layer && n.$layer.is(t.relatedTarget) && (n.hovering = !1)
            },
            itemMouseenter: function(t) {
                var n = e(this),
                    o = n.data(),
                    a = o.contextMenu,
                    s = o.contextMenuRoot;
                return s.hovering = !0, t && s.$layer && s.$layer.is(t.relatedTarget) && (t.preventDefault(), t.stopImmediatePropagation()), (a.$menu ? a : s).$menu.children("." + s.classNames.hover).trigger("contextmenu:blur").children(".hover").trigger("contextmenu:blur"), n.hasClass(s.classNames.disabled) || n.hasClass(s.classNames.notSelectable) ? void(a.$selected = null) : void n.trigger("contextmenu:focus")
            },
            itemMouseleave: function(t) {
                var n = e(this),
                    o = n.data(),
                    a = o.contextMenu,
                    s = o.contextMenuRoot;
                return s !== a && s.$layer && s.$layer.is(t.relatedTarget) ? ("undefined" != typeof s.$selected && null !== s.$selected && s.$selected.trigger("contextmenu:blur"), t.preventDefault(), t.stopImmediatePropagation(), void(s.$selected = a.$selected = a.$node)) : void(a && a.$menu && a.$menu.hasClass("context-menu-visible") || n.trigger("contextmenu:blur"))
            },
            itemClick: function(t) {
                var n, o = e(this),
                    a = o.data(),
                    s = a.contextMenu,
                    i = a.contextMenuRoot,
                    c = a.contextMenuKey;
                if (!(!s.items[c] || o.is("." + i.classNames.disabled + ", .context-menu-separator, ." + i.classNames.notSelectable) || o.is(".context-menu-submenu") && i.selectableSubMenu === !1)) {
                    if (t.preventDefault(), t.stopImmediatePropagation(), e.isFunction(s.callbacks[c]) && Object.prototype.hasOwnProperty.call(s.callbacks, c)) n = s.callbacks[c];
                    else {
                        if (!e.isFunction(i.callback)) return;
                        n = i.callback
                    }
                    n.call(i.$trigger, c, i, t) !== !1 ? i.$menu.trigger("contextmenu:hide") : i.$menu.parent().length && h.update.call(i.$trigger, i)
                }
            },
            inputClick: function(e) {
                e.stopImmediatePropagation()
            },
            hideMenu: function(t, n) {
                var o = e(this).data("contextMenuRoot");
                h.hide.call(o.$trigger, o, n && n.force)
            },
            focusItem: function(t) {
                t.stopPropagation();
                var n = e(this),
                    o = n.data(),
                    a = o.contextMenu,
                    s = o.contextMenuRoot;
                n.hasClass(s.classNames.disabled) || n.hasClass(s.classNames.notSelectable) || (n.addClass([s.classNames.hover, s.classNames.visible].join(" ")).parent().find(".context-menu-item").not(n).removeClass(s.classNames.visible).filter("." + s.classNames.hover).trigger("contextmenu:blur"), a.$selected = s.$selected = n, a && a.$node && a.$node.hasClass("context-menu-submenu") && a.$node.addClass(s.classNames.hover), a.$node && s.positionSubmenu.call(a.$node, a.$menu))
            },
            blurItem: function(t) {
                t.stopPropagation();
                var n = e(this),
                    o = n.data(),
                    a = o.contextMenu,
                    s = o.contextMenuRoot;
                a.autoHide && n.removeClass(s.classNames.visible), n.removeClass(s.classNames.hover), a.$selected = null
            }
        },
        h = {
            show: function(t, n, o) {
                var s = e(this),
                    i = {};
                if (e("#context-menu-layer").trigger("mousedown"), t.$trigger = s, t.events.show.call(s, t) === !1) return void(a = null);
                var c = h.update.call(s, t);
                if (c === !1) return void(a = null);
                if (t.position.call(s, t, n, o), t.zIndex) {
                    var r = t.zIndex;
                    "function" == typeof t.zIndex && (r = t.zIndex.call(s, t)), i.zIndex = p(s) + r
                }
                h.layer.call(t.$menu, t, i.zIndex), t.$menu.find("ul").css("zIndex", i.zIndex + 1), t.$menu.css(i)[t.animation.show](t.animation.duration, function() {
                    s.trigger("contextmenu:visible"), h.activated(t), t.events.activated(t)
                }), s.data("contextMenu", t).addClass("context-menu-active"), e(document).off("keydown.contextMenu").on("keydown.contextMenu", f.key), t.autoHide && e(document).on("mousemove.contextMenuAutoHide", function(e) {
                    var n = s.offset();
                    n.right = n.left + s.outerWidth(), n.bottom = n.top + s.outerHeight(), !t.$layer || t.hovering || e.pageX >= n.left && e.pageX <= n.right && e.pageY >= n.top && e.pageY <= n.bottom || setTimeout(function() {
                        t.hovering || null === t.$menu || "undefined" == typeof t.$menu || t.$menu.trigger("contextmenu:hide")
                    }, 50)
                })
            },
            hide: function(t, n) {
                var o = e(this);
                if (t || (t = o.data("contextMenu") || {}), n || !t.events || t.events.hide.call(o, t) !== !1) {
                    if (o.removeData("contextMenu").removeClass("context-menu-active"), t.$layer) {
                        setTimeout(function(e) {
                            return function() {
                                e.remove()
                            }
                        }(t.$layer), 10);
                        try {
                            delete t.$layer
                        } catch (s) {
                            t.$layer = null
                        }
                    }
                    a = null, t.$menu.find("." + t.classNames.hover).trigger("contextmenu:blur"), t.$selected = null, t.$menu.find("." + t.classNames.visible).removeClass(t.classNames.visible), e(document).off(".contextMenuAutoHide").off("keydown.contextMenu"), t.$menu && t.$menu[t.animation.hide](t.animation.duration, function() {
                        t.build && (t.$menu.remove(), e.each(t, function(e) {
                            switch (e) {
                                case "ns":
                                case "selector":
                                case "build":
                                case "trigger":
                                    return !0;
                                default:
                                    t[e] = void 0;
                                    try {
                                        delete t[e]
                                    } catch (n) {}
                                    return !0
                            }
                        })), setTimeout(function() {
                            o.trigger("contextmenu:hidden")
                        }, 10)
                    })
                }
            },
            create: function(n, o) {
                function a(t) {
                    var n = e("<span></span>");
                    if (t._accesskey) t._beforeAccesskey && n.append(document.createTextNode(t._beforeAccesskey)), e("<span></span>").addClass("context-menu-accesskey").text(t._accesskey).appendTo(n), t._afterAccesskey && n.append(document.createTextNode(t._afterAccesskey));
                    else if (t.isHtmlName) {
                        if ("undefined" != typeof t.accesskey) throw new Error("accesskeys are not compatible with HTML names and cannot be used together in the same item");
                        n.html(t.name)
                    } else n.text(t.name);
                    return n
                }
                "undefined" == typeof o && (o = n), n.$menu = e('<ul class="context-menu-list"></ul>').addClass(n.className || "").data({
                    contextMenu: n,
                    contextMenuRoot: o
                }), e.each(["callbacks", "commands", "inputs"], function(e, t) {
                    n[t] = {}, o[t] || (o[t] = {})
                }), o.accesskeys || (o.accesskeys = {}), e.each(n.items, function(s, i) {
                    var c = e('<li class="context-menu-item"></li>').addClass(i.className || ""),
                        r = null,
                        l = null;
                    if (c.on("click", e.noop), "string" != typeof i && "cm_separator" !== i.type || (i = {
                            type: "cm_seperator"
                        }), i.$node = c.data({
                            contextMenu: n,
                            contextMenuRoot: o,
                            contextMenuKey: s
                        }), "undefined" != typeof i.accesskey)
                        for (var d, m = t(i.accesskey), p = 0; d = m[p]; p++)
                            if (!o.accesskeys[d]) {
                                o.accesskeys[d] = i;
                                var x = i.name.match(new RegExp("^(.*?)(" + d + ")(.*)$", "i"));
                                x && (i._beforeAccesskey = x[1], i._accesskey = x[2], i._afterAccesskey = x[3]);
                                break
                            }
                    if (i.type && u[i.type]) u[i.type].call(c, i, n, o), e.each([n, o], function(t, o) {
                        o.commands[s] = i, !e.isFunction(i.callback) || "undefined" != typeof o.callbacks[s] && "undefined" != typeof n.type || (o.callbacks[s] = i.callback)
                    });
                    else {
                        switch ("cm_seperator" === i.type ? c.addClass("context-menu-separator " + o.classNames.notSelectable) : "html" === i.type ? c.addClass("context-menu-html " + o.classNames.notSelectable) : "sub" === i.type || (i.type ? (r = e("<label></label>").appendTo(c), a(i).appendTo(r), c.addClass("context-menu-input"), n.hasTypes = !0, e.each([n, o], function(e, t) {
                            t.commands[s] = i, t.inputs[s] = i
                        })) : i.items && (i.type = "sub")), i.type) {
                            case "cm_seperator":
                                break;
                            case "text":
                                l = e('<input type="text" value="1" name="" />').attr("name", "context-menu-input-" + s).val(i.value || "").appendTo(r);
                                break;
                            case "textarea":
                                l = e('<textarea name=""></textarea>').attr("name", "context-menu-input-" + s).val(i.value || "").appendTo(r), i.height && l.height(i.height);
                                break;
                            case "checkbox":
                                l = e('<input type="checkbox" value="1" name="" />').attr("name", "context-menu-input-" + s).val(i.value || "").prop("checked", !!i.selected).prependTo(r);
                                break;
                            case "radio":
                                l = e('<input type="radio" value="1" name="" />').attr("name", "context-menu-input-" + i.radio).val(i.value || "").prop("checked", !!i.selected).prependTo(r);
                                break;
                            case "select":
                                l = e('<select name=""></select>').attr("name", "context-menu-input-" + s).appendTo(r), i.options && (e.each(i.options, function(t, n) {
                                    e("<option></option>").val(t).text(n).appendTo(l)
                                }), l.val(i.selected));
                                break;
                            case "sub":
                                a(i).appendTo(c), i.appendTo = i.$node, c.data("contextMenu", i).addClass("context-menu-submenu"), i.callback = null, "function" == typeof i.items.then ? h.processPromises(i, o, i.items) : h.create(i, o);
                                break;
                            case "html":
                                e(i.html).appendTo(c);
                                break;
                            default:
                                e.each([n, o], function(t, o) {
                                    o.commands[s] = i, !e.isFunction(i.callback) || "undefined" != typeof o.callbacks[s] && "undefined" != typeof n.type || (o.callbacks[s] = i.callback)
                                }), a(i).appendTo(c)
                        }
                        i.type && "sub" !== i.type && "html" !== i.type && "cm_seperator" !== i.type && (l.on("focus", f.focusInput).on("blur", f.blurInput), i.events && l.on(i.events, n)), i.icon && (e.isFunction(i.icon) ? i._icon = i.icon.call(this, this, c, s, i) : "string" == typeof i.icon && "fa-" === i.icon.substring(0, 3) ? i._icon = o.classNames.icon + " " + o.classNames.icon + "--fa fa " + i.icon : i._icon = o.classNames.icon + " " + o.classNames.icon + "-" + i.icon, c.addClass(i._icon))
                    }
                    i.$input = l, i.$label = r, c.appendTo(n.$menu), !n.hasTypes && e.support.eventSelectstart && c.on("selectstart.disableTextSelect", f.abortevent)
                }), n.$node || n.$menu.css("display", "none").addClass("context-menu-root"), n.$menu.appendTo(n.appendTo || document.body)
            },
            resize: function(t, n) {
                var o;
                t.css({
                    position: "absolute",
                    display: "block"
                }), t.data("width", (o = t.get(0)).getBoundingClientRect ? Math.ceil(o.getBoundingClientRect().width) : t.outerWidth() + 1), t.css({
                    position: "static",
                    minWidth: "0px",
                    maxWidth: "100000px"
                }), t.find("> li > ul").each(function() {
                    h.resize(e(this), !0)
                }), n || t.find("ul").addBack().css({
                    position: "",
                    display: "",
                    minWidth: "",
                    maxWidth: ""
                }).outerWidth(function() {
                    return e(this).data("width")
                })
            },
            update: function(t, n) {
                var o = this;
                "undefined" == typeof n && (n = t, h.resize(t.$menu));
                var a = !1;
                return t.$menu.children().each(function() {
                    var s, i = e(this),
                        c = i.data("contextMenuKey"),
                        r = t.items[c],
                        l = e.isFunction(r.disabled) && r.disabled.call(o, c, n) || r.disabled === !0;
                    if (s = e.isFunction(r.visible) ? r.visible.call(o, c, n) : "undefined" == typeof r.visible || r.visible === !0, s && (a = !0), i[s ? "show" : "hide"](), i[l ? "addClass" : "removeClass"](n.classNames.disabled), e.isFunction(r.icon) && (i.removeClass(r._icon), r._icon = r.icon.call(this, o, i, c, r), i.addClass(r._icon)), r.type) switch (i.find("input, select, textarea").prop("disabled", l), r.type) {
                        case "text":
                        case "textarea":
                            r.$input.val(r.value || "");
                            break;
                        case "checkbox":
                        case "radio":
                            r.$input.val(r.value || "").prop("checked", !!r.selected);
                            break;
                        case "select":
                            r.$input.val((0 === r.selected ? "0" : r.selected) || "")
                    }
                    if (r.$menu) {
                        var u = h.update.call(o, r, n);
                        u && (a = !0)
                    }
                }), a
            },
            layer: function(t, n) {
                var o = t.$layer = e('<div id="context-menu-layer"></div>').css({
                    height: i.height(),
                    width: i.width(),
                    display: "block",
                    position: "fixed",
                    "z-index": n,
                    top: 0,
                    left: 0,
                    opacity: 0,
                    filter: "alpha(opacity=0)",
                    "background-color": "#000"
                }).data("contextMenuRoot", t).insertBefore(this).on("contextmenu", f.abortevent).on("mousedown", f.layerClick);
                return "undefined" == typeof document.body.style.maxWidth && o.css({
                    position: "absolute",
                    height: e(document).height()
                }), o
            },
            processPromises: function(e, t, n) {
                function o(e, t, n) {
                    "undefined" == typeof n && a(void 0), s(e, t, n)
                }

                function a(e, t, n) {
                    "undefined" == typeof n ? (n = {
                        error: {
                            name: "No items and no error item",
                            icon: "context-menu-icon context-menu-icon-quit"
                        }
                    }, window.console && (console.error || console.log).call(console, 'When you reject a promise, provide an "items" object, equal to normal sub-menu items')) : "string" == typeof n && (n = {
                        error: {
                            name: n
                        }
                    }), s(e, t, n)
                }

                function s(e, t, n) {
                    "undefined" != typeof t.$menu && t.$menu.is(":visible") && (e.$node.removeClass(t.classNames.iconLoadingClass), e.items = n, h.create(e, t, !0), h.update(e, t), t.positionSubmenu.call(e.$node, e.$menu))
                }
                e.$node.addClass(t.classNames.iconLoadingClass), n.then(o.bind(this, e, t), a.bind(this, e, t))
            },
            activated: function(t) {
                var n = t.$menu,
                    o = n.offset(),
                    a = e(window).height(),
                    s = e(window).scrollTop(),
                    i = n.height();
                i > a ? n.css({
                    height: a + "px",
                    "overflow-x": "hidden",
                    "overflow-y": "auto",
                    top: s + "px"
                }) : (o.top < s || o.top + i > s + a) && n.css({
                    top: "0px"
                })
            }
        };
    e.fn.contextMenu = function(t) {
        var n = this,
            o = t;
        if (this.length > 0)
            if ("undefined" == typeof t) this.first().trigger("contextmenu");
            else if ("undefined" != typeof t.x && "undefined" != typeof t.y) this.first().trigger(e.Event("contextmenu", {
            pageX: t.x,
            pageY: t.y,
            mouseButton: t.button
        }));
        else if ("hide" === t) {
            var a = this.first().data("contextMenu") ? this.first().data("contextMenu").$menu : null;
            a && a.trigger("contextmenu:hide")
        } else "destroy" === t ? e.contextMenu("destroy", {
            context: this
        }) : e.isPlainObject(t) ? (t.context = this, e.contextMenu("create", t)) : t ? this.removeClass("context-menu-disabled") : t || this.addClass("context-menu-disabled");
        else e.each(l, function() {
            this.selector === n.selector && (o.data = this, e.extend(o.data, {
                trigger: "demand"
            }))
        }), f.contextmenu.call(o.target, o);
        return this
    }, e.contextMenu = function(t, n) {
        "string" != typeof t && (n = t, t = "create"), "string" == typeof n ? n = {
            selector: n
        } : "undefined" == typeof n && (n = {});
        var o = e.extend(!0, {}, d, n || {}),
            a = e(document),
            i = a,
            u = !1;
        switch (o.context && o.context.length ? (i = e(o.context).first(), o.context = i.get(0), u = !e(o.context).is(document)) : o.context = document, t) {
            case "update":
                if (u) h.update(i);
                else
                    for (var m in l) l.hasOwnProperty(m) && h.update(l[m]);
                break;
            case "create":
                if (!o.selector) throw new Error("No selector specified");
                if (o.selector.match(/.context-menu-(list|item|input)($|\s)/)) throw new Error('Cannot bind to selector "' + o.selector + '" as it contains a reserved className');
                if (!o.build && (!o.items || e.isEmptyObject(o.items))) throw new Error("No Items specified");
                if (c++, o.ns = ".contextMenu" + c, u || (r[o.selector] = o.ns), l[o.ns] = o, o.trigger || (o.trigger = "right"), !s) {
                    var p = "click" === o.itemClickEvent ? "click.contextMenu" : "mouseup.contextMenu",
                        x = {
                            "contextmenu:focus.contextMenu": f.focusItem,
                            "contextmenu:blur.contextMenu": f.blurItem,
                            "contextmenu.contextMenu": f.abortevent,
                            "mouseenter.contextMenu": f.itemMouseenter,
                            "mouseleave.contextMenu": f.itemMouseleave
                        };
                    x[p] = f.itemClick, a.on({
                        "contextmenu:hide.contextMenu": f.hideMenu,
                        "prevcommand.contextMenu": f.prevItem,
                        "nextcommand.contextMenu": f.nextItem,
                        "contextmenu.contextMenu": f.abortevent,
                        "mouseenter.contextMenu": f.menuMouseenter,
                        "mouseleave.contextMenu": f.menuMouseleave
                    }, ".context-menu-list").on("mouseup.contextMenu", ".context-menu-input", f.inputClick).on(x, ".context-menu-item"), s = !0
                }
                switch (i.on("contextmenu" + o.ns, o.selector, o, f.contextmenu), u && i.on("remove" + o.ns, function() {
                    e(this).contextMenu("destroy")
                }), o.trigger) {
                    case "hover":
                        i.on("mouseenter" + o.ns, o.selector, o, f.mouseenter).on("mouseleave" + o.ns, o.selector, o, f.mouseleave);
                        break;
                    case "left":
                        i.on("click" + o.ns, o.selector, o, f.click);
                        break;
                    case "touchstart":
                        i.on("touchstart" + o.ns, o.selector, o, f.click)
                }
                o.build || h.create(o);
                break;
            case "destroy":
                var g;
                if (u) {
                    var v = o.context;
                    e.each(l, function(t, n) {
                        if (!n) return !0;
                        if (!e(v).is(n.selector)) return !0;
                        g = e(".context-menu-list").filter(":visible"), g.length && g.data().contextMenuRoot.$trigger.is(e(n.context).find(n.selector)) && g.trigger("contextmenu:hide", {
                            force: !0
                        });
                        try {
                            l[n.ns].$menu && l[n.ns].$menu.remove(), delete l[n.ns]
                        } catch (o) {
                            l[n.ns] = null
                        }
                        return e(n.context).off(n.ns), !0
                    })
                } else if (o.selector) {
                    if (r[o.selector]) {
                        g = e(".context-menu-list").filter(":visible"), g.length && g.data().contextMenuRoot.$trigger.is(o.selector) && g.trigger("contextmenu:hide", {
                            force: !0
                        });
                        try {
                            l[r[o.selector]].$menu && l[r[o.selector]].$menu.remove(), delete l[r[o.selector]]
                        } catch (b) {
                            l[r[o.selector]] = null
                        }
                        a.off(r[o.selector])
                    }
                } else a.off(".contextMenu .contextMenuAutoHide"), e.each(l, function(t, n) {
                    e(n.context).off(n.ns)
                }), r = {}, l = {}, c = 0, s = !1, e("#context-menu-layer, .context-menu-list").remove();
                break;
            case "html5":
                (!e.support.htmlCommand && !e.support.htmlMenuitem || "boolean" == typeof n && n) && e('menu[type="context"]').each(function() {
                    this.id && e.contextMenu({
                        selector: "[contextmenu=" + this.id + "]",
                        items: e.contextMenu.fromMenu(this)
                    })
                }).css("display", "none");
                break;
            default:
                throw new Error('Unknown operation "' + t + '"')
        }
        return this
    }, e.contextMenu.setInputValues = function(t, n) {
        "undefined" == typeof n && (n = {}), e.each(t.inputs, function(e, t) {
            switch (t.type) {
                case "text":
                case "textarea":
                    t.value = n[e] || "";
                    break;
                case "checkbox":
                    t.selected = !!n[e];
                    break;
                case "radio":
                    t.selected = (n[t.radio] || "") === t.value;
                    break;
                case "select":
                    t.selected = n[e] || ""
            }
        })
    }, e.contextMenu.getInputValues = function(t, n) {
        return "undefined" == typeof n && (n = {}), e.each(t.inputs, function(e, t) {
            switch (t.type) {
                case "text":
                case "textarea":
                case "select":
                    n[e] = t.$input.val();
                    break;
                case "checkbox":
                    n[e] = t.$input.prop("checked");
                    break;
                case "radio":
                    t.$input.prop("checked") && (n[t.radio] = t.value)
            }
        }), n
    }, e.contextMenu.fromMenu = function(t) {
        var n = e(t),
            a = {};
        return o(a, n.children()), a
    }, e.contextMenu.defaults = d, e.contextMenu.types = u, e.contextMenu.handle = f, e.contextMenu.op = h, e.contextMenu.menus = l
});
var qq = function(e) {
    "use strict";
    return {
        hide: function() {
            return e.style.display = "none", this
        },
        attach: function(t, n) {
            return e.addEventListener ? e.addEventListener(t, n, !1) : e.attachEvent && e.attachEvent("on" + t, n),
                function() {
                    qq(e).detach(t, n)
                }
        },
        detach: function(t, n) {
            return e.removeEventListener ? e.removeEventListener(t, n, !1) : e.attachEvent && e.detachEvent("on" + t, n), this
        },
        contains: function(t) {
            return !!t && (e === t || (e.contains ? e.contains(t) : !!(8 & t.compareDocumentPosition(e))))
        },
        insertBefore: function(t) {
            return t.parentNode.insertBefore(e, t), this
        },
        remove: function() {
            return e.parentNode.removeChild(e), this
        },
        css: function(t) {
            if (null == e.style) throw new qq.Error("Can't apply style to node as it is not on the HTMLElement prototype chain!");
            return null != t.opacity && "string" != typeof e.style.opacity && "undefined" != typeof e.filters && (t.filter = "alpha(opacity=" + Math.round(100 * t.opacity) + ")"), qq.extend(e.style, t), this
        },
        hasClass: function(t, n) {
            var i = new RegExp("(^| )" + t + "( |$)");
            return i.test(e.className) || !(!n || !i.test(e.parentNode.className))
        },
        addClass: function(t) {
            return qq(e).hasClass(t) || (e.className += " " + t), this
        },
        removeClass: function(t) {
            var n = new RegExp("(^| )" + t + "( |$)");
            return e.className = e.className.replace(n, " ").replace(/^\s+|\s+$/g, ""), this
        },
        getByClass: function(t, n) {
            var i, o = [];
            return n && e.querySelector ? e.querySelector("." + t) : e.querySelectorAll ? e.querySelectorAll("." + t) : (i = e.getElementsByTagName("*"), qq.each(i, function(e, n) {
                qq(n).hasClass(t) && o.push(n)
            }), n ? o[0] : o)
        },
        getFirstByClass: function(t) {
            return qq(e).getByClass(t, !0)
        },
        children: function() {
            for (var t = [], n = e.firstChild; n;) 1 === n.nodeType && t.push(n), n = n.nextSibling;
            return t
        },
        setText: function(t) {
            return e.innerText = t, e.textContent = t, this
        },
        clearText: function() {
            return qq(e).setText("")
        },
        hasAttribute: function(t) {
            var n;
            return e.hasAttribute ? !!e.hasAttribute(t) && null == /^false$/i.exec(e.getAttribute(t)) : (n = e[t], void 0 !== n && null == /^false$/i.exec(n))
        }
    }
};
! function() {
    "use strict";
    qq.canvasToBlob = function(e, t, n) {
        return qq.dataUriToBlob(e.toDataURL(t, n))
    }, qq.dataUriToBlob = function(e) {
        var t, n, i, o, r = function(e, t) {
            var n = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder,
                i = n && new n;
            return i ? (i.append(e), i.getBlob(t)) : new Blob([e], {
                type: t
            })
        };
        return n = e.split(",")[0].indexOf("base64") >= 0 ? atob(e.split(",")[1]) : decodeURI(e.split(",")[1]), o = e.split(",")[0].split(":")[1].split(";")[0], t = new ArrayBuffer(n.length), i = new Uint8Array(t), qq.each(n, function(e, t) {
            i[e] = t.charCodeAt(0)
        }), r(t, o)
    }, qq.log = function(e, t) {
        window.console && (t && "info" !== t ? window.console[t] ? window.console[t](e) : window.console.log("<" + t + "> " + e) : window.console.log(e))
    }, qq.isObject = function(e) {
        return e && !e.nodeType && "[object Object]" === Object.prototype.toString.call(e)
    }, qq.isFunction = function(e) {
        return "function" == typeof e
    }, qq.isArray = function(e) {
        return "[object Array]" === Object.prototype.toString.call(e) || e && window.ArrayBuffer && e.buffer && e.buffer.constructor === ArrayBuffer
    }, qq.isItemList = function(e) {
        return "[object DataTransferItemList]" === Object.prototype.toString.call(e)
    }, qq.isNodeList = function(e) {
        return "[object NodeList]" === Object.prototype.toString.call(e) || e.item && e.namedItem
    }, qq.isString = function(e) {
        return "[object String]" === Object.prototype.toString.call(e)
    }, qq.trimStr = function(e) {
        return String.prototype.trim ? e.trim() : e.replace(/^\s+|\s+$/g, "")
    }, qq.format = function(e) {
        var t = Array.prototype.slice.call(arguments, 1),
            n = e,
            i = n.indexOf("{}");
        return qq.each(t, function(e, t) {
            var o = n.substring(0, i),
                r = n.substring(i + 2);
            if (n = o + t + r, i = n.indexOf("{}", i + t.length), i < 0) return !1
        }), n
    }, qq.isFile = function(e) {
        return window.File && "[object File]" === Object.prototype.toString.call(e)
    }, qq.isFileList = function(e) {
        return window.FileList && "[object FileList]" === Object.prototype.toString.call(e)
    }, qq.isFileOrInput = function(e) {
        return qq.isFile(e) || qq.isInput(e)
    }, qq.isInput = function(e, t) {
        var n = function(e) {
            var n = e.toLowerCase();
            return t ? "file" !== n : "file" === n
        };
        return !!(window.HTMLInputElement && "[object HTMLInputElement]" === Object.prototype.toString.call(e) && e.type && n(e.type)) || !!(e.tagName && "input" === e.tagName.toLowerCase() && e.type && n(e.type))
    }, qq.isBlob = function(e) {
        if (window.Blob && "[object Blob]" === Object.prototype.toString.call(e)) return !0
    }, qq.isXhrUploadSupported = function() {
        var e = document.createElement("input");
        return e.type = "file", void 0 !== e.multiple && "undefined" != typeof File && "undefined" != typeof FormData && "undefined" != typeof qq.createXhrInstance().upload
    }, qq.createXhrInstance = function() {
        if (window.XMLHttpRequest) return new XMLHttpRequest;
        try {
            return new ActiveXObject("MSXML2.XMLHTTP.3.0")
        } catch (e) {
            return qq.log("Neither XHR or ActiveX are supported!", "error"), null
        }
    }, qq.isFolderDropSupported = function(e) {
        return e.items && e.items.length > 0 && e.items[0].webkitGetAsEntry
    }, qq.isFileChunkingSupported = function() {
        return !qq.androidStock() && qq.isXhrUploadSupported() && (void 0 !== File.prototype.slice || void 0 !== File.prototype.webkitSlice || void 0 !== File.prototype.mozSlice)
    }, qq.sliceBlob = function(e, t, n) {
        var i = e.slice || e.mozSlice || e.webkitSlice;
        return i.call(e, t, n)
    }, qq.arrayBufferToHex = function(e) {
        var t = "",
            n = new Uint8Array(e);
        return qq.each(n, function(e, n) {
            var i = n.toString(16);
            i.length < 2 && (i = "0" + i), t += i
        }), t
    }, qq.readBlobToHex = function(e, t, n) {
        var i = qq.sliceBlob(e, t, t + n),
            o = new FileReader,
            r = new qq.Promise;
        return o.onload = function() {
            r.success(qq.arrayBufferToHex(o.result))
        }, o.onerror = r.failure, o.readAsArrayBuffer(i), r
    }, qq.extend = function(e, t, n) {
        return qq.each(t, function(t, i) {
            n && qq.isObject(i) ? (void 0 === e[t] && (e[t] = {}), qq.extend(e[t], i, !0)) : e[t] = i
        }), e
    }, qq.override = function(e, t) {
        var n = {},
            i = t(n);
        return qq.each(i, function(t, i) {
            void 0 !== e[t] && (n[t] = e[t]), e[t] = i
        }), e
    }, qq.indexOf = function(e, t, n) {
        if (e.indexOf) return e.indexOf(t, n);
        n = n || 0;
        var i = e.length;
        for (n < 0 && (n += i); n < i; n += 1)
            if (e.hasOwnProperty(n) && e[n] === t) return n;
        return -1
    }, qq.getUniqueId = function() {
        return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(e) {
            var t = 16 * Math.random() | 0,
                n = "x" == e ? t : 3 & t | 8;
            return n.toString(16)
        })
    }, qq.ie = function() {
        return navigator.userAgent.indexOf("MSIE") !== -1 || navigator.userAgent.indexOf("Trident") !== -1
    }, qq.ie7 = function() {
        return navigator.userAgent.indexOf("MSIE 7") !== -1
    }, qq.ie8 = function() {
        return navigator.userAgent.indexOf("MSIE 8") !== -1
    }, qq.ie10 = function() {
        return navigator.userAgent.indexOf("MSIE 10") !== -1
    }, qq.ie11 = function() {
        return qq.ie() && navigator.userAgent.indexOf("rv:11") !== -1
    }, qq.safari = function() {
        return void 0 !== navigator.vendor && navigator.vendor.indexOf("Apple") !== -1
    }, qq.chrome = function() {
        return void 0 !== navigator.vendor && navigator.vendor.indexOf("Google") !== -1
    }, qq.opera = function() {
        return void 0 !== navigator.vendor && navigator.vendor.indexOf("Opera") !== -1
    }, qq.firefox = function() {
        return !qq.ie11() && navigator.userAgent.indexOf("Mozilla") !== -1 && void 0 !== navigator.vendor && "" === navigator.vendor
    }, qq.windows = function() {
        return "Win32" === navigator.platform
    }, qq.android = function() {
        return navigator.userAgent.toLowerCase().indexOf("android") !== -1
    }, qq.androidStock = function() {
        return qq.android() && navigator.userAgent.toLowerCase().indexOf("chrome") < 0
    }, qq.ios6 = function() {
        return qq.ios() && navigator.userAgent.indexOf(" OS 6_") !== -1
    }, qq.ios7 = function() {
        return qq.ios() && navigator.userAgent.indexOf(" OS 7_") !== -1
    }, qq.ios8 = function() {
        return qq.ios() && navigator.userAgent.indexOf(" OS 8_") !== -1
    }, qq.ios800 = function() {
        return qq.ios() && navigator.userAgent.indexOf(" OS 8_0 ") !== -1
    }, qq.ios = function() {
        return navigator.userAgent.indexOf("iPad") !== -1 || navigator.userAgent.indexOf("iPod") !== -1 || navigator.userAgent.indexOf("iPhone") !== -1
    }, qq.iosChrome = function() {
        return qq.ios() && navigator.userAgent.indexOf("CriOS") !== -1
    }, qq.iosSafari = function() {
        return qq.ios() && !qq.iosChrome() && navigator.userAgent.indexOf("Safari") !== -1
    }, qq.iosSafariWebView = function() {
        return qq.ios() && !qq.iosChrome() && !qq.iosSafari()
    }, qq.preventDefault = function(e) {
        e.preventDefault ? e.preventDefault() : e.returnValue = !1
    }, qq.toElement = function() {
        var e = document.createElement("div");
        return function(t) {
            e.innerHTML = t;
            var n = e.firstChild;
            return e.removeChild(n), n
        }
    }(), qq.each = function(e, t) {
        var n, i;
        if (e)
            if (window.Storage && e.constructor === window.Storage)
                for (n = 0; n < e.length && (i = t(e.key(n), e.getItem(e.key(n))), i !== !1); n++);
            else if (qq.isArray(e) || qq.isItemList(e) || qq.isNodeList(e))
            for (n = 0; n < e.length && (i = t(n, e[n]), i !== !1); n++);
        else if (qq.isString(e))
            for (n = 0; n < e.length && (i = t(n, e.charAt(n)), i !== !1); n++);
        else
            for (n in e)
                if (Object.prototype.hasOwnProperty.call(e, n) && (i = t(n, e[n]), i === !1)) break
    }, qq.bind = function(e, t) {
        if (qq.isFunction(e)) {
            var n = Array.prototype.slice.call(arguments, 2);
            return function() {
                var i = qq.extend([], n);
                return arguments.length && (i = i.concat(Array.prototype.slice.call(arguments))), e.apply(t, i)
            }
        }
        throw new Error("first parameter must be a function!")
    }, qq.obj2url = function(e, t, n) {
        var i = [],
            o = "&",
            r = function(e, n) {
                var o = t ? /\[\]$/.test(t) ? t : t + "[" + n + "]" : n;
                "undefined" !== o && "undefined" !== n && i.push("object" == typeof e ? qq.obj2url(e, o, !0) : "[object Function]" === Object.prototype.toString.call(e) ? encodeURIComponent(o) + "=" + encodeURIComponent(e()) : encodeURIComponent(o) + "=" + encodeURIComponent(e))
            };
        return !n && t ? (o = /\?/.test(t) ? /\?$/.test(t) ? "" : "&" : "?", i.push(t), i.push(qq.obj2url(e))) : "[object Array]" === Object.prototype.toString.call(e) && "undefined" != typeof e ? qq.each(e, function(e, t) {
            r(t, e)
        }) : "undefined" != typeof e && null !== e && "object" == typeof e ? qq.each(e, function(e, t) {
            r(t, e)
        }) : i.push(encodeURIComponent(t) + "=" + encodeURIComponent(e)), t ? i.join(o) : i.join(o).replace(/^&/, "").replace(/%20/g, "+")
    }, qq.obj2FormData = function(e, t, n) {
        return t || (t = new FormData), qq.each(e, function(e, i) {
            e = n ? n + "[" + e + "]" : e, qq.isObject(i) ? qq.obj2FormData(i, t, e) : qq.isFunction(i) ? t.append(e, i()) : t.append(e, i)
        }), t
    }, qq.obj2Inputs = function(e, t) {
        var n;
        return t || (t = document.createElement("form")), qq.obj2FormData(e, {
            append: function(e, i) {
                n = document.createElement("input"), n.setAttribute("name", e), n.setAttribute("value", i), t.appendChild(n)
            }
        }), t
    }, qq.parseJson = function(json) {
        return window.JSON && qq.isFunction(JSON.parse) ? JSON.parse(json) : eval("(" + json + ")")
    }, qq.getExtension = function(e) {
        var t = e.lastIndexOf(".") + 1;
        if (t > 0) return e.substr(t, e.length - t)
    }, qq.getFilename = function(e) {
        return qq.isInput(e) ? e.value.replace(/.*(\/|\\)/, "") : qq.isFile(e) && null !== e.fileName && void 0 !== e.fileName ? e.fileName : e.name
    }, qq.DisposeSupport = function() {
        var e = [];
        return {
            dispose: function() {
                var t;
                do t = e.shift(), t && t(); while (t)
            },
            attach: function() {
                var e = arguments;
                this.addDisposer(qq(e[0]).attach.apply(this, Array.prototype.slice.call(arguments, 1)))
            },
            addDisposer: function(t) {
                e.push(t)
            }
        }
    }
}(),
function() {
    "use strict";
    qq.Error = function(e) {
        this.message = "[Fine Uploader " + qq.version + "] " + e
    }, qq.Error.prototype = new Error
}(), qq.version = "5.4.1", qq.supportedFeatures = function() {
        "use strict";

        function e() {
            var e, t = !0;
            try {
                e = document.createElement("input"), e.type = "file", qq(e).hide(), e.disabled && (t = !1)
            } catch (n) {
                t = !1
            }
            return t
        }

        function t() {
            return (qq.chrome() || qq.opera()) && void 0 !== navigator.userAgent.match(/Chrome\/[2][1-9]|Chrome\/[3-9][0-9]/)
        }

        function n() {
            return (qq.chrome() || qq.opera()) && void 0 !== navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/)
        }

        function i() {
            if (window.XMLHttpRequest) {
                var e = qq.createXhrInstance();
                return void 0 !== e.withCredentials
            }
            return !1
        }

        function o() {
            return void 0 !== window.XDomainRequest
        }

        function r() {
            return !!i() || o()
        }

        function a() {
            return void 0 !== document.createElement("input").webkitdirectory
        }

        function s() {
            try {
                return !!window.localStorage && qq.isFunction(window.localStorage.setItem)
            } catch (e) {
                return !1
            }
        }

        function u() {
            var e = document.createElement("span");
            return ("draggable" in e || "ondragstart" in e && "ondrop" in e) && !qq.android() && !qq.ios()
        }
        var l, c, d, p, h, f, q, m, g, _, v, b, S, y, w;
        return l = e(), p = l && qq.isXhrUploadSupported(), c = p && !qq.androidStock(), d = p && u(), h = d && t(), f = p && qq.isFileChunkingSupported(), q = p && f && s(), m = p && n(), g = l && (void 0 !== window.postMessage || p), v = i(), _ = o(), b = r(), S = a(), y = p && void 0 !== window.FileReader, w = function() {
            return !!p && (!qq.androidStock() && !qq.iosChrome())
        }(), {
            ajaxUploading: p,
            blobUploading: c,
            canDetermineSize: p,
            chunking: f,
            deleteFileCors: b,
            deleteFileCorsXdr: _,
            deleteFileCorsXhr: v,
            dialogElement: !!window.HTMLDialogElement,
            fileDrop: d,
            folderDrop: h,
            folderSelection: S,
            imagePreviews: y,
            imageValidation: y,
            itemSizeValidation: p,
            pause: f,
            progressBar: w,
            resume: q,
            scaling: y && c,
            tiffPreviews: qq.safari(),
            unlimitedScaledImageSize: !qq.ios(),
            uploading: l,
            uploadCors: g,
            uploadCustomHeaders: p,
            uploadNonMultipart: p,
            uploadViaPaste: m
        }
    }(), qq.isGenericPromise = function(e) {
        "use strict";
        return !!(e && e.then && qq.isFunction(e.then))
    }, qq.Promise = function() {
        "use strict";
        var e, t, n = [],
            i = [],
            o = [],
            r = 0;
        qq.extend(this, {
            then: function(o, a) {
                return 0 === r ? (o && n.push(o), a && i.push(a)) : r === -1 ? a && a.apply(null, t) : o && o.apply(null, e), this
            },
            done: function(n) {
                return 0 === r ? o.push(n) : n.apply(null, void 0 === t ? e : t), this
            },
            success: function() {
                return r = 1, e = arguments, n.length && qq.each(n, function(t, n) {
                    n.apply(null, e)
                }), o.length && qq.each(o, function(t, n) {
                    n.apply(null, e)
                }), this
            },
            failure: function() {
                return r = -1, t = arguments, i.length && qq.each(i, function(e, n) {
                    n.apply(null, t)
                }), o.length && qq.each(o, function(e, n) {
                    n.apply(null, t)
                }), this
            }
        })
    }, qq.BlobProxy = function(e, t) {
        "use strict";
        qq.extend(this, {
            referenceBlob: e,
            create: function() {
                return t(e)
            }
        })
    }, qq.UploadButton = function(e) {
        "use strict";

        function t() {
            var e = document.createElement("input");
            return e.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME, i), e.removeAttribute("title"), o.setMultiple(a.multiple, e), a.folders && qq.supportedFeatures.folderSelection && e.setAttribute("webkitdirectory", ""), a.acceptFiles && e.setAttribute("accept", a.acceptFiles), e.setAttribute("type", "file"), e.setAttribute("name", a.name), qq(e).css({
                position: "absolute",
                right: 0,
                top: 0,
                fontFamily: "Arial",
                fontSize: qq.ie() && !qq.ie8() ? "3500px" : "118px",
                margin: 0,
                padding: 0,
                cursor: "pointer",
                opacity: 0
            }), !qq.ie7() && qq(e).css({
                height: "100%"
            }), a.element.appendChild(e), r.attach(e, "change", function() {
                a.onChange(e)
            }), r.attach(e, "mouseover", function() {
                qq(a.element).addClass(a.hoverClass)
            }), r.attach(e, "mouseout", function() {
                qq(a.element).removeClass(a.hoverClass)
            }), r.attach(e, "focus", function() {
                qq(a.element).addClass(a.focusClass)
            }), r.attach(e, "blur", function() {
                qq(a.element).removeClass(a.focusClass)
            }), e
        }
        var n, i, o = this,
            r = new qq.DisposeSupport,
            a = {
                element: null,
                multiple: !1,
                acceptFiles: null,
                folders: !1,
                name: "qqfile",
                onChange: function(e) {},
                ios8BrowserCrashWorkaround: !1,
                hoverClass: "qq-upload-button-hover",
                focusClass: "qq-upload-button-focus"
            };
        qq.extend(a, e), i = qq.getUniqueId(), qq(a.element).css({
            position: "relative",
            overflow: "hidden",
            direction: "ltr"
        }), qq.extend(this, {
            getInput: function() {
                return n
            },
            getButtonId: function() {
                return i
            },
            setMultiple: function(e, t) {
                var n = t || this.getInput();
                a.ios8BrowserCrashWorkaround && qq.ios8() && (qq.iosChrome() || qq.iosSafariWebView()) ? n.setAttribute("multiple", "") : e ? n.setAttribute("multiple", "") : n.removeAttribute("multiple")
            },
            setAcceptFiles: function(e) {
                e !== a.acceptFiles && n.setAttribute("accept", e)
            },
            reset: function() {
                n.parentNode && qq(n).remove(), qq(a.element).removeClass(a.focusClass), n = null, n = t()
            }
        }), n = t()
    }, qq.UploadButton.BUTTON_ID_ATTR_NAME = "qq-button-id", qq.UploadData = function(e) {
        "use strict";

        function t(e) {
            if (qq.isArray(e)) {
                var t = [];
                return qq.each(e, function(e, n) {
                    t.push(o[n])
                }), t
            }
            return o[e]
        }

        function n(e) {
            if (qq.isArray(e)) {
                var t = [];
                return qq.each(e, function(e, n) {
                    t.push(o[r[n]])
                }), t
            }
            return o[r[e]]
        }

        function i(e) {
            var t = [],
                n = [].concat(e);
            return qq.each(n, function(e, n) {
                var i = a[n];
                void 0 !== i && qq.each(i, function(e, n) {
                    t.push(o[n])
                })
            }), t
        }
        var o = [],
            r = {},
            a = {},
            s = {},
            u = {};
        qq.extend(this, {
            addFile: function(t) {
                var n = t.status || qq.status.SUBMITTING,
                    i = o.push({
                        name: t.name,
                        originalName: t.name,
                        uuid: t.uuid,
                        size: null == t.size ? -1 : t.size,
                        status: n
                    }) - 1;
                return t.batchId && (o[i].batchId = t.batchId, void 0 === u[t.batchId] && (u[t.batchId] = []), u[t.batchId].push(i)), t.proxyGroupId && (o[i].proxyGroupId = t.proxyGroupId, void 0 === s[t.proxyGroupId] && (s[t.proxyGroupId] = []), s[t.proxyGroupId].push(i)), o[i].id = i, r[t.uuid] = i, void 0 === a[n] && (a[n] = []), a[n].push(i), e.onStatusChange(i, null, n), i
            },
            retrieve: function(e) {
                return qq.isObject(e) && o.length ? void 0 !== e.id ? t(e.id) : void 0 !== e.uuid ? n(e.uuid) : e.status ? i(e.status) : void 0 : qq.extend([], o, !0)
            },
            reset: function() {
                o = [], r = {}, a = {}, u = {}
            },
            setStatus: function(t, n) {
                var i = o[t].status,
                    r = qq.indexOf(a[i], t);
                a[i].splice(r, 1), o[t].status = n, void 0 === a[n] && (a[n] = []), a[n].push(t), e.onStatusChange(t, i, n)
            },
            uuidChanged: function(e, t) {
                var n = o[e].uuid;
                o[e].uuid = t, r[t] = e, delete r[n]
            },
            updateName: function(e, t) {
                o[e].name = t
            },
            updateSize: function(e, t) {
                o[e].size = t
            },
            setParentId: function(e, t) {
                o[e].parentId = t
            },
            getIdsInProxyGroup: function(e) {
                var t = o[e].proxyGroupId;
                return t ? s[t] : []
            },
            getIdsInBatch: function(e) {
                var t = o[e].batchId;
                return u[t]
            }
        })
    }, qq.status = {
        SUBMITTING: "submitting",
        SUBMITTED: "submitted",
        REJECTED: "rejected",
        QUEUED: "queued",
        CANCELED: "canceled",
        PAUSED: "paused",
        UPLOADING: "uploading",
        UPLOAD_RETRYING: "retrying upload",
        UPLOAD_SUCCESSFUL: "upload successful",
        UPLOAD_FAILED: "upload failed",
        DELETE_FAILED: "delete failed",
        DELETING: "deleting",
        DELETED: "deleted"
    },
    function() {
        "use strict";
        qq.basePublicApi = {
            addBlobs: function(e, t, n) {
                this.addFiles(e, t, n)
            },
            addFiles: function(e, t, n) {
                this._maybeHandleIos8SafariWorkaround();
                var i = 0 === this._storedIds.length ? qq.getUniqueId() : this._currentBatchId,
                    o = qq.bind(function(e) {
                        this._handleNewFile({
                            blob: e,
                            name: this._options.blobs.defaultName
                        }, i, d)
                    }, this),
                    r = qq.bind(function(e) {
                        this._handleNewFile(e, i, d)
                    }, this),
                    a = qq.bind(function(e) {
                        var t = qq.canvasToBlob(e);
                        this._handleNewFile({
                            blob: t,
                            name: this._options.blobs.defaultName + ".png"
                        }, i, d)
                    }, this),
                    s = qq.bind(function(e) {
                        var t = e.quality && e.quality / 100,
                            n = qq.canvasToBlob(e.canvas, e.type, t);
                        this._handleNewFile({
                            blob: n,
                            name: e.name
                        }, i, d)
                    }, this),
                    u = qq.bind(function(e) {
                        if (qq.isInput(e) && qq.supportedFeatures.ajaxUploading) {
                            var t = Array.prototype.slice.call(e.files),
                                n = this;
                            qq.each(t, function(e, t) {
                                n._handleNewFile(t, i, d)
                            })
                        } else this._handleNewFile(e, i, d)
                    }, this),
                    l = function() {
                        qq.isFileList(e) && (e = Array.prototype.slice.call(e)), e = [].concat(e)
                    },
                    c = this,
                    d = [];
                this._currentBatchId = i, e && (l(), qq.each(e, function(e, t) {
                    qq.isFileOrInput(t) ? u(t) : qq.isBlob(t) ? o(t) : qq.isObject(t) ? t.blob && t.name ? r(t) : t.canvas && t.name && s(t) : t.tagName && "canvas" === t.tagName.toLowerCase() ? a(t) : c.log(t + " is not a valid file container!  Ignoring!", "warn")
                }), this.log("Received " + d.length + " files."), this._prepareItemsForUpload(d, t, n))
            },
            cancel: function(e) {
                this._handler.cancel(e)
            },
            cancelAll: function() {
                var e = [],
                    t = this;
                qq.extend(e, this._storedIds), qq.each(e, function(e, n) {
                    t.cancel(n)
                }), this._handler.cancelAll()
            },
            clearStoredFiles: function() {
                this._storedIds = []
            },
            continueUpload: function(e) {
                var t = this._uploadData.retrieve({
                    id: e
                });
                return !(!qq.supportedFeatures.pause || !this._options.chunking.enabled) && (t.status === qq.status.PAUSED ? (this.log(qq.format("Paused file ID {} ({}) will be continued.  Not paused.", e, this.getName(e))), this._uploadFile(e), !0) : (this.log(qq.format("Ignoring continue for file ID {} ({}).  Not paused.", e, this.getName(e)), "error"), !1))
            },
            deleteFile: function(e) {
                return this._onSubmitDelete(e)
            },
            doesExist: function(e) {
                return this._handler.isValid(e)
            },
            drawThumbnail: function(e, t, n, i) {
                var o, r, a = new qq.Promise;
                return this._imageGenerator ? (o = this._thumbnailUrls[e], r = {
                    scale: n > 0,
                    maxSize: n > 0 ? n : null
                }, !i && qq.supportedFeatures.imagePreviews && (o = this.getFile(e)), null == o ? a.failure({
                    container: t,
                    error: "File or URL not found."
                }) : this._imageGenerator.generate(o, t, r).then(function(e) {
                    a.success(e)
                }, function(e, t) {
                    a.failure({
                        container: e,
                        error: t || "Problem generating thumbnail"
                    })
                })) : a.failure({
                    container: t,
                    error: "Missing image generator module"
                }), a
            },
            getButton: function(e) {
                return this._getButton(this._buttonIdsForFileIds[e])
            },
            getEndpoint: function(e) {
                return this._endpointStore.get(e)
            },
            getFile: function(e) {
                return this._handler.getFile(e) || null
            },
            getInProgress: function() {
                return this._uploadData.retrieve({
                    status: [qq.status.UPLOADING, qq.status.UPLOAD_RETRYING, qq.status.QUEUED]
                }).length
            },
            getName: function(e) {
                return this._uploadData.retrieve({
                    id: e
                }).name
            },
            getParentId: function(e) {
                var t = this.getUploads({
                        id: e
                    }),
                    n = null;
                return t && void 0 !== t.parentId && (n = t.parentId), n
            },
            getResumableFilesData: function() {
                return this._handler.getResumableFilesData()
            },
            getSize: function(e) {
                return this._uploadData.retrieve({
                    id: e
                }).size
            },
            getNetUploads: function() {
                return this._netUploaded
            },
            getRemainingAllowedItems: function() {
                var e = this._currentItemLimit;
                return e > 0 ? e - this._netUploadedOrQueued : null
            },
            getUploads: function(e) {
                return this._uploadData.retrieve(e)
            },
            getUuid: function(e) {
                return this._uploadData.retrieve({
                    id: e
                }).uuid
            },
            log: function(e, t) {
                !this._options.debug || t && "info" !== t ? t && "info" !== t && qq.log("[Fine Uploader " + qq.version + "] " + e, t) : qq.log("[Fine Uploader " + qq.version + "] " + e)
            },
            pauseUpload: function(e) {
                var t = this._uploadData.retrieve({
                    id: e
                });
                if (!qq.supportedFeatures.pause || !this._options.chunking.enabled) return !1;
                if (qq.indexOf([qq.status.UPLOADING, qq.status.UPLOAD_RETRYING], t.status) >= 0) {
                    if (this._handler.pause(e)) return this._uploadData.setStatus(e, qq.status.PAUSED), !0;
                    this.log(qq.format("Unable to pause file ID {} ({}).", e, this.getName(e)), "error")
                } else this.log(qq.format("Ignoring pause for file ID {} ({}).  Not in progress.", e, this.getName(e)), "error");
                return !1
            },
            reset: function() {
                this.log("Resetting uploader..."), this._handler.reset(), this._storedIds = [], this._autoRetries = [], this._retryTimeouts = [], this._preventRetries = [], this._thumbnailUrls = [], qq.each(this._buttons, function(e, t) {
                    t.reset()
                }), this._paramsStore.reset(), this._endpointStore.reset(), this._netUploadedOrQueued = 0, this._netUploaded = 0, this._uploadData.reset(), this._buttonIdsForFileIds = [], this._pasteHandler && this._pasteHandler.reset(), this._options.session.refreshOnReset && this._refreshSessionData(), this._succeededSinceLastAllComplete = [], this._failedSinceLastAllComplete = [], this._totalProgress && this._totalProgress.reset()
            },
            retry: function(e) {
                return this._manualRetry(e)
            },
            scaleImage: function(e, t) {
                var n = this;
                return qq.Scaler.prototype.scaleImage(e, t, {
                    log: qq.bind(n.log, n),
                    getFile: qq.bind(n.getFile, n),
                    uploadData: n._uploadData
                })
            },
            setCustomHeaders: function(e, t) {
                this._customHeadersStore.set(e, t)
            },
            setDeleteFileCustomHeaders: function(e, t) {
                this._deleteFileCustomHeadersStore.set(e, t)
            },
            setDeleteFileEndpoint: function(e, t) {
                this._deleteFileEndpointStore.set(e, t)
            },
            setDeleteFileParams: function(e, t) {
                this._deleteFileParamsStore.set(e, t)
            },
            setEndpoint: function(e, t) {
                this._endpointStore.set(e, t)
            },
            setForm: function(e) {
                this._updateFormSupportAndParams(e)
            },
            setItemLimit: function(e) {
                this._currentItemLimit = e
            },
            setName: function(e, t) {
                this._uploadData.updateName(e, t)
            },
            setParams: function(e, t) {
                this._paramsStore.set(e, t)
            },
            setUuid: function(e, t) {
                return this._uploadData.uuidChanged(e, t)
            },
            uploadStoredFiles: function() {
                0 === this._storedIds.length ? this._itemError("noFilesError") : this._uploadStoredFiles()
            }
        }, qq.basePrivateApi = {
            _addCannedFile: function(e) {
                var t = this._uploadData.addFile({
                    uuid: e.uuid,
                    name: e.name,
                    size: e.size,
                    status: qq.status.UPLOAD_SUCCESSFUL
                });
                return e.deleteFileEndpoint && this.setDeleteFileEndpoint(e.deleteFileEndpoint, t), e.deleteFileParams && this.setDeleteFileParams(e.deleteFileParams, t), e.thumbnailUrl && (this._thumbnailUrls[t] = e.thumbnailUrl), this._netUploaded++, this._netUploadedOrQueued++, t
            },
            _annotateWithButtonId: function(e, t) {
                qq.isFile(e) && (e.qqButtonId = this._getButtonId(t))
            },
            _batchError: function(e) {
                this._options.callbacks.onError(null, null, e, void 0)
            },
            _createDeleteHandler: function() {
                var e = this;
                return new qq.DeleteFileAjaxRequester({
                    method: this._options.deleteFile.method.toUpperCase(),
                    maxConnections: this._options.maxConnections,
                    uuidParamName: this._options.request.uuidName,
                    customHeaders: this._deleteFileCustomHeadersStore,
                    paramsStore: this._deleteFileParamsStore,
                    endpointStore: this._deleteFileEndpointStore,
                    cors: this._options.cors,
                    log: qq.bind(e.log, e),
                    onDelete: function(t) {
                        e._onDelete(t), e._options.callbacks.onDelete(t)
                    },
                    onDeleteComplete: function(t, n, i) {
                        e._onDeleteComplete(t, n, i), e._options.callbacks.onDeleteComplete(t, n, i)
                    }
                })
            },
            _createPasteHandler: function() {
                var e = this;
                return new qq.PasteSupport({
                    targetElement: this._options.paste.targetElement,
                    callbacks: {
                        log: qq.bind(e.log, e),
                        pasteReceived: function(t) {
                            e._handleCheckedCallback({
                                name: "onPasteReceived",
                                callback: qq.bind(e._options.callbacks.onPasteReceived, e, t),
                                onSuccess: qq.bind(e._handlePasteSuccess, e, t),
                                identifier: "pasted image"
                            })
                        }
                    }
                })
            },
            _createStore: function(e, t) {
                var n = {},
                    i = e,
                    o = {},
                    r = t,
                    a = function(e) {
                        return qq.isObject(e) ? qq.extend({}, e) : e
                    },
                    s = function() {
                        return qq.isFunction(r) ? r() : r
                    },
                    u = function(e, t) {
                        r && qq.isObject(t) && qq.extend(t, s()), o[e] && qq.extend(t, o[e])
                    };
                return {
                    set: function(e, t) {
                        null == t ? (n = {}, i = a(e)) : n[t] = a(e)
                    },
                    get: function(e) {
                        var t;
                        return t = null != e && n[e] ? n[e] : a(i), u(e, t), a(t)
                    },
                    addReadOnly: function(e, t) {
                        qq.isObject(n) && (null === e ? qq.isFunction(t) ? r = t : (r = r || {}, qq.extend(r, t)) : (o[e] = o[e] || {}, qq.extend(o[e], t)))
                    },
                    remove: function(e) {
                        return delete n[e]
                    },
                    reset: function() {
                        n = {}, o = {}, i = e
                    }
                }
            },
            _createUploadDataTracker: function() {
                var e = this;
                return new qq.UploadData({
                    getName: function(t) {
                        return e.getName(t)
                    },
                    getUuid: function(t) {
                        return e.getUuid(t)
                    },
                    getSize: function(t) {
                        return e.getSize(t)
                    },
                    onStatusChange: function(t, n, i) {
                        e._onUploadStatusChange(t, n, i), e._options.callbacks.onStatusChange(t, n, i), e._maybeAllComplete(t, i), e._totalProgress && setTimeout(function() {
                            e._totalProgress.onStatusChange(t, n, i)
                        }, 0)
                    }
                })
            },
            _createUploadButton: function(e) {
                function t() {
                    return !!qq.supportedFeatures.ajaxUploading && (!(i._options.workarounds.iosEmptyVideos && qq.ios() && !qq.ios6() && i._isAllowedExtension(r, ".mov")) && (void 0 === e.multiple ? i._options.multiple : e.multiple))
                }
                var n, i = this,
                    o = e.accept || this._options.validation.acceptFiles,
                    r = e.allowedExtensions || this._options.validation.allowedExtensions;
                return n = new qq.UploadButton({
                    element: e.element,
                    folders: e.folders,
                    name: this._options.request.inputName,
                    multiple: t(),
                    acceptFiles: o,
                    onChange: function(e) {
                        i._onInputChange(e)
                    },
                    hoverClass: this._options.classes.buttonHover,
                    focusClass: this._options.classes.buttonFocus,
                    ios8BrowserCrashWorkaround: this._options.workarounds.ios8BrowserCrash
                }), this._disposeSupport.addDisposer(function() {
                    n.dispose()
                }), i._buttons.push(n), n
            },
            _createUploadHandler: function(e, t) {
                var n = this,
                    i = {},
                    o = {
                        debug: this._options.debug,
                        maxConnections: this._options.maxConnections,
                        cors: this._options.cors,
                        paramsStore: this._paramsStore,
                        endpointStore: this._endpointStore,
                        chunking: this._options.chunking,
                        resume: this._options.resume,
                        blobs: this._options.blobs,
                        log: qq.bind(n.log, n),
                        preventRetryParam: this._options.retry.preventRetryResponseProperty,
                        onProgress: function(e, t, o, r) {
                            o < 0 || r < 0 || (i[e] ? i[e].loaded === o && i[e].total === r || (n._onProgress(e, t, o, r), n._options.callbacks.onProgress(e, t, o, r)) : (n._onProgress(e, t, o, r), n._options.callbacks.onProgress(e, t, o, r)), i[e] = {
                                loaded: o,
                                total: r
                            })
                        },
                        onComplete: function(e, t, o, r) {
                            delete i[e];
                            var a, s = n.getUploads({
                                id: e
                            }).status;
                            s !== qq.status.UPLOAD_SUCCESSFUL && s !== qq.status.UPLOAD_FAILED && (a = n._onComplete(e, t, o, r), a instanceof qq.Promise ? a.done(function() {
                                n._options.callbacks.onComplete(e, t, o, r)
                            }) : n._options.callbacks.onComplete(e, t, o, r))
                        },
                        onCancel: function(e, t, i) {
                            var o = new qq.Promise;
                            return n._handleCheckedCallback({
                                name: "onCancel",
                                callback: qq.bind(n._options.callbacks.onCancel, n, e, t),
                                onFailure: o.failure,
                                onSuccess: function() {
                                    i.then(function() {
                                        n._onCancel(e, t)
                                    }), o.success()
                                },
                                identifier: e
                            }), o
                        },
                        onUploadPrep: qq.bind(this._onUploadPrep, this),
                        onUpload: function(e, t) {
                            n._onUpload(e, t), n._options.callbacks.onUpload(e, t)
                        },
                        onUploadChunk: function(e, t, i) {
                            n._onUploadChunk(e, i), n._options.callbacks.onUploadChunk(e, t, i)
                        },
                        onUploadChunkSuccess: function(e, t, i, o) {
                            n._options.callbacks.onUploadChunkSuccess.apply(n, arguments)
                        },
                        onResume: function(e, t, i) {
                            return n._options.callbacks.onResume(e, t, i)
                        },
                        onAutoRetry: function(e, t, i, o) {
                            return n._onAutoRetry.apply(n, arguments)
                        },
                        onUuidChanged: function(e, t) {
                            n.log("Server requested UUID change from '" + n.getUuid(e) + "' to '" + t + "'"), n.setUuid(e, t)
                        },
                        getName: qq.bind(n.getName, n),
                        getUuid: qq.bind(n.getUuid, n),
                        getSize: qq.bind(n.getSize, n),
                        setSize: qq.bind(n._setSize, n),
                        getDataByUuid: function(e) {
                            return n.getUploads({
                                uuid: e
                            })
                        },
                        isQueued: function(e) {
                            var t = n.getUploads({
                                id: e
                            }).status;
                            return t === qq.status.QUEUED || t === qq.status.SUBMITTED || t === qq.status.UPLOAD_RETRYING || t === qq.status.PAUSED
                        },
                        getIdsInProxyGroup: n._uploadData.getIdsInProxyGroup,
                        getIdsInBatch: n._uploadData.getIdsInBatch
                    };
                return qq.each(this._options.request, function(e, t) {
                    o[e] = t
                }), o.customHeaders = this._customHeadersStore, e && qq.each(e, function(e, t) {
                    o[e] = t
                }), new qq.UploadHandlerController(o, t)
            },
            _fileOrBlobRejected: function(e) {
                this._netUploadedOrQueued--, this._uploadData.setStatus(e, qq.status.REJECTED)
            },
            _formatSize: function(e) {
                var t = -1;
                do e /= 1e3, t++; while (e > 999);
                return Math.max(e, .1).toFixed(1) + this._options.text.sizeSymbols[t]
            },
            _generateExtraButtonSpecs: function() {
                var e = this;
                this._extraButtonSpecs = {}, qq.each(this._options.extraButtons, function(t, n) {
                    var i = n.multiple,
                        o = qq.extend({}, e._options.validation, !0),
                        r = qq.extend({}, n);
                    void 0 === i && (i = e._options.multiple), r.validation && qq.extend(o, n.validation, !0), qq.extend(r, {
                        multiple: i,
                        validation: o
                    }, !0), e._initExtraButton(r)
                })
            },
            _getButton: function(e) {
                var t = this._extraButtonSpecs[e];
                return t ? t.element : e === this._defaultButtonId ? this._options.button : void 0
            },
            _getButtonId: function(e) {
                var t, n, i = e;
                if (i instanceof qq.BlobProxy && (i = i.referenceBlob), i && !qq.isBlob(i)) {
                    if (qq.isFile(i)) return i.qqButtonId;
                    if ("input" === i.tagName.toLowerCase() && "file" === i.type.toLowerCase()) return i.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);
                    if (t = i.getElementsByTagName("input"), qq.each(t, function(e, t) {
                            if ("file" === t.getAttribute("type")) return n = t, !1
                        }), n) return n.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME)
                }
            },
            _getNotFinished: function() {
                return this._uploadData.retrieve({
                    status: [qq.status.UPLOADING, qq.status.UPLOAD_RETRYING, qq.status.QUEUED, qq.status.SUBMITTING, qq.status.SUBMITTED, qq.status.PAUSED]
                }).length
            },
            _getValidationBase: function(e) {
                var t = this._extraButtonSpecs[e];
                return t ? t.validation : this._options.validation
            },
            _getValidationDescriptor: function(e) {
                return e.file instanceof qq.BlobProxy ? {
                    name: qq.getFilename(e.file.referenceBlob),
                    size: e.file.referenceBlob.size
                } : {
                    name: this.getUploads({
                        id: e.id
                    }).name,
                    size: this.getUploads({
                        id: e.id
                    }).size
                }
            },
            _getValidationDescriptors: function(e) {
                var t = this,
                    n = [];
                return qq.each(e, function(e, i) {
                    n.push(t._getValidationDescriptor(i))
                }), n
            },
            _handleCameraAccess: function() {
                if (this._options.camera.ios && qq.ios()) {
                    var e = "image/*;capture=camera",
                        t = this._options.camera.button,
                        n = t ? this._getButtonId(t) : this._defaultButtonId,
                        i = this._options;
                    n && n !== this._defaultButtonId && (i = this._extraButtonSpecs[n]), i.multiple = !1, null === i.validation.acceptFiles ? i.validation.acceptFiles = e : i.validation.acceptFiles += "," + e, qq.each(this._buttons, function(e, t) {
                        if (t.getButtonId() === n) return t.setMultiple(i.multiple), t.setAcceptFiles(i.acceptFiles), !1
                    })
                }
            },
            _handleCheckedCallback: function(e) {
                var t = this,
                    n = e.callback();
                return qq.isGenericPromise(n) ? (this.log(e.name + " - waiting for " + e.name + " promise to be fulfilled for " + e.identifier), n.then(function(n) {
                    t.log(e.name + " promise success for " + e.identifier), e.onSuccess(n)
                }, function() {
                    e.onFailure ? (t.log(e.name + " promise failure for " + e.identifier), e.onFailure()) : t.log(e.name + " promise failure for " + e.identifier)
                })) : (n !== !1 ? e.onSuccess(n) : e.onFailure ? (this.log(e.name + " - return value was 'false' for " + e.identifier + ".  Invoking failure callback."), e.onFailure()) : this.log(e.name + " - return value was 'false' for " + e.identifier + ".  Will not proceed."), n)
            },
            _handleNewFile: function(e, t, n) {
                var i = this,
                    o = qq.getUniqueId(),
                    r = -1,
                    a = qq.getFilename(e),
                    s = e.blob || e,
                    u = this._customNewFileHandler ? this._customNewFileHandler : qq.bind(i._handleNewFileGeneric, i);
                !qq.isInput(s) && s.size >= 0 && (r = s.size), u(s, a, o, r, n, t, this._options.request.uuidName, {
                    uploadData: i._uploadData,
                    paramsStore: i._paramsStore,
                    addFileToHandler: function(e, t) {
                        i._handler.add(e, t), i._netUploadedOrQueued++, i._trackButton(e)
                    }
                })
            },
            _handleNewFileGeneric: function(e, t, n, i, o, r) {
                var a = this._uploadData.addFile({
                    uuid: n,
                    name: t,
                    size: i,
                    batchId: r
                });
                this._handler.add(a, e), this._trackButton(a), this._netUploadedOrQueued++, o.push({
                    id: a,
                    file: e
                })
            },
            _handlePasteSuccess: function(e, t) {
                var n = e.type.split("/")[1],
                    i = t;
                null == i && (i = this._options.paste.defaultName), i += "." + n, this.addFiles({
                    name: i,
                    blob: e
                })
            },
            _initExtraButton: function(e) {
                var t = this._createUploadButton({
                    element: e.element,
                    multiple: e.multiple,
                    accept: e.validation.acceptFiles,
                    folders: e.folders,
                    allowedExtensions: e.validation.allowedExtensions
                });
                this._extraButtonSpecs[t.getButtonId()] = e
            },
            _initFormSupportAndParams: function() {
                this._formSupport = qq.FormSupport && new qq.FormSupport(this._options.form, qq.bind(this.uploadStoredFiles, this), qq.bind(this.log, this)), this._formSupport && this._formSupport.attachedToForm ? (this._paramsStore = this._createStore(this._options.request.params, this._formSupport.getFormInputsAsObject), this._options.autoUpload = this._formSupport.newAutoUpload, this._formSupport.newEndpoint && (this._options.request.endpoint = this._formSupport.newEndpoint)) : this._paramsStore = this._createStore(this._options.request.params)
            },
            _isDeletePossible: function() {
                return !(!qq.DeleteFileAjaxRequester || !this._options.deleteFile.enabled) && (!this._options.cors.expected || (!!qq.supportedFeatures.deleteFileCorsXhr || !(!qq.supportedFeatures.deleteFileCorsXdr || !this._options.cors.allowXdr)))
            },
            _isAllowedExtension: function(e, t) {
                var n = !1;
                return !e.length || (qq.each(e, function(e, i) {
                    if (qq.isString(i)) {
                        var o = new RegExp("\\." + i + "$", "i");
                        if (null != t.match(o)) return n = !0, !1
                    }
                }), n)
            },
            _itemError: function(e, t, n) {
                function i(e, t) {
                    a = a.replace(e, t)
                }
                var o, r, a = this._options.messages[e],
                    s = [],
                    u = [].concat(t),
                    l = u[0],
                    c = this._getButtonId(n),
                    d = this._getValidationBase(c);
                return qq.each(d.allowedExtensions, function(e, t) {
                    qq.isString(t) && s.push(t)
                }), o = s.join(", ").toLowerCase(), i("{file}", this._options.formatFileName(l)), i("{extensions}", o), i("{sizeLimit}", this._formatSize(d.sizeLimit)), i("{minSizeLimit}", this._formatSize(d.minSizeLimit)), r = a.match(/(\{\w+\})/g), null !== r && qq.each(r, function(e, t) {
                    i(t, u[e])
                }), this._options.callbacks.onError(null, l, a, void 0), a
            },
            _manualRetry: function(e, t) {
                if (this._onBeforeManualRetry(e)) return this._netUploadedOrQueued++, this._uploadData.setStatus(e, qq.status.UPLOAD_RETRYING), t ? t(e) : this._handler.retry(e), !0
            },
            _maybeAllComplete: function(e, t) {
                var n = this,
                    i = this._getNotFinished();
                t === qq.status.UPLOAD_SUCCESSFUL ? this._succeededSinceLastAllComplete.push(e) : t === qq.status.UPLOAD_FAILED && this._failedSinceLastAllComplete.push(e), 0 === i && (this._succeededSinceLastAllComplete.length || this._failedSinceLastAllComplete.length) && setTimeout(function() {
                    n._onAllComplete(n._succeededSinceLastAllComplete, n._failedSinceLastAllComplete)
                }, 0)
            },
            _maybeHandleIos8SafariWorkaround: function() {
                var e = this;
                if (this._options.workarounds.ios8SafariUploads && qq.ios800() && qq.iosSafari()) throw setTimeout(function() {
                    window.alert(e._options.messages.unsupportedBrowserIos8Safari)
                }, 0), new qq.Error(this._options.messages.unsupportedBrowserIos8Safari)
            },
            _maybeParseAndSendUploadError: function(e, t, n, i) {
                if (!n.success)
                    if (i && 200 !== i.status && !n.error) this._options.callbacks.onError(e, t, "XHR returned response code " + i.status, i);
                    else {
                        var o = n.error ? n.error : this._options.text.defaultResponseError;
                        this._options.callbacks.onError(e, t, o, i)
                    }
            },
            _maybeProcessNextItemAfterOnValidateCallback: function(e, t, n, i, o) {
                var r = this;
                if (t.length > n)
                    if (e || !this._options.validation.stopOnFirstInvalidFile) setTimeout(function() {
                        var e = r._getValidationDescriptor(t[n]),
                            a = r._getButtonId(t[n].file),
                            s = r._getButton(a);
                        r._handleCheckedCallback({
                            name: "onValidate",
                            callback: qq.bind(r._options.callbacks.onValidate, r, e, s),
                            onSuccess: qq.bind(r._onValidateCallbackSuccess, r, t, n, i, o),
                            onFailure: qq.bind(r._onValidateCallbackFailure, r, t, n, i, o),
                            identifier: "Item '" + e.name + "', size: " + e.size
                        })
                    }, 0);
                    else if (!e)
                    for (; n < t.length; n++) r._fileOrBlobRejected(t[n].id)
            },
            _onAllComplete: function(e, t) {
                this._totalProgress && this._totalProgress.onAllComplete(e, t, this._preventRetries), this._options.callbacks.onAllComplete(qq.extend([], e), qq.extend([], t)), this._succeededSinceLastAllComplete = [], this._failedSinceLastAllComplete = []
            },
            _onAutoRetry: function(e, t, n, i, o) {
                var r = this;
                if (r._preventRetries[e] = n[r._options.retry.preventRetryResponseProperty], r._shouldAutoRetry(e, t, n)) return r._maybeParseAndSendUploadError.apply(r, arguments), r._options.callbacks.onAutoRetry(e, t, r._autoRetries[e]), r._onBeforeAutoRetry(e, t), r._retryTimeouts[e] = setTimeout(function() {
                    r.log("Retrying " + t + "..."), r._uploadData.setStatus(e, qq.status.UPLOAD_RETRYING), o ? o(e) : r._handler.retry(e)
                }, 1e3 * r._options.retry.autoAttemptDelay), !0
            },
            _onBeforeAutoRetry: function(e, t) {
                this.log("Waiting " + this._options.retry.autoAttemptDelay + " seconds before retrying " + t + "...")
            },
            _onBeforeManualRetry: function(e) {
                var t, n = this._currentItemLimit;
                return this._preventRetries[e] ? (this.log("Retries are forbidden for id " + e, "warn"), !1) : this._handler.isValid(e) ? (t = this.getName(e), this._options.callbacks.onManualRetry(e, t) !== !1 && (n > 0 && this._netUploadedOrQueued + 1 > n ? (this._itemError("retryFailTooManyItems"), !1) : (this.log("Retrying upload for '" + t + "' (id: " + e + ")..."), !0))) : (this.log("'" + e + "' is not a valid file ID", "error"), !1)
            },
            _onCancel: function(e, t) {
                this._netUploadedOrQueued--, clearTimeout(this._retryTimeouts[e]);
                var n = qq.indexOf(this._storedIds, e);
                !this._options.autoUpload && n >= 0 && this._storedIds.splice(n, 1), this._uploadData.setStatus(e, qq.status.CANCELED)
            },
            _onComplete: function(e, t, n, i) {
                return n.success ? (n.thumbnailUrl && (this._thumbnailUrls[e] = n.thumbnailUrl), this._netUploaded++, this._uploadData.setStatus(e, qq.status.UPLOAD_SUCCESSFUL)) : (this._netUploadedOrQueued--, this._uploadData.setStatus(e, qq.status.UPLOAD_FAILED), n[this._options.retry.preventRetryResponseProperty] === !0 && (this._preventRetries[e] = !0)), this._maybeParseAndSendUploadError(e, t, n, i), !!n.success
            },
            _onDelete: function(e) {
                this._uploadData.setStatus(e, qq.status.DELETING)
            },
            _onDeleteComplete: function(e, t, n) {
                var i = this.getName(e);
                n ? (this._uploadData.setStatus(e, qq.status.DELETE_FAILED), this.log("Delete request for '" + i + "' has failed.", "error"), void 0 === t.withCredentials ? this._options.callbacks.onError(e, i, "Delete request failed", t) : this._options.callbacks.onError(e, i, "Delete request failed with response code " + t.status, t)) : (this._netUploadedOrQueued--, this._netUploaded--, this._handler.expunge(e), this._uploadData.setStatus(e, qq.status.DELETED), this.log("Delete request for '" + i + "' has succeeded."))
            },
            _onInputChange: function(e) {
                var t;
                if (qq.supportedFeatures.ajaxUploading) {
                    for (t = 0; t < e.files.length; t++) this._annotateWithButtonId(e.files[t], e);
                    this.addFiles(e.files)
                } else e.value.length > 0 && this.addFiles(e);
                qq.each(this._buttons, function(e, t) {
                    t.reset()
                })
            },
            _onProgress: function(e, t, n, i) {
                this._totalProgress && this._totalProgress.onIndividualProgress(e, n, i)
            },
            _onSubmit: function(e, t) {},
            _onSubmitCallbackSuccess: function(e, t) {
                this._onSubmit.apply(this, arguments), this._uploadData.setStatus(e, qq.status.SUBMITTED), this._onSubmitted.apply(this, arguments), this._options.autoUpload ? (this._options.callbacks.onSubmitted.apply(this, arguments), this._uploadFile(e)) : (this._storeForLater(e), this._options.callbacks.onSubmitted.apply(this, arguments))
            },
            _onSubmitDelete: function(e, t, n) {
                var i, o = this.getUuid(e);
                return t && (i = qq.bind(t, this, e, o, n)), this._isDeletePossible() ? (this._handleCheckedCallback({
                    name: "onSubmitDelete",
                    callback: qq.bind(this._options.callbacks.onSubmitDelete, this, e),
                    onSuccess: i || qq.bind(this._deleteHandler.sendDelete, this, e, o, n),
                    identifier: e
                }), !0) : (this.log("Delete request ignored for ID " + e + ", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.", "warn"), !1)
            },
            _onSubmitted: function(e) {},
            _onTotalProgress: function(e, t) {
                this._options.callbacks.onTotalProgress(e, t)
            },
            _onUploadPrep: function(e) {},
            _onUpload: function(e, t) {
                this._uploadData.setStatus(e, qq.status.UPLOADING)
            },
            _onUploadChunk: function(e, t) {},
            _onUploadStatusChange: function(e, t, n) {
                n === qq.status.PAUSED && clearTimeout(this._retryTimeouts[e])
            },
            _onValidateBatchCallbackFailure: function(e) {
                var t = this;
                qq.each(e, function(e, n) {
                    t._fileOrBlobRejected(n.id)
                })
            },
            _onValidateBatchCallbackSuccess: function(e, t, n, i, o) {
                var r, a = this._currentItemLimit,
                    s = this._netUploadedOrQueued;
                0 === a || s <= a ? t.length > 0 ? this._handleCheckedCallback({
                    name: "onValidate",
                    callback: qq.bind(this._options.callbacks.onValidate, this, e[0], o),
                    onSuccess: qq.bind(this._onValidateCallbackSuccess, this, t, 0, n, i),
                    onFailure: qq.bind(this._onValidateCallbackFailure, this, t, 0, n, i),
                    identifier: "Item '" + t[0].file.name + "', size: " + t[0].file.size
                }) : this._itemError("noFilesError") : (this._onValidateBatchCallbackFailure(t), r = this._options.messages.tooManyItemsError.replace(/\{netItems\}/g, s).replace(/\{itemLimit\}/g, a), this._batchError(r))
            },
            _onValidateCallbackFailure: function(e, t, n, i) {
                var o = t + 1;
                this._fileOrBlobRejected(e[t].id, e[t].file.name), this._maybeProcessNextItemAfterOnValidateCallback(!1, e, o, n, i)
            },
            _onValidateCallbackSuccess: function(e, t, n, i) {
                var o = this,
                    r = t + 1,
                    a = this._getValidationDescriptor(e[t]);
                this._validateFileOrBlobData(e[t], a).then(function() {
                    o._upload(e[t].id, n, i), o._maybeProcessNextItemAfterOnValidateCallback(!0, e, r, n, i)
                }, function() {
                    o._maybeProcessNextItemAfterOnValidateCallback(!1, e, r, n, i)
                })
            },
            _prepareItemsForUpload: function(e, t, n) {
                if (0 === e.length) return void this._itemError("noFilesError");
                var i = this._getValidationDescriptors(e),
                    o = this._getButtonId(e[0].file),
                    r = this._getButton(o);
                this._handleCheckedCallback({
                    name: "onValidateBatch",
                    callback: qq.bind(this._options.callbacks.onValidateBatch, this, i, r),
                    onSuccess: qq.bind(this._onValidateBatchCallbackSuccess, this, i, e, t, n, r),
                    onFailure: qq.bind(this._onValidateBatchCallbackFailure, this, e),
                    identifier: "batch validation"
                })
            },
            _preventLeaveInProgress: function() {
                var e = this;
                this._disposeSupport.attach(window, "beforeunload", function(t) {
                    if (e.getInProgress()) return t = t || window.event, t.returnValue = e._options.messages.onLeave, e._options.messages.onLeave
                })
            },
            _refreshSessionData: function() {
                var e = this,
                    t = this._options.session;
                qq.Session && null != this._options.session.endpoint && (this._session || (qq.extend(t, this._options.cors), t.log = qq.bind(this.log, this), t.addFileRecord = qq.bind(this._addCannedFile, this), this._session = new qq.Session(t)), setTimeout(function() {
                    e._session.refresh().then(function(t, n) {
                        e._sessionRequestComplete(), e._options.callbacks.onSessionRequestComplete(t, !0, n)
                    }, function(t, n) {
                        e._options.callbacks.onSessionRequestComplete(t, !1, n)
                    })
                }, 0))
            },
            _sessionRequestComplete: function() {},
            _setSize: function(e, t) {
                this._uploadData.updateSize(e, t), this._totalProgress && this._totalProgress.onNewSize(e)
            },
            _shouldAutoRetry: function(e, t, n) {
                var i = this._uploadData.retrieve({
                    id: e
                });
                return !!(!this._preventRetries[e] && this._options.retry.enableAuto && i.status !== qq.status.PAUSED && (void 0 === this._autoRetries[e] && (this._autoRetries[e] = 0), this._autoRetries[e] < this._options.retry.maxAutoAttempts)) && (this._autoRetries[e] += 1, !0)
            },
            _storeForLater: function(e) {
                this._storedIds.push(e)
            },
            _trackButton: function(e) {
                var t;
                t = qq.supportedFeatures.ajaxUploading ? this._handler.getFile(e).qqButtonId : this._getButtonId(this._handler.getInput(e)), t && (this._buttonIdsForFileIds[e] = t)
            },
            _updateFormSupportAndParams: function(e) {
                this._options.form.element = e, this._formSupport = qq.FormSupport && new qq.FormSupport(this._options.form, qq.bind(this.uploadStoredFiles, this), qq.bind(this.log, this)), this._formSupport && this._formSupport.attachedToForm && (this._paramsStore.addReadOnly(null, this._formSupport.getFormInputsAsObject), this._options.autoUpload = this._formSupport.newAutoUpload, this._formSupport.newEndpoint && this.setEndpoint(this._formSupport.newEndpoint))
            },
            _upload: function(e, t, n) {
                var i = this.getName(e);
                t && this.setParams(t, e), n && this.setEndpoint(n, e), this._handleCheckedCallback({
                    name: "onSubmit",
                    callback: qq.bind(this._options.callbacks.onSubmit, this, e, i),
                    onSuccess: qq.bind(this._onSubmitCallbackSuccess, this, e, i),
                    onFailure: qq.bind(this._fileOrBlobRejected, this, e, i),
                    identifier: e
                })
            },
            _uploadFile: function(e) {
                this._handler.upload(e) || this._uploadData.setStatus(e, qq.status.QUEUED)
            },
            _uploadStoredFiles: function() {
                for (var e, t, n = this; this._storedIds.length;) e = this._storedIds.shift(), this._uploadFile(e);
                t = this.getUploads({
                    status: qq.status.SUBMITTING
                }).length, t && (qq.log("Still waiting for " + t + " files to clear submit queue. Will re-parse stored IDs array shortly."), setTimeout(function() {
                    n._uploadStoredFiles()
                }, 1e3))
            },
            _validateFileOrBlobData: function(e, t) {
                var n = this,
                    i = function() {
                        return e.file instanceof qq.BlobProxy ? e.file.referenceBlob : e.file
                    }(),
                    o = t.name,
                    r = t.size,
                    a = this._getButtonId(e.file),
                    s = this._getValidationBase(a),
                    u = new qq.Promise;
                return u.then(function() {}, function() {
                    n._fileOrBlobRejected(e.id, o)
                }), qq.isFileOrInput(i) && !this._isAllowedExtension(s.allowedExtensions, o) ? (this._itemError("typeError", o, i), u.failure()) : 0 === r ? (this._itemError("emptyError", o, i), u.failure()) : r > 0 && s.sizeLimit && r > s.sizeLimit ? (this._itemError("sizeError", o, i), u.failure()) : r > 0 && r < s.minSizeLimit ? (this._itemError("minSizeError", o, i), u.failure()) : (qq.ImageValidation && qq.supportedFeatures.imagePreviews && qq.isFile(i) ? new qq.ImageValidation(i, qq.bind(n.log, n)).validate(s.image).then(u.success, function(e) {
                    n._itemError(e + "ImageError", o, i), u.failure()
                }) : u.success(), u)
            },
            _wrapCallbacks: function() {
                var e, t, n;
                e = this, t = function(t, n, i) {
                    var o;
                    try {
                        return n.apply(e, i)
                    } catch (r) {
                        o = r.message || r.toString(), e.log("Caught exception in '" + t + "' callback - " + o, "error")
                    }
                };
                for (n in this._options.callbacks) ! function() {
                    var i, o;
                    i = n, o = e._options.callbacks[i], e._options.callbacks[i] = function() {
                        return t(i, o, arguments)
                    }
                }()
            }
        }
    }(),
    function() {
        "use strict";
        qq.FineUploaderBasic = function(e) {
            var t = this;
            this._options = {
                debug: !1,
                button: null,
                multiple: !0,
                maxConnections: 3,
                disableCancelForFormUploads: !1,
                autoUpload: !0,
                request: {
                    customHeaders: {},
                    endpoint: "/server/upload",
                    filenameParam: "qqfilename",
                    forceMultipart: !0,
                    inputName: "qqfile",
                    method: "POST",
                    params: {},
                    paramsInBody: !0,
                    totalFileSizeName: "qqtotalfilesize",
                    uuidName: "qquuid"
                },
                validation: {
                    allowedExtensions: [],
                    sizeLimit: 0,
                    minSizeLimit: 0,
                    itemLimit: 0,
                    stopOnFirstInvalidFile: !0,
                    acceptFiles: null,
                    image: {
                        maxHeight: 0,
                        maxWidth: 0,
                        minHeight: 0,
                        minWidth: 0
                    }
                },
                callbacks: {
                    onSubmit: function(e, t) {},
                    onSubmitted: function(e, t) {},
                    onComplete: function(e, t, n, i) {},
                    onAllComplete: function(e, t) {},
                    onCancel: function(e, t) {},
                    onUpload: function(e, t) {},
                    onUploadChunk: function(e, t, n) {},
                    onUploadChunkSuccess: function(e, t, n, i) {},
                    onResume: function(e, t, n) {},
                    onProgress: function(e, t, n, i) {},
                    onTotalProgress: function(e, t) {},
                    onError: function(e, t, n, i) {},
                    onAutoRetry: function(e, t, n) {},
                    onManualRetry: function(e, t) {},
                    onValidateBatch: function(e) {},
                    onValidate: function(e) {},
                    onSubmitDelete: function(e) {},
                    onDelete: function(e) {},
                    onDeleteComplete: function(e, t, n) {},
                    onPasteReceived: function(e) {},
                    onStatusChange: function(e, t, n) {},
                    onSessionRequestComplete: function(e, t, n) {}
                },
                messages: {
                    typeError: "{file} has an invalid extension. Valid extension(s): {extensions}.",
                    sizeError: "{file} is too large, maximum file size is {sizeLimit}.",
                    minSizeError: "{file} is too small, minimum file size is {minSizeLimit}.",
                    emptyError: "{file} is empty, please select files again without it.",
                    noFilesError: "No files to upload.",
                    tooManyItemsError: "Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",
                    maxHeightImageError: "Image is too tall.",
                    maxWidthImageError: "Image is too wide.",
                    minHeightImageError: "Image is not tall enough.",
                    minWidthImageError: "Image is not wide enough.",
                    retryFailTooManyItems: "Retry failed - you have reached your file limit.",
                    onLeave: "The files are being uploaded, if you leave now the upload will be canceled.",
                    unsupportedBrowserIos8Safari: "Unrecoverable error - this browser does not permit file uploading of any kind due to serious bugs in iOS8 Safari.  Please use iOS8 Chrome until Apple fixes these issues."
                },
                retry: {
                    enableAuto: !1,
                    maxAutoAttempts: 3,
                    autoAttemptDelay: 5,
                    preventRetryResponseProperty: "preventRetry"
                },
                classes: {
                    buttonHover: "qq-upload-button-hover",
                    buttonFocus: "qq-upload-button-focus"
                },
                chunking: {
                    enabled: !1,
                    concurrent: {
                        enabled: !1
                    },
                    mandatory: !1,
                    paramNames: {
                        partIndex: "qqpartindex",
                        partByteOffset: "qqpartbyteoffset",
                        chunkSize: "qqchunksize",
                        totalFileSize: "qqtotalfilesize",
                        totalParts: "qqtotalparts"
                    },
                    partSize: 2e6,
                    success: {
                        endpoint: null
                    }
                },
                resume: {
                    enabled: !1,
                    recordsExpireIn: 7,
                    paramNames: {
                        resuming: "qqresume"
                    }
                },
                formatFileName: function(e) {
                    return e
                },
                text: {
                    defaultResponseError: "Upload failure reason unknown",
                    sizeSymbols: ["kB", "MB", "GB", "TB", "PB", "EB"]
                },
                deleteFile: {
                    enabled: !1,
                    method: "DELETE",
                    endpoint: "/server/upload",
                    customHeaders: {},
                    params: {}
                },
                cors: {
                    expected: !1,
                    sendCredentials: !1,
                    allowXdr: !1
                },
                blobs: {
                    defaultName: "misc_data"
                },
                paste: {
                    targetElement: null,
                    defaultName: "pasted_image"
                },
                camera: {
                    ios: !1,
                    button: null
                },
                extraButtons: [],
                session: {
                    endpoint: null,
                    params: {},
                    customHeaders: {},
                    refreshOnReset: !0
                },
                form: {
                    element: "qq-form",
                    autoUpload: !1,
                    interceptSubmit: !0
                },
                scaling: {
                    sendOriginal: !0,
                    orient: !0,
                    defaultType: null,
                    defaultQuality: 80,
                    failureText: "Failed to scale",
                    includeExif: !1,
                    sizes: []
                },
                workarounds: {
                    iosEmptyVideos: !0,
                    ios8SafariUploads: !0,
                    ios8BrowserCrash: !1
                }
            }, qq.extend(this._options, e, !0), this._buttons = [], this._extraButtonSpecs = {}, this._buttonIdsForFileIds = [], this._wrapCallbacks(), this._disposeSupport = new qq.DisposeSupport, this._storedIds = [], this._autoRetries = [], this._retryTimeouts = [], this._preventRetries = [], this._thumbnailUrls = [], this._netUploadedOrQueued = 0, this._netUploaded = 0, this._uploadData = this._createUploadDataTracker(), this._initFormSupportAndParams(), this._customHeadersStore = this._createStore(this._options.request.customHeaders), this._deleteFileCustomHeadersStore = this._createStore(this._options.deleteFile.customHeaders), this._deleteFileParamsStore = this._createStore(this._options.deleteFile.params), this._endpointStore = this._createStore(this._options.request.endpoint), this._deleteFileEndpointStore = this._createStore(this._options.deleteFile.endpoint), this._handler = this._createUploadHandler(), this._deleteHandler = qq.DeleteFileAjaxRequester && this._createDeleteHandler(), this._options.button && (this._defaultButtonId = this._createUploadButton({
                element: this._options.button
            }).getButtonId()), this._generateExtraButtonSpecs(), this._handleCameraAccess(), this._options.paste.targetElement && (qq.PasteSupport ? this._pasteHandler = this._createPasteHandler() : this.log("Paste support module not found", "error")), this._preventLeaveInProgress(), this._imageGenerator = qq.ImageGenerator && new qq.ImageGenerator(qq.bind(this.log, this)), this._refreshSessionData(), this._succeededSinceLastAllComplete = [], this._failedSinceLastAllComplete = [], this._scaler = qq.Scaler && new qq.Scaler(this._options.scaling, qq.bind(this.log, this)) || {}, this._scaler.enabled && (this._customNewFileHandler = qq.bind(this._scaler.handleNewFile, this._scaler)), qq.TotalProgress && qq.supportedFeatures.progressBar && (this._totalProgress = new qq.TotalProgress(qq.bind(this._onTotalProgress, this), function(e) {
                var n = t._uploadData.retrieve({
                    id: e
                });
                return n && n.size || 0
            })), this._currentItemLimit = this._options.validation.itemLimit
        }, qq.FineUploaderBasic.prototype = qq.basePublicApi, qq.extend(qq.FineUploaderBasic.prototype, qq.basePrivateApi)
    }(), qq.AjaxRequester = function(e) {
        "use strict";

        function t() {
            return qq.indexOf(["GET", "POST", "HEAD"], y.method) >= 0
        }

        function n(e) {
            var t = !1;
            return qq.each(t, function(e, n) {
                if (qq.indexOf(["Accept", "Accept-Language", "Content-Language", "Content-Type"], n) < 0) return t = !0, !1
            }), t
        }

        function i(e) {
            return y.cors.expected && void 0 === e.withCredentials
        }

        function o() {
            var e;
            return (window.XMLHttpRequest || window.ActiveXObject) && (e = qq.createXhrInstance(), void 0 === e.withCredentials && (e = new XDomainRequest, e.onload = function() {}, e.onerror = function() {}, e.ontimeout = function() {}, e.onprogress = function() {})), e
        }

        function r(e, t) {
            var n = S[e].xhr;
            return n || (n = t ? t : y.cors.expected ? o() : qq.createXhrInstance(), S[e].xhr = n), n
        }

        function a(e) {
            var t, n = qq.indexOf(b, e),
                i = y.maxConnections;
            delete S[e], b.splice(n, 1), b.length >= i && n < i && (t = b[i - 1], l(t))
        }

        function s(e, t) {
            var n = r(e),
                o = y.method,
                s = t === !0;
            a(e), s ? _(o + " request for " + e + " has failed", "error") : i(n) || m(n.status) || (s = !0, _(o + " request for " + e + " has failed - response code " + n.status, "error")), y.onComplete(e, n, s)
        }

        function u(e) {
            var t, n = S[e].additionalParams,
                i = y.mandatedParams;
            return y.paramsStore.get && (t = y.paramsStore.get(e)), n && qq.each(n, function(e, n) {
                t = t || {}, t[e] = n
            }), i && qq.each(i, function(e, n) {
                t = t || {}, t[e] = n
            }), t
        }

        function l(e, t) {
            var n, o = r(e, t),
                a = y.method,
                s = u(e),
                l = S[e].payload;
            return y.onSend(e), n = c(e, s, S[e].additionalQueryParams), i(o) ? (o.onload = h(e), o.onerror = f(e)) : o.onreadystatechange = d(e), p(e), o.open(a, n, !0), y.cors.expected && y.cors.sendCredentials && !i(o) && (o.withCredentials = !0), q(e), _("Sending " + a + " request for " + e), l ? o.send(l) : v || !s ? o.send() : s && y.contentType && y.contentType.toLowerCase().indexOf("application/x-www-form-urlencoded") >= 0 ? o.send(qq.obj2url(s, "")) : s && y.contentType && y.contentType.toLowerCase().indexOf("application/json") >= 0 ? o.send(JSON.stringify(s)) : o.send(s), o
        }

        function c(e, t, n) {
            var i = y.endpointStore.get(e),
                o = S[e].addToPath;
            return void 0 != o && (i += "/" + o), v && t && (i = qq.obj2url(t, i)), n && (i = qq.obj2url(n, i)), i
        }

        function d(e) {
            return function() {
                4 === r(e).readyState && s(e)
            }
        }

        function p(e) {
            var t = y.onProgress;
            t && (r(e).upload.onprogress = function(n) {
                n.lengthComputable && t(e, n.loaded, n.total)
            })
        }

        function h(e) {
            return function() {
                s(e)
            }
        }

        function f(e) {
            return function() {
                s(e, !0)
            }
        }

        function q(e) {
            var o = r(e),
                a = y.customHeaders,
                s = S[e].additionalHeaders || {},
                u = y.method,
                l = {};
            i(o) || (y.acceptHeader && o.setRequestHeader("Accept", y.acceptHeader), y.allowXRequestedWithAndCacheControl && (y.cors.expected && t() && !n(a) || (o.setRequestHeader("X-Requested-With", "XMLHttpRequest"), o.setRequestHeader("Cache-Control", "no-cache"))), !y.contentType || "POST" !== u && "PUT" !== u || o.setRequestHeader("Content-Type", y.contentType), qq.extend(l, qq.isFunction(a) ? a(e) : a), qq.extend(l, s), qq.each(l, function(e, t) {
                o.setRequestHeader(e, t)
            }))
        }

        function m(e) {
            return qq.indexOf(y.successfulResponseCodes[y.method], e) >= 0
        }

        function g(e, t, n, i, o, r, a) {
            S[e] = {
                addToPath: n,
                additionalParams: i,
                additionalQueryParams: o,
                additionalHeaders: r,
                payload: a
            };
            var s = b.push(e);
            if (s <= y.maxConnections) return l(e, t)
        }
        var _, v, b = [],
            S = {},
            y = {
                acceptHeader: null,
                validMethods: ["PATCH", "POST", "PUT"],
                method: "POST",
                contentType: "application/x-www-form-urlencoded",
                maxConnections: 3,
                customHeaders: {},
                endpointStore: {},
                paramsStore: {},
                mandatedParams: {},
                allowXRequestedWithAndCacheControl: !0,
                successfulResponseCodes: {
                    DELETE: [200, 202, 204],
                    PATCH: [200, 201, 202, 203, 204],
                    POST: [200, 201, 202, 203, 204],
                    PUT: [200, 201, 202, 203, 204],
                    GET: [200]
                },
                cors: {
                    expected: !1,
                    sendCredentials: !1
                },
                log: function(e, t) {},
                onSend: function(e) {},
                onComplete: function(e, t, n) {},
                onProgress: null
            };
        if (qq.extend(y, e), _ = y.log, qq.indexOf(y.validMethods, y.method) < 0) throw new Error("'" + y.method + "' is not a supported method for this type of request!");
        v = "GET" === y.method || "DELETE" === y.method, qq.extend(this, {
            initTransport: function(e) {
                var t, n, i, o, r, a;
                return {
                    withPath: function(e) {
                        return t = e, this
                    },
                    withParams: function(e) {
                        return n = e, this
                    },
                    withQueryParams: function(e) {
                        return a = e, this
                    },
                    withHeaders: function(e) {
                        return i = e, this
                    },
                    withPayload: function(e) {
                        return o = e, this
                    },
                    withCacheBuster: function() {
                        return r = !0, this
                    },
                    send: function(s) {
                        return r && qq.indexOf(["GET", "DELETE"], y.method) >= 0 && (n.qqtimestamp = (new Date).getTime()), g(e, s, t, n, a, i, o)
                    }
                }
            },
            canceled: function(e) {
                a(e)
            }
        })
    }, qq.UploadHandler = function(e) {
        "use strict";
        var t = e.proxy,
            n = {},
            i = t.onCancel,
            o = t.getName;
        qq.extend(this, {
            add: function(e, t) {
                n[e] = t, n[e].temp = {}
            },
            cancel: function(e) {
                var t = this,
                    r = new qq.Promise,
                    a = i(e, o(e), r);
                a.then(function() {
                    t.isValid(e) && (n[e].canceled = !0, t.expunge(e)), r.success()
                })
            },
            expunge: function(e) {
                delete n[e]
            },
            getThirdPartyFileId: function(e) {
                return n[e].key
            },
            isValid: function(e) {
                return void 0 !== n[e]
            },
            reset: function() {
                n = {}
            },
            _getFileState: function(e) {
                return n[e]
            },
            _setThirdPartyFileId: function(e, t) {
                n[e].key = t
            },
            _wasCanceled: function(e) {
                return !!n[e].canceled
            }
        })
    }, qq.UploadHandlerController = function(e, t) {
        "use strict";
        var n, i, o, r = this,
            a = !1,
            s = !1,
            u = {
                paramsStore: {},
                maxConnections: 3,
                chunking: {
                    enabled: !1,
                    multiple: {
                        enabled: !1
                    }
                },
                log: function(e, t) {},
                onProgress: function(e, t, n, i) {},
                onComplete: function(e, t, n, i) {},
                onCancel: function(e, t) {},
                onUploadPrep: function(e) {},
                onUpload: function(e, t) {},
                onUploadChunk: function(e, t, n) {},
                onUploadChunkSuccess: function(e, t, n, i) {},
                onAutoRetry: function(e, t, n, i) {},
                onResume: function(e, t, n) {},
                onUuidChanged: function(e, t) {},
                getName: function(e) {},
                setSize: function(e, t) {},
                isQueued: function(e) {},
                getIdsInProxyGroup: function(e) {},
                getIdsInBatch: function(e) {}
            },
            l = {
                done: function(e, t, n, i) {
                    var r = o._getChunkData(e, t);
                    o._getFileState(e).attemptingResume = !1, delete o._getFileState(e).temp.chunkProgress[t], o._getFileState(e).loaded += r.size, u.onUploadChunkSuccess(e, o._getChunkDataForCallback(r), n, i)
                },
                finalize: function(e) {
                    var t = u.getSize(e),
                        n = u.getName(e);
                    i("All chunks have been uploaded for " + e + " - finalizing...."), o.finalizeChunks(e).then(function(r, a) {
                        i("Finalize successful for " + e);
                        var s = p.normalizeResponse(r, !0);
                        u.onProgress(e, n, t, t), o._maybeDeletePersistedChunkData(e), p.cleanup(e, s, a)
                    }, function(t, o) {
                        var r = p.normalizeResponse(t, !1);
                        i("Problem finalizing chunks for file ID " + e + " - " + r.error, "error"), r.reset && l.reset(e), u.onAutoRetry(e, n, r, o) || p.cleanup(e, r, o)
                    })
                },
                hasMoreParts: function(e) {
                    return !!o._getFileState(e).chunking.remaining.length
                },
                nextPart: function(e) {
                    var t = o._getFileState(e).chunking.remaining.shift();
                    return t >= o._getTotalChunks(e) && (t = null), t
                },
                reset: function(e) {
                    i("Server or callback has ordered chunking effort to be restarted on next attempt for item ID " + e, "error"), o._maybeDeletePersistedChunkData(e), o.reevaluateChunking(e), o._getFileState(e).loaded = 0
                },
                sendNext: function(e) {
                    var t = u.getSize(e),
                        n = u.getName(e),
                        r = l.nextPart(e),
                        a = o._getChunkData(e, r),
                        d = o._getFileState(e).attemptingResume,
                        h = o._getFileState(e).chunking.inProgress || [];
                    null == o._getFileState(e).loaded && (o._getFileState(e).loaded = 0), d && u.onResume(e, n, a) === !1 && (l.reset(e), r = l.nextPart(e), a = o._getChunkData(e, r), d = !1), null == r && 0 === h.length ? l.finalize(e) : (i("Sending chunked upload request for item " + e + ": bytes " + (a.start + 1) + "-" + a.end + " of " + t), u.onUploadChunk(e, n, o._getChunkDataForCallback(a)), h.push(r), o._getFileState(e).chunking.inProgress = h, s && c.open(e, r), s && c.available() && o._getFileState(e).chunking.remaining.length && l.sendNext(e), o.uploadChunk(e, r, d).then(function(t, n) {
                        i("Chunked upload request succeeded for " + e + ", chunk " + r), o.clearCachedChunk(e, r);
                        var a = o._getFileState(e).chunking.inProgress || [],
                            s = p.normalizeResponse(t, !0),
                            u = qq.indexOf(a, r);
                        i(qq.format("Chunk {} for file {} uploaded successfully.", r, e)), l.done(e, r, s, n), u >= 0 && a.splice(u, 1), o._maybePersistChunkedState(e), l.hasMoreParts(e) || 0 !== a.length ? l.hasMoreParts(e) && l.sendNext(e) : l.finalize(e)
                    }, function(t, a) {
                        i("Chunked upload request failed for " + e + ", chunk " + r), o.clearCachedChunk(e, r);
                        var d, h = p.normalizeResponse(t, !1);
                        h.reset ? l.reset(e) : (d = qq.indexOf(o._getFileState(e).chunking.inProgress, r), d >= 0 && (o._getFileState(e).chunking.inProgress.splice(d, 1), o._getFileState(e).chunking.remaining.unshift(r))), o._getFileState(e).temp.ignoreFailure || (s && (o._getFileState(e).temp.ignoreFailure = !0, qq.each(o._getXhrs(e), function(e, t) {
                            t.abort()
                        }), o.moveInProgressToRemaining(e), c.free(e, !0)), u.onAutoRetry(e, n, h, a) || p.cleanup(e, h, a))
                    }).done(function() {
                        o.clearXhr(e, r)
                    }))
                }
            },
            c = {
                _open: [],
                _openChunks: {},
                _waiting: [],
                available: function() {
                    var e = u.maxConnections,
                        t = 0,
                        n = 0;
                    return qq.each(c._openChunks, function(e, i) {
                        t++, n += i.length
                    }), e - (c._open.length - t + n)
                },
                free: function(e, t) {
                    var n, r = !t,
                        a = qq.indexOf(c._waiting, e),
                        s = qq.indexOf(c._open, e);
                    delete c._openChunks[e], p.getProxyOrBlob(e) instanceof qq.BlobProxy && (i("Generated blob upload has ended for " + e + ", disposing generated blob."), delete o._getFileState(e).file), a >= 0 ? c._waiting.splice(a, 1) : r && s >= 0 && (c._open.splice(s, 1), n = c._waiting.shift(), n >= 0 && (c._open.push(n), p.start(n)))
                },
                getWaitingOrConnected: function() {
                    var e = [];
                    return qq.each(c._openChunks, function(t, n) {
                        n && n.length && e.push(parseInt(t))
                    }), qq.each(c._open, function(t, n) {
                        c._openChunks[n] || e.push(parseInt(n))
                    }), e = e.concat(c._waiting)
                },
                isUsingConnection: function(e) {
                    return qq.indexOf(c._open, e) >= 0
                },
                open: function(e, t) {
                    return null == t && c._waiting.push(e), !!c.available() && (null == t ? (c._waiting.pop(), c._open.push(e)) : ! function() {
                        var n = c._openChunks[e] || [];
                        n.push(t), c._openChunks[e] = n
                    }(), !0)
                },
                reset: function() {
                    c._waiting = [], c._open = []
                }
            },
            d = {
                send: function(e, t) {
                    o._getFileState(e).loaded = 0, i("Sending simple upload request for " + e), o.uploadFile(e).then(function(n, o) {
                        i("Simple upload request succeeded for " + e);
                        var r = p.normalizeResponse(n, !0),
                            a = u.getSize(e);
                        u.onProgress(e, t, a, a), p.maybeNewUuid(e, r), p.cleanup(e, r, o)
                    }, function(n, o) {
                        i("Simple upload request failed for " + e);
                        var r = p.normalizeResponse(n, !1);
                        u.onAutoRetry(e, t, r, o) || p.cleanup(e, r, o)
                    })
                }
            },
            p = {
                cancel: function(e) {
                    i("Cancelling " + e), u.paramsStore.remove(e), c.free(e)
                },
                cleanup: function(e, t, n) {
                    var i = u.getName(e);
                    u.onComplete(e, i, t, n), o._getFileState(e) && o._clearXhrs && o._clearXhrs(e), c.free(e)
                },
                getProxyOrBlob: function(e) {
                    return o.getProxy && o.getProxy(e) || o.getFile && o.getFile(e)
                },
                initHandler: function() {
                    var e = t ? qq[t] : qq.traditional,
                        n = qq.supportedFeatures.ajaxUploading ? "Xhr" : "Form";
                    o = new e[n + "UploadHandler"](u, {
                        getDataByUuid: u.getDataByUuid,
                        getName: u.getName,
                        getSize: u.getSize,
                        getUuid: u.getUuid,
                        log: i,
                        onCancel: u.onCancel,
                        onProgress: u.onProgress,
                        onUuidChanged: u.onUuidChanged
                    }), o._removeExpiredChunkingRecords && o._removeExpiredChunkingRecords()
                },
                isDeferredEligibleForUpload: function(e) {
                    return u.isQueued(e)
                },
                maybeDefer: function(e, t) {
                    return t && !o.getFile(e) && t instanceof qq.BlobProxy ? (u.onUploadPrep(e), i("Attempting to generate a blob on-demand for " + e), t.create().then(function(t) {
                        i("Generated an on-demand blob for " + e), o.updateBlob(e, t), u.setSize(e, t.size), o.reevaluateChunking(e), p.maybeSendDeferredFiles(e)
                    }, function(t) {
                        var o = {};
                        t && (o.error = t), i(qq.format("Failed to generate blob for ID {}.  Error message: {}.", e, t), "error"), u.onComplete(e, u.getName(e), qq.extend(o, n), null), p.maybeSendDeferredFiles(e), c.free(e)
                    }), !1) : p.maybeSendDeferredFiles(e)
                },
                maybeSendDeferredFiles: function(e) {
                    var t = u.getIdsInProxyGroup(e),
                        n = !1;
                    return t && t.length ? (i("Maybe ready to upload proxy group file " + e), qq.each(t, function(t, i) {
                        if (p.isDeferredEligibleForUpload(i) && o.getFile(i)) n = i === e, p.now(i);
                        else if (p.isDeferredEligibleForUpload(i)) return !1
                    })) : (n = !0, p.now(e)), n
                },
                maybeNewUuid: function(e, t) {
                    void 0 !== t.newUuid && u.onUuidChanged(e, t.newUuid)
                },
                normalizeResponse: function(e, t) {
                    var n = e;
                    return qq.isObject(e) || (n = {}, qq.isString(e) && !t && (n.error = e)), n.success = t, n
                },
                now: function(e) {
                    var t = u.getName(e);
                    if (!r.isValid(e)) throw new qq.Error(e + " is not a valid file ID to upload!");
                    u.onUpload(e, t), a && o._shouldChunkThisFile(e) ? l.sendNext(e) : d.send(e, t)
                },
                start: function(e) {
                    var t = p.getProxyOrBlob(e);
                    return t ? p.maybeDefer(e, t) : (p.now(e), !0)
                }
            };
        qq.extend(this, {
            add: function(e, t) {
                o.add.apply(this, arguments)
            },
            upload: function(e) {
                return !!c.open(e) && p.start(e)
            },
            retry: function(e) {
                return s && (o._getFileState(e).temp.ignoreFailure = !1), c.isUsingConnection(e) ? p.start(e) : r.upload(e)
            },
            cancel: function(e) {
                var t = o.cancel(e);
                qq.isGenericPromise(t) ? t.then(function() {
                    p.cancel(e)
                }) : t !== !1 && p.cancel(e)
            },
            cancelAll: function() {
                var e, t = c.getWaitingOrConnected();
                if (t.length)
                    for (e = t.length - 1; e >= 0; e--) r.cancel(t[e]);
                c.reset()
            },
            getFile: function(e) {
                return o.getProxy && o.getProxy(e) ? o.getProxy(e).referenceBlob : o.getFile && o.getFile(e)
            },
            isProxied: function(e) {
                return !(!o.getProxy || !o.getProxy(e))
            },
            getInput: function(e) {
                if (o.getInput) return o.getInput(e)
            },
            reset: function() {
                i("Resetting upload handler"), r.cancelAll(), c.reset(), o.reset()
            },
            expunge: function(e) {
                if (r.isValid(e)) return o.expunge(e)
            },
            isValid: function(e) {
                return o.isValid(e)
            },
            getResumableFilesData: function() {
                return o.getResumableFilesData ? o.getResumableFilesData() : []
            },
            getThirdPartyFileId: function(e) {
                if (r.isValid(e)) return o.getThirdPartyFileId(e)
            },
            pause: function(e) {
                return !!(r.isResumable(e) && o.pause && r.isValid(e) && o.pause(e)) && (c.free(e), o.moveInProgressToRemaining(e), !0)
            },
            isResumable: function(e) {
                return !!o.isResumable && o.isResumable(e)
            }
        }), qq.extend(u, e), i = u.log, a = u.chunking.enabled && qq.supportedFeatures.chunking, s = a && u.chunking.concurrent.enabled, n = function() {
            var e = {};
            return e[u.preventRetryParam] = !0, e
        }(), p.initHandler()
    }, qq.FormUploadHandler = function(e) {
        "use strict";

        function t(e) {
            delete c[e], p && (clearTimeout(d[e]), delete d[e], m.stopReceivingMessages(e));
            var t = document.getElementById(a._getIframeName(e));
            t && (t.setAttribute("src", "javascript:false;"), qq(t).remove())
        }

        function n(e) {
            return e.split("_")[0]
        }

        function i(e) {
            var t = qq.toElement("<iframe src='javascript:false;' name='" + e + "' />");
            return t.setAttribute("id", e), t.style.display = "none", document.body.appendChild(t), t
        }

        function o(e, t) {
            var i = e.id,
                o = n(i),
                r = f(o);
            l[r] = t, c[o] = qq(e).attach("load", function() {
                a.getInput(o) && (q("Received iframe load event for CORS upload request (iframe name " + i + ")"), d[i] = setTimeout(function() {
                    var e = "No valid message received from loaded iframe for iframe name " + i;
                    q(e, "error"), t({
                        error: e
                    })
                }, 1e3))
            }), m.receiveMessage(i, function(e) {
                q("Received the following window message: '" + e + "'");
                var t, o = (n(i), a._parseJsonResponse(e)),
                    r = o.uuid;
                r && l[r] ? (q("Handling response for iframe name " + i), clearTimeout(d[i]), delete d[i], a._detachLoadEvent(i), t = l[r], delete l[r], m.stopReceivingMessages(i), t(o)) : r || q("'" + e + "' does not contain a UUID - ignoring.")
            })
        }
        var r = e.options,
            a = this,
            s = e.proxy,
            u = qq.getUniqueId(),
            l = {},
            c = {},
            d = {},
            p = r.isCors,
            h = r.inputName,
            f = s.getUuid,
            q = s.log,
            m = new qq.WindowReceiveMessage({
                log: q
            });
        qq.extend(this, new qq.UploadHandler(e)), qq.override(this, function(e) {
            return {
                add: function(t, n) {
                    e.add(t, {
                        input: n
                    }), n.setAttribute("name", h), n.parentNode && qq(n).remove()
                },
                expunge: function(n) {
                    t(n), e.expunge(n)
                },
                isValid: function(t) {
                    return e.isValid(t) && void 0 !== a._getFileState(t).input
                }
            }
        }), qq.extend(this, {
            getInput: function(e) {
                return a._getFileState(e).input
            },
            _attachLoadEvent: function(e, t) {
                var n;
                p ? o(e, t) : c[e.id] = qq(e).attach("load", function() {
                    if (q("Received response for " + e.id), e.parentNode) {
                        try {
                            if (e.contentDocument && e.contentDocument.body && "false" == e.contentDocument.body.innerHTML) return
                        } catch (i) {
                            q("Error when attempting to access iframe during handling of upload response (" + i.message + ")", "error"), n = {
                                success: !1
                            }
                        }
                        t(n)
                    }
                })
            },
            _createIframe: function(e) {
                var t = a._getIframeName(e);
                return i(t)
            },
            _detachLoadEvent: function(e) {
                void 0 !== c[e] && (c[e](), delete c[e])
            },
            _getIframeName: function(e) {
                return e + "_" + u
            },
            _initFormForUpload: function(e) {
                var t = e.method,
                    n = e.endpoint,
                    i = e.params,
                    o = e.paramsInBody,
                    r = e.targetName,
                    a = qq.toElement("<form method='" + t + "' enctype='multipart/form-data'></form>"),
                    s = n;
                return o ? qq.obj2Inputs(i, a) : s = qq.obj2url(i, n), a.setAttribute("action", s), a.setAttribute("target", r), a.style.display = "none", document.body.appendChild(a), a
            },
            _parseJsonResponse: function(e) {
                var t = {};
                try {
                    t = qq.parseJson(e)
                } catch (n) {
                    q("Error when attempting to parse iframe upload response (" + n.message + ")", "error")
                }
                return t
            }
        })
    }, qq.XhrUploadHandler = function(e) {
        "use strict";

        function t(e) {
            qq.each(n._getXhrs(e), function(t, i) {
                var o = n._getAjaxRequester(e, t);
                i.onreadystatechange = null, i.upload.onprogress = null, i.abort(), o && o.canceled && o.canceled(e)
            })
        }
        var n = this,
            i = e.options.namespace,
            o = e.proxy,
            r = e.options.chunking,
            a = e.options.resume,
            s = r && e.options.chunking.enabled && qq.supportedFeatures.chunking,
            u = a && e.options.resume.enabled && s && qq.supportedFeatures.resume,
            l = o.getName,
            c = o.getSize,
            d = o.getUuid,
            p = o.getEndpoint,
            h = o.getDataByUuid,
            f = o.onUuidChanged,
            q = o.onProgress,
            m = o.log;
        qq.extend(this, new qq.UploadHandler(e)), qq.override(this, function(e) {
            return {
                add: function(t, i) {
                    if (qq.isFile(i) || qq.isBlob(i)) e.add(t, {
                        file: i
                    });
                    else {
                        if (!(i instanceof qq.BlobProxy)) throw new Error("Passed obj is not a File, Blob, or proxy");
                        e.add(t, {
                            proxy: i
                        })
                    }
                    n._initTempState(t), u && n._maybePrepareForResume(t)
                },
                expunge: function(i) {
                    t(i), n._maybeDeletePersistedChunkData(i), n._clearXhrs(i), e.expunge(i)
                }
            }
        }), qq.extend(this, {
            clearCachedChunk: function(e, t) {
                delete n._getFileState(e).temp.cachedChunks[t]
            },
            clearXhr: function(e, t) {
                var i = n._getFileState(e).temp;
                i.xhrs && delete i.xhrs[t], i.ajaxRequesters && delete i.ajaxRequesters[t]
            },
            finalizeChunks: function(e, t) {
                var i = n._getTotalChunks(e) - 1,
                    o = n._getXhr(e, i);
                return t ? (new qq.Promise).success(t(o), o) : (new qq.Promise).success({}, o)
            },
            getFile: function(e) {
                return n.isValid(e) && n._getFileState(e).file
            },
            getProxy: function(e) {
                return n.isValid(e) && n._getFileState(e).proxy
            },
            getResumableFilesData: function() {
                var e = [];
                return n._iterateResumeRecords(function(t, i) {
                    n.moveInProgressToRemaining(null, i.chunking.inProgress, i.chunking.remaining);
                    var o = {
                        name: i.name,
                        remaining: i.chunking.remaining,
                        size: i.size,
                        uuid: i.uuid
                    };
                    i.key && (o.key = i.key), e.push(o)
                }), e
            },
            isResumable: function(e) {
                return !!r && n.isValid(e) && !n._getFileState(e).notResumable
            },
            moveInProgressToRemaining: function(e, t, i) {
                var o = t || n._getFileState(e).chunking.inProgress,
                    r = i || n._getFileState(e).chunking.remaining;
                o && (o.reverse(), qq.each(o, function(e, t) {
                    r.unshift(t)
                }), o.length = 0)
            },
            pause: function(e) {
                if (n.isValid(e)) return m(qq.format("Aborting XHR upload for {} '{}' due to pause instruction.", e, l(e))), n._getFileState(e).paused = !0, t(e), !0
            },
            reevaluateChunking: function(e) {
                if (r && n.isValid(e)) {
                    var t, i, o = n._getFileState(e);
                    if (delete o.chunking, o.chunking = {}, t = n._getTotalChunks(e), t > 1 || r.mandatory) {
                        for (o.chunking.enabled = !0, o.chunking.parts = t, o.chunking.remaining = [], i = 0; i < t; i++) o.chunking.remaining.push(i);
                        n._initTempState(e)
                    } else o.chunking.enabled = !1
                }
            },
            updateBlob: function(e, t) {
                n.isValid(e) && (n._getFileState(e).file = t)
            },
            _clearXhrs: function(e) {
                var t = n._getFileState(e).temp;
                qq.each(t.ajaxRequesters, function(e) {
                    delete t.ajaxRequesters[e]
                }), qq.each(t.xhrs, function(e) {
                    delete t.xhrs[e]
                })
            },
            _createXhr: function(e, t) {
                return n._registerXhr(e, t, qq.createXhrInstance())
            },
            _getAjaxRequester: function(e, t) {
                var i = null == t ? -1 : t;
                return n._getFileState(e).temp.ajaxRequesters[i]
            },
            _getChunkData: function(e, t) {
                var i = r.partSize,
                    o = c(e),
                    a = n.getFile(e),
                    s = i * t,
                    u = s + i >= o ? o : s + i,
                    l = n._getTotalChunks(e),
                    d = this._getFileState(e).temp.cachedChunks,
                    p = d[t] || qq.sliceBlob(a, s, u);
                return d[t] = p, {
                    part: t,
                    start: s,
                    end: u,
                    count: l,
                    blob: p,
                    size: u - s
                }
            },
            _getChunkDataForCallback: function(e) {
                return {
                    partIndex: e.part,
                    startByte: e.start + 1,
                    endByte: e.end,
                    totalParts: e.count
                }
            },
            _getLocalStorageId: function(e) {
                var t = "5.0",
                    n = l(e),
                    o = c(e),
                    a = r.partSize,
                    s = p(e);
                return qq.format("qq{}resume{}-{}-{}-{}-{}", i, t, n, o, a, s)
            },
            _getMimeType: function(e) {
                return n.getFile(e).type
            },
            _getPersistableData: function(e) {
                return n._getFileState(e).chunking
            },
            _getTotalChunks: function(e) {
                if (r) {
                    var t = c(e),
                        n = r.partSize;
                    return Math.ceil(t / n)
                }
            },
            _getXhr: function(e, t) {
                var i = null == t ? -1 : t;
                return n._getFileState(e).temp.xhrs[i]
            },
            _getXhrs: function(e) {
                return n._getFileState(e).temp.xhrs
            },
            _iterateResumeRecords: function(e) {
                u && qq.each(localStorage, function(t, n) {
                    if (0 === t.indexOf(qq.format("qq{}resume", i))) {
                        var o = JSON.parse(n);
                        e(t, o)
                    }
                })
            },
            _initTempState: function(e) {
                n._getFileState(e).temp = {
                    ajaxRequesters: {},
                    chunkProgress: {},
                    xhrs: {},
                    cachedChunks: {}
                }
            },
            _markNotResumable: function(e) {
                n._getFileState(e).notResumable = !0
            },
            _maybeDeletePersistedChunkData: function(e) {
                var t;
                return !!(u && n.isResumable(e) && (t = n._getLocalStorageId(e), t && localStorage.getItem(t))) && (localStorage.removeItem(t), !0)
            },
            _maybePrepareForResume: function(e) {
                var t, i, o = n._getFileState(e);
                u && void 0 === o.key && (t = n._getLocalStorageId(e), i = localStorage.getItem(t), i && (i = JSON.parse(i), h(i.uuid) ? n._markNotResumable(e) : (m(qq.format("Identified file with ID {} and name of {} as resumable.", e, l(e))), f(e, i.uuid), o.key = i.key, o.chunking = i.chunking, o.loaded = i.loaded, o.attemptingResume = !0, n.moveInProgressToRemaining(e))))
            },
            _maybePersistChunkedState: function(e) {
                var t, i, o = n._getFileState(e);
                if (u && n.isResumable(e)) {
                    t = n._getLocalStorageId(e), i = {
                        name: l(e),
                        size: c(e),
                        uuid: d(e),
                        key: o.key,
                        chunking: o.chunking,
                        loaded: o.loaded,
                        lastUpdated: Date.now()
                    };
                    try {
                        localStorage.setItem(t, JSON.stringify(i))
                    } catch (r) {
                        m(qq.format("Unable to save resume data for '{}' due to error: '{}'.", e, r.toString()), "warn")
                    }
                }
            },
            _registerProgressHandler: function(e, t, i) {
                var o = n._getXhr(e, t),
                    r = l(e),
                    a = {
                        simple: function(t, n) {
                            var i = c(e);
                            t === n ? q(e, r, i, i) : q(e, r, t >= i ? i - 1 : t, i)
                        },
                        chunked: function(o, a) {
                            var s = n._getFileState(e).temp.chunkProgress,
                                u = n._getFileState(e).loaded,
                                l = o,
                                d = a,
                                p = c(e),
                                h = l - (d - i),
                                f = u;
                            s[t] = h, qq.each(s, function(e, t) {
                                f += t
                            }), q(e, r, f, p)
                        }
                    };
                o.upload.onprogress = function(e) {
                    if (e.lengthComputable) {
                        var t = null == i ? "simple" : "chunked";
                        a[t](e.loaded, e.total)
                    }
                }
            },
            _registerXhr: function(e, t, i, o) {
                var r = null == t ? -1 : t,
                    a = n._getFileState(e).temp;
                return a.xhrs = a.xhrs || {}, a.ajaxRequesters = a.ajaxRequesters || {}, a.xhrs[r] = i, o && (a.ajaxRequesters[r] = o), i
            },
            _removeExpiredChunkingRecords: function() {
                var e = a.recordsExpireIn;
                n._iterateResumeRecords(function(t, n) {
                    var i = new Date(n.lastUpdated);
                    i.setDate(i.getDate() + e), i.getTime() <= Date.now() && (m("Removing expired resume record with key " + t), localStorage.removeItem(t))
                })
            },
            _shouldChunkThisFile: function(e) {
                var t = n._getFileState(e);
                return t.chunking || n.reevaluateChunking(e), t.chunking.enabled
            }
        })
    }, qq.WindowReceiveMessage = function(e) {
        "use strict";
        var t = {
                log: function(e, t) {}
            },
            n = {};
        qq.extend(t, e), qq.extend(this, {
            receiveMessage: function(e, t) {
                var i = function(e) {
                    t(e.data)
                };
                window.postMessage ? n[e] = qq(window).attach("message", i) : log("iframe message passing not supported in this browser!", "error")
            },
            stopReceivingMessages: function(e) {
                if (window.postMessage) {
                    var t = n[e];
                    t && t()
                }
            }
        })
    },
    function() {
        "use strict";
        qq.uiPublicApi = {
            clearStoredFiles: function() {
                this._parent.prototype.clearStoredFiles.apply(this, arguments), this._templating.clearFiles()
            },
            addExtraDropzone: function(e) {
                this._dnd && this._dnd.setupExtraDropzone(e)
            },
            removeExtraDropzone: function(e) {
                if (this._dnd) return this._dnd.removeDropzone(e)
            },
            getItemByFileId: function(e) {
                if (!this._templating.isHiddenForever(e)) return this._templating.getFileContainer(e)
            },
            reset: function() {
                this._parent.prototype.reset.apply(this, arguments), this._templating.reset(), !this._options.button && this._templating.getButton() && (this._defaultButtonId = this._createUploadButton({
                    element: this._templating.getButton()
                }).getButtonId()), this._dnd && (this._dnd.dispose(), this._dnd = this._setupDragAndDrop()), this._totalFilesInBatch = 0, this._filesInBatchAddedToUi = 0, this._setupClickAndEditEventHandlers()
            },
            setName: function(e, t) {
                var n = this._options.formatFileName(t);
                this._parent.prototype.setName.apply(this, arguments), this._templating.updateFilename(e, n)
            },
            pauseUpload: function(e) {
                var t = this._parent.prototype.pauseUpload.apply(this, arguments);
                return t && this._templating.uploadPaused(e), t
            },
            continueUpload: function(e) {
                var t = this._parent.prototype.continueUpload.apply(this, arguments);
                return t && this._templating.uploadContinued(e), t
            },
            getId: function(e) {
                return this._templating.getFileId(e)
            },
            getDropTarget: function(e) {
                var t = this.getFile(e);
                return t.qqDropTarget
            }
        }, qq.uiPrivateApi = {
            _getButton: function(e) {
                var t = this._parent.prototype._getButton.apply(this, arguments);
                return t || e === this._defaultButtonId && (t = this._templating.getButton()), t
            },
            _removeFileItem: function(e) {
                this._templating.removeFile(e)
            },
            _setupClickAndEditEventHandlers: function() {
                this._fileButtonsClickHandler = qq.FileButtonsClickHandler && this._bindFileButtonsClickEvent(), this._focusinEventSupported = !qq.firefox(), this._isEditFilenameEnabled() && (this._filenameClickHandler = this._bindFilenameClickEvent(), this._filenameInputFocusInHandler = this._bindFilenameInputFocusInEvent(), this._filenameInputFocusHandler = this._bindFilenameInputFocusEvent())
            },
            _setupDragAndDrop: function() {
                var e = this,
                    t = this._options.dragAndDrop.extraDropzones,
                    n = this._templating,
                    i = n.getDropZone();
                return i && t.push(i), new qq.DragAndDrop({
                    dropZoneElements: t,
                    allowMultipleItems: this._options.multiple,
                    classes: {
                        dropActive: this._options.classes.dropActive
                    },
                    callbacks: {
                        processingDroppedFiles: function() {
                            n.showDropProcessing()
                        },
                        processingDroppedFilesComplete: function(t, i) {
                            n.hideDropProcessing(), qq.each(t, function(e, t) {
                                t.qqDropTarget = i
                            }), t.length && e.addFiles(t, null, null)
                        },
                        dropError: function(t, n) {
                            e._itemError(t, n)
                        },
                        dropLog: function(t, n) {
                            e.log(t, n)
                        }
                    }
                })
            },
            _bindFileButtonsClickEvent: function() {
                var e = this;
                return new qq.FileButtonsClickHandler({
                    templating: this._templating,
                    log: function(t, n) {
                        e.log(t, n)
                    },
                    onDeleteFile: function(t) {
                        e.deleteFile(t)
                    },
                    onCancel: function(t) {
                        e.cancel(t)
                    },
                    onRetry: function(t) {
                        e.retry(t)
                    },
                    onPause: function(t) {
                        e.pauseUpload(t)
                    },
                    onContinue: function(t) {
                        e.continueUpload(t)
                    },
                    onGetName: function(t) {
                        return e.getName(t)
                    }
                })
            },
            _isEditFilenameEnabled: function() {
                return this._templating.isEditFilenamePossible() && !this._options.autoUpload && qq.FilenameClickHandler && qq.FilenameInputFocusHandler && qq.FilenameInputFocusHandler
            },
            _filenameEditHandler: function() {
                var e = this,
                    t = this._templating;
                return {
                    templating: t,
                    log: function(t, n) {
                        e.log(t, n)
                    },
                    onGetUploadStatus: function(t) {
                        return e.getUploads({
                            id: t
                        }).status
                    },
                    onGetName: function(t) {
                        return e.getName(t)
                    },
                    onSetName: function(t, n) {
                        e.setName(t, n)
                    },
                    onEditingStatusChange: function(e, n) {
                        var i = qq(t.getEditInput(e)),
                            o = qq(t.getFileContainer(e));
                        n ? (i.addClass("qq-editing"), t.hideFilename(e), t.hideEditIcon(e)) : (i.removeClass("qq-editing"), t.showFilename(e), t.showEditIcon(e)), o.addClass("qq-temp").removeClass("qq-temp")
                    }
                }
            },
            _onUploadStatusChange: function(e, t, n) {
                this._parent.prototype._onUploadStatusChange.apply(this, arguments), this._isEditFilenameEnabled() && this._templating.getFileContainer(e) && n !== qq.status.SUBMITTED && (this._templating.markFilenameEditable(e), this._templating.hideEditIcon(e)), n === qq.status.UPLOAD_RETRYING ? (this._templating.hideRetry(e), this._templating.setStatusText(e), qq(this._templating.getFileContainer(e)).removeClass(this._classes.retrying)) : n === qq.status.UPLOAD_FAILED && this._templating.hidePause(e)
            },
            _bindFilenameInputFocusInEvent: function() {
                var e = qq.extend({}, this._filenameEditHandler());
                return new qq.FilenameInputFocusInHandler(e)
            },
            _bindFilenameInputFocusEvent: function() {
                var e = qq.extend({}, this._filenameEditHandler());
                return new qq.FilenameInputFocusHandler(e)
            },
            _bindFilenameClickEvent: function() {
                var e = qq.extend({}, this._filenameEditHandler());
                return new qq.FilenameClickHandler(e)
            },
            _storeForLater: function(e) {
                this._parent.prototype._storeForLater.apply(this, arguments), this._templating.hideSpinner(e)
            },
            _onAllComplete: function(e, t) {
                this._parent.prototype._onAllComplete.apply(this, arguments), this._templating.resetTotalProgress()
            },
            _onSubmit: function(e, t) {
                var n = this.getFile(e);
                n && n.qqPath && this._options.dragAndDrop.reportDirectoryPaths && this._paramsStore.addReadOnly(e, {
                    qqpath: n.qqPath
                }), this._parent.prototype._onSubmit.apply(this, arguments), this._addToList(e, t)
            },
            _onSubmitted: function(e) {
                this._isEditFilenameEnabled() && (this._templating.markFilenameEditable(e), this._templating.showEditIcon(e), this._focusinEventSupported || this._filenameInputFocusHandler.addHandler(this._templating.getEditInput(e)))
            },
            _onProgress: function(e, t, n, i) {
                this._parent.prototype._onProgress.apply(this, arguments), this._templating.updateProgress(e, n, i), 100 === Math.round(n / i * 100) ? (this._templating.hideCancel(e), this._templating.hidePause(e), this._templating.hideProgress(e), this._templating.setStatusText(e, this._options.text.waitingForResponse), this._displayFileSize(e)) : this._displayFileSize(e, n, i)
            },
            _onTotalProgress: function(e, t) {
                this._parent.prototype._onTotalProgress.apply(this, arguments), this._templating.updateTotalProgress(e, t)
            },
            _onComplete: function(e, t, n, i) {
                function o(t) {
                    s && (a.setStatusText(e), qq(s).removeClass(u._classes.retrying), a.hideProgress(e), u.getUploads({
                        id: e
                    }).status !== qq.status.UPLOAD_FAILED && a.hideCancel(e), a.hideSpinner(e), t.success ? u._markFileAsSuccessful(e) : (qq(s).addClass(u._classes.fail), a.showCancel(e), a.isRetryPossible() && !u._preventRetries[e] && (qq(s).addClass(u._classes.retryable), a.showRetry(e)), u._controlFailureTextDisplay(e, t)))
                }
                var r = this._parent.prototype._onComplete.apply(this, arguments),
                    a = this._templating,
                    s = a.getFileContainer(e),
                    u = this;
                return r instanceof qq.Promise ? r.done(function(e) {
                    o(e)
                }) : o(n), r
            },
            _markFileAsSuccessful: function(e) {
                var t = this._templating;
                this._isDeletePossible() && t.showDeleteButton(e), qq(t.getFileContainer(e)).addClass(this._classes.success), this._maybeUpdateThumbnail(e)
            },
            _onUploadPrep: function(e) {
                this._parent.prototype._onUploadPrep.apply(this, arguments), this._templating.showSpinner(e)
            },
            _onUpload: function(e, t) {
                var n = this._parent.prototype._onUpload.apply(this, arguments);
                return this._templating.showSpinner(e), n
            },
            _onUploadChunk: function(e, t) {
                this._parent.prototype._onUploadChunk.apply(this, arguments), t.partIndex > 0 && this._handler.isResumable(e) && this._templating.allowPause(e)
            },
            _onCancel: function(e, t) {
                this._parent.prototype._onCancel.apply(this, arguments), this._removeFileItem(e), 0 === this._getNotFinished() && this._templating.resetTotalProgress()
            },
            _onBeforeAutoRetry: function(e) {
                var t, n, i;
                this._parent.prototype._onBeforeAutoRetry.apply(this, arguments), this._showCancelLink(e), this._options.retry.showAutoRetryNote && (t = this._autoRetries[e], n = this._options.retry.maxAutoAttempts, i = this._options.retry.autoRetryNote.replace(/\{retryNum\}/g, t), i = i.replace(/\{maxAuto\}/g, n), this._templating.setStatusText(e, i), qq(this._templating.getFileContainer(e)).addClass(this._classes.retrying))
            },
            _onBeforeManualRetry: function(e) {
                return this._parent.prototype._onBeforeManualRetry.apply(this, arguments) ? (this._templating.resetProgress(e), qq(this._templating.getFileContainer(e)).removeClass(this._classes.fail), this._templating.setStatusText(e), this._templating.showSpinner(e), this._showCancelLink(e), !0) : (qq(this._templating.getFileContainer(e)).addClass(this._classes.retryable), this._templating.showRetry(e), !1)
            },
            _onSubmitDelete: function(e) {
                var t = qq.bind(this._onSubmitDeleteSuccess, this);
                this._parent.prototype._onSubmitDelete.call(this, e, t)
            },
            _onSubmitDeleteSuccess: function(e, t, n) {
                this._options.deleteFile.forceConfirm ? this._showDeleteConfirm.apply(this, arguments) : this._sendDeleteRequest.apply(this, arguments)
            },
            _onDeleteComplete: function(e, t, n) {
                this._parent.prototype._onDeleteComplete.apply(this, arguments), this._templating.hideSpinner(e), n ? (this._templating.setStatusText(e, this._options.deleteFile.deletingFailedText), this._templating.showDeleteButton(e)) : this._removeFileItem(e)
            },
            _sendDeleteRequest: function(e, t, n) {
                this._templating.hideDeleteButton(e), this._templating.showSpinner(e), this._templating.setStatusText(e, this._options.deleteFile.deletingStatusText), this._deleteHandler.sendDelete.apply(this, arguments)
            },
            _showDeleteConfirm: function(e, t, n) {
                var i, o = this.getName(e),
                    r = this._options.deleteFile.confirmMessage.replace(/\{filename\}/g, o),
                    a = (this.getUuid(e), arguments),
                    s = this;
                i = this._options.showConfirm(r), qq.isGenericPromise(i) ? i.then(function() {
                    s._sendDeleteRequest.apply(s, a)
                }) : i !== !1 && s._sendDeleteRequest.apply(s, a)
            },
            _addToList: function(e, t, n) {
                var i, o, r = 0,
                    a = this._handler.isProxied(e) && this._options.scaling.hideScaled;
                this._options.display.prependFiles && (this._totalFilesInBatch > 1 && this._filesInBatchAddedToUi > 0 && (r = this._filesInBatchAddedToUi - 1), i = {
                    index: r
                }), n || (this._options.disableCancelForFormUploads && !qq.supportedFeatures.ajaxUploading && this._templating.disableCancel(), this._options.multiple || (o = this.getUploads({
                    id: e
                }), this._handledProxyGroup = this._handledProxyGroup || o.proxyGroupId, o.proxyGroupId === this._handledProxyGroup && o.proxyGroupId || (this._handler.cancelAll(), this._clearList(), this._handledProxyGroup = null))), n ? (this._templating.addFileToCache(e, this._options.formatFileName(t), i, a), this._thumbnailUrls[e] && this._templating.updateThumbnail(e, this._thumbnailUrls[e], !0)) : (this._templating.addFile(e, this._options.formatFileName(t), i, a), this._templating.generatePreview(e, this.getFile(e))), this._filesInBatchAddedToUi += 1, (n || this._options.display.fileSizeOnSubmit && qq.supportedFeatures.ajaxUploading) && this._displayFileSize(e)
            },
            _clearList: function() {
                this._templating.clearFiles(), this.clearStoredFiles()
            },
            _displayFileSize: function(e, t, n) {
                var i = this.getSize(e),
                    o = this._formatSize(i);
                i >= 0 && (void 0 !== t && void 0 !== n && (o = this._formatProgress(t, n)), this._templating.updateSize(e, o))
            },
            _formatProgress: function(e, t) {
                function n(e, t) {
                    i = i.replace(e, t)
                }
                var i = this._options.text.formatProgress;
                return n("{percent}", Math.round(e / t * 100)), n("{total_size}", this._formatSize(t)), i
            },
            _controlFailureTextDisplay: function(e, t) {
                var n, i, o;
                n = this._options.failedUploadTextDisplay.mode, i = this._options.failedUploadTextDisplay.responseProperty, "custom" === n ? (o = t[i], o || (o = this._options.text.failUpload), this._templating.setStatusText(e, o), this._options.failedUploadTextDisplay.enableTooltip && this._showTooltip(e, o)) : "default" === n ? this._templating.setStatusText(e, this._options.text.failUpload) : "none" !== n && this.log("failedUploadTextDisplay.mode value of '" + n + "' is not valid", "warn")
            },
            _showTooltip: function(e, t) {
                this._templating.getFileContainer(e).title = t
            },
            _showCancelLink: function(e) {
                this._options.disableCancelForFormUploads && !qq.supportedFeatures.ajaxUploading || this._templating.showCancel(e)
            },
            _itemError: function(e, t, n) {
                var i = this._parent.prototype._itemError.apply(this, arguments);
                this._options.showMessage(i)
            },
            _batchError: function(e) {
                this._parent.prototype._batchError.apply(this, arguments), this._options.showMessage(e)
            },
            _setupPastePrompt: function() {
                var e = this;
                this._options.callbacks.onPasteReceived = function() {
                    var t = e._options.paste.namePromptMessage,
                        n = e._options.paste.defaultName;
                    return e._options.showPrompt(t, n)
                }
            },
            _fileOrBlobRejected: function(e, t) {
                this._totalFilesInBatch -= 1, this._parent.prototype._fileOrBlobRejected.apply(this, arguments)
            },
            _prepareItemsForUpload: function(e, t, n) {
                this._totalFilesInBatch = e.length, this._filesInBatchAddedToUi = 0, this._parent.prototype._prepareItemsForUpload.apply(this, arguments)
            },
            _maybeUpdateThumbnail: function(e) {
                var t = this._thumbnailUrls[e],
                    n = this.getUploads({
                        id: e
                    }).status;
                n === qq.status.DELETED || !t && !this._options.thumbnails.placeholders.waitUntilResponse && qq.supportedFeatures.imagePreviews || this._templating.updateThumbnail(e, t)
            },
            _addCannedFile: function(e) {
                var t = this._parent.prototype._addCannedFile.apply(this, arguments);
                return this._addToList(t, this.getName(t), !0), this._templating.hideSpinner(t), this._templating.hideCancel(t), this._markFileAsSuccessful(t), t
            },
            _setSize: function(e, t) {
                this._parent.prototype._setSize.apply(this, arguments), this._templating.updateSize(e, this._formatSize(t))
            },
            _sessionRequestComplete: function() {
                this._templating.addCacheToDom(), this._parent.prototype._sessionRequestComplete.apply(this, arguments)
            }
        }
    }(), qq.FineUploader = function(e, t) {
        "use strict";
        var n = this;
        this._parent = t ? qq[t].FineUploaderBasic : qq.FineUploaderBasic, this._parent.apply(this, arguments), qq.extend(this._options, {
            element: null,
            button: null,
            listElement: null,
            dragAndDrop: {
                extraDropzones: [],
                reportDirectoryPaths: !1
            },
            text: {
                formatProgress: "{percent}% of {total_size}",
                failUpload: "Upload failed",
                waitingForResponse: "Processing...",
                paused: "Paused"
            },
            template: "qq-template",
            classes: {
                retrying: "qq-upload-retrying",
                retryable: "qq-upload-retryable",
                success: "qq-upload-success",
                fail: "qq-upload-fail",
                editable: "qq-editable",
                hide: "qq-hide",
                dropActive: "qq-upload-drop-area-active"
            },
            failedUploadTextDisplay: {
                mode: "default",
                responseProperty: "error",
                enableTooltip: !0
            },
            messages: {
                tooManyFilesError: "You may only drop one file",
                unsupportedBrowser: "Unrecoverable error - this browser does not permit file uploading of any kind."
            },
            retry: {
                showAutoRetryNote: !0,
                autoRetryNote: "Retrying {retryNum}/{maxAuto}..."
            },
            deleteFile: {
                forceConfirm: !1,
                confirmMessage: "Are you sure you want to delete {filename}?",
                deletingStatusText: "Deleting...",
                deletingFailedText: "Delete failed"
            },
            display: {
                fileSizeOnSubmit: !1,
                prependFiles: !1
            },
            paste: {
                promptForName: !1,
                namePromptMessage: "Please name this image"
            },
            thumbnails: {
                maxCount: 0,
                placeholders: {
                    waitUntilResponse: !1,
                    notAvailablePath: null,
                    waitingPath: null
                },
                timeBetweenThumbs: 750
            },
            scaling: {
                hideScaled: !1
            },
            showMessage: function(e) {
                return n._templating.hasDialog("alert") ? n._templating.showDialog("alert", e) : void setTimeout(function() {
                    window.alert(e)
                }, 0)
            },
            showConfirm: function(e) {
                return n._templating.hasDialog("confirm") ? n._templating.showDialog("confirm", e) : window.confirm(e)
            },
            showPrompt: function(e, t) {
                return n._templating.hasDialog("prompt") ? n._templating.showDialog("prompt", e, t) : window.prompt(e, t)
            }
        }, !0), qq.extend(this._options, e, !0), this._templating = new qq.Templating({
            log: qq.bind(this.log, this),
            templateIdOrEl: this._options.template,
            containerEl: this._options.element,
            fileContainerEl: this._options.listElement,
            button: this._options.button,
            imageGenerator: this._imageGenerator,
            classes: {
                hide: this._options.classes.hide,
                editable: this._options.classes.editable
            },
            limits: {
                maxThumbs: this._options.thumbnails.maxCount,
                timeBetweenThumbs: this._options.thumbnails.timeBetweenThumbs
            },
            placeholders: {
                waitUntilUpdate: this._options.thumbnails.placeholders.waitUntilResponse,
                thumbnailNotAvailable: this._options.thumbnails.placeholders.notAvailablePath,
                waitingForThumbnail: this._options.thumbnails.placeholders.waitingPath
            },
            text: this._options.text
        }), this._options.workarounds.ios8SafariUploads && qq.ios800() && qq.iosSafari() ? this._templating.renderFailure(this._options.messages.unsupportedBrowserIos8Safari) : !qq.supportedFeatures.uploading || this._options.cors.expected && !qq.supportedFeatures.uploadCors ? this._templating.renderFailure(this._options.messages.unsupportedBrowser) : (this._wrapCallbacks(), this._templating.render(), this._classes = this._options.classes, !this._options.button && this._templating.getButton() && (this._defaultButtonId = this._createUploadButton({
            element: this._templating.getButton()
        }).getButtonId()), this._setupClickAndEditEventHandlers(), qq.DragAndDrop && qq.supportedFeatures.fileDrop && (this._dnd = this._setupDragAndDrop()), this._options.paste.targetElement && this._options.paste.promptForName && (qq.PasteSupport ? this._setupPastePrompt() : this.log("Paste support module not found.", "error")), this._totalFilesInBatch = 0, this._filesInBatchAddedToUi = 0)
    }, qq.extend(qq.FineUploader.prototype, qq.basePublicApi), qq.extend(qq.FineUploader.prototype, qq.basePrivateApi), qq.extend(qq.FineUploader.prototype, qq.uiPublicApi), qq.extend(qq.FineUploader.prototype, qq.uiPrivateApi), qq.Templating = function(e) {
        "use strict";
        var t, n, i, o, r, a, s, u, l = "qq-file-id",
            c = "qq-file-id-",
            d = "qq-max-size",
            p = "qq-server-scale",
            h = "qq-hide-dropzone",
            f = "qq-drop-area-text",
            q = "qq-in-progress",
            m = "qq-hidden-forever",
            g = {
                content: document.createDocumentFragment(),
                map: {}
            },
            _ = !1,
            v = 0,
            b = !1,
            S = [],
            y = -1,
            w = {
                log: null,
                limits: {
                    maxThumbs: 0,
                    timeBetweenThumbs: 750
                },
                templateIdOrEl: "qq-template",
                containerEl: null,
                fileContainerEl: null,
                button: null,
                imageGenerator: null,
                classes: {
                    hide: "qq-hide",
                    editable: "qq-editable"
                },
                placeholders: {
                    waitUntilUpdate: !1,
                    thumbnailNotAvailable: null,
                    waitingForThumbnail: null
                },
                text: {
                    paused: "Paused"
                }
            },
            C = {
                button: "qq-upload-button-selector",
                alertDialog: "qq-alert-dialog-selector",
                dialogCancelButton: "qq-cancel-button-selector",
                confirmDialog: "qq-confirm-dialog-selector",
                dialogMessage: "qq-dialog-message-selector",
                dialogOkButton: "qq-ok-button-selector",
                promptDialog: "qq-prompt-dialog-selector",
                uploader: "qq-uploader-selector",
                drop: "qq-upload-drop-area-selector",
                list: "qq-upload-list-selector",
                progressBarContainer: "qq-progress-bar-container-selector",
                progressBar: "qq-progress-bar-selector",
                totalProgressBarContainer: "qq-total-progress-bar-container-selector",
                totalProgressBar: "qq-total-progress-bar-selector",
                file: "qq-upload-file-selector",
                spinner: "qq-upload-spinner-selector",
                size: "qq-upload-size-selector",
                cancel: "qq-upload-cancel-selector",
                pause: "qq-upload-pause-selector",
                continueButton: "qq-upload-continue-selector",
                deleteButton: "qq-upload-delete-selector",
                retry: "qq-upload-retry-selector",
                statusText: "qq-upload-status-text-selector",
                editFilenameInput: "qq-edit-filename-selector",
                editNameIcon: "qq-edit-filename-icon-selector",
                dropText: "qq-upload-drop-area-text-selector",
                dropProcessing: "qq-drop-processing-selector",
                dropProcessingSpinner: "qq-drop-processing-spinner-selector",
                thumbnail: "qq-thumbnail-selector"
            },
            x = {},
            E = new qq.Promise,
            P = new qq.Promise,
            F = function() {
                var e = w.placeholders.thumbnailNotAvailable,
                    n = w.placeholders.waitingForThumbnail,
                    i = {
                        maxSize: y,
                        scale: u
                    };
                s && (e ? w.imageGenerator.generate(e, new Image, i).then(function(e) {
                    E.success(e)
                }, function() {
                    E.failure(), t("Problem loading 'not available' placeholder image at " + e, "error")
                }) : E.failure(), n ? w.imageGenerator.generate(n, new Image, i).then(function(e) {
                    P.success(e)
                }, function() {
                    P.failure(), t("Problem loading 'waiting for thumbnail' placeholder image at " + n, "error")
                }) : P.failure())
            },
            A = function(e) {
                var t = new qq.Promise;
                return P.then(function(n) {
                    X(n, e), e.src ? t.success() : (e.src = n.src, e.onload = function() {
                        e.onload = null, te(e), t.success()
                    })
                }, function() {
                    K(e), t.success()
                }), t
            },
            I = function(e, n, i) {
                var o = W(e);
                return t("Generating new thumbnail for " + e), n.qqThumbnailId = e, w.imageGenerator.generate(n, o, i).then(function() {
                    v++, te(o), x[e].success()
                }, function() {
                    x[e].failure(), w.placeholders.waitUntilUpdate || Y(e, o)
                })
            },
            T = function() {
                if (S.length) {
                    b = !0;
                    var e = S.shift();
                    e.update ? $(e) : Z(e)
                } else b = !1
            },
            U = function(e) {
                return G(O(e), C.cancel)
            },
            D = function(e) {
                return G(O(e), C.continueButton)
            },
            R = function(e) {
                return G(r, C[e + "Dialog"])
            },
            k = function(e) {
                return G(O(e), C.deleteButton)
            },
            B = function() {
                return G(r, C.dropProcessing)
            },
            N = function(e) {
                return G(O(e), C.editNameIcon)
            },
            O = function(e) {
                return g.map[e] || qq(a).getFirstByClass(c + e)
            },
            H = function(e) {
                return G(O(e), C.file)
            },
            L = function(e) {
                return G(O(e), C.pause)
            },
            M = function(e) {
                return null == e ? G(r, C.totalProgressBarContainer) || G(r, C.totalProgressBar) : G(O(e), C.progressBarContainer) || G(O(e), C.progressBar)
            },
            z = function(e) {
                return G(O(e), C.retry)
            },
            j = function(e) {
                return G(O(e), C.size)
            },
            V = function(e) {
                return G(O(e), C.spinner)
            },
            G = function(e, t) {
                return e && qq(e).getFirstByClass(t)
            },
            W = function(e) {
                return s && G(O(e), C.thumbnail)
            },
            K = function(e) {
                e && qq(e).addClass(w.classes.hide)
            },
            X = function(e, t) {
                var n = e.style.maxWidth,
                    i = e.style.maxHeight;
                i && n && !t.style.maxWidth && !t.style.maxHeight && qq(t).css({
                    maxWidth: n,
                    maxHeight: i
                })
            },
            Y = function(e, t) {
                var n = x[e] || (new qq.Promise).failure(),
                    i = new qq.Promise;
                return E.then(function(e) {
                    n.then(function() {
                        i.success()
                    }, function() {
                        X(e, t), t.onload = function() {
                            t.onload = null, i.success()
                        }, t.src = e.src, te(t)
                    })
                }), i
            },
            J = function() {
                var e, o, r, a, l, c, q, m, g, _, v;
                if (t("Parsing template"), null == w.templateIdOrEl) throw new Error("You MUST specify either a template element or ID!");
                if (qq.isString(w.templateIdOrEl)) {
                    if (e = document.getElementById(w.templateIdOrEl), null === e) throw new Error(qq.format("Cannot find template script at ID '{}'!", w.templateIdOrEl));
                    o = e.innerHTML
                } else {
                    if (void 0 === w.templateIdOrEl.innerHTML) throw new Error("You have specified an invalid value for the template option!  It must be an ID or an Element.");
                    o = w.templateIdOrEl.innerHTML
                }
                if (o = qq.trimStr(o), a = document.createElement("div"), a.appendChild(qq.toElement(o)), v = qq(a).getFirstByClass(C.uploader), w.button && (c = qq(a).getFirstByClass(C.button), c && qq(c).remove()), qq.DragAndDrop && qq.supportedFeatures.fileDrop || (g = qq(a).getFirstByClass(C.dropProcessing), g && qq(g).remove()), q = qq(a).getFirstByClass(C.drop), q && !qq.DragAndDrop && (t("DnD module unavailable.", "info"), qq(q).remove()), qq.supportedFeatures.fileDrop ? qq(v).hasAttribute(f) && q && (_ = qq(q).getFirstByClass(C.dropText), _ && qq(_).remove()) : (v.removeAttribute(f), q && qq(q).hasAttribute(h) && qq(q).css({
                        display: "none"
                    })), m = qq(a).getFirstByClass(C.thumbnail), s ? m && (y = parseInt(m.getAttribute(d)), y = y > 0 ? y : null, u = qq(m).hasAttribute(p)) : m && qq(m).remove(), s = s && m, n = qq(a).getByClass(C.editFilenameInput).length > 0, i = qq(a).getByClass(C.retry).length > 0, r = qq(a).getFirstByClass(C.list), null == r) throw new Error("Could not find the file list container in the template!");
                return l = r.innerHTML, r.innerHTML = "", a.getElementsByTagName("DIALOG").length && document.createElement("dialog"), t("Template parsing complete"), {
                    template: qq.trimStr(a.innerHTML),
                    fileTemplate: qq.trimStr(l)
                }
            },
            Q = function(e, t, n) {
                var i = n,
                    o = i.firstChild;
                t > 0 && (o = qq(i).children()[t].nextSibling), i.insertBefore(e, o)
            },
            Z = function(e) {
                var t = e.id,
                    n = e.optFileOrBlob,
                    i = n && n.qqThumbnailId,
                    o = W(t),
                    r = {
                        maxSize: y,
                        scale: !0,
                        orient: !0
                    };
                qq.supportedFeatures.imagePreviews ? o ? w.limits.maxThumbs && w.limits.maxThumbs <= v ? (Y(t, o), T()) : A(o).done(function() {
                    x[t] = new qq.Promise, x[t].done(function() {
                        setTimeout(T, w.limits.timeBetweenThumbs)
                    }), null != i ? ne(t, i) : I(t, n, r)
                }) : T() : o && (A(o), T())
            },
            $ = function(e) {
                var t = e.id,
                    n = e.thumbnailUrl,
                    i = e.showWaitingImg,
                    o = W(t),
                    r = {
                        maxSize: y,
                        scale: u
                    };
                if (o)
                    if (n) {
                        if (!(w.limits.maxThumbs && w.limits.maxThumbs <= v)) return i && A(o), w.imageGenerator.generate(n, o, r).then(function() {
                            te(o), v++, setTimeout(T, w.limits.timeBetweenThumbs)
                        }, function() {
                            Y(t, o), setTimeout(T, w.limits.timeBetweenThumbs)
                        });
                        Y(t, o), T()
                    } else Y(t, o), T()
            },
            ee = function(e, t) {
                var n = M(e),
                    i = null == e ? C.totalProgressBar : C.progressBar;
                n && !qq(n).hasClass(i) && (n = qq(n).getFirstByClass(i)), n && (qq(n).css({
                    width: t + "%"
                }), n.setAttribute("aria-valuenow", t))
            },
            te = function(e) {
                e && qq(e).removeClass(w.classes.hide)
            },
            ne = function(e, n) {
                var i = W(e),
                    o = W(n);
                t(qq.format("ID {} is the same file as ID {}.  Will use generated thumbnail from ID {} instead.", e, n, n)), x[n].then(function() {
                    v++, x[e].success(), t(qq.format("Now using previously generated thumbnail created for ID {} on ID {}.", n, e)), i.src = o.src, te(i)
                }, function() {
                    x[e].failure(), w.placeholders.waitUntilUpdate || Y(e, i)
                })
            };
        qq.extend(w, e), t = w.log, qq.supportedFeatures.imagePreviews || (w.limits.timeBetweenThumbs = 0, w.limits.maxThumbs = 0), r = w.containerEl, s = void 0 !== w.imageGenerator, o = J(), F(), qq.extend(this, {
            render: function() {
                t("Rendering template in DOM."), v = 0, r.innerHTML = o.template, K(B()), this.hideTotalProgress(), a = w.fileContainerEl || G(r, C.list), t("Template rendering complete")
            },
            renderFailure: function(e) {
                var t = qq.toElement(e);
                r.innerHTML = "", r.appendChild(t)
            },
            reset: function() {
                this.render()
            },
            clearFiles: function() {
                a.innerHTML = ""
            },
            disableCancel: function() {
                _ = !0
            },
            addFile: function(e, t, n, i, s) {
                var u, d = qq.toElement(o.fileTemplate),
                    p = G(d, C.file),
                    h = G(r, C.uploader),
                    q = s ? g.content : a;
                s && (g.map[e] = d), qq(d).addClass(c + e), h.removeAttribute(f), p && (qq(p).setText(t), p.setAttribute("title", t)), d.setAttribute(l, e), n ? Q(d, n.index, q) : q.appendChild(d), i ? (d.style.display = "none", qq(d).addClass(m)) : (K(M(e)), K(j(e)), K(k(e)), K(z(e)), K(L(e)), K(D(e)), _ && this.hideCancel(e), u = W(e), u && !u.src && P.then(function(e) {
                    u.src = e.src, e.style.maxHeight && e.style.maxWidth && qq(u).css({
                        maxHeight: e.style.maxHeight,
                        maxWidth: e.style.maxWidth
                    }), te(u)
                }))
            },
            addFileToCache: function(e, t, n, i) {
                this.addFile(e, t, n, i, !0)
            },
            addCacheToDom: function() {
                a.appendChild(g.content), g.content = document.createDocumentFragment(), g.map = {}
            },
            removeFile: function(e) {
                qq(O(e)).remove()
            },
            getFileId: function(e) {
                var t = e;
                if (t) {
                    for (; null == t.getAttribute(l);) t = t.parentNode;
                    return parseInt(t.getAttribute(l))
                }
            },
            getFileList: function() {
                return a
            },
            markFilenameEditable: function(e) {
                var t = H(e);
                t && qq(t).addClass(w.classes.editable)
            },
            updateFilename: function(e, t) {
                var n = H(e);
                n && (qq(n).setText(t), n.setAttribute("title", t))
            },
            hideFilename: function(e) {
                K(H(e))
            },
            showFilename: function(e) {
                te(H(e))
            },
            isFileName: function(e) {
                return qq(e).hasClass(C.file)
            },
            getButton: function() {
                return w.button || G(r, C.button)
            },
            hideDropProcessing: function() {
                K(B())
            },
            showDropProcessing: function() {
                te(B())
            },
            getDropZone: function() {
                return G(r, C.drop)
            },
            isEditFilenamePossible: function() {
                return n
            },
            hideRetry: function(e) {
                K(z(e))
            },
            isRetryPossible: function() {
                return i
            },
            showRetry: function(e) {
                te(z(e))
            },
            getFileContainer: function(e) {
                return O(e)
            },
            showEditIcon: function(e) {
                var t = N(e);
                t && qq(t).addClass(w.classes.editable)
            },
            isHiddenForever: function(e) {
                return qq(O(e)).hasClass(m)
            },
            hideEditIcon: function(e) {
                var t = N(e);
                t && qq(t).removeClass(w.classes.editable)
            },
            isEditIcon: function(e) {
                return qq(e).hasClass(C.editNameIcon, !0)
            },
            getEditInput: function(e) {
                return G(O(e), C.editFilenameInput)
            },
            isEditInput: function(e) {
                return qq(e).hasClass(C.editFilenameInput, !0)
            },
            updateProgress: function(e, t, n) {
                var i, o = M(e);
                o && n > 0 && (i = Math.round(t / n * 100), 100 === i ? K(o) : te(o), ee(e, i))
            },
            updateTotalProgress: function(e, t) {
                this.updateProgress(null, e, t)
            },
            hideProgress: function(e) {
                var t = M(e);
                t && K(t)
            },
            hideTotalProgress: function() {
                this.hideProgress()
            },
            resetProgress: function(e) {
                ee(e, 0), this.hideTotalProgress(e)
            },
            resetTotalProgress: function() {
                this.resetProgress()
            },
            showCancel: function(e) {
                if (!_) {
                    var t = U(e);
                    t && qq(t).removeClass(w.classes.hide)
                }
            },
            hideCancel: function(e) {
                K(U(e))
            },
            isCancel: function(e) {
                return qq(e).hasClass(C.cancel, !0)
            },
            allowPause: function(e) {
                te(L(e)), K(D(e))
            },
            uploadPaused: function(e) {
                this.setStatusText(e, w.text.paused), this.allowContinueButton(e), K(V(e))
            },
            hidePause: function(e) {
                K(L(e))
            },
            isPause: function(e) {
                return qq(e).hasClass(C.pause, !0)
            },
            isContinueButton: function(e) {
                return qq(e).hasClass(C.continueButton, !0)
            },
            allowContinueButton: function(e) {
                te(D(e)), K(L(e))
            },
            uploadContinued: function(e) {
                this.setStatusText(e, ""), this.allowPause(e), te(V(e))
            },
            showDeleteButton: function(e) {
                te(k(e))
            },
            hideDeleteButton: function(e) {
                K(k(e))
            },
            isDeleteButton: function(e) {
                return qq(e).hasClass(C.deleteButton, !0)
            },
            isRetry: function(e) {
                return qq(e).hasClass(C.retry, !0)
            },
            updateSize: function(e, t) {
                var n = j(e);
                n && (te(n), qq(n).setText(t))
            },
            setStatusText: function(e, t) {
                var n = G(O(e), C.statusText);
                n && (null == t ? qq(n).clearText() : qq(n).setText(t))
            },
            hideSpinner: function(e) {
                qq(O(e)).removeClass(q), K(V(e))
            },
            showSpinner: function(e) {
                qq(O(e)).addClass(q), te(V(e))
            },
            generatePreview: function(e, t) {
                this.isHiddenForever(e) || (S.push({
                    id: e,
                    optFileOrBlob: t
                }), !b && T())
            },
            updateThumbnail: function(e, t, n) {
                this.isHiddenForever(e) || (S.push({
                    update: !0,
                    id: e,
                    thumbnailUrl: t,
                    showWaitingImg: n
                }), !b && T())
            },
            hasDialog: function(e) {
                return qq.supportedFeatures.dialogElement && !!R(e)
            },
            showDialog: function(e, t, n) {
                var i = R(e),
                    o = G(i, C.dialogMessage),
                    r = i.getElementsByTagName("INPUT")[0],
                    a = G(i, C.dialogCancelButton),
                    s = G(i, C.dialogOkButton),
                    u = new qq.Promise,
                    l = function() {
                        a.removeEventListener("click", c), s && s.removeEventListener("click", d), u.failure()
                    },
                    c = function() {
                        a.removeEventListener("click", c), i.close()
                    },
                    d = function() {
                        i.removeEventListener("close", l), s.removeEventListener("click", d), i.close(), u.success(r && r.value)
                    };
                return i.addEventListener("close", l), a.addEventListener("click", c), s && s.addEventListener("click", d), r && (r.value = n), o.textContent = t, i.showModal(), u
            }
        })
    }, qq.s3 = qq.s3 || {}, qq.s3.util = qq.s3.util || function() {
        "use strict";
        return {
            ALGORITHM_PARAM_NAME: "x-amz-algorithm",
            AWS_PARAM_PREFIX: "x-amz-meta-",
            CREDENTIAL_PARAM_NAME: "x-amz-credential",
            DATE_PARAM_NAME: "x-amz-date",
            REDUCED_REDUNDANCY_PARAM_NAME: "x-amz-storage-class",
            REDUCED_REDUNDANCY_PARAM_VALUE: "REDUCED_REDUNDANCY",
            SERVER_SIDE_ENCRYPTION_PARAM_NAME: "x-amz-server-side-encryption",
            SERVER_SIDE_ENCRYPTION_PARAM_VALUE: "AES256",
            SESSION_TOKEN_PARAM_NAME: "x-amz-security-token",
            V4_ALGORITHM_PARAM_VALUE: "AWS4-HMAC-SHA256",
            V4_SIGNATURE_PARAM_NAME: "x-amz-signature",
            getBucket: function(e) {
                var t, n = [/^(?:https?:\/\/)?([a-z0-9.\-_]+)\.s3(?:-[a-z0-9\-]+)?\.amazonaws\.com/i, /^(?:https?:\/\/)?s3(?:-[a-z0-9\-]+)?\.amazonaws\.com\/([a-z0-9.\-_]+)/i, /^(?:https?:\/\/)?([a-z0-9.\-_]+)/i];
                return qq.each(n, function(n, i) {
                    var o = i.exec(e);
                    if (o) return t = o[1], !1
                }), t
            },
            _getPrefixedParamName: function(e) {
                switch (e) {
                    case "Cache-Control":
                    case "Content-Disposition":
                    case "Content-Encoding":
                    case "Content-MD5":
                    case "x-amz-server-side-encryption-customer-algorithm":
                    case "x-amz-server-side-encryption-customer-key":
                    case "x-amz-server-side-encryption-customer-key-MD5":
                        return e;
                    default:
                        return qq.s3.util.AWS_PARAM_PREFIX + e
                }
            },
            getPolicy: function(e) {
                var t = {},
                    n = [],
                    i = e.bucket,
                    o = e.date,
                    r = e.key,
                    a = e.accessKey,
                    s = e.acl,
                    u = e.type,
                    l = e.expectedStatus,
                    c = e.sessionToken,
                    d = e.params,
                    p = qq.s3.util.getSuccessRedirectAbsoluteUrl(e.successRedirectUrl),
                    h = e.minFileSize,
                    f = e.maxFileSize,
                    q = e.reducedRedundancy,
                    m = e.region,
                    g = e.serverSideEncryption,
                    _ = e.signatureVersion;
                return t.expiration = qq.s3.util.getPolicyExpirationDate(o), n.push({
                    acl: s
                }), n.push({
                    bucket: i
                }), u && n.push({
                    "Content-Type": u
                }), l && n.push({
                    success_action_status: l.toString()
                }), p && n.push({
                    success_action_redirect: p
                }), q && (n.push({}), n[n.length - 1][qq.s3.util.REDUCED_REDUNDANCY_PARAM_NAME] = qq.s3.util.REDUCED_REDUNDANCY_PARAM_VALUE), c && (n.push({}), n[n.length - 1][qq.s3.util.SESSION_TOKEN_PARAM_NAME] = c), g && (n.push({}), n[n.length - 1][qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_NAME] = qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_VALUE), 2 === _ ? n.push({
                    key: r
                }) : 4 === _ && (n.push({}), n[n.length - 1][qq.s3.util.ALGORITHM_PARAM_NAME] = qq.s3.util.V4_ALGORITHM_PARAM_VALUE, n.push({}), n[n.length - 1].key = r, n.push({}), n[n.length - 1][qq.s3.util.CREDENTIAL_PARAM_NAME] = qq.s3.util.getV4CredentialsString({
                    date: o,
                    key: a,
                    region: m
                }), n.push({}), n[n.length - 1][qq.s3.util.DATE_PARAM_NAME] = qq.s3.util.getV4PolicyDate(o)), qq.each(d, function(e, t) {
                    var i = qq.s3.util._getPrefixedParamName(e),
                        o = {};
                    o[i] = encodeURIComponent(t), n.push(o)
                }), t.conditions = n, qq.s3.util.enforceSizeLimits(t, h, f), t
            },
            refreshPolicyCredentials: function(e, t) {
                var n = !1;
                qq.each(e.conditions, function(e, i) {
                    qq.each(i, function(e, o) {
                        e === qq.s3.util.SESSION_TOKEN_PARAM_NAME && (i[e] = t, n = !0)
                    })
                }), n || (e.conditions.push({}), e.conditions[e.conditions.length - 1][qq.s3.util.SESSION_TOKEN_PARAM_NAME] = t)
            },
            generateAwsParams: function(e, t) {
                var n, i = {},
                    o = e.params,
                    r = new qq.Promise,
                    a = e.sessionToken,
                    s = e.type,
                    u = e.key,
                    l = e.accessKey,
                    c = e.acl,
                    d = e.expectedStatus,
                    p = qq.s3.util.getSuccessRedirectAbsoluteUrl(e.successRedirectUrl),
                    h = e.reducedRedundancy,
                    f = e.region,
                    q = e.serverSideEncryption,
                    m = e.signatureVersion,
                    g = new Date,
                    _ = e.log;
                return e.date = g, n = qq.s3.util.getPolicy(e), i.key = u, s && (i["Content-Type"] = s), d && (i.success_action_status = d), p && (i.success_action_redirect = p), h && (i[qq.s3.util.REDUCED_REDUNDANCY_PARAM_NAME] = qq.s3.util.REDUCED_REDUNDANCY_PARAM_VALUE), q && (i[qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_NAME] = qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_VALUE), a && (i[qq.s3.util.SESSION_TOKEN_PARAM_NAME] = a), i.acl = c, qq.each(o, function(e, t) {
                    var n = qq.s3.util._getPrefixedParamName(e);
                    i[n] = encodeURIComponent(t)
                }), 2 === m ? i.AWSAccessKeyId = l : 4 === m && (i[qq.s3.util.ALGORITHM_PARAM_NAME] = qq.s3.util.V4_ALGORITHM_PARAM_VALUE, i[qq.s3.util.CREDENTIAL_PARAM_NAME] = qq.s3.util.getV4CredentialsString({
                    date: g,
                    key: l,
                    region: f
                }), i[qq.s3.util.DATE_PARAM_NAME] = qq.s3.util.getV4PolicyDate(g)), t(n).then(function(t, n, o) {
                    i.policy = t.policy, 2 === e.signatureVersion ? (i.signature = t.signature, n && (i.AWSAccessKeyId = n)) : 4 === e.signatureVersion && (i[qq.s3.util.V4_SIGNATURE_PARAM_NAME] = t.signature), o && (i[qq.s3.util.SESSION_TOKEN_PARAM_NAME] = o), r.success(i)
                }, function(e) {
                    e = e || "Can't continue further with request to S3 as we did not receive a valid signature and policy from the server.", _("Policy signing failed.  " + e, "error"), r.failure(e)
                }), r
            },
            enforceSizeLimits: function(e, t, n) {
                var i = t < 0 ? 0 : t,
                    o = n <= 0 ? 9007199254740992 : n;
                (t > 0 || n > 0) && e.conditions.push(["content-length-range", i.toString(), o.toString()])
            },
            getPolicyExpirationDate: function(e) {
                return qq.s3.util.getPolicyDate(e, 5)
            },
            getCredentialsDate: function(e) {
                return e.getUTCFullYear() + "" + ("0" + (e.getUTCMonth() + 1)).slice(-2) + ("0" + e.getUTCDate()).slice(-2)
            },
            getPolicyDate: function(e, t) {
                var n, i, o = t || 0;
                return e.setMinutes(e.getMinutes() + (o || 0)), Date.prototype.toISOString ? e.toISOString() : (n = function(e) {
                    return i = String(e), 1 === i.length && (i = "0" + i), i
                }, e.getUTCFullYear() + "-" + n(e.getUTCMonth() + 1) + "-" + n(e.getUTCDate()) + "T" + n(e.getUTCHours()) + ":" + n(e.getUTCMinutes()) + ":" + n(e.getUTCSeconds()) + "." + String((e.getUTCMilliseconds() / 1e3).toFixed(3)).slice(2, 5) + "Z")
            },
            parseIframeResponse: function(e) {
                var t = e.contentDocument || e.contentWindow.document,
                    n = t.location.search,
                    i = /bucket=(.+)&key=(.+)&etag=(.+)/.exec(n);
                if (i) return {
                    bucket: i[1],
                    key: i[2],
                    etag: i[3].replace(/%22/g, "")
                }
            },
            getSuccessRedirectAbsoluteUrl: function(e) {
                if (e) {
                    var t, n = document.createElement("div");
                    return qq.ie7() ? (n.innerHTML = "<a href='" + e + "'></a>", t = n.firstChild, t.href) : (t = document.createElement("a"), t.href = e, t.href = t.href, t.href)
                }
            },
            getV4CredentialsString: function(e) {
                return e.key + "/" + qq.s3.util.getCredentialsDate(e.date) + "/" + e.region + "/s3/aws4_request"
            },
            getV4PolicyDate: function(e) {
                return qq.s3.util.getCredentialsDate(e) + "T" + ("0" + e.getUTCHours()).slice(-2) + ("0" + e.getUTCMinutes()).slice(-2) + ("0" + e.getUTCSeconds()).slice(-2) + "Z"
            },
            encodeQueryStringParam: function(e) {
                var t = encodeURIComponent(e);
                return t = t.replace(/[!'()]/g, escape), t = t.replace(/\*/g, "%2A"), t.replace(/%20/g, "+")
            }
        }
    }(),
    function() {
        "use strict";
        qq.nonTraditionalBasePublicApi = {
            setUploadSuccessParams: function(e, t) {
                this._uploadSuccessParamsStore.set(e, t)
            },
            setUploadSuccessEndpoint: function(e, t) {
                this._uploadSuccessEndpointStore.set(e, t)
            }
        }, qq.nonTraditionalBasePrivateApi = {
            _onComplete: function(e, t, n, i) {
                var o, r, a = !!n.success,
                    s = this,
                    u = arguments,
                    l = this._uploadSuccessEndpointStore.get(e),
                    c = this._options.uploadSuccess.customHeaders,
                    d = this._options.uploadSuccess.method,
                    p = this._options.cors,
                    h = new qq.Promise,
                    f = this._uploadSuccessParamsStore.get(e),
                    q = this._paramsStore.get(e),
                    m = function(t) {
                        delete s._failedSuccessRequestCallbacks[e], qq.extend(n, t), qq.FineUploaderBasic.prototype._onComplete.apply(s, u), h.success(t)
                    },
                    g = function(r) {
                        var a = o;
                        qq.extend(n, r), n && n.reset && (a = null), a ? s._failedSuccessRequestCallbacks[e] = a : delete s._failedSuccessRequestCallbacks[e], s._onAutoRetry(e, t, n, i, a) || (qq.FineUploaderBasic.prototype._onComplete.apply(s, u), h.failure(r))
                    };
                return a && l ? (r = new qq.UploadSuccessAjaxRequester({
                    endpoint: l,
                    method: d,
                    customHeaders: c,
                    cors: p,
                    log: qq.bind(this.log, this)
                }), qq.extend(f, s._getEndpointSpecificParams(e, n, i), !0), q && qq.extend(f, q, !0), o = qq.bind(function() {
                    r.sendSuccessRequest(e, f).then(m, g)
                }, s), o(), h) : qq.FineUploaderBasic.prototype._onComplete.apply(this, arguments)
            },
            _manualRetry: function(e) {
                var t = this._failedSuccessRequestCallbacks[e];
                return qq.FineUploaderBasic.prototype._manualRetry.call(this, e, t)
            }
        }
    }(),
    function() {
        "use strict";
        qq.s3.FineUploaderBasic = function(e) {
            var t = {
                request: {
                    accessKey: null
                },
                objectProperties: {
                    acl: "private",
                    bucket: qq.bind(function(e) {
                        return qq.s3.util.getBucket(this.getEndpoint(e))
                    }, this),
                    host: qq.bind(function(e) {
                        return /(?:http|https):\/\/(.+)(?:\/.+)?/.exec(this._endpointStore.get(e))[1]
                    }, this),
                    key: "uuid",
                    reducedRedundancy: !1,
                    region: "us-east-1",
                    serverSideEncryption: !1
                },
                credentials: {
                    accessKey: null,
                    secretKey: null,
                    expiration: null,
                    sessionToken: null
                },
                signature: {
                    customHeaders: {},
                    endpoint: null,
                    version: 2
                },
                uploadSuccess: {
                    endpoint: null,
                    method: "POST",
                    params: {},
                    customHeaders: {}
                },
                iframeSupport: {
                    localBlankPagePath: null
                },
                chunking: {
                    partSize: 5242880
                },
                cors: {
                    allowXdr: !0
                },
                callbacks: {
                    onCredentialsExpired: function() {}
                }
            };
            qq.extend(t, e, !0), this.setCredentials(t.credentials, !0) || (this._currentCredentials.accessKey = t.request.accessKey), this._aclStore = this._createStore(t.objectProperties.acl), qq.FineUploaderBasic.call(this, t), this._uploadSuccessParamsStore = this._createStore(this._options.uploadSuccess.params), this._uploadSuccessEndpointStore = this._createStore(this._options.uploadSuccess.endpoint), this._failedSuccessRequestCallbacks = {}, this._cannedKeys = {}, this._cannedBuckets = {}, this._buckets = {}, this._hosts = {}
        }, qq.extend(qq.s3.FineUploaderBasic.prototype, qq.basePublicApi), qq.extend(qq.s3.FineUploaderBasic.prototype, qq.basePrivateApi), qq.extend(qq.s3.FineUploaderBasic.prototype, qq.nonTraditionalBasePublicApi), qq.extend(qq.s3.FineUploaderBasic.prototype, qq.nonTraditionalBasePrivateApi), qq.extend(qq.s3.FineUploaderBasic.prototype, {
            getBucket: function(e) {
                return null == this._cannedBuckets[e] ? this._buckets[e] : this._cannedBuckets[e]
            },
            getKey: function(e) {
                return null == this._cannedKeys[e] ? this._handler.getThirdPartyFileId(e) : this._cannedKeys[e]
            },
            reset: function() {
                qq.FineUploaderBasic.prototype.reset.call(this), this._failedSuccessRequestCallbacks = [], this._buckets = {}, this._hosts = {}
            },
            setCredentials: function(e, t) {
                if (e && e.secretKey) {
                    if (!e.accessKey) throw new qq.Error("Invalid credentials: no accessKey");
                    if (!e.expiration) throw new qq.Error("Invalid credentials: no expiration");
                    return this._currentCredentials = qq.extend({}, e), qq.isString(e.expiration) && (this._currentCredentials.expiration = new Date(e.expiration)), !0
                }
                if (!t) throw new qq.Error("Invalid credentials parameter!");
                this._currentCredentials = {}
            },
            setAcl: function(e, t) {
                this._aclStore.set(e, t)
            },
            _createUploadHandler: function() {
                var e = this,
                    t = {
                        aclStore: this._aclStore,
                        getBucket: qq.bind(this._determineBucket, this),
                        getHost: qq.bind(this._determineHost, this),
                        getKeyName: qq.bind(this._determineKeyName, this),
                        iframeSupport: this._options.iframeSupport,
                        objectProperties: this._options.objectProperties,
                        signature: this._options.signature,
                        validation: {
                            minSizeLimit: this._options.validation.minSizeLimit,
                            maxSizeLimit: this._options.validation.sizeLimit
                        }
                    };
                return qq.override(this._endpointStore, function(e) {
                    return {
                        get: function(t) {
                            var n = e.get(t);
                            return n.indexOf("http") < 0 ? "http://" + n : n
                        }
                    }
                }), qq.override(this._paramsStore, function(e) {
                    return {
                        get: function(t) {
                            var n = e.get(t),
                                i = {};
                            return qq.each(n, function(e, t) {
                                i[e.toLowerCase()] = qq.isFunction(t) ? t() : t
                            }), i
                        }
                    }
                }), t.signature.credentialsProvider = {
                    get: function() {
                        return e._currentCredentials
                    },
                    onExpired: function() {
                        var t = new qq.Promise,
                            n = e._options.callbacks.onCredentialsExpired();
                        return qq.isGenericPromise(n) ? n.then(function(n) {
                            try {
                                e.setCredentials(n), t.success()
                            } catch (i) {
                                e.log("Invalid credentials returned from onCredentialsExpired callback! (" + i.message + ")", "error"), t.failure("onCredentialsExpired did not return valid credentials.")
                            }
                        }, function(n) {
                            e.log("onCredentialsExpired callback indicated failure! (" + n + ")", "error"), t.failure("onCredentialsExpired callback failed.")
                        }) : (e.log("onCredentialsExpired callback did not return a promise!", "error"), t.failure("Unexpected return value for onCredentialsExpired.")), t
                    }
                }, qq.FineUploaderBasic.prototype._createUploadHandler.call(this, t, "s3")
            },
            _determineObjectPropertyValue: function(e, t) {
                var n = this._options.objectProperties[t],
                    i = new qq.Promise,
                    o = this;
                return qq.isFunction(n) ? (n = n(e), qq.isGenericPromise(n) ? i = n : i.success(n)) : qq.isString(n) && i.success(n), i.then(function(n) {
                    o["_" + t + "s"][e] = n
                }, function(n) {
                    qq.log("Problem determining " + t + " for ID " + e + " (" + n + ")", "error")
                }), i
            },
            _determineBucket: function(e) {
                return this._determineObjectPropertyValue(e, "bucket")
            },
            _determineHost: function(e) {
                return this._determineObjectPropertyValue(e, "host")
            },
            _determineKeyName: function(e, t) {
                var n = new qq.Promise,
                    i = this._options.objectProperties.key,
                    o = qq.getExtension(t),
                    r = n.failure,
                    a = function(e, t) {
                        var i = e;
                        void 0 !== t && (i += "." + t), n.success(i)
                    };
                switch (i) {
                    case "uuid":
                        a(this.getUuid(e), o);
                        break;
                    case "filename":
                        a(t);
                        break;
                    default:
                        qq.isFunction(i) ? this._handleKeynameFunction(i, e, a, r) : (this.log(i + " is not a valid value for the s3.keyname option!", "error"), r())
                }
                return n
            },
            _handleKeynameFunction: function(e, t, n, i) {
                var o = this,
                    r = function(e) {
                        n(e)
                    },
                    a = function(e) {
                        o.log(qq.format("Failed to retrieve key name for {}.  Reason: {}", t, e || "null"), "error"), i(e)
                    },
                    s = e.call(this, t);
                qq.isGenericPromise(s) ? s.then(r, a) : null == s ? a() : r(s)
            },
            _getEndpointSpecificParams: function(e, t, n) {
                var i = {
                    key: this.getKey(e),
                    uuid: this.getUuid(e),
                    name: this.getName(e),
                    bucket: this.getBucket(e)
                };
                return n && n.getResponseHeader("ETag") ? i.etag = n.getResponseHeader("ETag") : t.etag && (i.etag = t.etag), i
            },
            _onSubmitDelete: function(e, t) {
                var n = {
                    key: this.getKey(e),
                    bucket: this.getBucket(e)
                };
                return qq.FineUploaderBasic.prototype._onSubmitDelete.call(this, e, t, n)
            },
            _addCannedFile: function(e) {
                var t;
                if (null == e.s3Key) throw new qq.Error("Did not find s3Key property in server session response.  This is required!");
                return t = qq.FineUploaderBasic.prototype._addCannedFile.apply(this, arguments), this._cannedKeys[t] = e.s3Key, this._cannedBuckets[t] = e.s3Bucket, t
            }
        })
    }(), window.Uint8ClampedArray || (window.Uint8ClampedArray = function() {}), qq.s3.RequestSigner = function(e) {
        "use strict";

        function t(e, t, n) {
            var i, o, r = t.responseText,
                a = l[e],
                s = a.promise,
                u = a.signatureConstructor;
            if (delete l[e], r) try {
                o = qq.parseJson(r)
            } catch (p) {
                c.log("Error attempting to parse signature response: " + p, "error")
            }
            o && o.invalid ? (n = !0, i = "Invalid policy document or request headers!") : o ? c.expectingPolicy && !o.policy ? (n = !0, i = "Response does not include the base64 encoded policy!") : o.signature || (n = !0, i = "Response does not include the signature!") : (n = !0, i = "Received an empty or invalid response from the server!"), n ? (i && c.log(i, "error"), s.failure(i)) : u ? d(u, o.signature, s) : s.success(o)
        }

        function n(e, t, n) {
            var i, o, r, a = new qq.Promise,
                s = "POST",
                l = [],
                c = "",
                d = new Date,
                f = function(e) {
                    return qq.each(e.headers, function(e) {
                        l.push(e)
                    }), l.sort(), qq.each(l, function(t, n) {
                        c += n.toLowerCase() + ":" + e.headers[n].trim() + "\n"
                    }), o = {
                        bucket: e.bucket,
                        contentType: e.contentType,
                        date: d,
                        endOfUrl: i,
                        hashedContent: e.hashedContent,
                        headerNames: l,
                        headersStr: c,
                        method: s
                    }, r = 2 === t ? p.getStringToSign(o) : h.getStringToSign(o), {
                        date: d,
                        endOfUrl: i,
                        signedHeaders: 4 === t ? h.getSignedHeaders(o.headerNames) : null,
                        toSign: 4 === t ? r.hashed : r,
                        toSignRaw: 4 === t ? r.raw : r
                    }
                };
            switch (n.type) {
                case u.REQUEST_TYPE.MULTIPART_ABORT:
                    s = "DELETE", i = qq.format("uploadId={}", n.uploadId);
                    break;
                case u.REQUEST_TYPE.MULTIPART_INITIATE:
                    i = "uploads";
                    break;
                case u.REQUEST_TYPE.MULTIPART_COMPLETE:
                    i = qq.format("uploadId={}", n.uploadId);
                    break;
                case u.REQUEST_TYPE.MULTIPART_UPLOAD:
                    s = "PUT", i = qq.format("partNumber={}&uploadId={}", n.partNum, n.uploadId)
            }
            return i = n.key + "?" + i, 4 === t ? h.getEncodedHashedPayload(n.content).then(function(e) {
                n.headers["x-amz-content-sha256"] = e, n.headers.Host = n.host, n.headers["x-amz-date"] = qq.s3.util.getV4PolicyDate(d), n.hashedContent = e, a.success(f(n))
            }) : a.success(f(n)), a
        }

        function i(e, t, n, i, a) {
            var s;
            t.signatureConstructor ? (a && (s = t.signatureConstructor.getHeaders(), s[qq.s3.util.SESSION_TOKEN_PARAM_NAME] = a, t.signatureConstructor.withHeaders(s)), t.signatureConstructor.getToSign(e).then(function(e) {
                r(t.signatureConstructor, e.stringToSign, n)
            })) : (a && qq.s3.util.refreshPolicyCredentials(t, a), o(t, n, i, a))
        }

        function o(e, t, n, i) {
            4 === c.signatureSpec.version ? h.signPolicy(e, t, n, i) : p.signPolicy(e, t, n, i)
        }

        function r(e, t, n) {
            4 === c.signatureSpec.version ? h.signApiRequest(e, t, n) : p.signApiRequest(e, t, n)
        }
        var a, s, u = this,
            l = {},
            c = {
                expectingPolicy: !1,
                method: "POST",
                signatureSpec: {
                    credentialsProvider: {},
                    endpoint: null,
                    customHeaders: {},
                    version: 2
                },
                maxConnections: 3,
                endpointStore: {},
                paramsStore: {},
                cors: {
                    expected: !1,
                    sendCredentials: !1
                },
                log: function(e, t) {}
            },
            d = function(e, t, n) {
                var i = e.getHeaders();
                4 === c.signatureSpec.version ? i.Authorization = qq.s3.util.V4_ALGORITHM_PARAM_VALUE + " Credential=" + c.signatureSpec.credentialsProvider.get().accessKey + "/" + qq.s3.util.getCredentialsDate(e.getRequestDate()) + "/" + c.signatureSpec.region + "/s3/aws4_request,SignedHeaders=" + e.getSignedHeaders() + ",Signature=" + t : i.Authorization = "AWS " + c.signatureSpec.credentialsProvider.get().accessKey + ":" + t, n.success(i, e.getEndOfUrl())
            },
            p = {
                getStringToSign: function(e) {
                    return qq.format("{}\n\n{}\n\n{}/{}/{}", e.method, e.contentType || "", e.headersStr || "\n", e.bucket, e.endOfUrl)
                },
                signApiRequest: function(e, t, n) {
                    var i = CryptoJS.enc.Utf8.parse(t),
                        o = CryptoJS.HmacSHA1(i, s.get().secretKey),
                        r = CryptoJS.enc.Base64.stringify(o);
                    d(e, r, n)
                },
                signPolicy: function(e, t, n, i) {
                    var o = JSON.stringify(e),
                        r = CryptoJS.enc.Utf8.parse(o),
                        a = CryptoJS.enc.Base64.stringify(r),
                        u = CryptoJS.HmacSHA1(a, s.get().secretKey),
                        l = CryptoJS.enc.Base64.stringify(u);
                    t.success({
                        policy: a,
                        signature: l
                    }, n, i)
                }
            },
            h = {
                getCanonicalQueryString: function(e) {
                    var t, n, i, o = e.indexOf("?"),
                        r = "";
                    return o >= 0 && (t = {}, i = e.substr(o + 1).split("&"), qq.each(i, function(e, n) {
                        var i = n.split("="),
                            o = i[1];
                        null == o && (o = ""), t[encodeURIComponent(i[0])] = encodeURIComponent(o)
                    }), n = Object.keys(t).sort(), n.forEach(function(e, i) {
                        r += e + "=" + t[e], i < n.length - 1 && (r += "&")
                    })), r
                },
                getCanonicalRequest: function(e) {
                    return qq.format("{}\n{}\n{}\n{}\n{}\n{}", e.method, h.getCanonicalUri(e.endOfUrl), h.getCanonicalQueryString(e.endOfUrl), e.headersStr || "\n", h.getSignedHeaders(e.headerNames), e.hashedContent)
                },
                getCanonicalUri: function(e) {
                    var t = e,
                        n = e.indexOf("?");
                    return n > 0 && (t = e.substr(0, n)), escape("/" + decodeURIComponent(t))
                },
                getEncodedHashedPayload: function(e) {
                    var t, n = new qq.Promise;
                    return qq.isBlob(e) ? (t = new FileReader, t.onloadend = function(e) {
                        if (e.target.readyState === FileReader.DONE)
                            if (e.target.error) n.failure(e.target.error);
                            else {
                                var t = CryptoJS.lib.WordArray.create(e.target.result);
                                n.success(CryptoJS.SHA256(t).toString())
                            }
                    }, t.readAsArrayBuffer(e)) : (e = e || "", n.success(CryptoJS.SHA256(e).toString())), n
                },
                getScope: function(e, t) {
                    return qq.s3.util.getCredentialsDate(e) + "/" + t + "/s3/aws4_request"
                },
                getStringToSign: function(e) {
                    var t = h.getCanonicalRequest(e),
                        n = qq.s3.util.getV4PolicyDate(e.date),
                        i = CryptoJS.SHA256(t).toString(),
                        o = h.getScope(e.date, c.signatureSpec.region),
                        r = "AWS4-HMAC-SHA256\n{}\n{}\n{}";
                    return {
                        hashed: qq.format(r, n, o, i),
                        raw: qq.format(r, n, o, t)
                    }
                },
                getSignedHeaders: function(e) {
                    var t = "";
                    return e.forEach(function(n, i) {
                        t += n.toLowerCase(), i < e.length - 1 && (t += ";")
                    }), t
                },
                signApiRequest: function(e, t, n) {
                    var i, o, r, a, u = s.get().secretKey,
                        l = /.+\n.+\n(\d+)\/(.+)\/s3\/.+\n(.+)/,
                        c = l.exec(t);
                    i = CryptoJS.HmacSHA256(c[1], "AWS4" + u), o = CryptoJS.HmacSHA256(c[2], i), r = CryptoJS.HmacSHA256("s3", o), a = CryptoJS.HmacSHA256("aws4_request", r), d(e, CryptoJS.HmacSHA256(t, a), n)
                },
                signPolicy: function(e, t, n, i) {
                    var o, r, a, u, l, c = JSON.stringify(e),
                        d = CryptoJS.enc.Utf8.parse(c),
                        p = CryptoJS.enc.Base64.stringify(d),
                        h = s.get().secretKey,
                        f = /.+\/(.+)\/(.+)\/s3\/aws4_request/,
                        q = function() {
                            var t = null;
                            return qq.each(e.conditions, function(e, n) {
                                var i = n["x-amz-credential"];
                                if (i) return t = i, !1
                            }), t
                        }();
                    o = f.exec(q), r = CryptoJS.HmacSHA256(o[1], "AWS4" + h), a = CryptoJS.HmacSHA256(o[2], r), u = CryptoJS.HmacSHA256("s3", a), l = CryptoJS.HmacSHA256("aws4_request", u), t.success({
                        policy: p,
                        signature: CryptoJS.HmacSHA256(p, l).toString()
                    }, n, i)
                }
            };
        qq.extend(c, e, !0), s = c.signatureSpec.credentialsProvider, a = qq.extend(this, new qq.AjaxRequester({
            acceptHeader: "application/json",
            method: c.method,
            contentType: "application/json; charset=utf-8",
            endpointStore: {
                get: function() {
                    return c.signatureSpec.endpoint
                }
            },
            paramsStore: c.paramsStore,
            maxConnections: c.maxConnections,
            customHeaders: c.signatureSpec.customHeaders,
            log: c.log,
            onComplete: t,
            cors: c.cors
        })), qq.extend(this, {
            getSignature: function(e, t) {
                var n, o = t,
                    r = t.signatureConstructor,
                    u = new qq.Promise;
                return 4 === c.signatureSpec.version && (n = {
                    v4: !0
                }), s.get().secretKey && window.CryptoJS ? s.get().expiration.getTime() > Date.now() ? i(e, t, u) : s.onExpired().then(function() {
                    i(e, t, u, s.get().accessKey, s.get().sessionToken)
                }, function(e) {
                    c.log("Attempt to update expired credentials apparently failed! Unable to sign request.  ", "error"), u.failure("Unable to sign request - expired credentials.")
                }) : (c.log("Submitting S3 signature request for " + e), r ? r.getToSign(e).then(function(t) {
                    o = {
                        headers: t.stringToSignRaw
                    }, a.initTransport(e).withParams(o).withQueryParams(n).send()
                }) : a.initTransport(e).withParams(o).withQueryParams(n).send(), l[e] = {
                    promise: u,
                    signatureConstructor: r
                }), u
            },
            constructStringToSign: function(e, t, i, o) {
                var r, a, u, l, d, p = {};
                return {
                    withHeaders: function(e) {
                        return p = e, this
                    },
                    withUploadId: function(e) {
                        return r = e, this
                    },
                    withContent: function(e) {
                        return a = e, this
                    },
                    withContentType: function(e) {
                        return u = e, this
                    },
                    withPartNum: function(e) {
                        return l = e, this
                    },
                    getToSign: function(h) {
                        var f = s.get().sessionToken,
                            q = new qq.Promise;
                        return p["x-amz-date"] = (new Date).toUTCString(), f && (p[qq.s3.util.SESSION_TOKEN_PARAM_NAME] = f), n(h, c.signatureSpec.version, {
                            bucket: t,
                            content: a,
                            contentType: u,
                            headers: p,
                            host: i,
                            key: o,
                            partNum: l,
                            type: e,
                            uploadId: r
                        }).then(function(e) {
                            d = e, q.success({
                                headers: function() {
                                    return u && (p["Content-Type"] = u), delete p.Host, p
                                }(),
                                date: d.date,
                                endOfUrl: d.endOfUrl,
                                signedHeaders: d.signedHeaders,
                                stringToSign: d.toSign,
                                stringToSignRaw: d.toSignRaw
                            })
                        }), q
                    },
                    getHeaders: function() {
                        return qq.extend({}, p)
                    },
                    getEndOfUrl: function() {
                        return d && d.endOfUrl
                    },
                    getRequestDate: function() {
                        return d && d.date
                    },
                    getSignedHeaders: function() {
                        return d && d.signedHeaders
                    }
                }
            }
        })
    }, qq.s3.RequestSigner.prototype.REQUEST_TYPE = {
        MULTIPART_INITIATE: "multipart_initiate",
        MULTIPART_COMPLETE: "multipart_complete",
        MULTIPART_ABORT: "multipart_abort",
        MULTIPART_UPLOAD: "multipart_upload"
    }, qq.UploadSuccessAjaxRequester = function(e) {
        "use strict";

        function t(e, t, n) {
            var r, a = i[e],
                s = t.responseText,
                u = {
                    success: !0
                },
                l = {
                    success: !1
                };
            delete i[e], o.log(qq.format("Received the following response body to an upload success request for id {}: {}", e, s));
            try {
                r = qq.parseJson(s), n || r && (r.error || r.success === !1) ? (o.log("Upload success request was rejected by the server.", "error"), a.failure(qq.extend(r, l))) : (o.log("Upload success was acknowledged by the server."), a.success(qq.extend(r, u)))
            } catch (c) {
                n ? (o.log(qq.format("Your server indicated failure in its upload success request response for id {}!", e), "error"), a.failure(l)) : (o.log("Upload success was acknowledged by the server."), a.success(u))
            }
        }
        var n, i = [],
            o = {
                method: "POST",
                endpoint: null,
                maxConnections: 3,
                customHeaders: {},
                paramsStore: {},
                cors: {
                    expected: !1,
                    sendCredentials: !1
                },
                log: function(e, t) {}
            };
        qq.extend(o, e), n = qq.extend(this, new qq.AjaxRequester({
            acceptHeader: "application/json",
            method: o.method,
            endpointStore: {
                get: function() {
                    return o.endpoint
                }
            },
            paramsStore: o.paramsStore,
            maxConnections: o.maxConnections,
            customHeaders: o.customHeaders,
            log: o.log,
            onComplete: t,
            cors: o.cors
        })), qq.extend(this, {
            sendSuccessRequest: function(e, t) {
                var r = new qq.Promise;
                return o.log("Submitting upload success request/notification for " + e), n.initTransport(e).withParams(t).send(), i[e] = r, r
            }
        })
    }, qq.s3.InitiateMultipartAjaxRequester = function(e) {
        "use strict";

        function t(e) {
            var t, n = a.getBucket(e),
                i = a.getHost(e),
                r = {},
                s = new qq.Promise,
                u = a.getKey(e);
            return r["x-amz-acl"] = a.aclStore.get(e), a.reducedRedundancy && (r[qq.s3.util.REDUCED_REDUNDANCY_PARAM_NAME] = qq.s3.util.REDUCED_REDUNDANCY_PARAM_VALUE), a.serverSideEncryption && (r[qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_NAME] = qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_VALUE), r[qq.s3.util.AWS_PARAM_PREFIX + a.filenameParam] = encodeURIComponent(a.getName(e)), qq.each(a.paramsStore.get(e), function(e, t) {
                r[qq.s3.util.AWS_PARAM_PREFIX + e] = encodeURIComponent(t)
            }), t = o.constructStringToSign(o.REQUEST_TYPE.MULTIPART_INITIATE, n, i, u).withContentType(a.getContentType(e)).withHeaders(r), o.getSignature(e, {
                signatureConstructor: t
            }).then(s.success, s.failure), s
        }

        function n(e, t, n) {
            var i, o, s, u, l, c = r[e],
                d = new DOMParser,
                p = d.parseFromString(t.responseText, "application/xml");
            delete r[e], n ? (l = t.status, o = p.getElementsByTagName("Message"), o.length > 0 && (u = o[0].textContent)) : (i = p.getElementsByTagName("UploadId"), i.length > 0 ? s = i[0].textContent : u = "Upload ID missing from request"), void 0 === s ? (u ? a.log(qq.format("Specific problem detected initiating multipart upload request for {}: '{}'.", e, u), "error") : a.log(qq.format("Unexplained error with initiate multipart upload request for {}.  Status code {}.", e, l), "error"), c.failure("Problem initiating upload request.", t)) : (a.log(qq.format("Initiate multipart upload request successful for {}.  Upload ID is {}", e, s)), c.success(s, t))
        }
        var i, o, r = {},
            a = {
                filenameParam: "qqfilename",
                method: "POST",
                endpointStore: null,
                paramsStore: null,
                signatureSpec: null,
                aclStore: null,
                reducedRedundancy: !1,
                serverSideEncryption: !1,
                maxConnections: 3,
                getContentType: function(e) {},
                getBucket: function(e) {},
                getHost: function(e) {},
                getKey: function(e) {},
                getName: function(e) {},
                log: function(e, t) {}
            };
        qq.extend(a, e), o = new qq.s3.RequestSigner({
            endpointStore: a.endpointStore,
            signatureSpec: a.signatureSpec,
            cors: a.cors,
            log: a.log
        }), i = qq.extend(this, new qq.AjaxRequester({
            method: a.method,
            contentType: null,
            endpointStore: a.endpointStore,
            maxConnections: a.maxConnections,
            allowXRequestedWithAndCacheControl: !1,
            log: a.log,
            onComplete: n,
            successfulResponseCodes: {
                POST: [200]
            }
        })), qq.extend(this, {
            send: function(e) {
                var n = new qq.Promise;
                return t(e).then(function(t, o) {
                    a.log("Submitting S3 initiate multipart upload request for " + e), r[e] = n, i.initTransport(e).withPath(o).withHeaders(t).send()
                }, n.failure), n
            }
        })
    }, qq.s3.CompleteMultipartAjaxRequester = function(e) {
        "use strict";

        function t(e, t, n) {
            var i = new qq.Promise,
                o = s.getBucket(e),
                a = s.getHost(e),
                u = r.constructStringToSign(r.REQUEST_TYPE.MULTIPART_COMPLETE, o, a, s.getKey(e)).withUploadId(t).withContent(n).withContentType("application/xml; charset=UTF-8");
            return r.getSignature(e, {
                signatureConstructor: u
            }).then(i.success, i.failure), i
        }

        function n(e, t, n) {
            var i = a[e],
                o = new DOMParser,
                r = s.getBucket(e),
                u = (s.getKey(e), o.parseFromString(t.responseText, "application/xml")),
                l = u.getElementsByTagName("Bucket"),
                c = u.getElementsByTagName("Key");
            delete a[e], s.log(qq.format("Complete response status {}, body = {}", t.status, t.responseText)), n ? s.log(qq.format("Complete Multipart Upload request for {} failed with status {}.", e, t.status), "error") : l.length && c.length ? l[0].textContent !== r && (n = !0, s.log(qq.format("Wrong bucket in response to Complete Multipart Upload request for {}.", e), "error")) : (n = !0, s.log(qq.format("Missing bucket and/or key in response to Complete Multipart Upload request for {}.", e), "error")), n ? i.failure("Problem combining the file parts!", t) : i.success({}, t)
        }

        function i(e) {
            var t = document.implementation.createDocument(null, "CompleteMultipartUpload", null);
            return e.sort(function(e, t) {
                return e.part - t.part
            }), qq.each(e, function(e, n) {
                var i = n.part,
                    o = n.etag,
                    r = t.createElement("Part"),
                    a = t.createElement("PartNumber"),
                    s = t.createTextNode(i),
                    u = t.createTextNode(o),
                    l = t.createElement("ETag");
                l.appendChild(u), a.appendChild(s), r.appendChild(a), r.appendChild(l), qq(t).children()[0].appendChild(r)
            }), (new XMLSerializer).serializeToString(t)
        }
        var o, r, a = {},
            s = {
                method: "POST",
                contentType: "text/xml",
                endpointStore: null,
                signatureSpec: null,
                maxConnections: 3,
                getBucket: function(e) {},
                getHost: function(e) {},
                getKey: function(e) {},
                log: function(e, t) {}
            };
        qq.extend(s, e), r = new qq.s3.RequestSigner({
            endpointStore: s.endpointStore,
            signatureSpec: s.signatureSpec,
            cors: s.cors,
            log: s.log
        }), o = qq.extend(this, new qq.AjaxRequester({
            method: s.method,
            contentType: "application/xml; charset=UTF-8",
            endpointStore: s.endpointStore,
            maxConnections: s.maxConnections,
            allowXRequestedWithAndCacheControl: !1,
            log: s.log,
            onComplete: n,
            successfulResponseCodes: {
                POST: [200]
            }
        })), qq.extend(this, {
            send: function(e, n, r) {
                var u = new qq.Promise,
                    l = i(r);
                return t(e, n, l).then(function(t, n) {
                    s.log("Submitting S3 complete multipart upload request for " + e), a[e] = u, delete t["Content-Type"], o.initTransport(e).withPath(n).withHeaders(t).withPayload(l).send()
                }, u.failure), u
            }
        })
    }, qq.s3.AbortMultipartAjaxRequester = function(e) {
        "use strict";

        function t(e, t) {
            var n = new qq.Promise,
                i = r.getBucket(e),
                a = r.getHost(e),
                s = o.constructStringToSign(o.REQUEST_TYPE.MULTIPART_ABORT, i, a, r.getKey(e)).withUploadId(t);
            return o.getSignature(e, {
                signatureConstructor: s
            }).then(n.success, n.failure), n
        }

        function n(e, t, n) {
            var i, o = new DOMParser,
                a = o.parseFromString(t.responseText, "application/xml"),
                s = a.getElementsByTagName("Error");
            r.log(qq.format("Abort response status {}, body = {}", t.status, t.responseText)), n ? r.log(qq.format("Abort Multipart Upload request for {} failed with status {}.", e, t.status), "error") : s.length ? (n = !0, i = a.getElementsByTagName("Message")[0].textContent, r.log(qq.format("Failed to Abort Multipart Upload request for {}.  Error: {}", e, i), "error")) : r.log(qq.format("Abort MPU request succeeded for file ID {}.", e))
        }
        var i, o, r = {
            method: "DELETE",
            endpointStore: null,
            signatureSpec: null,
            maxConnections: 3,
            getBucket: function(e) {},
            getHost: function(e) {},
            getKey: function(e) {},
            log: function(e, t) {}
        };
        qq.extend(r, e), o = new qq.s3.RequestSigner({
            endpointStore: r.endpointStore,
            signatureSpec: r.signatureSpec,
            cors: r.cors,
            log: r.log
        }), i = qq.extend(this, new qq.AjaxRequester({
            validMethods: ["DELETE"],
            method: r.method,
            contentType: null,
            endpointStore: r.endpointStore,
            maxConnections: r.maxConnections,
            allowXRequestedWithAndCacheControl: !1,
            log: r.log,
            onComplete: n,
            successfulResponseCodes: {
                DELETE: [204]
            }
        })), qq.extend(this, {
            send: function(e, n) {
                t(e, n).then(function(t, n) {
                    r.log("Submitting S3 Abort multipart upload request for " + e), i.initTransport(e).withPath(n).withHeaders(t).send()
                })
            }
        })
    }, qq.s3.XhrUploadHandler = function(e, t) {
        "use strict";
        var n = t.getName,
            i = t.log,
            o = 200,
            r = e.getBucket,
            a = e.getHost,
            s = e.getKeyName,
            u = e.filenameParam,
            l = e.paramsStore,
            c = e.endpointStore,
            d = e.aclStore,
            p = e.objectProperties.reducedRedundancy,
            h = e.objectProperties.region,
            f = e.objectProperties.serverSideEncryption,
            q = e.validation,
            m = qq.extend({
                region: h
            }, e.signature),
            g = this,
            _ = e.signature.credentialsProvider,
            v = {
                combine: function(e) {
                    var t = g._getPersistableData(e).uploadId,
                        n = g._getPersistableData(e).etags,
                        i = new qq.Promise;
                    return b.completeMultipart.send(e, t, n).then(i.success, function(t, n) {
                        i.failure(y.done(e, n).response, n)
                    }), i
                },
                done: function(e, t, n) {
                    var i, o = y.response.parse(e, t);
                    o.success && (i = t.getResponseHeader("ETag"), g._getPersistableData(e).etags || (g._getPersistableData(e).etags = []), g._getPersistableData(e).etags.push({
                        part: n + 1,
                        etag: i
                    }))
                },
                initHeaders: function(e, t, n) {
                    var i = y.bucket.getName(e),
                        o = y.host.getName(e),
                        r = y.key.urlSafe(e),
                        a = new qq.Promise,
                        s = b.restSignature.constructStringToSign(b.restSignature.REQUEST_TYPE.MULTIPART_UPLOAD, i, o, r).withPartNum(t + 1).withContent(n).withUploadId(g._getPersistableData(e).uploadId);
                    return b.restSignature.getSignature(e + "." + t, {
                        signatureConstructor: s
                    }).then(a.success, a.failure), a
                },
                put: function(t, n) {
                    var i = g._createXhr(t, n),
                        o = g._getChunkData(t, n),
                        r = e.endpointStore.get(t),
                        a = new qq.Promise;
                    return v.initHeaders(t, n, o.blob).then(function(e, s) {
                        var u = r + "/" + s;
                        g._registerProgressHandler(t, n, o.size), y.track(t, i, n).then(a.success, a.failure), i.open("PUT", u, !0), qq.each(e, function(e, t) {
                            i.setRequestHeader(e, t)
                        }), i.send(o.blob)
                    }, function() {
                        a.failure({
                            error: "Problem signing the chunk!"
                        }, i)
                    }), a
                },
                send: function(e, t) {
                    var n = new qq.Promise;
                    return v.setup(e).then(function() {
                        v.put(e, t).then(n.success, n.failure)
                    }, function(e, t) {
                        n.failure({
                            error: e
                        }, t)
                    }), n
                },
                setup: function(e) {
                    var t = new qq.Promise,
                        n = g._getPersistableData(e).uploadId,
                        i = new qq.Promise;
                    return n ? n instanceof qq.Promise ? n.then(function(e) {
                        t.success(e)
                    }) : t.success(n) : (g._getPersistableData(e).uploadId = i, b.initiateMultipart.send(e).then(function(n) {
                        g._getPersistableData(e).uploadId = n, i.success(n), t.success(n)
                    }, function(n) {
                        g._getPersistableData(e).uploadId = null, t.failure(n), i.failure(n)
                    })), t
                }
            },
            b = {
                abortMultipart: new qq.s3.AbortMultipartAjaxRequester({
                    endpointStore: c,
                    signatureSpec: m,
                    cors: e.cors,
                    log: i,
                    getBucket: function(e) {
                        return y.bucket.getName(e)
                    },
                    getHost: function(e) {
                        return y.host.getName(e)
                    },
                    getKey: function(e) {
                        return y.key.urlSafe(e)
                    }
                }),
                completeMultipart: new qq.s3.CompleteMultipartAjaxRequester({
                    endpointStore: c,
                    signatureSpec: m,
                    cors: e.cors,
                    log: i,
                    getBucket: function(e) {
                        return y.bucket.getName(e)
                    },
                    getHost: function(e) {
                        return y.host.getName(e)
                    },
                    getKey: function(e) {
                        return y.key.urlSafe(e)
                    }
                }),
                initiateMultipart: new qq.s3.InitiateMultipartAjaxRequester({
                    filenameParam: u,
                    endpointStore: c,
                    paramsStore: l,
                    signatureSpec: m,
                    aclStore: d,
                    reducedRedundancy: p,
                    serverSideEncryption: f,
                    cors: e.cors,
                    log: i,
                    getContentType: function(e) {
                        return g._getMimeType(e)
                    },
                    getBucket: function(e) {
                        return y.bucket.getName(e)
                    },
                    getHost: function(e) {
                        return y.host.getName(e)
                    },
                    getKey: function(e) {
                        return y.key.urlSafe(e)
                    },
                    getName: function(e) {
                        return n(e)
                    }
                }),
                policySignature: new qq.s3.RequestSigner({
                    expectingPolicy: !0,
                    signatureSpec: m,
                    cors: e.cors,
                    log: i
                }),
                restSignature: new qq.s3.RequestSigner({
                    endpointStore: c,
                    signatureSpec: m,
                    cors: e.cors,
                    log: i
                })
            },
            S = {
                initParams: function(e) {
                    var t = l.get(e);
                    return t[u] = n(e), qq.s3.util.generateAwsParams({
                        endpoint: c.get(e),
                        params: t,
                        type: g._getMimeType(e),
                        bucket: y.bucket.getName(e),
                        key: g.getThirdPartyFileId(e),
                        accessKey: _.get().accessKey,
                        sessionToken: _.get().sessionToken,
                        acl: d.get(e),
                        expectedStatus: o,
                        minFileSize: q.minSizeLimit,
                        maxFileSize: q.maxSizeLimit,
                        reducedRedundancy: p,
                        region: h,
                        serverSideEncryption: f,
                        signatureVersion: m.version,
                        log: i
                    }, qq.bind(b.policySignature.getSignature, this, e))
                },
                send: function(e) {
                    var t = new qq.Promise,
                        n = g._createXhr(e),
                        o = g.getFile(e);
                    return g._registerProgressHandler(e), y.track(e, n).then(t.success, t.failure), S.setup(e, n, o).then(function(t) {
                        i("Sending upload request for " + e), n.send(t)
                    }, t.failure), t
                },
                setup: function(e, t, n) {
                    var i = new FormData,
                        o = c.get(e),
                        r = o,
                        a = new qq.Promise;
                    return S.initParams(e).then(function(e) {
                        t.open("POST", r, !0), qq.obj2FormData(e, i), i.append("file", n), a.success(i)
                    }, function(e) {
                        a.failure({
                            error: e
                        })
                    }), a
                }
            },
            y = {
                bucket: {
                    promise: function(e) {
                        var t = new qq.Promise,
                            n = g._getFileState(e).bucket;
                        return n ? t.success(n) : r(e).then(function(n) {
                            g._getFileState(e).bucket = n, t.success(n)
                        }, t.failure), t
                    },
                    getName: function(e) {
                        return g._getFileState(e).bucket
                    }
                },
                host: {
                    promise: function(e) {
                        var t = new qq.Promise,
                            n = g._getFileState(e).host;
                        return n ? t.success(n) : a(e).then(function(n) {
                            g._getFileState(e).host = n, t.success(n)
                        }, t.failure), t
                    },
                    getName: function(e) {
                        return g._getFileState(e).host
                    }
                },
                done: function(e, t) {
                    var n = y.response.parse(e, t),
                        o = n.success !== !0;
                    return o && y.response.shouldReset(n.code) && (i("This is an unrecoverable error, we must restart the upload entirely on the next retry attempt.", "error"), n.reset = !0), {
                        success: !o,
                        response: n
                    }
                },
                key: {
                    promise: function(e) {
                        var t = new qq.Promise,
                            i = g.getThirdPartyFileId(e);
                        return null == i ? (g._setThirdPartyFileId(e, t), s(e, n(e)).then(function(n) {
                            g._setThirdPartyFileId(e, n), t.success(n)
                        }, function(n) {
                            g._setThirdPartyFileId(e, null), t.failure(n)
                        })) : qq.isGenericPromise(i) ? i.then(t.success, t.failure) : t.success(i), t
                    },
                    urlSafe: function(e) {
                        var t = encodeURIComponent(g.getThirdPartyFileId(e));
                        return t.replace(/%2F/g, "/")
                    }
                },
                response: {
                    parse: function(e, t) {
                        var n, r = {};
                        try {
                            i(qq.format("Received response status {} with body: {}", t.status, t.responseText)), t.status === o ? r.success = !0 : (n = y.response.parseError(t.responseText), n && (r.error = n.message, r.code = n.code))
                        } catch (a) {
                            i("Error when attempting to parse xhr response text (" + a.message + ")", "error")
                        }
                        return r
                    },
                    parseError: function(e) {
                        var t, n, i = new DOMParser,
                            o = i.parseFromString(e, "application/xml"),
                            r = o.getElementsByTagName("Error"),
                            a = {};
                        if (r.length) return t = o.getElementsByTagName("Code"), n = o.getElementsByTagName("Message"), n.length && (a.message = n[0].textContent), t.length && (a.code = t[0].textContent), a
                    },
                    shouldReset: function(e) {
                        return "EntityTooSmall" === e || "InvalidPart" === e || "InvalidPartOrder" === e || "NoSuchUpload" === e
                    }
                },
                start: function(e, t) {
                    var n = new qq.Promise;
                    return y.key.promise(e).then(function() {
                        y.bucket.promise(e).then(function() {
                            y.host.promise(e).then(function() {
                                null == t ? S.send(e).then(n.success, n.failure) : v.send(e, t).then(n.success, n.failure)
                            })
                        })
                    }, function(e) {
                        n.failure({
                            error: e
                        })
                    }), n
                },
                track: function(e, t, n) {
                    var i = new qq.Promise;
                    return t.onreadystatechange = function() {
                        if (4 === t.readyState) {
                            var o;
                            null == n ? (o = y.done(e, t), i[o.success ? "success" : "failure"](o.response, t)) : (v.done(e, t, n), o = y.done(e, t), i[o.success ? "success" : "failure"](o.response, t))
                        }
                    }, i
                }
            };
        qq.extend(this, {
            uploadChunk: y.start,
            uploadFile: y.start
        }), qq.extend(this, new qq.XhrUploadHandler({
            options: qq.extend({
                namespace: "s3"
            }, e),
            proxy: qq.extend({
                getEndpoint: e.endpointStore.get
            }, t)
        })), qq.override(this, function(e) {
            return {
                expunge: function(t) {
                    var n = g._getPersistableData(t) && g._getPersistableData(t).uploadId,
                        i = g._maybeDeletePersistedChunkData(t);
                    void 0 !== n && i && b.abortMultipart.send(t, n), e.expunge(t)
                },
                finalizeChunks: function(e) {
                    return v.combine(e)
                },
                _getLocalStorageId: function(t) {
                    var n = e._getLocalStorageId(t),
                        i = y.bucket.getName(t);
                    return n + "-" + i
                }
            }
        })
    }, qq.s3.FormUploadHandler = function(e, t) {
        "use strict";

        function n(t, n) {
            var i, o, r, a = e.endpointStore.get(t),
                u = qq.s3.util.getBucket(a);
            try {
                if (i = n.contentDocument || n.contentWindow.document, o = i.body.innerHTML, r = qq.s3.util.parseIframeResponse(n), r.bucket === u && r.key === qq.s3.util.encodeQueryStringParam(s.getThirdPartyFileId(t))) return !0;
                d("Response from AWS included an unexpected bucket or key name.", "error")
            } catch (l) {
                d("Error when attempting to parse form upload response (" + l.message + ")", "error")
            }
            return !1
        }

        function i(e) {
            var t = q.get(e);
            return t[f] = l(e), qq.s3.util.generateAwsParams({
                endpoint: m.get(e),
                params: t,
                bucket: s._getFileState(e).bucket,
                key: s.getThirdPartyFileId(e),
                accessKey: C.get().accessKey,
                sessionToken: C.get().sessionToken,
                acl: g.get(e),
                minFileSize: S.minSizeLimit,
                maxFileSize: S.maxSizeLimit,
                successRedirectUrl: w,
                reducedRedundancy: _,
                region: v,
                serverSideEncryption: b,
                signatureVersion: y.version,
                log: d
            }, qq.bind(x.getSignature, this, e))
        }

        function o(t, n) {
            var o = new qq.Promise,
                r = "POST",
                u = e.endpointStore.get(t),
                c = l(t);
            return i(t).then(function(e) {
                var t = s._initFormForUpload({
                    method: r,
                    endpoint: u,
                    params: e,
                    paramsInBody: !0,
                    targetName: n.name
                });
                o.success(t)
            }, function(e) {
                o.failure(e), a(t, n, c, {
                    error: e
                })
            }), o
        }

        function r(e) {
            var t = s._createIframe(e),
                i = s.getInput(e),
                r = new qq.Promise;
            return o(e, t).then(function(o) {
                o.appendChild(i), s._attachLoadEvent(t, function(i) {
                    d("iframe loaded"), i ? i.success === !1 && (d("Amazon likely rejected the upload request", "error"), r.failure(i)) : (i = {}, i.success = n(e, t), i.success === !1 ? (d("A success response was received by Amazon, but it was invalid in some way.", "error"), r.failure(i)) : (qq.extend(i, qq.s3.util.parseIframeResponse(t)), r.success(i))), a(e, t)
                }), d("Sending upload request for " + e), o.submit(), qq(o).remove()
            }, r.failure), r
        }

        function a(e, t) {
            s._detachLoadEvent(e), t && qq(t).remove()
        }
        var s = this,
            u = t.onUuidChanged,
            l = t.getName,
            c = t.getUuid,
            d = t.log,
            p = e.getBucket,
            h = e.getKeyName,
            f = e.filenameParam,
            q = e.paramsStore,
            m = e.endpointStore,
            g = e.aclStore,
            _ = e.objectProperties.reducedRedundancy,
            v = e.objectProperties.region,
            b = e.objectProperties.serverSideEncryption,
            S = e.validation,
            y = e.signature,
            w = e.iframeSupport.localBlankPagePath,
            C = e.signature.credentialsProvider,
            x = new qq.s3.RequestSigner({
                signatureSpec: y,
                cors: e.cors,
                log: d
            });
        if (void 0 === w) throw new Error("successRedirectEndpoint MUST be defined if you intend to use browsers that do not support the File API!");
        qq.extend(this, new qq.FormUploadHandler({
            options: {
                isCors: !1,
                inputName: "file"
            },
            proxy: {
                onCancel: e.onCancel,
                onUuidChanged: u,
                getName: l,
                getUuid: c,
                log: d
            }
        })), qq.extend(this, {
            uploadFile: function(e) {
                var t = l(e),
                    n = new qq.Promise;
                return s.getThirdPartyFileId(e) ? s._getFileState(e).bucket ? r(e).then(n.success, n.failure) : p(e).then(function(t) {
                    s._getFileState(e).bucket = t, r(e).then(n.success, n.failure)
                }) : h(e, t).then(function(t) {
                    p(e).then(function(i) {
                        s._getFileState(e).bucket = i, s._setThirdPartyFileId(e, t), r(e).then(n.success, n.failure)
                    }, function(e) {
                        n.failure({
                            error: e
                        })
                    })
                }, function(e) {
                    n.failure({
                        error: e
                    })
                }), n
            }
        })
    },
    function() {
        "use strict";
        qq.s3.FineUploader = function(e) {
            var t = {
                failedUploadTextDisplay: {
                    mode: "custom"
                }
            };
            qq.extend(t, e, !0), qq.FineUploader.call(this, t, "s3"), qq.supportedFeatures.ajaxUploading || void 0 !== t.iframeSupport.localBlankPagePath || (this._options.element.innerHTML = "<div>You MUST set the <code>localBlankPagePath</code> property of the <code>iframeSupport</code> option since this browser does not support the File API!</div>")
        }, qq.extend(qq.s3.FineUploader.prototype, qq.s3.FineUploaderBasic.prototype), qq.extend(qq.s3.FineUploader.prototype, qq.uiPublicApi), qq.extend(qq.s3.FineUploader.prototype, qq.uiPrivateApi)
    }(), qq.PasteSupport = function(e) {
        "use strict";

        function t(e) {
            return e.type && 0 === e.type.indexOf("image/")
        }

        function n() {
            r = qq(o.targetElement).attach("paste", function(e) {
                var n = e.clipboardData;
                n && qq.each(n.items, function(e, n) {
                    if (t(n)) {
                        var i = n.getAsFile();
                        o.callbacks.pasteReceived(i)
                    }
                })
            })
        }

        function i() {
            r && r()
        }
        var o, r;
        o = {
            targetElement: null,
            callbacks: {
                log: function(e, t) {},
                pasteReceived: function(e) {}
            }
        }, qq.extend(o, e), n(), qq.extend(this, {
            reset: function() {
                i()
            }
        })
    }, qq.DragAndDrop = function(e) {
        "use strict";

        function t(e, t) {
            var n = Array.prototype.slice.call(e);
            l.callbacks.dropLog("Grabbed " + e.length + " dropped files."), t.dropDisabled(!1), l.callbacks.processingDroppedFilesComplete(n, t.getElement())
        }

        function n(e) {
            var t = new qq.Promise;
            return e.isFile ? e.file(function(n) {
                var i = e.name,
                    o = e.fullPath,
                    r = o.indexOf(i);
                o = o.substr(0, r), "/" === o.charAt(0) && (o = o.substr(1)), n.qqPath = o, h.push(n), t.success()
            }, function(n) {
                l.callbacks.dropLog("Problem parsing '" + e.fullPath + "'.  FileError code " + n.code + ".", "error"), t.failure()
            }) : e.isDirectory && i(e).then(function(e) {
                var i = e.length;
                qq.each(e, function(e, o) {
                    n(o).done(function() {
                        i -= 1, 0 === i && t.success()
                    })
                }), e.length || t.success()
            }, function(n) {
                l.callbacks.dropLog("Problem parsing '" + e.fullPath + "'.  FileError code " + n.code + ".", "error"), t.failure()
            }), t
        }

        function i(e, t, n, o) {
            var r = o || new qq.Promise,
                a = t || e.createReader();
            return a.readEntries(function(t) {
                var o = n ? n.concat(t) : t;
                t.length ? setTimeout(function() {
                    i(e, a, o, r)
                }, 0) : r.success(o)
            }, r.failure), r
        }

        function o(e, t) {
            var i = [],
                o = new qq.Promise;
            return l.callbacks.processingDroppedFiles(), t.dropDisabled(!0), e.files.length > 1 && !l.allowMultipleItems ? (l.callbacks.processingDroppedFilesComplete([]), l.callbacks.dropError("tooManyFilesError", ""), t.dropDisabled(!1), o.failure()) : (h = [], qq.isFolderDropSupported(e) ? qq.each(e.items, function(e, t) {
                var r = t.webkitGetAsEntry();
                r && (r.isFile ? h.push(t.getAsFile()) : i.push(n(r).done(function() {
                    i.pop(), 0 === i.length && o.success()
                })))
            }) : h = e.files, 0 === i.length && o.success()), o
        }

        function r(e) {
            var n = new qq.UploadDropZone({
                HIDE_ZONES_EVENT_NAME: c,
                element: e,
                onEnter: function(t) {
                    qq(e).addClass(l.classes.dropActive), t.stopPropagation()
                },
                onLeaveNotDescendants: function(t) {
                    qq(e).removeClass(l.classes.dropActive)
                },
                onDrop: function(e) {
                    o(e.dataTransfer, n).then(function() {
                        t(h, n)
                    }, function() {
                        l.callbacks.dropLog("Drop event DataTransfer parsing failed.  No files will be uploaded.", "error")
                    })
                }
            });
            return f.addDisposer(function() {
                n.dispose()
            }), qq(e).hasAttribute(d) && qq(e).hide(), p.push(n), n
        }

        function a(e) {
            var t;
            return qq.each(e.dataTransfer.types, function(e, n) {
                if ("Files" === n) return t = !0, !1
            }), t
        }

        function s(e) {
            return qq.firefox() ? !e.relatedTarget : qq.safari() ? e.x < 0 || e.y < 0 : 0 === e.x && 0 === e.y
        }

        function u() {
            var e = l.dropZoneElements,
                t = function() {
                    setTimeout(function() {
                        qq.each(e, function(e, t) {
                            qq(t).hasAttribute(d) && qq(t).hide(), qq(t).removeClass(l.classes.dropActive)
                        })
                    }, 10)
                };
            qq.each(e, function(t, n) {
                var i = r(n);
                e.length && qq.supportedFeatures.fileDrop && f.attach(document, "dragenter", function(t) {
                    !i.dropDisabled() && a(t) && qq.each(e, function(e, t) {
                        t instanceof HTMLElement && qq(t).hasAttribute(d) && qq(t).css({
                            display: "block"
                        })
                    })
                })
            }), f.attach(document, "dragleave", function(e) {
                s(e) && t()
            }), f.attach(qq(document).children()[0], "mouseenter", function(e) {
                t()
            }), f.attach(document, "drop", function(e) {
                e.preventDefault(), t()
            }), f.attach(document, c, t)
        }
        var l, c = "qq-hidezones",
            d = "qq-hide-dropzone",
            p = [],
            h = [],
            f = new qq.DisposeSupport;
        l = {
            dropZoneElements: [],
            allowMultipleItems: !0,
            classes: {
                dropActive: null
            },
            callbacks: new qq.DragAndDrop.callbacks
        }, qq.extend(l, e, !0), u(), qq.extend(this, {
            setupExtraDropzone: function(e) {
                l.dropZoneElements.push(e), r(e)
            },
            removeDropzone: function(e) {
                var t, n = l.dropZoneElements;
                for (t in n)
                    if (n[t] === e) return n.splice(t, 1)
            },
            dispose: function() {
                f.dispose(), qq.each(p, function(e, t) {
                    t.dispose()
                })
            }
        })
    }, qq.DragAndDrop.callbacks = function() {
        "use strict";
        return {
            processingDroppedFiles: function() {},
            processingDroppedFilesComplete: function(e, t) {},
            dropError: function(e, t) {
                qq.log("Drag & drop error code '" + e + " with these specifics: '" + t + "'", "error")
            },
            dropLog: function(e, t) {
                qq.log(e, t)
            }
        }
    }, qq.UploadDropZone = function(e) {
        "use strict";

        function t() {
            return qq.safari() || qq.firefox() && qq.windows()
        }

        function n(e) {
            c || (t ? d.attach(document, "dragover", function(e) {
                e.preventDefault()
            }) : d.attach(document, "dragover", function(e) {
                e.dataTransfer && (e.dataTransfer.dropEffect = "none", e.preventDefault())
            }), c = !0)
        }

        function i(e) {
            if (!qq.supportedFeatures.fileDrop) return !1;
            var t, n = e.dataTransfer,
                i = qq.safari();
            return t = !(!qq.ie() || !qq.supportedFeatures.fileDrop) || "none" !== n.effectAllowed, n && t && (n.files || !i && n.types.contains && n.types.contains("Files"))
        }

        function o(e) {
            return void 0 !== e && (l = e), l
        }

        function r() {
            function e() {
                t = document.createEvent("Event"), t.initEvent(s.HIDE_ZONES_EVENT_NAME, !0, !0)
            }
            var t;
            if (window.CustomEvent) try {
                t = new CustomEvent(s.HIDE_ZONES_EVENT_NAME)
            } catch (n) {
                e()
            } else e();
            document.dispatchEvent(t)
        }

        function a() {
            d.attach(u, "dragover", function(e) {
                if (i(e)) {
                    var t = qq.ie() && qq.supportedFeatures.fileDrop ? null : e.dataTransfer.effectAllowed;
                    "move" === t || "linkMove" === t ? e.dataTransfer.dropEffect = "move" : e.dataTransfer.dropEffect = "copy", e.stopPropagation(), e.preventDefault()
                }
            }), d.attach(u, "dragenter", function(e) {
                if (!o()) {
                    if (!i(e)) return;
                    s.onEnter(e)
                }
            }), d.attach(u, "dragleave", function(e) {
                if (i(e)) {
                    s.onLeave(e);
                    var t = document.elementFromPoint(e.clientX, e.clientY);
                    qq(this).contains(t) || s.onLeaveNotDescendants(e)
                }
            }), d.attach(u, "drop", function(e) {
                if (!o()) {
                    if (!i(e)) return;
                    e.preventDefault(), e.stopPropagation(), s.onDrop(e), r()
                }
            })
        }
        var s, u, l, c, d = new qq.DisposeSupport;
        s = {
            element: null,
            onEnter: function(e) {},
            onLeave: function(e) {},
            onLeaveNotDescendants: function(e) {},
            onDrop: function(e) {}
        }, qq.extend(s, e), u = s.element, n(), a(), qq.extend(this, {
            dropDisabled: function(e) {
                return o(e)
            },
            dispose: function() {
                d.dispose()
            },
            getElement: function() {
                return u
            }
        })
    }, qq.DeleteFileAjaxRequester = function(e) {
        "use strict";

        function t() {
            return "POST" === i.method.toUpperCase() ? {
                _method: "DELETE"
            } : {}
        }
        var n, i = {
            method: "DELETE",
            uuidParamName: "qquuid",
            endpointStore: {},
            maxConnections: 3,
            customHeaders: function(e) {
                return {}
            },
            paramsStore: {},
            cors: {
                expected: !1,
                sendCredentials: !1
            },
            log: function(e, t) {},
            onDelete: function(e) {},
            onDeleteComplete: function(e, t, n) {}
        };
        qq.extend(i, e), n = qq.extend(this, new qq.AjaxRequester({
            acceptHeader: "application/json",
            validMethods: ["POST", "DELETE"],
            method: i.method,
            endpointStore: i.endpointStore,
            paramsStore: i.paramsStore,
            mandatedParams: t(),
            maxConnections: i.maxConnections,
            customHeaders: function(e) {
                return i.customHeaders.get(e)
            },
            log: i.log,
            onSend: i.onDelete,
            onComplete: i.onDeleteComplete,
            cors: i.cors
        })), qq.extend(this, {
            sendDelete: function(e, t, o) {
                var r = o || {};
                i.log("Submitting delete file request for " + e), "DELETE" === i.method ? n.initTransport(e).withPath(t).withParams(r).send() : (r[i.uuidParamName] = t, n.initTransport(e).withParams(r).send())
            }
        })
    },
    function() {
        function e(e) {
            var t, n = e.naturalWidth,
                i = e.naturalHeight,
                o = document.createElement("canvas");
            return n * i > 1048576 && (o.width = o.height = 1, t = o.getContext("2d"), t.drawImage(e, -n + 1, 0), 0 === t.getImageData(0, 0, 1, 1).data[3])
        }

        function t(e, t, n) {
            var i, o, r, a, s = document.createElement("canvas"),
                u = 0,
                l = n,
                c = n;
            for (s.width = 1, s.height = n, i = s.getContext("2d"), i.drawImage(e, 0, 0), o = i.getImageData(0, 0, 1, n).data; c > u;) r = o[4 * (c - 1) + 3], 0 === r ? l = c : u = c, c = l + u >> 1;
            return a = c / n, 0 === a ? 1 : a
        }

        function n(e, t, n) {
            var i = document.createElement("canvas"),
                r = t.mime || "image/jpeg";
            return o(e, i, t, n), i.toDataURL(r, t.quality || .8)
        }

        function i(e) {
            var t = 5241e3;
            if (!qq.ios()) throw new qq.Error("Downsampled dimensions can only be reliably calculated for iOS!");
            if (e.origHeight * e.origWidth > t) return {
                newHeight: Math.round(Math.sqrt(t * (e.origHeight / e.origWidth))),
                newWidth: Math.round(Math.sqrt(t * (e.origWidth / e.origHeight)))
            }
        }

        function o(n, o, a, s) {
            var u, l = n.naturalWidth,
                c = n.naturalHeight,
                d = a.width,
                p = a.height,
                h = o.getContext("2d");
            h.save(), qq.supportedFeatures.unlimitedScaledImageSize || (u = i({
                origWidth: d,
                origHeight: p
            }), u && (qq.log(qq.format("Had to reduce dimensions due to device limitations from {}w / {}h to {}w / {}h", d, p, u.newWidth, u.newHeight), "warn"), d = u.newWidth, p = u.newHeight)), r(o, d, p, a.orientation), qq.ios() ? ! function() {
                e(n) && (l /= 2, c /= 2);
                var i, o, r, a = 1024,
                    u = document.createElement("canvas"),
                    f = s ? t(n, l, c) : 1,
                    q = Math.ceil(a * d / l),
                    m = Math.ceil(a * p / c / f),
                    g = 0,
                    _ = 0;
                for (u.width = u.height = a, i = u.getContext("2d"); g < c;) {
                    for (o = 0, r = 0; o < l;) i.clearRect(0, 0, a, a), i.drawImage(n, -o, -g), h.drawImage(u, 0, 0, a, a, r, _, q, m), o += a, r += q;
                    g += a, _ += m
                }
                h.restore(), u = i = null
            }() : h.drawImage(n, 0, 0, d, p), o.qqImageRendered && o.qqImageRendered()
        }

        function r(e, t, n, i) {
            switch (i) {
                case 5:
                case 6:
                case 7:
                case 8:
                    e.width = n, e.height = t;
                    break;
                default:
                    e.width = t, e.height = n
            }
            var o = e.getContext("2d");
            switch (i) {
                case 2:
                    o.translate(t, 0), o.scale(-1, 1);
                    break;
                case 3:
                    o.translate(t, n), o.rotate(Math.PI);
                    break;
                case 4:
                    o.translate(0, n), o.scale(1, -1);
                    break;
                case 5:
                    o.rotate(.5 * Math.PI), o.scale(1, -1);
                    break;
                case 6:
                    o.rotate(.5 * Math.PI), o.translate(0, -n);
                    break;
                case 7:
                    o.rotate(.5 * Math.PI), o.translate(t, -n), o.scale(-1, 1);
                    break;
                case 8:
                    o.rotate(-.5 * Math.PI), o.translate(-t, 0)
            }
        }

        function a(e, t) {
            var n = this;
            window.Blob && e instanceof Blob && ! function() {
                var t = new Image,
                    i = window.URL && window.URL.createObjectURL ? window.URL : window.webkitURL && window.webkitURL.createObjectURL ? window.webkitURL : null;
                if (!i) throw Error("No createObjectURL function found to create blob url");
                t.src = i.createObjectURL(e), n.blob = e, e = t
            }(), e.naturalWidth || e.naturalHeight || (e.onload = function() {
                var e = n.imageLoadListeners;
                e && (n.imageLoadListeners = null, setTimeout(function() {
                    for (var t = 0, n = e.length; t < n; t++) e[t]()
                }, 0))
            }, e.onerror = t, this.imageLoadListeners = []), this.srcImage = e
        }
        a.prototype.render = function(e, t) {
            t = t || {};
            var i, r = this,
                a = this.srcImage.naturalWidth,
                s = this.srcImage.naturalHeight,
                u = t.width,
                l = t.height,
                c = t.maxWidth,
                d = t.maxHeight,
                p = !this.blob || "image/jpeg" === this.blob.type,
                h = e.tagName.toLowerCase();
            return this.imageLoadListeners ? void this.imageLoadListeners.push(function() {
                r.render(e, t)
            }) : (u && !l ? l = s * u / a << 0 : l && !u ? u = a * l / s << 0 : (u = a, l = s), c && u > c && (u = c, l = s * u / a << 0), d && l > d && (l = d, u = a * l / s << 0), i = {
                width: u,
                height: l
            }, qq.each(t, function(e, t) {
                i[e] = t
            }), "img" === h ? ! function() {
                var t = e.src;
                e.src = n(r.srcImage, i, p), t === e.src && e.onload()
            }() : "canvas" === h && o(this.srcImage, e, i, p), void("function" == typeof this.onrender && this.onrender(e)))
        }, qq.MegaPixImage = a
    }(), qq.ImageGenerator = function(e) {
        "use strict";

        function t(e) {
            return "img" === e.tagName.toLowerCase()
        }

        function n(e) {
            return "canvas" === e.tagName.toLowerCase()
        }

        function i() {
            return void 0 !== (new Image).crossOrigin
        }

        function o() {
            var e = document.createElement("canvas");
            return e.getContext && e.getContext("2d")
        }

        function r(e) {
            var t = e.split("/"),
                n = t[t.length - 1],
                i = qq.getExtension(n);
            switch (i = i && i.toLowerCase()) {
                case "jpeg":
                case "jpg":
                    return "image/jpeg";
                case "png":
                    return "image/png";
                case "bmp":
                    return "image/bmp";
                case "gif":
                    return "image/gif";
                case "tiff":
                case "tif":
                    return "image/tiff"
            }
        }

        function a(e) {
            var t, n, i, o = document.createElement("a");
            return o.href = e, t = o.protocol, i = o.port, n = o.hostname, t.toLowerCase() !== window.location.protocol.toLowerCase() || (n.toLowerCase() !== window.location.hostname.toLowerCase() || i !== window.location.port && !qq.ie())
        }

        function s(t, n) {
            t.onload = function() {
                t.onload = null, t.onerror = null, n.success(t)
            }, t.onerror = function() {
                t.onload = null, t.onerror = null, e("Problem drawing thumbnail!", "error"), n.failure(t, "Problem drawing thumbnail!")
            }
        }

        function u(e, t) {
            e.qqImageRendered = function() {
                t.success(e)
            }
        }

        function l(i, o) {
            var r = t(i) || n(i);
            return t(i) ? s(i, o) : n(i) ? u(i, o) : (o.failure(i), e(qq.format("Element container of type {} is not supported!", i.tagName), "error")), r
        }

        function c(t, n, i) {
            var o = new qq.Promise,
                r = new qq.Identify(t, e),
                a = i.maxSize,
                s = null == i.orient || i.orient,
                u = function() {
                    n.onerror = null, n.onload = null, e("Could not render preview, file may be too large!", "error"), o.failure(n, "Browser cannot render image!")
                };
            return r.isPreviewable().then(function(i) {
                var r = {
                        parse: function() {
                            return (new qq.Promise).success()
                        }
                    },
                    c = s ? new qq.Exif(t, e) : r,
                    d = new qq.MegaPixImage(t, u);
                l(n, o) && c.parse().then(function(e) {
                    var t = e && e.Orientation;
                    d.render(n, {
                        maxWidth: a,
                        maxHeight: a,
                        orientation: t,
                        mime: i
                    })
                }, function(t) {
                    e(qq.format("EXIF data could not be parsed ({}).  Assuming orientation = 1.", t)), d.render(n, {
                        maxWidth: a,
                        maxHeight: a,
                        mime: i
                    })
                })
            }, function() {
                e("Not previewable"), o.failure(n, "Not previewable")
            }), o
        }

        function d(e, t, n, i) {
            var o = new Image,
                s = new qq.Promise;
            l(o, s), a(e) && (o.crossOrigin = "anonymous"), o.src = e, s.then(function() {
                l(t, n);
                var a = new qq.MegaPixImage(o);
                a.render(t, {
                    maxWidth: i,
                    maxHeight: i,
                    mime: r(e)
                })
            }, n.failure)
        }

        function p(e, t, n, i) {
            l(t, n), qq(t).css({
                maxWidth: i + "px",
                maxHeight: i + "px"
            }), t.src = e
        }

        function h(e, r, s) {
            var u = new qq.Promise,
                c = s.scale,
                h = c ? s.maxSize : null;
            return c && t(r) ? o() ? a(e) && !i() ? p(e, r, u, h) : d(e, r, u, h) : p(e, r, u, h) : n(r) ? d(e, r, u, h) : l(r, u) && (r.src = e), u
        }
        qq.extend(this, {
            generate: function(t, n, i) {
                return qq.isString(t) ? (e("Attempting to update thumbnail based on server response."), h(t, n, i || {})) : (e("Attempting to draw client-side image preview."), c(t, n, i || {}))
            }
        })
    }, qq.Exif = function(e, t) {
        "use strict";

        function n(e) {
            for (var t = 0, n = 0; e.length > 0;) t += parseInt(e.substring(0, 2), 16) * Math.pow(2, n), e = e.substring(2, e.length), n += 8;
            return t
        }

        function i(t, n) {
            var o = t,
                r = n;
            return void 0 === o && (o = 2, r = new qq.Promise), qq.readBlobToHex(e, o, 4).then(function(e) {
                var t, n = /^ffe([0-9])/.exec(e);
                n ? "1" !== n[1] ? (t = parseInt(e.slice(4, 8), 16), i(o + t + 2, r)) : r.success(o) : r.failure("No EXIF header to be found!")
            }), r
        }

        function o() {
            var t = new qq.Promise;
            return qq.readBlobToHex(e, 0, 6).then(function(e) {
                0 !== e.indexOf("ffd8") ? t.failure("Not a valid JPEG!") : i().then(function(e) {
                    t.success(e)
                }, function(e) {
                    t.failure(e)
                })
            }), t
        }

        function r(t) {
            var n = new qq.Promise;
            return qq.readBlobToHex(e, t + 10, 2).then(function(e) {
                n.success("4949" === e)
            }), n
        }

        function a(t, i) {
            var o = new qq.Promise;
            return qq.readBlobToHex(e, t + 18, 2).then(function(e) {
                return i ? o.success(n(e)) : void o.success(parseInt(e, 16))
            }), o
        }

        function s(t, n) {
            var i = t + 20,
                o = 12 * n;
            return qq.readBlobToHex(e, i, o)
        }

        function u(e) {
            for (var t = [], n = 0; n + 24 <= e.length;) t.push(e.slice(n, n + 24)), n += 24;
            return t
        }

        function l(e, t) {
            var i = 16,
                o = qq.extend([], c),
                r = {};
            return qq.each(t, function(t, a) {
                var s, u, l, c = a.slice(0, 4),
                    p = e ? n(c) : parseInt(c, 16),
                    h = o.indexOf(p);
                if (h >= 0 && (u = d[p].name, l = d[p].bytes, s = a.slice(i, i + 2 * l), r[u] = e ? n(s) : parseInt(s, 16), o.splice(h, 1)), 0 === o.length) return !1
            }), r
        }
        var c = [274],
            d = {
                274: {
                    name: "Orientation",
                    bytes: 2
                }
            };
        qq.extend(this, {
            parse: function() {
                var n = new qq.Promise,
                    i = function(e) {
                        t(qq.format("EXIF header parse failed: '{}' ", e)), n.failure(e)
                    };
                return o().then(function(o) {
                    t(qq.format("Moving forward with EXIF header parsing for '{}'", void 0 === e.name ? "blob" : e.name)), r(o).then(function(e) {
                        t(qq.format("EXIF Byte order is {} endian", e ? "little" : "big")), a(o, e).then(function(r) {
                            t(qq.format("Found {} APP1 directory entries", r)), s(o, r).then(function(i) {
                                var o = u(i),
                                    r = l(e, o);
                                t("Successfully parsed some EXIF tags"), n.success(r)
                            }, i)
                        }, i)
                    }, i)
                }, i), n
            }
        })
    }, qq.Identify = function(e, t) {
        "use strict";

        function n(e, t) {
            var n = !1,
                i = [].concat(e);
            return qq.each(i, function(e, i) {
                if (0 === t.indexOf(i)) return n = !0, !1
            }), n
        }
        qq.extend(this, {
            isPreviewable: function() {
                var i = this,
                    o = new qq.Promise,
                    r = !1,
                    a = void 0 === e.name ? "blob" : e.name;
                return t(qq.format("Attempting to determine if {} can be rendered in this browser", a)), t("First pass: check type attribute of blob object."), this.isPreviewableSync() ? (t("Second pass: check for magic bytes in file header."), qq.readBlobToHex(e, 0, 4).then(function(e) {
                    qq.each(i.PREVIEWABLE_MIME_TYPES, function(t, i) {
                        if (n(i, e)) return ("image/tiff" !== t || qq.supportedFeatures.tiffPreviews) && (r = !0, o.success(t)), !1
                    }), t(qq.format("'{}' is {} able to be rendered in this browser", a, r ? "" : "NOT")), r || o.failure()
                }, function() {
                    t("Error reading file w/ name '" + a + "'.  Not able to be rendered in this browser."), o.failure()
                })) : o.failure(), o
            },
            isPreviewableSync: function() {
                var n = e.type,
                    i = qq.indexOf(Object.keys(this.PREVIEWABLE_MIME_TYPES), n) >= 0,
                    o = !1,
                    r = void 0 === e.name ? "blob" : e.name;
                return i && (o = "image/tiff" !== n || qq.supportedFeatures.tiffPreviews), !o && t(r + " is not previewable in this browser per the blob's type attr"), o
            }
        })
    }, qq.Identify.prototype.PREVIEWABLE_MIME_TYPES = {
        "image/jpeg": "ffd8ff",
        "image/gif": "474946",
        "image/png": "89504e",
        "image/bmp": "424d",
        "image/tiff": ["49492a00", "4d4d002a"]
    }, qq.ImageValidation = function(e, t) {
        "use strict";

        function n(e) {
            var t = !1;
            return qq.each(e, function(e, n) {
                if (n > 0) return t = !0, !1
            }), t
        }

        function i() {
            var n = new qq.Promise;
            return new qq.Identify(e, t).isPreviewable().then(function() {
                var i = new Image,
                    o = window.URL && window.URL.createObjectURL ? window.URL : window.webkitURL && window.webkitURL.createObjectURL ? window.webkitURL : null;
                o ? (i.onerror = function() {
                    t("Cannot determine dimensions for image.  May be too large.", "error"), n.failure()
                }, i.onload = function() {
                    n.success({
                        width: this.width,
                        height: this.height
                    })
                }, i.src = o.createObjectURL(e)) : (t("No createObjectURL function available to generate image URL!", "error"), n.failure())
            }, n.failure), n
        }

        function o(e, t) {
            var n;
            return qq.each(e, function(e, i) {
                if (i > 0) {
                    var o = /(max|min)(Width|Height)/.exec(e),
                        r = o[2].charAt(0).toLowerCase() + o[2].slice(1),
                        a = t[r];
                    switch (o[1]) {
                        case "min":
                            if (a < i) return n = e, !1;
                            break;
                        case "max":
                            if (a > i) return n = e, !1
                    }
                }
            }), n
        }
        this.validate = function(e) {
            var r = new qq.Promise;
            return t("Attempting to validate image."), n(e) ? i().then(function(t) {
                var n = o(e, t);
                n ? r.failure(n) : r.success()
            }, r.success) : r.success(), r
        }
    }, qq.Session = function(e) {
        "use strict";

        function t(e) {
            return !!qq.isArray(e) || void i.log("Session response is not an array.", "error")
        }

        function n(e, n, o, r) {
            var a = !1;
            n = n && t(e), n && qq.each(e, function(e, t) {
                if (null == t.uuid) a = !0, i.log(qq.format("Session response item {} did not include a valid UUID - ignoring.", e), "error");
                else if (null == t.name) a = !0, i.log(qq.format("Session response item {} did not include a valid name - ignoring.", e), "error");
                else try {
                    return i.addFileRecord(t), !0
                } catch (n) {
                    a = !0, i.log(n.message, "error")
                }
                return !1
            }), r[n && !a ? "success" : "failure"](e, o)
        }
        var i = {
            endpoint: null,
            params: {},
            customHeaders: {},
            cors: {},
            addFileRecord: function(e) {},
            log: function(e, t) {}
        };
        qq.extend(i, e, !0), this.refresh = function() {
            var e = new qq.Promise,
                t = function(t, i, o) {
                    n(t, i, o, e)
                },
                o = qq.extend({}, i),
                r = new qq.SessionAjaxRequester(qq.extend(o, {
                    onComplete: t
                }));
            return r.queryServer(), e
        }
    }, qq.SessionAjaxRequester = function(e) {
        "use strict";

        function t(e, t, n) {
            var o = null;
            if (null != t.responseText) try {
                o = qq.parseJson(t.responseText)
            } catch (r) {
                i.log("Problem parsing session response: " + r.message, "error"), n = !0
            }
            i.onComplete(o, !n, t)
        }
        var n, i = {
            endpoint: null,
            customHeaders: {},
            params: {},
            cors: {
                expected: !1,
                sendCredentials: !1
            },
            onComplete: function(e, t, n) {},
            log: function(e, t) {}
        };
        qq.extend(i, e), n = qq.extend(this, new qq.AjaxRequester({
            acceptHeader: "application/json",
            validMethods: ["GET"],
            method: "GET",
            endpointStore: {
                get: function() {
                    return i.endpoint
                }
            },
            customHeaders: i.customHeaders,
            log: i.log,
            onComplete: t,
            cors: i.cors
        })), qq.extend(this, {
            queryServer: function() {
                var e = qq.extend({}, i.params);
                i.log("Session query request."), n.initTransport("sessionRefresh").withParams(e).withCacheBuster().send()
            }
        })
    }, qq.FormSupport = function(e, t, n) {
        "use strict";

        function i(e) {
            e.getAttribute("action") && (s.newEndpoint = e.getAttribute("action"))
        }

        function o(e, t) {
            return !(e.checkValidity && !e.checkValidity()) || (n("Form did not pass validation checks - will not upload.", "error"), void t())
        }

        function r(e) {
            var n = e.submit;
            qq(e).attach("submit", function(i) {
                i = i || window.event, i.preventDefault ? i.preventDefault() : i.returnValue = !1, o(e, n) && t()
            }), e.submit = function() {
                o(e, n) && t()
            }
        }

        function a(e) {
            return e && (qq.isString(e) && (e = document.getElementById(e)), e && (n("Attaching to form element."), i(e), u && r(e))), e
        }
        var s = this,
            u = e.interceptSubmit,
            l = e.element,
            c = e.autoUpload;
        qq.extend(this, {
            newEndpoint: null,
            newAutoUpload: c,
            attachedToForm: !1,
            getFormInputsAsObject: function() {
                return null == l ? null : s._form2Obj(l)
            }
        }), l = a(l), this.attachedToForm = !!l
    }, qq.extend(qq.FormSupport.prototype, {
        _form2Obj: function(e) {
            "use strict";
            var t = {},
                n = function(e) {
                    var t = ["button", "image", "reset", "submit"];
                    return qq.indexOf(t, e.toLowerCase()) < 0
                },
                i = function(e) {
                    return qq.indexOf(["checkbox", "radio"], e.toLowerCase()) >= 0
                },
                o = function(e) {
                    return !(!i(e.type) || e.checked) || e.disabled && "hidden" !== e.type.toLowerCase()
                },
                r = function(e) {
                    var t = null;
                    return qq.each(qq(e).children(), function(e, n) {
                        if ("option" === n.tagName.toLowerCase() && n.selected) return t = n.value, !1
                    }), t
                };
            return qq.each(e.elements, function(e, i) {
                if (!qq.isInput(i, !0) && "textarea" !== i.tagName.toLowerCase() || !n(i.type) || o(i)) {
                    if ("select" === i.tagName.toLowerCase() && !o(i)) {
                        var a = r(i);
                        null !== a && (t[i.name] = a)
                    }
                } else t[i.name] = i.value
            }), t
        }
    }), qq.Scaler = function(e, t) {
        "use strict";
        var n = e.sendOriginal,
            i = e.orient,
            o = e.defaultType,
            r = e.defaultQuality / 100,
            a = e.failureText,
            s = e.includeExif,
            u = this._getSortedSizes(e.sizes);
        qq.extend(this, {
            enabled: qq.supportedFeatures.scaling && u.length > 0,
            getFileRecords: function(e, l, c) {
                var d = this,
                    p = [],
                    h = c.blob ? c.blob : c,
                    f = new qq.Identify(h, t);
                return f.isPreviewableSync() ? (qq.each(u, function(e, n) {
                    var u = d._determineOutputType({
                        defaultType: o,
                        requestedType: n.type,
                        refType: h.type
                    });
                    p.push({
                        uuid: qq.getUniqueId(),
                        name: d._getName(l, {
                            name: n.name,
                            type: u,
                            refType: h.type
                        }),
                        blob: new qq.BlobProxy(h, qq.bind(d._generateScaledImage, d, {
                            maxSize: n.maxSize,
                            orient: i,
                            type: u,
                            quality: r,
                            failedText: a,
                            includeExif: s,
                            log: t
                        }))
                    })
                }), p.push({
                    uuid: e,
                    name: l,
                    size: h.size,
                    blob: n ? h : null
                })) : p.push({
                    uuid: e,
                    name: l,
                    size: h.size,
                    blob: h
                }), p
            },
            handleNewFile: function(e, t, n, i, o, r, a, s) {
                var u = this,
                    l = (e.qqButtonId || e.blob && e.blob.qqButtonId, []),
                    c = null,
                    d = s.addFileToHandler,
                    p = s.uploadData,
                    h = s.paramsStore,
                    f = qq.getUniqueId();
                qq.each(u.getFileRecords(n, t, e), function(e, t) {
                    var n, i = t.size;
                    t.blob instanceof qq.BlobProxy && (i = -1), n = p.addFile({
                        uuid: t.uuid,
                        name: t.name,
                        size: i,
                        batchId: r,
                        proxyGroupId: f
                    }), t.blob instanceof qq.BlobProxy ? l.push(n) : c = n, t.blob ? (d(n, t.blob), o.push({
                        id: n,
                        file: t.blob
                    })) : p.setStatus(n, qq.status.REJECTED)
                }), null !== c && (qq.each(l, function(e, t) {
                    var n = {
                        qqparentuuid: p.retrieve({
                            id: c
                        }).uuid,
                        qqparentsize: p.retrieve({
                            id: c
                        }).size
                    };
                    n[a] = p.retrieve({
                        id: t
                    }).uuid, p.setParentId(t, c), h.addReadOnly(t, n)
                }), l.length && ! function() {
                    var e = {};
                    e[a] = p.retrieve({
                        id: c
                    }).uuid, h.addReadOnly(c, e)
                }())
            }
        })
    }, qq.extend(qq.Scaler.prototype, {
        scaleImage: function(e, t, n) {
            "use strict";
            if (!qq.supportedFeatures.scaling) throw new qq.Error("Scaling is not supported in this browser!");
            var i = new qq.Promise,
                o = n.log,
                r = n.getFile(e),
                a = n.uploadData.retrieve({
                    id: e
                }),
                s = a && a.name,
                u = a && a.uuid,
                l = {
                    sendOriginal: !1,
                    orient: t.orient,
                    defaultType: t.type || null,
                    defaultQuality: t.quality,
                    failedToScaleText: "Unable to scale",
                    sizes: [{
                        name: "",
                        maxSize: t.maxSize
                    }]
                },
                c = new qq.Scaler(l, o);
            return qq.Scaler && qq.supportedFeatures.imagePreviews && r ? qq.bind(function() {
                var t = c.getFileRecords(u, s, r)[0];
                t && t.blob instanceof qq.BlobProxy ? t.blob.create().then(i.success, i.failure) : (o(e + " is not a scalable image!", "error"), i.failure())
            }, this)() : (i.failure(), o("Could not generate requested scaled image for " + e + ".  Scaling is either not possible in this browser, or the file could not be located.", "error")), i
        },
        _determineOutputType: function(e) {
            "use strict";
            var t = e.requestedType,
                n = e.defaultType,
                i = e.refType;
            return n || t ? t && qq.indexOf(Object.keys(qq.Identify.prototype.PREVIEWABLE_MIME_TYPES), t) >= 0 ? "image/tiff" === t ? qq.supportedFeatures.tiffPreviews ? t : n : t : n : "image/jpeg" !== i ? "image/png" : i
        },
        _getName: function(e, t) {
            "use strict";
            var n = e.lastIndexOf("."),
                i = t.type || "image/png",
                o = t.refType,
                r = "",
                a = qq.getExtension(e),
                s = "";
            return t.name && t.name.trim().length && (s = " (" + t.name + ")"), n >= 0 ? (r = e.substr(0, n), o !== i && (a = i.split("/")[1]), r += s + "." + a) : r = e + s, r
        },
        _getSortedSizes: function(e) {
            "use strict";
            return e = qq.extend([], e), e.sort(function(e, t) {
                return e.maxSize > t.maxSize ? 1 : e.maxSize < t.maxSize ? -1 : 0
            })
        },
        _generateScaledImage: function(e, t) {
            "use strict";
            var n = this,
                i = e.log,
                o = e.maxSize,
                r = e.orient,
                a = e.type,
                s = e.quality,
                u = e.failedText,
                l = e.includeExif && "image/jpeg" === t.type && "image/jpeg" === a,
                c = new qq.Promise,
                d = new qq.ImageGenerator(i),
                p = document.createElement("canvas");
            return i("Attempting to generate scaled version for " + t.name), d.generate(t, p, {
                maxSize: o,
                orient: r
            }).then(function() {
                var e = p.toDataURL(a, s),
                    o = function() {
                        i("Success generating scaled version for " + t.name);
                        var n = qq.dataUriToBlob(e);
                        c.success(n)
                    };
                l ? n._insertExifHeader(t, e, i).then(function(t) {
                    e = t, o()
                }, function() {
                    i("Problem inserting EXIF header into scaled image.  Using scaled image w/out EXIF data.", "error"), o()
                }) : o()
            }, function() {
                i("Failed attempt to generate scaled version for " + t.name, "error"), c.failure(u)
            }), c
        },
        _insertExifHeader: function(e, t, n) {
            "use strict";
            var i = new FileReader,
                o = new qq.Promise,
                r = "";
            return i.onload = function() {
                r = i.result, o.success(ExifRestorer.restore(r, t))
            }, i.onerror = function() {
                n("Problem reading " + e.name + " during attempt to transfer EXIF data to scaled version.", "error"), o.failure()
            }, i.readAsDataURL(e), o
        },
        _dataUriToBlob: function(e) {
            "use strict";
            var t, n, i, o;
            return t = e.split(",")[0].indexOf("base64") >= 0 ? atob(e.split(",")[1]) : decodeURI(e.split(",")[1]), n = e.split(",")[0].split(":")[1].split(";")[0], i = new ArrayBuffer(t.length), o = new Uint8Array(i), qq.each(t, function(e, t) {
                o[e] = t.charCodeAt(0)
            }), this._createBlob(i, n)
        },
        _createBlob: function(e, t) {
            "use strict";
            var n = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder,
                i = n && new n;
            return i ? (i.append(e), i.getBlob(t)) : new Blob([e], {
                type: t
            })
        }
    });
var ExifRestorer = function() {
    var e = {};
    return e.KEY_STR = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", e.encode64 = function(e) {
        var t, n, i, o, r, a = "",
            s = "",
            u = "",
            l = 0;
        do t = e[l++], n = e[l++], s = e[l++], i = t >> 2, o = (3 & t) << 4 | n >> 4, r = (15 & n) << 2 | s >> 6, u = 63 & s, isNaN(n) ? r = u = 64 : isNaN(s) && (u = 64), a = a + this.KEY_STR.charAt(i) + this.KEY_STR.charAt(o) + this.KEY_STR.charAt(r) + this.KEY_STR.charAt(u), t = n = s = "", i = o = r = u = ""; while (l < e.length);
        return a
    }, e.restore = function(e, t) {
        var n = "data:image/jpeg;base64,";
        if (!e.match(n)) return t;
        var i = this.decode64(e.replace(n, "")),
            o = this.slice2Segments(i),
            r = this.exifManipulation(t, o);
        return n + this.encode64(r)
    }, e.exifManipulation = function(e, t) {
        var n = this.getExifArray(t),
            i = this.insertExif(e, n),
            o = new Uint8Array(i);
        return o
    }, e.getExifArray = function(e) {
        for (var t, n = 0; n < e.length; n++)
            if (t = e[n], 255 == t[0] & 225 == t[1]) return t;
        return []
    }, e.insertExif = function(e, t) {
        var n = e.replace("data:image/jpeg;base64,", ""),
            i = this.decode64(n),
            o = i.indexOf(255, 3),
            r = i.slice(0, o),
            a = i.slice(o),
            s = r;
        return s = s.concat(t), s = s.concat(a)
    }, e.slice2Segments = function(e) {
        for (var t = 0, n = [];;) {
            if (255 == e[t] & 218 == e[t + 1]) break;
            if (255 == e[t] & 216 == e[t + 1]) t += 2;
            else {
                var i = 256 * e[t + 2] + e[t + 3],
                    o = t + i + 2,
                    r = e.slice(t, o);
                n.push(r), t = o
            }
            if (t > e.length) break
        }
        return n
    }, e.decode64 = function(e) {
        var t, n, i, o, r, a = "",
            s = "",
            u = 0,
            l = [],
            c = /[^A-Za-z0-9\+\/\=]/g;
        if (c.exec(e)) throw new Error("There were invalid base64 characters in the input text.  Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='");
        e = e.replace(/[^A-Za-z0-9\+\/\=]/g, "");
        do i = this.KEY_STR.indexOf(e.charAt(u++)), o = this.KEY_STR.indexOf(e.charAt(u++)), r = this.KEY_STR.indexOf(e.charAt(u++)), s = this.KEY_STR.indexOf(e.charAt(u++)), t = i << 2 | o >> 4, n = (15 & o) << 4 | r >> 2, a = (3 & r) << 6 | s, l.push(t), 64 != r && l.push(n), 64 != s && l.push(a), t = n = a = "", i = o = r = s = ""; while (u < e.length);
        return l
    }, e
}();
qq.TotalProgress = function(e, t) {
    "use strict";
    var n = {},
        i = 0,
        o = 0,
        r = -1,
        a = -1,
        s = function(t, n) {
            t === r && n === a || e(t, n), r = t, a = n
        },
        u = function(e, t) {
            var n = !0;
            return qq.each(e, function(e, i) {
                if (qq.indexOf(t, i) >= 0) return n = !1, !1
            }), n
        },
        l = function(e) {
            p(e, -1, -1), delete n[e]
        },
        c = function(e, t, n) {
            (0 === t.length || u(t, n)) && (s(o, o), this.reset())
        },
        d = function(e) {
            var i = t(e);
            i > 0 && (p(e, 0, i), n[e] = {
                loaded: 0,
                total: i
            })
        },
        p = function(e, t, r) {
            var a = n[e] ? n[e].loaded : 0,
                u = n[e] ? n[e].total : 0;
            t === -1 && r === -1 ? (i -= a, o -= u) : (t && (i += t - a), r && (o += r - u)), s(i, o)
        };
    qq.extend(this, {
        onAllComplete: c,
        onStatusChange: function(e, t, n) {
            n === qq.status.CANCELED || n === qq.status.REJECTED ? l(e) : n === qq.status.SUBMITTING && d(e)
        },
        onIndividualProgress: function(e, t, i) {
            p(e, t, i), n[e] = {
                loaded: t,
                total: i
            }
        },
        onNewSize: function(e) {
            d(e)
        },
        reset: function() {
            n = {}, i = 0, o = 0
        }
    })
}, qq.UiEventHandler = function(e, t) {
    "use strict";

    function n(e) {
        i.attach(e, o.eventType, function(e) {
            e = e || window.event;
            var t = e.target || e.srcElement;
            o.onHandled(t, e)
        })
    }
    var i = new qq.DisposeSupport,
        o = {
            eventType: "click",
            attachTo: null,
            onHandled: function(e, t) {}
        };
    qq.extend(this, {
        addHandler: function(e) {
            n(e)
        },
        dispose: function() {
            i.dispose()
        }
    }), qq.extend(t, {
        getFileIdFromItem: function(e) {
            return e.qqFileId
        },
        getDisposeSupport: function() {
            return i
        }
    }), qq.extend(o, e), o.attachTo && n(o.attachTo)
}, qq.FileButtonsClickHandler = function(e) {
    "use strict";

    function t(e, t) {
        qq.each(o, function(n, o) {
            var r, a = n.charAt(0).toUpperCase() + n.slice(1);
            if (i.templating["is" + a](e)) return r = i.templating.getFileId(e), qq.preventDefault(t), i.log(qq.format("Detected valid file button click event on file '{}', ID: {}.", i.onGetName(r), r)), o(r), !1
        })
    }
    var n = {},
        i = {
            templating: null,
            log: function(e, t) {},
            onDeleteFile: function(e) {},
            onCancel: function(e) {},
            onRetry: function(e) {},
            onPause: function(e) {},
            onContinue: function(e) {},
            onGetName: function(e) {}
        },
        o = {
            cancel: function(e) {
                i.onCancel(e)
            },
            retry: function(e) {
                i.onRetry(e)
            },
            deleteButton: function(e) {
                i.onDeleteFile(e)
            },
            pause: function(e) {
                i.onPause(e)
            },
            continueButton: function(e) {
                i.onContinue(e)
            }
        };
    qq.extend(i, e), i.eventType = "click", i.onHandled = t, i.attachTo = i.templating.getFileList(), qq.extend(this, new qq.UiEventHandler(i, n))
}, qq.FilenameClickHandler = function(e) {
    "use strict";

    function t(e, t) {
        if (i.templating.isFileName(e) || i.templating.isEditIcon(e)) {
            var o = i.templating.getFileId(e),
                r = i.onGetUploadStatus(o);
            r === qq.status.SUBMITTED && (i.log(qq.format("Detected valid filename click event on file '{}', ID: {}.", i.onGetName(o), o)), qq.preventDefault(t), n.handleFilenameEdit(o, e, !0))
        }
    }
    var n = {},
        i = {
            templating: null,
            log: function(e, t) {},
            classes: {
                file: "qq-upload-file",
                editNameIcon: "qq-edit-filename-icon"
            },
            onGetUploadStatus: function(e) {},
            onGetName: function(e) {}
        };
    qq.extend(i, e), i.eventType = "click", i.onHandled = t, qq.extend(this, new qq.FilenameEditHandler(i, n))
}, qq.FilenameInputFocusInHandler = function(e, t) {
    "use strict";

    function n(e, n) {
        if (i.templating.isEditInput(e)) {
            var o = i.templating.getFileId(e),
                r = i.onGetUploadStatus(o);
            r === qq.status.SUBMITTED && (i.log(qq.format("Detected valid filename input focus event on file '{}', ID: {}.", i.onGetName(o), o)), t.handleFilenameEdit(o, e))
        }
    }
    var i = {
        templating: null,
        onGetUploadStatus: function(e) {},
        log: function(e, t) {}
    };
    t || (t = {}), i.eventType = "focusin", i.onHandled = n, qq.extend(i, e), qq.extend(this, new qq.FilenameEditHandler(i, t))
}, qq.FilenameInputFocusHandler = function(e) {
    "use strict";
    e.eventType = "focus", e.attachTo = null, qq.extend(this, new qq.FilenameInputFocusInHandler(e, {}))
}, qq.FilenameEditHandler = function(e, t) {
    "use strict";

    function n(e) {
        var t = s.onGetName(e),
            n = t.lastIndexOf(".");
        return n > 0 && (t = t.substr(0, n)), t
    }

    function i(e) {
        var t = s.onGetName(e);
        return qq.getExtension(t)
    }

    function o(e, t) {
        var n, o = e.value;
        void 0 !== o && qq.trimStr(o).length > 0 && (n = i(t), void 0 !== n && (o = o + "." + n), s.onSetName(t, o)), s.onEditingStatusChange(t, !1)
    }

    function r(e, n) {
        t.getDisposeSupport().attach(e, "blur", function() {
            o(e, n)
        })
    }

    function a(e, n) {
        t.getDisposeSupport().attach(e, "keyup", function(t) {
            var i = t.keyCode || t.which;
            13 === i && o(e, n)
        })
    }
    var s = {
        templating: null,
        log: function(e, t) {},
        onGetUploadStatus: function(e) {},
        onGetName: function(e) {},
        onSetName: function(e, t) {},
        onEditingStatusChange: function(e, t) {}
    };
    qq.extend(s, e), s.attachTo = s.templating.getFileList(), qq.extend(this, new qq.UiEventHandler(s, t)), qq.extend(t, {
        handleFilenameEdit: function(e, t, i) {
            var o = s.templating.getEditInput(e);
            s.onEditingStatusChange(e, !0), o.value = n(e), i && o.focus(), r(o, e), a(o, e)
        }
    })
};
var CryptoJS = CryptoJS || function(e, t) {
    var n = {},
        i = n.lib = {},
        o = i.Base = function() {
            function e() {}
            return {
                extend: function(t) {
                    e.prototype = this;
                    var n = new e;
                    return t && n.mixIn(t), n.hasOwnProperty("init") || (n.init = function() {
                        n.$super.init.apply(this, arguments)
                    }), n.init.prototype = n, n.$super = this, n
                },
                create: function() {
                    var e = this.extend();
                    return e.init.apply(e, arguments), e
                },
                init: function() {},
                mixIn: function(e) {
                    for (var t in e) e.hasOwnProperty(t) && (this[t] = e[t]);
                    e.hasOwnProperty("toString") && (this.toString = e.toString)
                },
                clone: function() {
                    return this.init.prototype.extend(this)
                }
            }
        }(),
        r = i.WordArray = o.extend({
            init: function(e, n) {
                e = this.words = e || [], n != t ? this.sigBytes = n : this.sigBytes = 4 * e.length
            },
            toString: function(e) {
                return (e || s).stringify(this)
            },
            concat: function(e) {
                var t = this.words,
                    n = e.words,
                    i = this.sigBytes,
                    o = e.sigBytes;
                if (this.clamp(), i % 4)
                    for (var r = 0; r < o; r++) {
                        var a = n[r >>> 2] >>> 24 - r % 4 * 8 & 255;
                        t[i + r >>> 2] |= a << 24 - (i + r) % 4 * 8
                    } else if (n.length > 65535)
                        for (var r = 0; r < o; r += 4) t[i + r >>> 2] = n[r >>> 2];
                    else t.push.apply(t, n);
                return this.sigBytes += o, this
            },
            clamp: function() {
                var t = this.words,
                    n = this.sigBytes;
                t[n >>> 2] &= 4294967295 << 32 - n % 4 * 8, t.length = e.ceil(n / 4)
            },
            clone: function() {
                var e = o.clone.call(this);
                return e.words = this.words.slice(0), e
            },
            random: function(t) {
                for (var n = [], i = 0; i < t; i += 4) n.push(4294967296 * e.random() | 0);
                return new r.init(n, t)
            }
        }),
        a = n.enc = {},
        s = a.Hex = {
            stringify: function(e) {
                for (var t = e.words, n = e.sigBytes, i = [], o = 0; o < n; o++) {
                    var r = t[o >>> 2] >>> 24 - o % 4 * 8 & 255;
                    i.push((r >>> 4).toString(16)), i.push((15 & r).toString(16))
                }
                return i.join("")
            },
            parse: function(e) {
                for (var t = e.length, n = [], i = 0; i < t; i += 2) n[i >>> 3] |= parseInt(e.substr(i, 2), 16) << 24 - i % 8 * 4;
                return new r.init(n, t / 2)
            }
        },
        u = a.Latin1 = {
            stringify: function(e) {
                for (var t = e.words, n = e.sigBytes, i = [], o = 0; o < n; o++) {
                    var r = t[o >>> 2] >>> 24 - o % 4 * 8 & 255;
                    i.push(String.fromCharCode(r))
                }
                return i.join("")
            },
            parse: function(e) {
                for (var t = e.length, n = [], i = 0; i < t; i++) n[i >>> 2] |= (255 & e.charCodeAt(i)) << 24 - i % 4 * 8;
                return new r.init(n, t)
            }
        },
        l = a.Utf8 = {
            stringify: function(e) {
                try {
                    return decodeURIComponent(escape(u.stringify(e)))
                } catch (t) {
                    throw new Error("Malformed UTF-8 data")
                }
            },
            parse: function(e) {
                return u.parse(unescape(encodeURIComponent(e)))
            }
        },
        c = i.BufferedBlockAlgorithm = o.extend({
            reset: function() {
                this._data = new r.init, this._nDataBytes = 0
            },
            _append: function(e) {
                "string" == typeof e && (e = l.parse(e)), this._data.concat(e), this._nDataBytes += e.sigBytes
            },
            _process: function(t) {
                var n = this._data,
                    i = n.words,
                    o = n.sigBytes,
                    a = this.blockSize,
                    s = 4 * a,
                    u = o / s;
                u = t ? e.ceil(u) : e.max((0 | u) - this._minBufferSize, 0);
                var l = u * a,
                    c = e.min(4 * l, o);
                if (l) {
                    for (var d = 0; d < l; d += a) this._doProcessBlock(i, d);
                    var p = i.splice(0, l);
                    n.sigBytes -= c
                }
                return new r.init(p, c)
            },
            clone: function() {
                var e = o.clone.call(this);
                return e._data = this._data.clone(), e
            },
            _minBufferSize: 0
        }),
        d = (i.Hasher = c.extend({
            cfg: o.extend(),
            init: function(e) {
                this.cfg = this.cfg.extend(e), this.reset()
            },
            reset: function() {
                c.reset.call(this), this._doReset()
            },
            update: function(e) {
                return this._append(e), this._process(), this
            },
            finalize: function(e) {
                e && this._append(e);
                var t = this._doFinalize();
                return t
            },
            blockSize: 16,
            _createHelper: function(e) {
                return function(t, n) {
                    return new e.init(n).finalize(t)
                }
            },
            _createHmacHelper: function(e) {
                return function(t, n) {
                    return new d.HMAC.init(e, n).finalize(t)
                }
            }
        }), n.algo = {});
    return n
}(Math);
! function() {
    var e = CryptoJS,
        t = e.lib,
        n = t.WordArray,
        i = e.enc;
    i.Base64 = {
        stringify: function(e) {
            var t = e.words,
                n = e.sigBytes,
                i = this._map;
            e.clamp();
            for (var o = [], r = 0; r < n; r += 3)
                for (var a = t[r >>> 2] >>> 24 - r % 4 * 8 & 255, s = t[r + 1 >>> 2] >>> 24 - (r + 1) % 4 * 8 & 255, u = t[r + 2 >>> 2] >>> 24 - (r + 2) % 4 * 8 & 255, l = a << 16 | s << 8 | u, c = 0; c < 4 && r + .75 * c < n; c++) o.push(i.charAt(l >>> 6 * (3 - c) & 63));
            var d = i.charAt(64);
            if (d)
                for (; o.length % 4;) o.push(d);
            return o.join("")
        },
        parse: function(e) {
            var t = e.length,
                i = this._map,
                o = i.charAt(64);
            if (o) {
                var r = e.indexOf(o);
                r != -1 && (t = r)
            }
            for (var a = [], s = 0, u = 0; u < t; u++)
                if (u % 4) {
                    var l = i.indexOf(e.charAt(u - 1)) << u % 4 * 2,
                        c = i.indexOf(e.charAt(u)) >>> 6 - u % 4 * 2;
                    a[s >>> 2] |= (l | c) << 24 - s % 4 * 8, s++
                }
            return n.create(a, s)
        },
        _map: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="
    }
}(),
function() {
    var e = CryptoJS,
        t = e.lib,
        n = t.Base,
        i = e.enc,
        o = i.Utf8,
        r = e.algo;
    r.HMAC = n.extend({
        init: function(e, t) {
            e = this._hasher = new e.init, "string" == typeof t && (t = o.parse(t));
            var n = e.blockSize,
                i = 4 * n;
            t.sigBytes > i && (t = e.finalize(t)), t.clamp();
            for (var r = this._oKey = t.clone(), a = this._iKey = t.clone(), s = r.words, u = a.words, l = 0; l < n; l++) s[l] ^= 1549556828, u[l] ^= 909522486;
            r.sigBytes = a.sigBytes = i, this.reset()
        },
        reset: function() {
            var e = this._hasher;
            e.reset(), e.update(this._iKey)
        },
        update: function(e) {
            return this._hasher.update(e), this
        },
        finalize: function(e) {
            var t = this._hasher,
                n = t.finalize(e);
            t.reset();
            var i = t.finalize(this._oKey.clone().concat(n));
            return i
        }
    })
}(),
function() {
    var e = CryptoJS,
        t = e.lib,
        n = t.WordArray,
        i = t.Hasher,
        o = e.algo,
        r = [],
        a = o.SHA1 = i.extend({
            _doReset: function() {
                this._hash = new n.init([1732584193, 4023233417, 2562383102, 271733878, 3285377520])
            },
            _doProcessBlock: function(e, t) {
                for (var n = this._hash.words, i = n[0], o = n[1], a = n[2], s = n[3], u = n[4], l = 0; l < 80; l++) {
                    if (l < 16) r[l] = 0 | e[t + l];
                    else {
                        var c = r[l - 3] ^ r[l - 8] ^ r[l - 14] ^ r[l - 16];
                        r[l] = c << 1 | c >>> 31
                    }
                    var d = (i << 5 | i >>> 27) + u + r[l];
                    d += l < 20 ? (o & a | ~o & s) + 1518500249 : l < 40 ? (o ^ a ^ s) + 1859775393 : l < 60 ? (o & a | o & s | a & s) - 1894007588 : (o ^ a ^ s) - 899497514, u = s, s = a, a = o << 30 | o >>> 2, o = i, i = d
                }
                n[0] = n[0] + i | 0, n[1] = n[1] + o | 0, n[2] = n[2] + a | 0, n[3] = n[3] + s | 0, n[4] = n[4] + u | 0
            },
            _doFinalize: function() {
                var e = this._data,
                    t = e.words,
                    n = 8 * this._nDataBytes,
                    i = 8 * e.sigBytes;
                return t[i >>> 5] |= 128 << 24 - i % 32, t[(i + 64 >>> 9 << 4) + 14] = Math.floor(n / 4294967296), t[(i + 64 >>> 9 << 4) + 15] = n, e.sigBytes = 4 * t.length, this._process(), this._hash
            },
            clone: function() {
                var e = i.clone.call(this);
                return e._hash = this._hash.clone(), e
            }
        });
    e.SHA1 = i._createHelper(a), e.HmacSHA1 = i._createHmacHelper(a)
}(),
function(e) {
    var t = CryptoJS,
        n = t.lib,
        i = n.WordArray,
        o = n.Hasher,
        r = t.algo,
        a = [],
        s = [];
    ! function() {
        function t(t) {
            for (var n = e.sqrt(t), i = 2; i <= n; i++)
                if (!(t % i)) return !1;
            return !0
        }

        function n(e) {
            return 4294967296 * (e - (0 | e)) | 0
        }
        for (var i = 2, o = 0; o < 64;) t(i) && (o < 8 && (a[o] = n(e.pow(i, .5))), s[o] = n(e.pow(i, 1 / 3)), o++), i++
    }();
    var u = [],
        l = r.SHA256 = o.extend({
            _doReset: function() {
                this._hash = new i.init(a.slice(0))
            },
            _doProcessBlock: function(e, t) {
                for (var n = this._hash.words, i = n[0], o = n[1], r = n[2], a = n[3], l = n[4], c = n[5], d = n[6], p = n[7], h = 0; h < 64; h++) {
                    if (h < 16) u[h] = 0 | e[t + h];
                    else {
                        var f = u[h - 15],
                            q = (f << 25 | f >>> 7) ^ (f << 14 | f >>> 18) ^ f >>> 3,
                            m = u[h - 2],
                            g = (m << 15 | m >>> 17) ^ (m << 13 | m >>> 19) ^ m >>> 10;
                        u[h] = q + u[h - 7] + g + u[h - 16]
                    }
                    var _ = l & c ^ ~l & d,
                        v = i & o ^ i & r ^ o & r,
                        b = (i << 30 | i >>> 2) ^ (i << 19 | i >>> 13) ^ (i << 10 | i >>> 22),
                        S = (l << 26 | l >>> 6) ^ (l << 21 | l >>> 11) ^ (l << 7 | l >>> 25),
                        y = p + S + _ + s[h] + u[h],
                        w = b + v;
                    p = d, d = c, c = l, l = a + y | 0, a = r, r = o, o = i, i = y + w | 0
                }
                n[0] = n[0] + i | 0, n[1] = n[1] + o | 0, n[2] = n[2] + r | 0, n[3] = n[3] + a | 0, n[4] = n[4] + l | 0, n[5] = n[5] + c | 0, n[6] = n[6] + d | 0, n[7] = n[7] + p | 0
            },
            _doFinalize: function() {
                var t = this._data,
                    n = t.words,
                    i = 8 * this._nDataBytes,
                    o = 8 * t.sigBytes;
                return n[o >>> 5] |= 128 << 24 - o % 32, n[(o + 64 >>> 9 << 4) + 14] = e.floor(i / 4294967296), n[(o + 64 >>> 9 << 4) + 15] = i, t.sigBytes = 4 * n.length, this._process(), this._hash
            },
            clone: function() {
                var e = o.clone.call(this);
                return e._hash = this._hash.clone(), e
            }
        });
    t.SHA256 = o._createHelper(l), t.HmacSHA256 = o._createHmacHelper(l)
}(Math),
function() {
    if ("function" == typeof ArrayBuffer) {
        var e = CryptoJS,
            t = e.lib,
            n = t.WordArray,
            i = n.init,
            o = n.init = function(e) {
                if (e instanceof ArrayBuffer && (e = new Uint8Array(e)), (e instanceof Int8Array || e instanceof Uint8ClampedArray || e instanceof Int16Array || e instanceof Uint16Array || e instanceof Int32Array || e instanceof Uint32Array || e instanceof Float32Array || e instanceof Float64Array) && (e = new Uint8Array(e.buffer, e.byteOffset, e.byteLength)), e instanceof Uint8Array) {
                    for (var t = e.byteLength, n = [], o = 0; o < t; o++) n[o >>> 2] |= e[o] << 24 - o % 4 * 8;
                    i.call(this, n, t)
                } else i.apply(this, arguments)
            };
        o.prototype = n
    }
}(),
function(e) {
    "use strict";

    function t(e) {
        var t = s(e || {}),
            i = n(t);
        return o(i), a(t, i), d
    }

    function n(e) {
        var t = r("uploaderType"),
            n = r("endpointType");
        return t ? (t = t.charAt(0).toUpperCase() + t.slice(1).toLowerCase(), n ? new qq[n]["FineUploader" + t](e) : new qq["FineUploader" + t](e)) : n ? new qq[n].FineUploader(e) : new qq.FineUploader(e)
    }

    function i(e, t) {
        var n = d.data("fineuploader");
        return t ? (void 0 === n && (n = {}), n[e] = t, d.data("fineuploader", n), void 0) : void 0 === n ? null : n[e]
    }

    function o(e) {
        return i("uploader", e)
    }

    function r(e, t) {
        return i(e, t)
    }

    function a(t, n) {
        var i = t.callbacks = {};
        e.each(n._options.callbacks, function(t, n) {
            var o, r;
            o = /^on(\w+)/.exec(t)[1], o = o.substring(0, 1).toLowerCase() + o.substring(1), r = d, i[t] = function() {
                var t, i, a = Array.prototype.slice.call(arguments),
                    s = [];
                e.each(a, function(e, t) {
                    s.push(c(t))
                }), t = n.apply(this, a);
                try {
                    i = r.triggerHandler(o, s)
                } catch (u) {
                    qq.log("Caught error in Fine Uploader jQuery event handler: " + u.message, "error")
                }
                return null != t ? t : i
            }
        }), n._options.callbacks = i
    }

    function s(t, n) {
        var i, o;
        if (i = void 0 === n ? "basic" !== t.uploaderType ? {
                element: d[0]
            } : {} : n, e.each(t, function(t, n) {
                e.inArray(t, p) >= 0 ? r(t, n) : n instanceof e ? i[t] = n[0] : e.isPlainObject(n) ? (i[t] = {}, s(n, i[t])) : e.isArray(n) ? (o = [], e.each(n, function(t, n) {
                    var i = {};
                    n instanceof e ? e.merge(o, n) : e.isPlainObject(n) ? (s(n, i), o.push(i)) : o.push(n)
                }), i[t] = o) : i[t] = n
            }), void 0 === n) return i
    }

    function u(t) {
        return "string" === e.type(t) && !t.match(/^_/) && void 0 !== o()[t]
    }

    function l(e) {
        var t, n = [],
            i = Array.prototype.slice.call(arguments, 1);
        return s(i, n), t = o()[e].apply(o(), n), c(t)
    }

    function c(t) {
        var n = t;
        return null == t || "object" != typeof t || 1 !== t.nodeType && 9 !== t.nodeType || !t.cloneNode || (n = e(t)), n
    }
    var d, p = ["uploaderType", "endpointType"];
    e.fn.fineUploader = function(n) {
        var i = this,
            r = arguments,
            a = [];
        return this.each(function(s, c) {
            if (d = e(c), o() && u(n)) {
                if (a.push(l.apply(i, r)), 1 === i.length) return !1
            } else "object" != typeof n && n ? e.error("Method " + n + " does not exist on jQuery.fineUploader") : t.apply(i, r)
        }), 1 === a.length ? a[0] : a.length > 1 ? a : this
    }
}(jQuery),
function(e) {
    "use strict";
    e.fn.fineUploaderS3 = function(t) {
        return "object" == typeof t && (t.endpointType = "s3"), e.fn.fineUploader.apply(this, arguments)
    }
}(jQuery),
function(e) {
    "use strict";

    function t(e) {
        e || (e = {}), e.dropZoneElements = [u];
        var t = r(e);
        return o(t), i(new qq.DragAndDrop(t)), u
    }

    function n(e, t) {
        var n = u.data(l);
        return t ? (void 0 === n && (n = {}), n[e] = t, u.data(l, n), void 0) : void 0 === n ? null : n[e]
    }

    function i(e) {
        return n("dndInstance", e)
    }

    function o(t) {
        var n = t.callbacks = {};
        e.each(new qq.DragAndDrop.callbacks, function(e, t) {
            var i, o = e;
            i = u, n[e] = function() {
                var e = Array.prototype.slice.call(arguments),
                    t = i.triggerHandler(o, e);
                return t
            }
        })
    }

    function r(t, n) {
        var i, o;
        if (i = void 0 === n ? {} : n, e.each(t, function(t, n) {
                n instanceof e ? i[t] = n[0] : e.isPlainObject(n) ? (i[t] = {}, r(n, i[t])) : e.isArray(n) ? (o = [], e.each(n, function(t, n) {
                    n instanceof e ? e.merge(o, n) : o.push(n)
                }), i[t] = o) : i[t] = n
            }), void 0 === n) return i
    }

    function a(t) {
        return "string" === e.type(t) && "dispose" === t && void 0 !== i()[t]
    }

    function s(e) {
        var t = [],
            n = Array.prototype.slice.call(arguments, 1);
        return r(n, t), i()[e].apply(i(), t)
    }
    var u, l = "fineUploaderDnd";
    e.fn.fineUploaderDnd = function(n) {
        var o = this,
            r = arguments,
            l = [];
        return this.each(function(c, d) {
            if (u = e(d), i() && a(n)) {
                if (l.push(s.apply(o, r)), 1 === o.length) return !1
            } else "object" != typeof n && n ? e.error("Method " + n + " does not exist in Fine Uploader's DnD module.") : t.apply(o, r)
        }), 1 === l.length ? l[0] : l.length > 1 ? l : this
    }
}(jQuery);
! function(e) {
    function t(e, t, s) {
        var n = e[0],
            r = /er/.test(s) ? b : /bl/.test(s) ? h : f,
            o = s == g ? {
                checked: n[f],
                disabled: n[h],
                indeterminate: "true" == e.attr(b) || "false" == e.attr(v)
            } : n[r];
        if (/^(ch|di|in)/.test(s) && !o) i(e, r);
        else if (/^(un|en|de)/.test(s) && o) a(e, r);
        else if (s == g)
            for (var d in o) o[d] ? i(e, d, !0) : a(e, d, !0);
        else t && "toggle" != s || (t || e[x]("ifClicked"), o ? n[y] !== u && a(e, r) : i(e, r))
    }

    function i(t, i, s) {
        var l = t[0],
            g = t.parent(),
            m = i == f,
            k = i == b,
            x = i == h,
            A = k ? v : m ? p : "enabled",
            j = n(t, A + r(l[y])),
            D = n(t, i + r(l[y]));
        if (l[i] !== !0) {
            if (!s && i == f && l[y] == u && l.name) {
                var P = t.closest("form"),
                    T = 'input[name="' + l.name + '"]';
                T = P.length ? P.find(T) : e(T), T.each(function() {
                    this !== l && e(this).data(d) && a(e(this), i)
                })
            }
            k ? (l[i] = !0, l[f] && a(t, f, "force")) : (s || (l[i] = !0), m && l[b] && a(t, b, !1)), o(t, m, i, s)
        }
        l[h] && n(t, H, !0) && g.find("." + c).css(H, "default"), g[C](D || n(t, i) || ""), g.attr("role") && !k && g.attr("aria-" + (x ? h : f), "true"), g[w](j || n(t, A) || "")
    }

    function a(e, t, i) {
        var a = e[0],
            s = e.parent(),
            d = t == f,
            l = t == b,
            u = t == h,
            g = l ? v : d ? p : "enabled",
            m = n(e, g + r(a[y])),
            k = n(e, t + r(a[y]));
        a[t] !== !1 && (!l && i && "force" != i || (a[t] = !1), o(e, d, g, i)), !a[h] && n(e, H, !0) && s.find("." + c).css(H, "pointer"), s[w](k || n(e, t) || ""), s.attr("role") && !l && s.attr("aria-" + (u ? h : f), "false"), s[C](m || n(e, g) || "")
    }

    function s(t, i) {
        t.data(d) && (t.parent().html(t.attr("style", t.data(d).s || "")), i && t[x](i), t.off(".i").unwrap(), e(A + '[for="' + t[0].id + '"]').add(t.closest(A)).off(".i"))
    }

    function n(e, t, i) {
        if (e.data(d)) return e.data(d).o[t + (i ? "" : "Class")]
    }

    function r(e) {
        return e.charAt(0).toUpperCase() + e.slice(1)
    }

    function o(e, t, i, a) {
        a || (t && e[x]("ifToggled"), e[x]("ifChanged")[x]("if" + r(i)))
    }
    var d = "iCheck",
        c = d + "-helper",
        l = "checkbox",
        u = "radio",
        f = "checked",
        p = "un" + f,
        h = "disabled",
        v = "determinate",
        b = "in" + v,
        g = "update",
        y = "type",
        m = "click",
        k = "touchbegin.i touchend.i",
        C = "addClass",
        w = "removeClass",
        x = "trigger",
        A = "label",
        H = "cursor",
        j = /ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);
    e.fn[d] = function(n, r) {
        var o = 'input[type="' + l + '"], input[type="' + u + '"]',
            p = e(),
            v = function(t) {
                t.each(function() {
                    var t = e(this);
                    p = t.is(o) ? p.add(t) : p.add(t.find(o))
                })
            };
        if (/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(n)) return n = n.toLowerCase(), v(this), p.each(function() {
            var i = e(this);
            "destroy" == n ? s(i, "ifDestroyed") : t(i, !0, n), e.isFunction(r) && r()
        });
        if ("object" != typeof n && n) return this;
        var H = e.extend({
                checkedClass: f,
                disabledClass: h,
                indeterminateClass: b,
                labelHover: !0
            }, n),
            D = H.handle,
            P = H.hoverClass || "hover",
            T = H.focusClass || "focus",
            F = H.activeClass || "active",
            I = !!H.labelHover,
            L = H.labelHoverClass || "hover",
            M = 0 | ("" + H.increaseArea).replace("%", "");
        return D != l && D != u || (o = 'input[type="' + D + '"]'), M < -50 && (M = -50), v(this), p.each(function() {
            var n = e(this);
            s(n);
            var r, o = this,
                p = o.id,
                v = -M + "%",
                b = 100 + 2 * M + "%",
                D = {
                    position: "absolute",
                    top: v,
                    left: v,
                    display: "block",
                    width: b,
                    height: b,
                    margin: 0,
                    padding: 0,
                    background: "#fff",
                    border: 0,
                    opacity: 0
                },
                N = j ? {
                    position: "absolute",
                    visibility: "hidden"
                } : M ? D : {
                    position: "absolute",
                    opacity: 0
                },
                Q = o[y] == l ? H.checkboxClass || "i" + l : H.radioClass || "i" + u,
                S = e(A + '[for="' + p + '"]').add(n.closest(A)),
                U = !!H.aria,
                Z = d + "-" + Math.random().toString(36).substr(2, 6),
                $ = '<div class="' + Q + '" ' + (U ? 'role="' + o[y] + '" ' : "");
            U && S.each(function() {
                $ += 'aria-labelledby="', this.id ? $ += this.id : (this.id = Z, $ += Z), $ += '"'
            }), $ = n.wrap($ + "/>")[x]("ifCreated").parent().append(H.insert), r = e('<ins class="' + c + '"/>').css(D).appendTo($), n.data(d, {
                o: H,
                s: n.attr("style")
            }).css(N), !!H.inheritClass && $[C](o.className || ""), !!H.inheritID && p && $.attr("id", d + "-" + p), "static" == $.css("position") && $.css("position", "relative"), t(n, !0, g), S.length && S.on(m + ".i mouseover.i mouseout.i " + k, function(i) {
                var a = i[y],
                    s = e(this);
                if (!o[h]) {
                    if (a == m) {
                        if (e(i.target).is("a")) return;
                        t(n, !1, !0)
                    } else I && (/ut|nd/.test(a) ? ($[w](P), s[w](L)) : ($[C](P), s[C](L)));
                    if (!j) return !1;
                    i.stopPropagation()
                }
            }), n.on(m + ".i focus.i blur.i keyup.i keydown.i keypress.i", function(e) {
                var t = e[y],
                    s = e.keyCode;
                return t != m && ("keydown" == t && 32 == s ? (o[y] == u && o[f] || (o[f] ? a(n, f) : i(n, f)), !1) : void("keyup" == t && o[y] == u ? !o[f] && i(n, f) : /us|ur/.test(t) && $["blur" == t ? w : C](T)))
            }), r.on(m + " mousedown mouseup mouseover mouseout " + k, function(e) {
                var i = e[y],
                    a = /wn|up/.test(i) ? F : P;
                if (!o[h]) {
                    if (i == m ? t(n, !1, !0) : (/wn|er|in/.test(i) ? $[C](a) : $[w](a + " " + F), S.length && I && a == P && S[/ut|nd/.test(i) ? w : C](L)), !j) return !1;
                    e.stopPropagation()
                }
            })
        })
    }
}(window.jQuery || window.Zepto);
! function(t, e) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : "object" == typeof exports ? module.exports = e(require("jquery")) : e(t.jQuery)
}(this, function(t) {
    function e(t) {
        if (t in d.style) return t;
        for (var e = ["Moz", "Webkit", "O", "ms"], n = t.charAt(0).toUpperCase() + t.substr(1), i = 0; i < e.length; ++i) {
            var r = e[i] + n;
            if (r in d.style) return r
        }
    }

    function n() {
        return d.style[p.transform] = "", d.style[p.transform] = "rotateY(90deg)", "" !== d.style[p.transform]
    }

    function i(t) {
        return "string" == typeof t && this.parse(t), this
    }

    function r(t, e, n) {
        e === !0 ? t.queue(n) : e ? t.queue(e, n) : t.each(function() {
            n.call(this)
        })
    }

    function s(e) {
        var n = [];
        return t.each(e, function(e) {
            e = t.camelCase(e), e = t.transit.propertyMap[e] || t.cssProps[e] || e, e = u(e), p[e] && (e = u(p[e])), t.inArray(e, n) === -1 && n.push(e)
        }), n
    }

    function a(e, n, i, r) {
        var a = s(e);
        t.cssEase[i] && (i = t.cssEase[i]);
        var o = "" + f(n) + " " + i;
        parseInt(r, 10) > 0 && (o += " " + f(r));
        var u = [];
        return t.each(a, function(t, e) {
            u.push(e + " " + o)
        }), u.join(", ")
    }

    function o(e, n) {
        n || (t.cssNumber[e] = !0), t.transit.propertyMap[e] = p.transform, t.cssHooks[e] = {
            get: function(n) {
                var i = t(n).css("transit:transform");
                return i.get(e)
            },
            set: function(n, i) {
                var r = t(n).css("transit:transform");
                r.setFromString(e, i), t(n).css({
                    "transit:transform": r
                })
            }
        }
    }

    function u(t) {
        return t.replace(/([A-Z])/g, function(t) {
            return "-" + t.toLowerCase()
        })
    }

    function c(t, e) {
        return "string" != typeof t || t.match(/^[\-0-9\.]+$/) ? "" + t + e : t
    }

    function f(e) {
        var n = e;
        return "string" != typeof n || n.match(/^[\-0-9\.]+/) || (n = t.fx.speeds[n] || t.fx.speeds._default), c(n, "ms")
    }
    t.transit = {
        version: "0.9.12",
        propertyMap: {
            marginLeft: "margin",
            marginRight: "margin",
            marginBottom: "margin",
            marginTop: "margin",
            paddingLeft: "padding",
            paddingRight: "padding",
            paddingBottom: "padding",
            paddingTop: "padding"
        },
        enabled: !0,
        useTransitionEnd: !1
    };
    var d = document.createElement("div"),
        p = {},
        l = navigator.userAgent.toLowerCase().indexOf("chrome") > -1;
    p.transition = e("transition"), p.transitionDelay = e("transitionDelay"), p.transform = e("transform"), p.transformOrigin = e("transformOrigin"), p.filter = e("Filter"), p.transform3d = n();
    var h = {
            transition: "transitionend",
            MozTransition: "transitionend",
            OTransition: "oTransitionEnd",
            WebkitTransition: "webkitTransitionEnd",
            msTransition: "MSTransitionEnd"
        },
        b = p.transitionEnd = h[p.transition] || null;
    return d = null, t.cssEase = {
        _default: "ease",
        "in": "ease-in",
        out: "ease-out",
        "in-out": "ease-in-out",
        snap: "cubic-bezier(0,1,.5,1)",
        easeInCubic: "cubic-bezier(.550,.055,.675,.190)",
        easeOutCubic: "cubic-bezier(.215,.61,.355,1)",
        easeInOutCubic: "cubic-bezier(.645,.045,.355,1)",
        easeInCirc: "cubic-bezier(.6,.04,.98,.335)",
        easeOutCirc: "cubic-bezier(.075,.82,.165,1)",
        easeInOutCirc: "cubic-bezier(.785,.135,.15,.86)",
        easeInExpo: "cubic-bezier(.95,.05,.795,.035)",
        easeOutExpo: "cubic-bezier(.19,1,.22,1)",
        easeInOutExpo: "cubic-bezier(1,0,0,1)",
        easeInQuad: "cubic-bezier(.55,.085,.68,.53)",
        easeOutQuad: "cubic-bezier(.25,.46,.45,.94)",
        easeInOutQuad: "cubic-bezier(.455,.03,.515,.955)",
        easeInQuart: "cubic-bezier(.895,.03,.685,.22)",
        easeOutQuart: "cubic-bezier(.165,.84,.44,1)",
        easeInOutQuart: "cubic-bezier(.77,0,.175,1)",
        easeInQuint: "cubic-bezier(.755,.05,.855,.06)",
        easeOutQuint: "cubic-bezier(.23,1,.32,1)",
        easeInOutQuint: "cubic-bezier(.86,0,.07,1)",
        easeInSine: "cubic-bezier(.47,0,.745,.715)",
        easeOutSine: "cubic-bezier(.39,.575,.565,1)",
        easeInOutSine: "cubic-bezier(.445,.05,.55,.95)",
        easeInBack: "cubic-bezier(.6,-.28,.735,.045)",
        easeOutBack: "cubic-bezier(.175, .885,.32,1.275)",
        easeInOutBack: "cubic-bezier(.68,-.55,.265,1.55)"
    }, t.cssHooks["transit:transform"] = {
        get: function(e) {
            return t(e).data("transform") || new i
        },
        set: function(e, n) {
            var r = n;
            r instanceof i || (r = new i(r)), "WebkitTransform" !== p.transform || l ? e.style[p.transform] = r.toString() : e.style[p.transform] = r.toString(!0), t(e).data("transform", r)
        }
    }, t.cssHooks.transform = {
        set: t.cssHooks["transit:transform"].set
    }, t.cssHooks.filter = {
        get: function(t) {
            return t.style[p.filter]
        },
        set: function(t, e) {
            t.style[p.filter] = e
        }
    }, t.fn.jquery < "1.8" && (t.cssHooks.transformOrigin = {
        get: function(t) {
            return t.style[p.transformOrigin]
        },
        set: function(t, e) {
            t.style[p.transformOrigin] = e
        }
    }, t.cssHooks.transition = {
        get: function(t) {
            return t.style[p.transition]
        },
        set: function(t, e) {
            t.style[p.transition] = e
        }
    }), o("scale"), o("scaleX"), o("scaleY"), o("translate"), o("rotate"), o("rotateX"), o("rotateY"), o("rotate3d"), o("perspective"), o("skewX"), o("skewY"), o("x", !0), o("y", !0), i.prototype = {
        setFromString: function(t, e) {
            var n = "string" == typeof e ? e.split(",") : e.constructor === Array ? e : [e];
            n.unshift(t), i.prototype.set.apply(this, n)
        },
        set: function(t) {
            var e = Array.prototype.slice.apply(arguments, [1]);
            this.setter[t] ? this.setter[t].apply(this, e) : this[t] = e.join(",")
        },
        get: function(t) {
            return this.getter[t] ? this.getter[t].apply(this) : this[t] || 0
        },
        setter: {
            rotate: function(t) {
                this.rotate = c(t, "deg")
            },
            rotateX: function(t) {
                this.rotateX = c(t, "deg")
            },
            rotateY: function(t) {
                this.rotateY = c(t, "deg")
            },
            scale: function(t, e) {
                void 0 === e && (e = t), this.scale = t + "," + e
            },
            skewX: function(t) {
                this.skewX = c(t, "deg")
            },
            skewY: function(t) {
                this.skewY = c(t, "deg")
            },
            perspective: function(t) {
                this.perspective = c(t, "px")
            },
            x: function(t) {
                this.set("translate", t, null)
            },
            y: function(t) {
                this.set("translate", null, t)
            },
            translate: function(t, e) {
                void 0 === this._translateX && (this._translateX = 0), void 0 === this._translateY && (this._translateY = 0), null !== t && void 0 !== t && (this._translateX = c(t, "px")), null !== e && void 0 !== e && (this._translateY = c(e, "px")), this.translate = this._translateX + "," + this._translateY
            }
        },
        getter: {
            x: function() {
                return this._translateX || 0
            },
            y: function() {
                return this._translateY || 0
            },
            scale: function() {
                var t = (this.scale || "1,1").split(",");
                return t[0] && (t[0] = parseFloat(t[0])), t[1] && (t[1] = parseFloat(t[1])), t[0] === t[1] ? t[0] : t
            },
            rotate3d: function() {
                for (var t = (this.rotate3d || "0,0,0,0deg").split(","), e = 0; e <= 3; ++e) t[e] && (t[e] = parseFloat(t[e]));
                return t[3] && (t[3] = c(t[3], "deg")), t
            }
        },
        parse: function(t) {
            var e = this;
            t.replace(/([a-zA-Z0-9]+)\((.*?)\)/g, function(t, n, i) {
                e.setFromString(n, i)
            })
        },
        toString: function(t) {
            var e = [];
            for (var n in this)
                if (this.hasOwnProperty(n)) {
                    if (!p.transform3d && ("rotateX" === n || "rotateY" === n || "perspective" === n || "transformOrigin" === n)) continue;
                    "_" !== n[0] && (t && "scale" === n ? e.push(n + "3d(" + this[n] + ",1)") : t && "translate" === n ? e.push(n + "3d(" + this[n] + ",0)") : e.push(n + "(" + this[n] + ")"))
                }
            return e.join(" ")
        }
    }, t.fn.transition = t.fn.transit = function(e, n, i, s) {
        var o = this,
            u = 0,
            c = !0,
            d = t.extend(!0, {}, e);
        "function" == typeof n && (s = n, n = void 0), "object" == typeof n && (i = n.easing, u = n.delay || 0, c = "undefined" == typeof n.queue || n.queue, s = n.complete, n = n.duration), "function" == typeof i && (s = i, i = void 0), "undefined" != typeof d.easing && (i = d.easing, delete d.easing), "undefined" != typeof d.duration && (n = d.duration, delete d.duration), "undefined" != typeof d.complete && (s = d.complete, delete d.complete), "undefined" != typeof d.queue && (c = d.queue, delete d.queue), "undefined" != typeof d.delay && (u = d.delay, delete d.delay), "undefined" == typeof n && (n = t.fx.speeds._default), "undefined" == typeof i && (i = t.cssEase._default), n = f(n);
        var l = a(d, n, i, u),
            h = t.transit.enabled && p.transition,
            y = h ? parseInt(n, 10) + parseInt(u, 10) : 0;
        if (0 === y) {
            var g = function(t) {
                o.css(d), s && s.apply(o), t && t()
            };
            return r(o, c, g), o
        }
        var m = {},
            v = function(e) {
                var n = !1,
                    i = function() {
                        n && o.unbind(b, i), y > 0 && o.each(function() {
                            this.style[p.transition] = m[this] || null
                        }), "function" == typeof s && s.apply(o), "function" == typeof e && e()
                    };
                y > 0 && b && t.transit.useTransitionEnd ? (n = !0, o.bind(b, i)) : window.setTimeout(i, y), o.each(function() {
                    y > 0 && (this.style[p.transition] = l), t(this).css(d)
                })
            },
            z = function(t) {
                this.offsetWidth, v(t)
            };
        return r(o, c, z), this
    }, t.transit.getTransitionValue = a, t
});
! function(e) {
    "use strict";
    var i = {
        pips: function(i) {
            function s(i) {
                var s = e(i).data("value"),
                    l = t.element;
                if (!0 === t.options.range) {
                    var a, p = l.slider("values");
                    a = p[0] === p[1] ? s < p[0] ? [s, p[1]] : [p[0], s] : Math.abs(p[0] - s) === Math.abs(p[1] - s) ? [s, s] : Math.abs(p[0] - s) < Math.abs(p[1] - s) ? [s, p[1]] : [p[0], s], l.slider("values", a), o.range(a)
                } else l.slider("value", s), o.single(s)
            }

            function l(i) {
                var s, l, a = i,
                    o = "ui-slider-pip",
                    r = "";
                "first" === i ? a = 0 : "last" === i && (a = p);
                var u = t.options.min + t.options.step * a,
                    d = u.toString().replace(".", "-");
                return s = "array" === e.type(n.labels) ? n.labels[a] || "" : "object" === e.type(n.labels) ? "first" === i ? n.labels.first || "" : "last" === i ? n.labels.last || "" : "array" === e.type(n.labels.rest) ? n.labels.rest[a - 1] || "" : u : u, "first" === i ? (l = "0%", o += " ui-slider-pip-first", o += "label" === n.first ? " ui-slider-pip-label" : "", o += !1 === n.first ? " ui-slider-pip-hide" : "") : "last" === i ? (l = "100%", o += " ui-slider-pip-last", o += "label" === n.last ? " ui-slider-pip-label" : "", o += !1 === n.last ? " ui-slider-pip-hide" : "") : (l = (100 / p * i).toFixed(4) + "%", o += "label" === n.rest ? " ui-slider-pip-label" : "", o += !1 === n.rest ? " ui-slider-pip-hide" : ""), o += " ui-slider-pip-" + d, r = "horizontal" === t.options.orientation ? "left: " + l : "bottom: " + l, '<span class="' + o + '" style="' + r + '"><span class="ui-slider-line"></span><span class="ui-slider-label" data-value="' + u + '">' + n.formatLabel(s) + "</span></span>"
            }
            var t = this,
                a = "",
                p = (t.options.max - t.options.min) / t.options.step,
                n = {
                    first: "label",
                    last: "label",
                    rest: "pip",
                    labels: !1,
                    prefix: "",
                    suffix: "",
                    step: p > 100 ? Math.floor(.05 * p) : 1,
                    formatLabel: function(e) {
                        return this.prefix + e + this.suffix
                    }
                };
            e.extend(n, i), t.options.pipStep = n.step, t.element.addClass("ui-slider-pips").find(".ui-slider-pip").remove();
            var o = {
                single: function(e) {
                    var i = this.resetClasses();
                    i.filter(".ui-slider-pip-" + e).addClass("ui-slider-pip-selected")
                },
                range: function(e) {
                    var i = this.resetClasses();
                    i.filter(".ui-slider-pip-" + e[0]).addClass("ui-slider-pip-selected-first"), i.filter(".ui-slider-pip-" + e[1]).addClass("ui-slider-pip-selected-second")
                },
                resetClasses: function() {
                    var e = t.element.find(".ui-slider-pip").removeClass("ui-slider-pip-selected ui-slider-pip-selected-first ui-slider-pip-selected-second");
                    return e
                }
            };
            t.options.pipStep = Math.round(t.options.pipStep), a += l("first");
            for (var r = 1; r < p; r++) 0 === r % t.options.pipStep && (a += l(r));
            a += l("last");
            var u, d;
            t.options.values ? (u = ["ui-slider-pip-" + t.options.values[0], "ui-slider-pip-" + t.options.values[1]], d = ["ui-slider-pip-" + t.options.values[0] + " ui-slider-pip-selected-initial-first", "ui-slider-pip-" + t.options.values[1] + " ui-slider-pip-selected-initial-second"], a = a.replace(u[0], d[0]).replace(u[1], d[1])) : (u = "ui-slider-pip-" + t.options.value, d = "ui-slider-pip-" + t.options.value + " ui-slider-pip-selected-initial", a = a.replace(u, d)), t.element.append(a), t.element.on("mouseup", ".ui-slider-label", function() {
                s(this)
            }), t.element.on("slide.selectPip slidechange.selectPip", function(e, i) {
                i.values ? o.range(i.values) : o.single(i.value)
            })
        }
    };
    e.extend(!0, e.ui.slider.prototype, i)
}(jQuery),
function(e) {
    "use strict";
    var i = {
        "float": function(i) {
            function s(i, s) {
                var l = [],
                    a = i / t.options.step,
                    n = s / t.options.step;
                return "array" === e.type(p.labels) ? (l[0] = p.labels[a - t.options.min] || i, s && (l[1] = p.labels[n - t.options.min] || s)) : "object" === e.type(p.labels) ? (t.options.min === i ? l[0] = p.labels.first || t.options.min : t.options.max === i ? l[0] = p.labels.last || t.options.max : "array" === e.type(p.labels.rest) ? l[0] = p.labels.rest[a - t.options.min - 1] || i : l[0] = i, s && (t.options.min === s ? l[1] = p.labels.first || t.options.min : t.options.max === s ? l[1] = p.labels.last || t.options.max : "array" === e.type(p.labels.rest) ? l[1] = p.labels.rest[n - t.options.min - 1] || s : l[1] = s)) : (l[0] = i, s && (l[1] = s)), l
            }
            var l, t = this,
                a = [],
                p = {
                    handle: !0,
                    pips: !1,
                    labels: !1,
                    prefix: "",
                    suffix: "",
                    event: "slidechange slide",
                    formatLabel: function(e) {
                        return this.prefix + e + this.suffix
                    }
                };
            e.extend(p, i), t.options.value < t.options.min && (t.options.value = t.options.min), t.options.value > t.options.max && (t.options.value = t.options.max), t.options.values && (t.options.values[0] < t.options.min && (t.options.values[0] = t.options.min), t.options.values[1] < t.options.min && (t.options.values[1] = t.options.min), t.options.values[0] > t.options.max && (t.options.values[0] = t.options.max), t.options.values[1] > t.options.max && (t.options.values[1] = t.options.max)), t.element.addClass("ui-slider-float").find(".ui-slider-tip, .ui-slider-tip-label").remove(), p.handle && (t.options.values ? (a = s(t.options.values[0], t.options.values[1]), l = [e('<span class="ui-slider-tip">' + p.formatLabel(a[0]) + "</span>"), e('<span class="ui-slider-tip">' + p.formatLabel(a[1]) + "</span>")]) : (a = s(t.options.value), l = e('<span class="ui-slider-tip">' + p.formatLabel(a[0]) + "</span>")), t.element.find(".ui-slider-handle").each(function(i, s) {
                e(s).append(l[i])
            })), p.pips && t.element.find(".ui-slider-label").each(function(i, l) {
                var t, a = e(l),
                    n = a.data("value"),
                    o = a.data("value");
                o = s(n)[0], t = e('<span class="ui-slider-tip-label">' + p.formatLabel(o) + "</span>").insertAfter(a)
            }), "slide" !== p.event && "slidechange" !== p.event && "slide slidechange" !== p.event && "slidechange slide" !== p.event && (p.event = "slidechange slide"), t.element.on(p.event, function(i, l) {
                var t = s(l.value);
                e(l.handle).find(".ui-slider-tip").html(p.formatLabel(t[0]))
            })
        }
    };
    e.extend(!0, e.ui.slider.prototype, i)
}(jQuery);
! function(i) {
    "use strict";
    "function" == typeof define && define.amd ? define(["jquery"], i) : "undefined" != typeof exports ? module.exports = i(require("jquery")) : i(jQuery)
}(function(i) {
    "use strict";
    var e = window.Slick || {};
    e = function() {
        function e(e, o) {
            var s, n = this;
            n.defaults = {
                accessibility: !0,
                adaptiveHeight: !1,
                appendArrows: i(e),
                appendDots: i(e),
                arrows: !0,
                asNavFor: null,
                prevArrow: '<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',
                nextArrow: '<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',
                autoplay: !1,
                autoplaySpeed: 3e3,
                centerMode: !1,
                centerPadding: "50px",
                cssEase: "ease",
                customPaging: function(i, e) {
                    return '<button type="button" data-role="none" role="button" aria-required="false" tabindex="0">' + (e + 1) + "</button>"
                },
                dots: !1,
                dotsClass: "slick-dots",
                draggable: !0,
                easing: "linear",
                edgeFriction: .35,
                fade: !1,
                focusOnSelect: !1,
                infinite: !0,
                initialSlide: 0,
                lazyLoad: "ondemand",
                mobileFirst: !1,
                pauseOnHover: !0,
                pauseOnDotsHover: !1,
                respondTo: "window",
                responsive: null,
                rows: 1,
                rtl: !1,
                slide: "",
                slidesPerRow: 1,
                slidesToShow: 1,
                slidesToScroll: 1,
                speed: 500,
                swipe: !0,
                swipeToSlide: !1,
                touchMove: !0,
                touchThreshold: 5,
                useCSS: !0,
                variableWidth: !1,
                vertical: !1,
                verticalSwiping: !1,
                waitForAnimate: !0,
                zIndex: 1e3
            }, n.initials = {
                animating: !1,
                dragging: !1,
                autoPlayTimer: null,
                currentDirection: 0,
                currentLeft: null,
                currentSlide: 0,
                direction: 1,
                $dots: null,
                listWidth: null,
                listHeight: null,
                loadIndex: 0,
                $nextArrow: null,
                $prevArrow: null,
                slideCount: null,
                slideWidth: null,
                $slideTrack: null,
                $slides: null,
                sliding: !1,
                slideOffset: 0,
                swipeLeft: null,
                $list: null,
                touchObject: {},
                transformsEnabled: !1,
                unslicked: !1
            }, i.extend(n, n.initials), n.activeBreakpoint = null, n.animType = null, n.animProp = null, n.breakpoints = [], n.breakpointSettings = [], n.cssTransitions = !1, n.hidden = "hidden", n.paused = !1, n.positionProp = null, n.respondTo = null, n.rowCount = 1, n.shouldClick = !0, n.$slider = i(e), n.$slidesCache = null, n.transformType = null, n.transitionType = null, n.visibilityChange = "visibilitychange", n.windowWidth = 0, n.windowTimer = null, s = i(e).data("slick") || {}, n.options = i.extend({}, n.defaults, s, o), n.currentSlide = n.options.initialSlide, n.originalSettings = n.options, "undefined" != typeof document.mozHidden ? (n.hidden = "mozHidden", n.visibilityChange = "mozvisibilitychange") : "undefined" != typeof document.webkitHidden && (n.hidden = "webkitHidden", n.visibilityChange = "webkitvisibilitychange"), n.autoPlay = i.proxy(n.autoPlay, n), n.autoPlayClear = i.proxy(n.autoPlayClear, n), n.changeSlide = i.proxy(n.changeSlide, n), n.clickHandler = i.proxy(n.clickHandler, n), n.selectHandler = i.proxy(n.selectHandler, n), n.setPosition = i.proxy(n.setPosition, n), n.swipeHandler = i.proxy(n.swipeHandler, n), n.dragHandler = i.proxy(n.dragHandler, n), n.keyHandler = i.proxy(n.keyHandler, n), n.autoPlayIterator = i.proxy(n.autoPlayIterator, n), n.instanceUid = t++, n.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/, n.registerBreakpoints(), n.init(!0), n.checkResponsive(!0)
        }
        var t = 0;
        return e
    }(), e.prototype.addSlide = e.prototype.slickAdd = function(e, t, o) {
        var s = this;
        if ("boolean" == typeof t) o = t, t = null;
        else if (t < 0 || t >= s.slideCount) return !1;
        s.unload(), "number" == typeof t ? 0 === t && 0 === s.$slides.length ? i(e).appendTo(s.$slideTrack) : o ? i(e).insertBefore(s.$slides.eq(t)) : i(e).insertAfter(s.$slides.eq(t)) : o === !0 ? i(e).prependTo(s.$slideTrack) : i(e).appendTo(s.$slideTrack), s.$slides = s.$slideTrack.children(this.options.slide), s.$slideTrack.children(this.options.slide).detach(), s.$slideTrack.append(s.$slides), s.$slides.each(function(e, t) {
            i(t).attr("data-slick-index", e)
        }), s.$slidesCache = s.$slides, s.reinit()
    }, e.prototype.animateHeight = function() {
        var i = this;
        if (1 === i.options.slidesToShow && i.options.adaptiveHeight === !0 && i.options.vertical === !1) {
            var e = i.$slides.eq(i.currentSlide).outerHeight(!0);
            i.$list.animate({
                height: e
            }, i.options.speed)
        }
    }, e.prototype.animateSlide = function(e, t) {
        var o = {},
            s = this;
        s.animateHeight(), s.options.rtl === !0 && s.options.vertical === !1 && (e = -e), s.transformsEnabled === !1 ? s.options.vertical === !1 ? s.$slideTrack.animate({
            left: e
        }, s.options.speed, s.options.easing, t) : s.$slideTrack.animate({
            top: e
        }, s.options.speed, s.options.easing, t) : s.cssTransitions === !1 ? (s.options.rtl === !0 && (s.currentLeft = -s.currentLeft), i({
            animStart: s.currentLeft
        }).animate({
            animStart: e
        }, {
            duration: s.options.speed,
            easing: s.options.easing,
            step: function(i) {
                i = Math.ceil(i), s.options.vertical === !1 ? (o[s.animType] = "translate(" + i + "px, 0px)", s.$slideTrack.css(o)) : (o[s.animType] = "translate(0px," + i + "px)", s.$slideTrack.css(o))
            },
            complete: function() {
                t && t.call()
            }
        })) : (s.applyTransition(), e = Math.ceil(e), s.options.vertical === !1 ? o[s.animType] = "translate3d(" + e + "px, 0px, 0px)" : o[s.animType] = "translate3d(0px," + e + "px, 0px)", s.$slideTrack.css(o), t && setTimeout(function() {
            s.disableTransition(), t.call()
        }, s.options.speed))
    }, e.prototype.asNavFor = function(e) {
        var t = this,
            o = t.options.asNavFor;
        o && null !== o && (o = i(o).not(t.$slider)), null !== o && "object" == typeof o && o.each(function() {
            var t = i(this).slick("getSlick");
            t.unslicked || t.slideHandler(e, !0)
        })
    }, e.prototype.applyTransition = function(i) {
        var e = this,
            t = {};
        e.options.fade === !1 ? t[e.transitionType] = e.transformType + " " + e.options.speed + "ms " + e.options.cssEase : t[e.transitionType] = "opacity " + e.options.speed + "ms " + e.options.cssEase, e.options.fade === !1 ? e.$slideTrack.css(t) : e.$slides.eq(i).css(t)
    }, e.prototype.autoPlay = function() {
        var i = this;
        i.autoPlayTimer && clearInterval(i.autoPlayTimer), i.slideCount > i.options.slidesToShow && i.paused !== !0 && (i.autoPlayTimer = setInterval(i.autoPlayIterator, i.options.autoplaySpeed))
    }, e.prototype.autoPlayClear = function() {
        var i = this;
        i.autoPlayTimer && clearInterval(i.autoPlayTimer)
    }, e.prototype.autoPlayIterator = function() {
        var i = this;
        i.options.infinite === !1 ? 1 === i.direction ? (i.currentSlide + 1 === i.slideCount - 1 && (i.direction = 0), i.slideHandler(i.currentSlide + i.options.slidesToScroll)) : (i.currentSlide - 1 === 0 && (i.direction = 1), i.slideHandler(i.currentSlide - i.options.slidesToScroll)) : i.slideHandler(i.currentSlide + i.options.slidesToScroll)
    }, e.prototype.buildArrows = function() {
        var e = this;
        e.options.arrows === !0 && (e.$prevArrow = i(e.options.prevArrow).addClass("slick-arrow"), e.$nextArrow = i(e.options.nextArrow).addClass("slick-arrow"), e.slideCount > e.options.slidesToShow ? (e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"), e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"), e.htmlExpr.test(e.options.prevArrow) && e.$prevArrow.prependTo(e.options.appendArrows), e.htmlExpr.test(e.options.nextArrow) && e.$nextArrow.appendTo(e.options.appendArrows), e.options.infinite !== !0 && e.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true")) : e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({
            "aria-disabled": "true",
            tabindex: "-1"
        }))
    }, e.prototype.buildDots = function() {
        var e, t, o = this;
        if (o.options.dots === !0 && o.slideCount > o.options.slidesToShow) {
            for (t = '<ul class="' + o.options.dotsClass + '">', e = 0; e <= o.getDotCount(); e += 1) t += "<li>" + o.options.customPaging.call(this, o, e) + "</li>";
            t += "</ul>", o.$dots = i(t).appendTo(o.options.appendDots), o.$dots.find("li").first().addClass("slick-active").attr("aria-hidden", "false")
        }
    }, e.prototype.buildOut = function() {
        var e = this;
        e.$slides = e.$slider.children(e.options.slide + ":not(.slick-cloned)").addClass("slick-slide"), e.slideCount = e.$slides.length, e.$slides.each(function(e, t) {
            i(t).attr("data-slick-index", e).data("originalStyling", i(t).attr("style") || "")
        }), e.$slidesCache = e.$slides, e.$slider.addClass("slick-slider"), e.$slideTrack = 0 === e.slideCount ? i('<div class="slick-track"/>').appendTo(e.$slider) : e.$slides.wrapAll('<div class="slick-track"/>').parent(), e.$list = e.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(), e.$slideTrack.css("opacity", 0), e.options.centerMode !== !0 && e.options.swipeToSlide !== !0 || (e.options.slidesToScroll = 1), i("img[data-lazy]", e.$slider).not("[src]").addClass("slick-loading"), e.setupInfinite(), e.buildArrows(), e.buildDots(), e.updateDots(), e.setSlideClasses("number" == typeof e.currentSlide ? e.currentSlide : 0), e.options.draggable === !0 && e.$list.addClass("draggable")
    }, e.prototype.buildRows = function() {
        var i, e, t, o, s, n, r, l = this;
        if (o = document.createDocumentFragment(), n = l.$slider.children(), l.options.rows > 1) {
            for (r = l.options.slidesPerRow * l.options.rows, s = Math.ceil(n.length / r), i = 0; i < s; i++) {
                var a = document.createElement("div");
                for (e = 0; e < l.options.rows; e++) {
                    var d = document.createElement("div");
                    for (t = 0; t < l.options.slidesPerRow; t++) {
                        var c = i * r + (e * l.options.slidesPerRow + t);
                        n.get(c) && d.appendChild(n.get(c))
                    }
                    a.appendChild(d)
                }
                o.appendChild(a)
            }
            l.$slider.html(o), l.$slider.children().children().children().css({
                width: 100 / l.options.slidesPerRow + "%",
                display: "inline-block"
            })
        }
    }, e.prototype.checkResponsive = function(e, t) {
        var o, s, n, r = this,
            l = !1,
            a = r.$slider.width(),
            d = window.innerWidth || i(window).width();
        if ("window" === r.respondTo ? n = d : "slider" === r.respondTo ? n = a : "min" === r.respondTo && (n = Math.min(d, a)), r.options.responsive && r.options.responsive.length && null !== r.options.responsive) {
            s = null;
            for (o in r.breakpoints) r.breakpoints.hasOwnProperty(o) && (r.originalSettings.mobileFirst === !1 ? n < r.breakpoints[o] && (s = r.breakpoints[o]) : n > r.breakpoints[o] && (s = r.breakpoints[o]));
            null !== s ? null !== r.activeBreakpoint ? (s !== r.activeBreakpoint || t) && (r.activeBreakpoint = s, "unslick" === r.breakpointSettings[s] ? r.unslick(s) : (r.options = i.extend({}, r.originalSettings, r.breakpointSettings[s]), e === !0 && (r.currentSlide = r.options.initialSlide), r.refresh(e)), l = s) : (r.activeBreakpoint = s, "unslick" === r.breakpointSettings[s] ? r.unslick(s) : (r.options = i.extend({}, r.originalSettings, r.breakpointSettings[s]), e === !0 && (r.currentSlide = r.options.initialSlide), r.refresh(e)), l = s) : null !== r.activeBreakpoint && (r.activeBreakpoint = null, r.options = r.originalSettings, e === !0 && (r.currentSlide = r.options.initialSlide), r.refresh(e), l = s), e || l === !1 || r.$slider.trigger("breakpoint", [r, l])
        }
    }, e.prototype.changeSlide = function(e, t) {
        var o, s, n, r = this,
            l = i(e.target);
        switch (l.is("a") && e.preventDefault(), l.is("li") || (l = l.closest("li")), n = r.slideCount % r.options.slidesToScroll !== 0, o = n ? 0 : (r.slideCount - r.currentSlide) % r.options.slidesToScroll, e.data.message) {
            case "previous":
                s = 0 === o ? r.options.slidesToScroll : r.options.slidesToShow - o, r.slideCount > r.options.slidesToShow && r.slideHandler(r.currentSlide - s, !1, t);
                break;
            case "next":
                s = 0 === o ? r.options.slidesToScroll : o, r.slideCount > r.options.slidesToShow && r.slideHandler(r.currentSlide + s, !1, t);
                break;
            case "index":
                var a = 0 === e.data.index ? 0 : e.data.index || l.index() * r.options.slidesToScroll;
                r.slideHandler(r.checkNavigable(a), !1, t), l.children().trigger("focus");
                break;
            default:
                return
        }
    }, e.prototype.checkNavigable = function(i) {
        var e, t, o = this;
        if (e = o.getNavigableIndexes(), t = 0, i > e[e.length - 1]) i = e[e.length - 1];
        else
            for (var s in e) {
                if (i < e[s]) {
                    i = t;
                    break
                }
                t = e[s]
            }
        return i
    }, e.prototype.cleanUpEvents = function() {
        var e = this;
        e.options.dots && null !== e.$dots && (i("li", e.$dots).off("click.slick", e.changeSlide), e.options.pauseOnDotsHover === !0 && e.options.autoplay === !0 && i("li", e.$dots).off("mouseenter.slick", i.proxy(e.setPaused, e, !0)).off("mouseleave.slick", i.proxy(e.setPaused, e, !1))), e.options.arrows === !0 && e.slideCount > e.options.slidesToShow && (e.$prevArrow && e.$prevArrow.off("click.slick", e.changeSlide), e.$nextArrow && e.$nextArrow.off("click.slick", e.changeSlide)), e.$list.off("touchstart.slick mousedown.slick", e.swipeHandler), e.$list.off("touchmove.slick mousemove.slick", e.swipeHandler), e.$list.off("touchend.slick mouseup.slick", e.swipeHandler), e.$list.off("touchcancel.slick mouseleave.slick", e.swipeHandler), e.$list.off("click.slick", e.clickHandler), i(document).off(e.visibilityChange, e.visibility), e.$list.off("mouseenter.slick", i.proxy(e.setPaused, e, !0)), e.$list.off("mouseleave.slick", i.proxy(e.setPaused, e, !1)), e.options.accessibility === !0 && e.$list.off("keydown.slick", e.keyHandler), e.options.focusOnSelect === !0 && i(e.$slideTrack).children().off("click.slick", e.selectHandler), i(window).off("orientationchange.slick.slick-" + e.instanceUid, e.orientationChange), i(window).off("resize.slick.slick-" + e.instanceUid, e.resize), i("[draggable!=true]", e.$slideTrack).off("dragstart", e.preventDefault), i(window).off("load.slick.slick-" + e.instanceUid, e.setPosition), i(document).off("ready.slick.slick-" + e.instanceUid, e.setPosition)
    }, e.prototype.cleanUpRows = function() {
        var i, e = this;
        e.options.rows > 1 && (i = e.$slides.children().children(), i.removeAttr("style"), e.$slider.html(i))
    }, e.prototype.clickHandler = function(i) {
        var e = this;
        e.shouldClick === !1 && (i.stopImmediatePropagation(), i.stopPropagation(), i.preventDefault())
    }, e.prototype.destroy = function(e) {
        var t = this;
        t.autoPlayClear(), t.touchObject = {}, t.cleanUpEvents(), i(".slick-cloned", t.$slider).detach(), t.$dots && t.$dots.remove(), t.options.arrows === !0 && (t.$prevArrow && t.$prevArrow.length && (t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""), t.htmlExpr.test(t.options.prevArrow) && t.$prevArrow.remove()), t.$nextArrow && t.$nextArrow.length && (t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""), t.htmlExpr.test(t.options.nextArrow) && t.$nextArrow.remove())), t.$slides && (t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function() {
            i(this).attr("style", i(this).data("originalStyling"))
        }), t.$slideTrack.children(this.options.slide).detach(), t.$slideTrack.detach(), t.$list.detach(), t.$slider.append(t.$slides)), t.cleanUpRows(), t.$slider.removeClass("slick-slider"), t.$slider.removeClass("slick-initialized"), t.unslicked = !0, e || t.$slider.trigger("destroy", [t])
    }, e.prototype.disableTransition = function(i) {
        var e = this,
            t = {};
        t[e.transitionType] = "", e.options.fade === !1 ? e.$slideTrack.css(t) : e.$slides.eq(i).css(t)
    }, e.prototype.fadeSlide = function(i, e) {
        var t = this;
        t.cssTransitions === !1 ? (t.$slides.eq(i).css({
            zIndex: t.options.zIndex
        }), t.$slides.eq(i).animate({
            opacity: 1
        }, t.options.speed, t.options.easing, e)) : (t.applyTransition(i), t.$slides.eq(i).css({
            opacity: 1,
            zIndex: t.options.zIndex
        }), e && setTimeout(function() {
            t.disableTransition(i), e.call()
        }, t.options.speed))
    }, e.prototype.fadeSlideOut = function(i) {
        var e = this;
        e.cssTransitions === !1 ? e.$slides.eq(i).animate({
            opacity: 0,
            zIndex: e.options.zIndex - 2
        }, e.options.speed, e.options.easing) : (e.applyTransition(i), e.$slides.eq(i).css({
            opacity: 0,
            zIndex: e.options.zIndex - 2
        }))
    }, e.prototype.filterSlides = e.prototype.slickFilter = function(i) {
        var e = this;
        null !== i && (e.unload(), e.$slideTrack.children(this.options.slide).detach(), e.$slidesCache.filter(i).appendTo(e.$slideTrack), e.reinit())
    }, e.prototype.getCurrent = e.prototype.slickCurrentSlide = function() {
        var i = this;
        return i.currentSlide
    }, e.prototype.getDotCount = function() {
        var i = this,
            e = 0,
            t = 0,
            o = 0;
        if (i.options.infinite === !0)
            for (; e < i.slideCount;) ++o, e = t + i.options.slidesToShow, t += i.options.slidesToScroll <= i.options.slidesToShow ? i.options.slidesToScroll : i.options.slidesToShow;
        else if (i.options.centerMode === !0) o = i.slideCount;
        else
            for (; e < i.slideCount;) ++o, e = t + i.options.slidesToShow, t += i.options.slidesToScroll <= i.options.slidesToShow ? i.options.slidesToScroll : i.options.slidesToShow;
        return o - 1
    }, e.prototype.getLeft = function(i) {
        var e, t, o, s = this,
            n = 0;
        return s.slideOffset = 0, t = s.$slides.first().outerHeight(!0), s.options.infinite === !0 ? (s.slideCount > s.options.slidesToShow && (s.slideOffset = s.slideWidth * s.options.slidesToShow * -1, n = t * s.options.slidesToShow * -1), s.slideCount % s.options.slidesToScroll !== 0 && i + s.options.slidesToScroll > s.slideCount && s.slideCount > s.options.slidesToShow && (i > s.slideCount ? (s.slideOffset = (s.options.slidesToShow - (i - s.slideCount)) * s.slideWidth * -1, n = (s.options.slidesToShow - (i - s.slideCount)) * t * -1) : (s.slideOffset = s.slideCount % s.options.slidesToScroll * s.slideWidth * -1, n = s.slideCount % s.options.slidesToScroll * t * -1))) : i + s.options.slidesToShow > s.slideCount && (s.slideOffset = (i + s.options.slidesToShow - s.slideCount) * s.slideWidth, n = (i + s.options.slidesToShow - s.slideCount) * t), s.slideCount <= s.options.slidesToShow && (s.slideOffset = 0, n = 0), s.options.centerMode === !0 && s.options.infinite === !0 ? s.slideOffset += s.slideWidth * Math.floor(s.options.slidesToShow / 2) - s.slideWidth : s.options.centerMode === !0 && (s.slideOffset = 0, s.slideOffset += s.slideWidth * Math.floor(s.options.slidesToShow / 2)), e = s.options.vertical === !1 ? i * s.slideWidth * -1 + s.slideOffset : i * t * -1 + n, s.options.variableWidth === !0 && (o = s.slideCount <= s.options.slidesToShow || s.options.infinite === !1 ? s.$slideTrack.children(".slick-slide").eq(i) : s.$slideTrack.children(".slick-slide").eq(i + s.options.slidesToShow), e = o[0] ? o[0].offsetLeft * -1 : 0, s.options.centerMode === !0 && (o = s.options.infinite === !1 ? s.$slideTrack.children(".slick-slide").eq(i) : s.$slideTrack.children(".slick-slide").eq(i + s.options.slidesToShow + 1), e = o[0] ? o[0].offsetLeft * -1 : 0, e += (s.$list.width() - o.outerWidth()) / 2)), e
    }, e.prototype.getOption = e.prototype.slickGetOption = function(i) {
        var e = this;
        return e.options[i]
    }, e.prototype.getNavigableIndexes = function() {
        var i, e = this,
            t = 0,
            o = 0,
            s = [];
        for (e.options.infinite === !1 ? i = e.slideCount : (t = e.options.slidesToScroll * -1, o = e.options.slidesToScroll * -1, i = 2 * e.slideCount); t < i;) s.push(t), t = o + e.options.slidesToScroll, o += e.options.slidesToScroll <= e.options.slidesToShow ? e.options.slidesToScroll : e.options.slidesToShow;
        return s
    }, e.prototype.getSlick = function() {
        return this
    }, e.prototype.getSlideCount = function() {
        var e, t, o, s = this;
        return o = s.options.centerMode === !0 ? s.slideWidth * Math.floor(s.options.slidesToShow / 2) : 0, s.options.swipeToSlide === !0 ? (s.$slideTrack.find(".slick-slide").each(function(e, n) {
            if (n.offsetLeft - o + i(n).outerWidth() / 2 > s.swipeLeft * -1) return t = n, !1
        }), e = Math.abs(i(t).attr("data-slick-index") - s.currentSlide) || 1) : s.options.slidesToScroll
    }, e.prototype.goTo = e.prototype.slickGoTo = function(i, e) {
        var t = this;
        t.changeSlide({
            data: {
                message: "index",
                index: parseInt(i)
            }
        }, e)
    }, e.prototype.init = function(e) {
        var t = this;
        i(t.$slider).hasClass("slick-initialized") || (i(t.$slider).addClass("slick-initialized"), t.buildRows(), t.buildOut(), t.setProps(), t.startLoad(), t.loadSlider(), t.initializeEvents(), t.updateArrows(), t.updateDots()), e && t.$slider.trigger("init", [t]), t.options.accessibility === !0 && t.initADA()
    }, e.prototype.initArrowEvents = function() {
        var i = this;
        i.options.arrows === !0 && i.slideCount > i.options.slidesToShow && (i.$prevArrow.on("click.slick", {
            message: "previous"
        }, i.changeSlide), i.$nextArrow.on("click.slick", {
            message: "next"
        }, i.changeSlide))
    }, e.prototype.initDotEvents = function() {
        var e = this;
        e.options.dots === !0 && e.slideCount > e.options.slidesToShow && i("li", e.$dots).on("click.slick", {
            message: "index"
        }, e.changeSlide), e.options.dots === !0 && e.options.pauseOnDotsHover === !0 && e.options.autoplay === !0 && i("li", e.$dots).on("mouseenter.slick", i.proxy(e.setPaused, e, !0)).on("mouseleave.slick", i.proxy(e.setPaused, e, !1))
    }, e.prototype.initializeEvents = function() {
        var e = this;
        e.initArrowEvents(), e.initDotEvents(), e.$list.on("touchstart.slick mousedown.slick", {
            action: "start"
        }, e.swipeHandler), e.$list.on("touchmove.slick mousemove.slick", {
            action: "move"
        }, e.swipeHandler), e.$list.on("touchend.slick mouseup.slick", {
            action: "end"
        }, e.swipeHandler), e.$list.on("touchcancel.slick mouseleave.slick", {
            action: "end"
        }, e.swipeHandler), e.$list.on("click.slick", e.clickHandler), i(document).on(e.visibilityChange, i.proxy(e.visibility, e)), e.$list.on("mouseenter.slick", i.proxy(e.setPaused, e, !0)), e.$list.on("mouseleave.slick", i.proxy(e.setPaused, e, !1)), e.options.accessibility === !0 && e.$list.on("keydown.slick", e.keyHandler), e.options.focusOnSelect === !0 && i(e.$slideTrack).children().on("click.slick", e.selectHandler), i(window).on("orientationchange.slick.slick-" + e.instanceUid, i.proxy(e.orientationChange, e)), i(window).on("resize.slick.slick-" + e.instanceUid, i.proxy(e.resize, e)), i("[draggable!=true]", e.$slideTrack).on("dragstart", e.preventDefault), i(window).on("load.slick.slick-" + e.instanceUid, e.setPosition), i(document).on("ready.slick.slick-" + e.instanceUid, e.setPosition)
    }, e.prototype.initUI = function() {
        var i = this;
        i.options.arrows === !0 && i.slideCount > i.options.slidesToShow && (i.$prevArrow.show(), i.$nextArrow.show()), i.options.dots === !0 && i.slideCount > i.options.slidesToShow && i.$dots.show(), i.options.autoplay === !0 && i.autoPlay()
    }, e.prototype.keyHandler = function(i) {
        var e = this;
        i.target.tagName.match("TEXTAREA|INPUT|SELECT") || (37 === i.keyCode && e.options.accessibility === !0 ? e.changeSlide({
            data: {
                message: "previous"
            }
        }) : 39 === i.keyCode && e.options.accessibility === !0 && e.changeSlide({
            data: {
                message: "next"
            }
        }))
    }, e.prototype.lazyLoad = function() {
        function e(e) {
            i("img[data-lazy]", e).each(function() {
                var e = i(this),
                    t = i(this).attr("data-lazy"),
                    o = document.createElement("img");
                o.onload = function() {
                    e.animate({
                        opacity: 0
                    }, 100, function() {
                        e.attr("src", t).animate({
                            opacity: 1
                        }, 200, function() {
                            e.removeAttr("data-lazy").removeClass("slick-loading")
                        })
                    })
                }, o.src = t
            })
        }
        var t, o, s, n, r = this;
        r.options.centerMode === !0 ? r.options.infinite === !0 ? (s = r.currentSlide + (r.options.slidesToShow / 2 + 1), n = s + r.options.slidesToShow + 2) : (s = Math.max(0, r.currentSlide - (r.options.slidesToShow / 2 + 1)), n = 2 + (r.options.slidesToShow / 2 + 1) + r.currentSlide) : (s = r.options.infinite ? r.options.slidesToShow + r.currentSlide : r.currentSlide, n = s + r.options.slidesToShow, r.options.fade === !0 && (s > 0 && s--, n <= r.slideCount && n++)), t = r.$slider.find(".slick-slide").slice(s, n), e(t), r.slideCount <= r.options.slidesToShow ? (o = r.$slider.find(".slick-slide"), e(o)) : r.currentSlide >= r.slideCount - r.options.slidesToShow ? (o = r.$slider.find(".slick-cloned").slice(0, r.options.slidesToShow), e(o)) : 0 === r.currentSlide && (o = r.$slider.find(".slick-cloned").slice(r.options.slidesToShow * -1), e(o))
    }, e.prototype.loadSlider = function() {
        var i = this;
        i.setPosition(), i.$slideTrack.css({
            opacity: 1
        }), i.$slider.removeClass("slick-loading"), i.initUI(), "progressive" === i.options.lazyLoad && i.progressiveLazyLoad()
    }, e.prototype.next = e.prototype.slickNext = function() {
        var i = this;
        i.changeSlide({
            data: {
                message: "next"
            }
        })
    }, e.prototype.orientationChange = function() {
        var i = this;
        i.checkResponsive(), i.setPosition()
    }, e.prototype.pause = e.prototype.slickPause = function() {
        var i = this;
        i.autoPlayClear(), i.paused = !0
    }, e.prototype.play = e.prototype.slickPlay = function() {
        var i = this;
        i.paused = !1, i.autoPlay()
    }, e.prototype.postSlide = function(i) {
        var e = this;
        e.$slider.trigger("afterChange", [e, i]), e.animating = !1, e.setPosition(), e.swipeLeft = null, e.options.autoplay === !0 && e.paused === !1 && e.autoPlay(), e.options.accessibility === !0 && e.initADA()
    }, e.prototype.prev = e.prototype.slickPrev = function() {
        var i = this;
        i.changeSlide({
            data: {
                message: "previous"
            }
        })
    }, e.prototype.preventDefault = function(i) {
        i.preventDefault()
    }, e.prototype.progressiveLazyLoad = function() {
        var e, t, o = this;
        e = i("img[data-lazy]", o.$slider).length, e > 0 && (t = i("img[data-lazy]", o.$slider).first(), t.attr("src", t.attr("data-lazy")).removeClass("slick-loading").load(function() {
            t.removeAttr("data-lazy"), o.progressiveLazyLoad(), o.options.adaptiveHeight === !0 && o.setPosition()
        }).error(function() {
            t.removeAttr("data-lazy"), o.progressiveLazyLoad()
        }))
    }, e.prototype.refresh = function(e) {
        var t = this,
            o = t.currentSlide;
        t.destroy(!0), i.extend(t, t.initials, {
            currentSlide: o
        }), t.init(), e || t.changeSlide({
            data: {
                message: "index",
                index: o
            }
        }, !1)
    }, e.prototype.registerBreakpoints = function() {
        var e, t, o, s = this,
            n = s.options.responsive || null;
        if ("array" === i.type(n) && n.length) {
            s.respondTo = s.options.respondTo || "window";
            for (e in n)
                if (o = s.breakpoints.length - 1, t = n[e].breakpoint, n.hasOwnProperty(e)) {
                    for (; o >= 0;) s.breakpoints[o] && s.breakpoints[o] === t && s.breakpoints.splice(o, 1), o--;
                    s.breakpoints.push(t), s.breakpointSettings[t] = n[e].settings
                }
            s.breakpoints.sort(function(i, e) {
                return s.options.mobileFirst ? i - e : e - i
            })
        }
    }, e.prototype.reinit = function() {
        var e = this;
        e.$slides = e.$slideTrack.children(e.options.slide).addClass("slick-slide"), e.slideCount = e.$slides.length, e.currentSlide >= e.slideCount && 0 !== e.currentSlide && (e.currentSlide = e.currentSlide - e.options.slidesToScroll), e.slideCount <= e.options.slidesToShow && (e.currentSlide = 0), e.registerBreakpoints(), e.setProps(), e.setupInfinite(), e.buildArrows(), e.updateArrows(), e.initArrowEvents(), e.buildDots(), e.updateDots(), e.initDotEvents(), e.checkResponsive(!1, !0), e.options.focusOnSelect === !0 && i(e.$slideTrack).children().on("click.slick", e.selectHandler), e.setSlideClasses(0), e.setPosition(), e.$slider.trigger("reInit", [e]), e.options.autoplay === !0 && e.focusHandler()
    }, e.prototype.resize = function() {
        var e = this;
        i(window).width() !== e.windowWidth && (clearTimeout(e.windowDelay), e.windowDelay = window.setTimeout(function() {
            e.windowWidth = i(window).width(), e.checkResponsive(), e.unslicked || e.setPosition()
        }, 50))
    }, e.prototype.removeSlide = e.prototype.slickRemove = function(i, e, t) {
        var o = this;
        return "boolean" == typeof i ? (e = i, i = e === !0 ? 0 : o.slideCount - 1) : i = e === !0 ? --i : i, !(o.slideCount < 1 || i < 0 || i > o.slideCount - 1) && (o.unload(), t === !0 ? o.$slideTrack.children().remove() : o.$slideTrack.children(this.options.slide).eq(i).remove(), o.$slides = o.$slideTrack.children(this.options.slide), o.$slideTrack.children(this.options.slide).detach(), o.$slideTrack.append(o.$slides), o.$slidesCache = o.$slides, void o.reinit())
    }, e.prototype.setCSS = function(i) {
        var e, t, o = this,
            s = {};
        o.options.rtl === !0 && (i = -i), e = "left" == o.positionProp ? Math.ceil(i) + "px" : "0px", t = "top" == o.positionProp ? Math.ceil(i) + "px" : "0px", s[o.positionProp] = i, o.transformsEnabled === !1 ? o.$slideTrack.css(s) : (s = {}, o.cssTransitions === !1 ? (s[o.animType] = "translate(" + e + ", " + t + ")", o.$slideTrack.css(s)) : (s[o.animType] = "translate3d(" + e + ", " + t + ", 0px)", o.$slideTrack.css(s)))
    }, e.prototype.setDimensions = function() {
        var i = this;
        i.options.vertical === !1 ? i.options.centerMode === !0 && i.$list.css({
            padding: "0px " + i.options.centerPadding
        }) : (i.$list.height(i.$slides.first().outerHeight(!0) * i.options.slidesToShow), i.options.centerMode === !0 && i.$list.css({
            padding: i.options.centerPadding + " 0px"
        })), i.listWidth = i.$list.width(), i.listHeight = i.$list.height(), i.options.vertical === !1 && i.options.variableWidth === !1 ? (i.slideWidth = Math.ceil(i.listWidth / i.options.slidesToShow), i.$slideTrack.width(Math.ceil(i.slideWidth * i.$slideTrack.children(".slick-slide").length))) : i.options.variableWidth === !0 ? i.$slideTrack.width(5e3 * i.slideCount) : (i.slideWidth = Math.ceil(i.listWidth), i.$slideTrack.height(Math.ceil(i.$slides.first().outerHeight(!0) * i.$slideTrack.children(".slick-slide").length)));
        var e = i.$slides.first().outerWidth(!0) - i.$slides.first().width();
        i.options.variableWidth === !1 && i.$slideTrack.children(".slick-slide").width(i.slideWidth - e)
    }, e.prototype.setFade = function() {
        var e, t = this;
        t.$slides.each(function(o, s) {
            e = t.slideWidth * o * -1, t.options.rtl === !0 ? i(s).css({
                position: "relative",
                right: e,
                top: 0,
                zIndex: t.options.zIndex - 2,
                opacity: 0
            }) : i(s).css({
                position: "relative",
                left: e,
                top: 0,
                zIndex: t.options.zIndex - 2,
                opacity: 0
            })
        }), t.$slides.eq(t.currentSlide).css({
            zIndex: t.options.zIndex - 1,
            opacity: 1
        })
    }, e.prototype.setHeight = function() {
        var i = this;
        if (1 === i.options.slidesToShow && i.options.adaptiveHeight === !0 && i.options.vertical === !1) {
            var e = i.$slides.eq(i.currentSlide).outerHeight(!0);
            i.$list.css("height", e)
        }
    }, e.prototype.setOption = e.prototype.slickSetOption = function(e, t, o) {
        var s, n, r = this;
        if ("responsive" === e && "array" === i.type(t))
            for (n in t)
                if ("array" !== i.type(r.options.responsive)) r.options.responsive = [t[n]];
                else {
                    for (s = r.options.responsive.length - 1; s >= 0;) r.options.responsive[s].breakpoint === t[n].breakpoint && r.options.responsive.splice(s, 1), s--;
                    r.options.responsive.push(t[n])
                } else r.options[e] = t;
        o === !0 && (r.unload(), r.reinit())
    }, e.prototype.setPosition = function() {
        var i = this;
        i.setDimensions(), i.setHeight(), i.options.fade === !1 ? i.setCSS(i.getLeft(i.currentSlide)) : i.setFade(), i.$slider.trigger("setPosition", [i])
    }, e.prototype.setProps = function() {
        var i = this,
            e = document.body.style;
        i.positionProp = i.options.vertical === !0 ? "top" : "left", "top" === i.positionProp ? i.$slider.addClass("slick-vertical") : i.$slider.removeClass("slick-vertical"), void 0 === e.WebkitTransition && void 0 === e.MozTransition && void 0 === e.msTransition || i.options.useCSS === !0 && (i.cssTransitions = !0), i.options.fade && ("number" == typeof i.options.zIndex ? i.options.zIndex < 3 && (i.options.zIndex = 3) : i.options.zIndex = i.defaults.zIndex), void 0 !== e.OTransform && (i.animType = "OTransform", i.transformType = "-o-transform", i.transitionType = "OTransition", void 0 === e.perspectiveProperty && void 0 === e.webkitPerspective && (i.animType = !1)), void 0 !== e.MozTransform && (i.animType = "MozTransform", i.transformType = "-moz-transform", i.transitionType = "MozTransition", void 0 === e.perspectiveProperty && void 0 === e.MozPerspective && (i.animType = !1)), void 0 !== e.webkitTransform && (i.animType = "webkitTransform", i.transformType = "-webkit-transform", i.transitionType = "webkitTransition", void 0 === e.perspectiveProperty && void 0 === e.webkitPerspective && (i.animType = !1)), void 0 !== e.msTransform && (i.animType = "msTransform", i.transformType = "-ms-transform", i.transitionType = "msTransition", void 0 === e.msTransform && (i.animType = !1)), void 0 !== e.transform && i.animType !== !1 && (i.animType = "transform", i.transformType = "transform", i.transitionType = "transition"), i.transformsEnabled = null !== i.animType && i.animType !== !1
    }, e.prototype.setSlideClasses = function(i) {
        var e, t, o, s, n = this;
        t = n.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden", "true"), n.$slides.eq(i).addClass("slick-current"), n.options.centerMode === !0 ? (e = Math.floor(n.options.slidesToShow / 2), n.options.infinite === !0 && (i >= e && i <= n.slideCount - 1 - e ? n.$slides.slice(i - e, i + e + 1).addClass("slick-active").attr("aria-hidden", "false") : (o = n.options.slidesToShow + i, t.slice(o - e + 1, o + e + 2).addClass("slick-active").attr("aria-hidden", "false")), 0 === i ? t.eq(t.length - 1 - n.options.slidesToShow).addClass("slick-center") : i === n.slideCount - 1 && t.eq(n.options.slidesToShow).addClass("slick-center")), n.$slides.eq(i).addClass("slick-center")) : i >= 0 && i <= n.slideCount - n.options.slidesToShow ? n.$slides.slice(i, i + n.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false") : t.length <= n.options.slidesToShow ? t.addClass("slick-active").attr("aria-hidden", "false") : (s = n.slideCount % n.options.slidesToShow, o = n.options.infinite === !0 ? n.options.slidesToShow + i : i, n.options.slidesToShow == n.options.slidesToScroll && n.slideCount - i < n.options.slidesToShow ? t.slice(o - (n.options.slidesToShow - s), o + s).addClass("slick-active").attr("aria-hidden", "false") : t.slice(o, o + n.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false")), "ondemand" === n.options.lazyLoad && n.lazyLoad()
    }, e.prototype.setupInfinite = function() {
        var e, t, o, s = this;
        if (s.options.fade === !0 && (s.options.centerMode = !1), s.options.infinite === !0 && s.options.fade === !1 && (t = null, s.slideCount > s.options.slidesToShow)) {
            for (o = s.options.centerMode === !0 ? s.options.slidesToShow + 1 : s.options.slidesToShow, e = s.slideCount; e > s.slideCount - o; e -= 1) t = e - 1, i(s.$slides[t]).clone(!0).attr("id", "").attr("data-slick-index", t - s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");
            for (e = 0; e < o; e += 1) t = e, i(s.$slides[t]).clone(!0).attr("id", "").attr("data-slick-index", t + s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");
            s.$slideTrack.find(".slick-cloned").find("[id]").each(function() {
                i(this).attr("id", "")
            })
        }
    }, e.prototype.setPaused = function(i) {
        var e = this;
        e.options.autoplay === !0 && e.options.pauseOnHover === !0 && (e.paused = i, i ? e.autoPlayClear() : e.autoPlay())
    }, e.prototype.selectHandler = function(e) {
        var t = this,
            o = i(e.target).is(".slick-slide") ? i(e.target) : i(e.target).parents(".slick-slide"),
            s = parseInt(o.attr("data-slick-index"));
        return s || (s = 0), t.slideCount <= t.options.slidesToShow ? (t.setSlideClasses(s), void t.asNavFor(s)) : void t.slideHandler(s)
    }, e.prototype.slideHandler = function(i, e, t) {
        var o, s, n, r, l = null,
            a = this;
        if (e = e || !1, (a.animating !== !0 || a.options.waitForAnimate !== !0) && !(a.options.fade === !0 && a.currentSlide === i || a.slideCount <= a.options.slidesToShow)) return e === !1 && a.asNavFor(i), o = i, l = a.getLeft(o), r = a.getLeft(a.currentSlide), a.currentLeft = null === a.swipeLeft ? r : a.swipeLeft, a.options.infinite === !1 && a.options.centerMode === !1 && (i < 0 || i > a.getDotCount() * a.options.slidesToScroll) ? void(a.options.fade === !1 && (o = a.currentSlide, t !== !0 ? a.animateSlide(r, function() {
            a.postSlide(o)
        }) : a.postSlide(o))) : a.options.infinite === !1 && a.options.centerMode === !0 && (i < 0 || i > a.slideCount - a.options.slidesToScroll) ? void(a.options.fade === !1 && (o = a.currentSlide, t !== !0 ? a.animateSlide(r, function() {
            a.postSlide(o)
        }) : a.postSlide(o))) : (a.options.autoplay === !0 && clearInterval(a.autoPlayTimer), s = o < 0 ? a.slideCount % a.options.slidesToScroll !== 0 ? a.slideCount - a.slideCount % a.options.slidesToScroll : a.slideCount + o : o >= a.slideCount ? a.slideCount % a.options.slidesToScroll !== 0 ? 0 : o - a.slideCount : o,
            a.animating = !0, a.$slider.trigger("beforeChange", [a, a.currentSlide, s]), n = a.currentSlide, a.currentSlide = s, a.setSlideClasses(a.currentSlide), a.updateDots(), a.updateArrows(), a.options.fade === !0 ? (t !== !0 ? (a.fadeSlideOut(n), a.fadeSlide(s, function() {
                a.postSlide(s)
            })) : a.postSlide(s), void a.animateHeight()) : void(t !== !0 ? a.animateSlide(l, function() {
                a.postSlide(s)
            }) : a.postSlide(s)))
    }, e.prototype.startLoad = function() {
        var i = this;
        i.options.arrows === !0 && i.slideCount > i.options.slidesToShow && (i.$prevArrow.hide(), i.$nextArrow.hide()), i.options.dots === !0 && i.slideCount > i.options.slidesToShow && i.$dots.hide(), i.$slider.addClass("slick-loading")
    }, e.prototype.swipeDirection = function() {
        var i, e, t, o, s = this;
        return i = s.touchObject.startX - s.touchObject.curX, e = s.touchObject.startY - s.touchObject.curY, t = Math.atan2(e, i), o = Math.round(180 * t / Math.PI), o < 0 && (o = 360 - Math.abs(o)), o <= 45 && o >= 0 ? s.options.rtl === !1 ? "left" : "right" : o <= 360 && o >= 315 ? s.options.rtl === !1 ? "left" : "right" : o >= 135 && o <= 225 ? s.options.rtl === !1 ? "right" : "left" : s.options.verticalSwiping === !0 ? o >= 35 && o <= 135 ? "left" : "right" : "vertical"
    }, e.prototype.swipeEnd = function(i) {
        var e, t = this;
        if (t.dragging = !1, t.shouldClick = !(t.touchObject.swipeLength > 10), void 0 === t.touchObject.curX) return !1;
        if (t.touchObject.edgeHit === !0 && t.$slider.trigger("edge", [t, t.swipeDirection()]), t.touchObject.swipeLength >= t.touchObject.minSwipe) switch (t.swipeDirection()) {
            case "left":
                e = t.options.swipeToSlide ? t.checkNavigable(t.currentSlide + t.getSlideCount()) : t.currentSlide + t.getSlideCount(), t.slideHandler(e), t.currentDirection = 0, t.touchObject = {}, t.$slider.trigger("swipe", [t, "left"]);
                break;
            case "right":
                e = t.options.swipeToSlide ? t.checkNavigable(t.currentSlide - t.getSlideCount()) : t.currentSlide - t.getSlideCount(), t.slideHandler(e), t.currentDirection = 1, t.touchObject = {}, t.$slider.trigger("swipe", [t, "right"])
        } else t.touchObject.startX !== t.touchObject.curX && (t.slideHandler(t.currentSlide), t.touchObject = {})
    }, e.prototype.swipeHandler = function(i) {
        var e = this;
        if (!(e.options.swipe === !1 || "ontouchend" in document && e.options.swipe === !1 || e.options.draggable === !1 && i.type.indexOf("mouse") !== -1)) switch (e.touchObject.fingerCount = i.originalEvent && void 0 !== i.originalEvent.touches ? i.originalEvent.touches.length : 1, e.touchObject.minSwipe = e.listWidth / e.options.touchThreshold, e.options.verticalSwiping === !0 && (e.touchObject.minSwipe = e.listHeight / e.options.touchThreshold), i.data.action) {
            case "start":
                e.swipeStart(i);
                break;
            case "move":
                e.swipeMove(i);
                break;
            case "end":
                e.swipeEnd(i)
        }
    }, e.prototype.swipeMove = function(i) {
        var e, t, o, s, n, r = this;
        return n = void 0 !== i.originalEvent ? i.originalEvent.touches : null, !(!r.dragging || n && 1 !== n.length) && (e = r.getLeft(r.currentSlide), r.touchObject.curX = void 0 !== n ? n[0].pageX : i.clientX, r.touchObject.curY = void 0 !== n ? n[0].pageY : i.clientY, r.touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(r.touchObject.curX - r.touchObject.startX, 2))), r.options.verticalSwiping === !0 && (r.touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(r.touchObject.curY - r.touchObject.startY, 2)))), t = r.swipeDirection(), "vertical" !== t ? (void 0 !== i.originalEvent && r.touchObject.swipeLength > 4 && i.preventDefault(), s = (r.options.rtl === !1 ? 1 : -1) * (r.touchObject.curX > r.touchObject.startX ? 1 : -1), r.options.verticalSwiping === !0 && (s = r.touchObject.curY > r.touchObject.startY ? 1 : -1), o = r.touchObject.swipeLength, r.touchObject.edgeHit = !1, r.options.infinite === !1 && (0 === r.currentSlide && "right" === t || r.currentSlide >= r.getDotCount() && "left" === t) && (o = r.touchObject.swipeLength * r.options.edgeFriction, r.touchObject.edgeHit = !0), r.options.vertical === !1 ? r.swipeLeft = e + o * s : r.swipeLeft = e + o * (r.$list.height() / r.listWidth) * s, r.options.verticalSwiping === !0 && (r.swipeLeft = e + o * s), r.options.fade !== !0 && r.options.touchMove !== !1 && (r.animating === !0 ? (r.swipeLeft = null, !1) : void r.setCSS(r.swipeLeft))) : void 0)
    }, e.prototype.swipeStart = function(i) {
        var e, t = this;
        return 1 !== t.touchObject.fingerCount || t.slideCount <= t.options.slidesToShow ? (t.touchObject = {}, !1) : (void 0 !== i.originalEvent && void 0 !== i.originalEvent.touches && (e = i.originalEvent.touches[0]), t.touchObject.startX = t.touchObject.curX = void 0 !== e ? e.pageX : i.clientX, t.touchObject.startY = t.touchObject.curY = void 0 !== e ? e.pageY : i.clientY, void(t.dragging = !0))
    }, e.prototype.unfilterSlides = e.prototype.slickUnfilter = function() {
        var i = this;
        null !== i.$slidesCache && (i.unload(), i.$slideTrack.children(this.options.slide).detach(), i.$slidesCache.appendTo(i.$slideTrack), i.reinit())
    }, e.prototype.unload = function() {
        var e = this;
        i(".slick-cloned", e.$slider).remove(), e.$dots && e.$dots.remove(), e.$prevArrow && e.htmlExpr.test(e.options.prevArrow) && e.$prevArrow.remove(), e.$nextArrow && e.htmlExpr.test(e.options.nextArrow) && e.$nextArrow.remove(), e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden", "true").css("width", "")
    }, e.prototype.unslick = function(i) {
        var e = this;
        e.$slider.trigger("unslick", [e, i]), e.destroy()
    }, e.prototype.updateArrows = function() {
        var i, e = this;
        i = Math.floor(e.options.slidesToShow / 2), e.options.arrows === !0 && e.slideCount > e.options.slidesToShow && !e.options.infinite && (e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false"), e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false"), 0 === e.currentSlide ? (e.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true"), e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false")) : e.currentSlide >= e.slideCount - e.options.slidesToShow && e.options.centerMode === !1 ? (e.$nextArrow.addClass("slick-disabled").attr("aria-disabled", "true"), e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false")) : e.currentSlide >= e.slideCount - 1 && e.options.centerMode === !0 && (e.$nextArrow.addClass("slick-disabled").attr("aria-disabled", "true"), e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false")))
    }, e.prototype.updateDots = function() {
        var i = this;
        null !== i.$dots && (i.$dots.find("li").removeClass("slick-active").attr("aria-hidden", "true"), i.$dots.find("li").eq(Math.floor(i.currentSlide / i.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden", "false"))
    }, e.prototype.visibility = function() {
        var i = this;
        document[i.hidden] ? (i.paused = !0, i.autoPlayClear()) : i.options.autoplay === !0 && (i.paused = !1, i.autoPlay())
    }, e.prototype.initADA = function() {
        var e = this;
        e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({
            "aria-hidden": "true",
            tabindex: "-1"
        }).find("a, input, button, select").attr({
            tabindex: "-1"
        }), e.$slideTrack.attr("role", "listbox"), e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(t) {
            i(this).attr({
                role: "option",
                "aria-describedby": "slick-slide" + e.instanceUid + t
            })
        }), null !== e.$dots && e.$dots.attr("role", "tablist").find("li").each(function(t) {
            i(this).attr({
                role: "presentation",
                "aria-selected": "false",
                "aria-controls": "navigation" + e.instanceUid + t,
                id: "slick-slide" + e.instanceUid + t
            })
        }).first().attr("aria-selected", "true").end().find("button").attr("role", "button").end().closest("div").attr("role", "toolbar"), e.activateADA()
    }, e.prototype.activateADA = function() {
        var i = this,
            e = i.$slider.find("*").is(":focus");
        i.$slideTrack.find(".slick-active").attr({
            "aria-hidden": "false",
            tabindex: "0"
        }).find("a, input, button, select").attr({
            tabindex: "0"
        }), e && i.$slideTrack.find(".slick-active").focus()
    }, e.prototype.focusHandler = function() {
        var e = this;
        e.$slider.on("focus.slick blur.slick", "*", function(t) {
            t.stopImmediatePropagation();
            var o = i(this);
            setTimeout(function() {
                e.isPlay && (o.is(":focus") ? (e.autoPlayClear(), e.paused = !0) : (e.paused = !1, e.autoPlay()))
            }, 0)
        })
    }, i.fn.slick = function() {
        var i, t = this,
            o = arguments[0],
            s = Array.prototype.slice.call(arguments, 1),
            n = t.length,
            r = 0;
        for (r; r < n; r++)
            if ("object" == typeof o || "undefined" == typeof o ? t[r].slick = new e(t[r], o) : i = t[r].slick[o].apply(t[r].slick, s), "undefined" != typeof i) return i;
        return t
    }
});
! function(e) {
    e(["jquery"], function(e) {
        return function() {
            function t(e, t, n) {
                return g({
                    type: O.error,
                    iconClass: m().iconClasses.error,
                    message: e,
                    optionsOverride: n,
                    title: t
                })
            }

            function n(t, n) {
                return t || (t = m()), v = e("#" + t.containerId), v.length ? v : (n && (v = u(t)), v)
            }

            function i(e, t, n) {
                return g({
                    type: O.info,
                    iconClass: m().iconClasses.info,
                    message: e,
                    optionsOverride: n,
                    title: t
                })
            }

            function o(e) {
                w = e
            }

            function s(e, t, n) {
                return g({
                    type: O.success,
                    iconClass: m().iconClasses.success,
                    message: e,
                    optionsOverride: n,
                    title: t
                })
            }

            function a(e, t, n) {
                return g({
                    type: O.warning,
                    iconClass: m().iconClasses.warning,
                    message: e,
                    optionsOverride: n,
                    title: t
                })
            }

            function r(e, t) {
                var i = m();
                v || n(i), l(e, i, t) || d(i)
            }

            function c(t) {
                var i = m();
                return v || n(i), t && 0 === e(":focus", t).length ? void h(t) : void(v.children().length && v.remove())
            }

            function d(t) {
                for (var n = v.children(), i = n.length - 1; i >= 0; i--) l(e(n[i]), t)
            }

            function l(t, n, i) {
                var o = !(!i || !i.force) && i.force;
                return !(!t || !o && 0 !== e(":focus", t).length) && (t[n.hideMethod]({
                    duration: n.hideDuration,
                    easing: n.hideEasing,
                    complete: function() {
                        h(t)
                    }
                }), !0)
            }

            function u(t) {
                return v = e("<div/>").attr("id", t.containerId).addClass(t.positionClass).attr("aria-live", "polite").attr("role", "alert"), v.appendTo(e(t.target)), v
            }

            function p() {
                return {
                    tapToDismiss: !0,
                    toastClass: "toast",
                    containerId: "toast-container",
                    debug: !1,
                    showMethod: "fadeIn",
                    showDuration: 300,
                    showEasing: "swing",
                    onShown: void 0,
                    hideMethod: "fadeOut",
                    hideDuration: 1e3,
                    hideEasing: "swing",
                    onHidden: void 0,
                    closeMethod: !1,
                    closeDuration: !1,
                    closeEasing: !1,
                    extendedTimeOut: 1e3,
                    iconClasses: {
                        error: "toast-error",
                        info: "toast-info",
                        success: "toast-success",
                        warning: "toast-warning"
                    },
                    iconClass: "toast-info",
                    positionClass: "toast-top-right",
                    timeOut: 5e3,
                    titleClass: "toast-title",
                    messageClass: "toast-message",
                    escapeHtml: !1,
                    target: "body",
                    closeHtml: '<button type="button">&times;</button>',
                    newestOnTop: !0,
                    preventDuplicates: !1,
                    progressBar: !1
                }
            }

            function f(e) {
                w && w(e)
            }

            function g(t) {
                function i(e) {
                    return null == e && (e = ""), new String(e).replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/'/g, "&#39;").replace(/</g, "&lt;").replace(/>/g, "&gt;")
                }

                function o() {
                    r(), d(), l(), u(), p(), c()
                }

                function s() {
                    y.hover(b, O), !x.onclick && x.tapToDismiss && y.click(w), x.closeButton && k && k.click(function(e) {
                        e.stopPropagation ? e.stopPropagation() : void 0 !== e.cancelBubble && e.cancelBubble !== !0 && (e.cancelBubble = !0), w(!0)
                    }), x.onclick && y.click(function(e) {
                        x.onclick(e), w()
                    })
                }

                function a() {
                    y.hide(), y[x.showMethod]({
                        duration: x.showDuration,
                        easing: x.showEasing,
                        complete: x.onShown
                    }), x.timeOut > 0 && (H = setTimeout(w, x.timeOut), q.maxHideTime = parseFloat(x.timeOut), q.hideEta = (new Date).getTime() + q.maxHideTime, x.progressBar && (q.intervalId = setInterval(D, 10)))
                }

                function r() {
                    t.iconClass && y.addClass(x.toastClass).addClass(E)
                }

                function c() {
                    x.newestOnTop ? v.prepend(y) : v.append(y)
                }

                function d() {
                    t.title && (I.append(x.escapeHtml ? i(t.title) : t.title).addClass(x.titleClass), y.append(I))
                }

                function l() {
                    t.message && (M.append(x.escapeHtml ? i(t.message) : t.message).addClass(x.messageClass), y.append(M))
                }

                function u() {
                    x.closeButton && (k.addClass("toast-close-button").attr("role", "button"), y.prepend(k))
                }

                function p() {
                    x.progressBar && (B.addClass("toast-progress"), y.prepend(B))
                }

                function g(e, t) {
                    if (e.preventDuplicates) {
                        if (t.message === C) return !0;
                        C = t.message
                    }
                    return !1
                }

                function w(t) {
                    var n = t && x.closeMethod !== !1 ? x.closeMethod : x.hideMethod,
                        i = t && x.closeDuration !== !1 ? x.closeDuration : x.hideDuration,
                        o = t && x.closeEasing !== !1 ? x.closeEasing : x.hideEasing;
                    return !e(":focus", y).length || t ? (clearTimeout(q.intervalId), y[n]({
                        duration: i,
                        easing: o,
                        complete: function() {
                            h(y), x.onHidden && "hidden" !== j.state && x.onHidden(), j.state = "hidden", j.endTime = new Date, f(j)
                        }
                    })) : void 0
                }

                function O() {
                    (x.timeOut > 0 || x.extendedTimeOut > 0) && (H = setTimeout(w, x.extendedTimeOut), q.maxHideTime = parseFloat(x.extendedTimeOut), q.hideEta = (new Date).getTime() + q.maxHideTime)
                }

                function b() {
                    clearTimeout(H), q.hideEta = 0, y.stop(!0, !0)[x.showMethod]({
                        duration: x.showDuration,
                        easing: x.showEasing
                    })
                }

                function D() {
                    var e = (q.hideEta - (new Date).getTime()) / q.maxHideTime * 100;
                    B.width(e + "%")
                }
                var x = m(),
                    E = t.iconClass || x.iconClass;
                if ("undefined" != typeof t.optionsOverride && (x = e.extend(x, t.optionsOverride), E = t.optionsOverride.iconClass || E), !g(x, t)) {
                    T++, v = n(x, !0);
                    var H = null,
                        y = e("<div/>"),
                        I = e("<div/>"),
                        M = e("<div/>"),
                        B = e("<div/>"),
                        k = e(x.closeHtml),
                        q = {
                            intervalId: null,
                            hideEta: null,
                            maxHideTime: null
                        },
                        j = {
                            toastId: T,
                            state: "visible",
                            startTime: new Date,
                            options: x,
                            map: t
                        };
                    return o(), a(), s(), f(j), x.debug && console && console.log(j), y
                }
            }

            function m() {
                return e.extend({}, p(), b.options)
            }

            function h(e) {
                v || (v = n()), e.is(":visible") || (e.remove(), e = null, 0 === v.children().length && (v.remove(), C = void 0))
            }
            var v, w, C, T = 0,
                O = {
                    error: "error",
                    info: "info",
                    success: "success",
                    warning: "warning"
                },
                b = {
                    clear: r,
                    remove: c,
                    error: t,
                    getContainer: n,
                    info: i,
                    options: {},
                    subscribe: o,
                    success: s,
                    version: "2.1.2",
                    warning: a
                };
            return b
        }()
    })
}("function" == typeof define && define.amd ? define : function(e, t) {
    "undefined" != typeof module && module.exports ? module.exports = t(require("jquery")) : window.toastr = t(window.jQuery)
});
! function(t) {
    "use strict";
    var e = function(e, s) {
        this.$element = t(e), this.options = t.extend({}, t.fn.typeahead.defaults, s), this.matcher = this.options.matcher || this.matcher, this.sorter = this.options.sorter || this.sorter, this.highlighter = this.options.highlighter || this.highlighter, this.updater = this.options.updater || this.updater, this.source = this.options.source, this.$menu = t(this.options.menu), this.shown = !1, this.listen()
    };
    e.prototype = {
        constructor: e,
        select: function() {
            var t = this.$menu.find(".active").attr("data-value");
            return this.$element.val(this.updater(t)).change(), this.hide()
        },
        updater: function(t) {
            return t
        },
        show: function() {
            var e = t.extend({}, this.$element.position(), {
                height: this.$element[0].offsetHeight
            });
            return this.$menu.insertAfter(this.$element).css({
                top: e.top + e.height,
                left: e.left
            }).show(), this.shown = !0, this
        },
        hide: function() {
            return this.$menu.hide(), this.shown = !1, this
        },
        lookup: function(e) {
            var s;
            return this.query = this.$element.val(), this.query.length < this.options.minLength ? this.shown ? this.hide() : this : (s = t.isFunction(this.source) ? this.source(this.query, t.proxy(this.process, this)) : this.source, s ? this.process(s) : this)
        },
        process: function(e) {
            var s = this;
            return e = t.grep(e, function(t) {
                return s.matcher(t)
            }), e = this.sorter(e), e.length ? this.render(e.slice(0, this.options.items)).show() : this.shown ? this.hide() : this
        },
        matcher: function(t) {
            return ~t.toLowerCase().indexOf(this.query.toLowerCase())
        },
        sorter: function(t) {
            for (var e, s = [], i = [], n = []; e = t.shift();) e.toLowerCase().indexOf(this.query.toLowerCase()) ? ~e.indexOf(this.query) ? i.push(e) : n.push(e) : s.push(e);
            return s.concat(i, n)
        },
        highlighter: function(t) {
            var e = this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
            return t.replace(new RegExp("(" + e + ")", "ig"), function(t, e) {
                return "<strong>" + e + "</strong>"
            })
        },
        render: function(e) {
            var s = this;
            return e = t(e).map(function(e, i) {
                return e = t(s.options.item).attr("data-value", i), e.find("a").html(s.highlighter(i)), e[0]
            }), e.first().addClass("active"), this.$menu.html(e), this
        },
        next: function(e) {
            var s = this.$menu.find(".active").removeClass("active"),
                i = s.next();
            i.length || (i = t(this.$menu.find("li")[0])), i.addClass("active")
        },
        prev: function(t) {
            var e = this.$menu.find(".active").removeClass("active"),
                s = e.prev();
            s.length || (s = this.$menu.find("li").last()), s.addClass("active")
        },
        listen: function() {
            this.$element.on("focus", t.proxy(this.focus, this)).on("blur", t.proxy(this.blur, this)).on("keypress", t.proxy(this.keypress, this)).on("keyup", t.proxy(this.keyup, this)), this.$element.parent().on("mouseleave", t.proxy(this.blur, this)), this.eventSupported("keydown") && this.$element.on("keydown", t.proxy(this.keydown, this)), this.$menu.on("click", t.proxy(this.click, this)).on("mouseenter", "li", t.proxy(this.mouseenter, this)).on("mouseleave", "li", t.proxy(this.mouseleave, this))
        },
        eventSupported: function(t) {
            var e = t in this.$element;
            return e || (this.$element.setAttribute(t, "return;"), e = "function" == typeof this.$element[t]), e
        },
        move: function(t) {
            if (this.shown) {
                switch (t.keyCode) {
                    case 9:
                    case 13:
                    case 27:
                        t.preventDefault();
                        break;
                    case 38:
                        t.preventDefault(), this.prev();
                        break;
                    case 40:
                        t.preventDefault(), this.next()
                }
                t.stopPropagation()
            }
        },
        keydown: function(e) {
            this.suppressKeyPressRepeat = ~t.inArray(e.keyCode, [40, 38, 9, 13, 27]), this.move(e)
        },
        keypress: function(t) {
            this.suppressKeyPressRepeat || this.move(t)
        },
        keyup: function(t) {
            switch (t.keyCode) {
                case 40:
                case 38:
                case 16:
                case 17:
                case 18:
                    break;
                case 9:
                case 13:
                    if (!this.shown) return;
                    this.select();
                    break;
                case 27:
                    if (!this.shown) return;
                    this.hide();
                    break;
                default:
                    this.lookup()
            }
            t.stopPropagation(), t.preventDefault()
        },
        focus: function(t) {
            this.focused = !0, this.lookup()
        },
        blur: function(t) {
            this.focused = !1, !this.mousedover && this.shown && this.hide()
        },
        click: function(t) {
            t.stopPropagation(), t.preventDefault(), this.select(), this.$element.focus(), this.hide()
        },
        mouseenter: function(e) {
            this.mousedover = !0, this.$menu.find(".active").removeClass("active"), t(e.currentTarget).addClass("active")
        },
        mouseleave: function(t) {
            this.mousedover = !1, !this.focused && this.shown && this.hide()
        }
    };
    var s = t.fn.typeahead;
    t.fn.typeahead = function(s) {
        return this.each(function() {
            var i = t(this),
                n = i.data("typeahead"),
                h = "object" == typeof s && s;
            n || i.data("typeahead", n = new e(this, h)), "string" == typeof s && n[s]()
        })
    }, t.fn.typeahead.defaults = {
        source: [],
        items: 8,
        menu: '<ul class="typeahead dropdown-menu"></ul>',
        item: '<li><a href="#"></a></li>',
        minLength: 1
    }, t.fn.typeahead.Constructor = e, t.fn.typeahead.noConflict = function() {
        return t.fn.typeahead = s, this
    }, t(document).on("focus.typeahead.data-api", '[data-provide="typeahead"]', function(e) {
        var s = t(this);
        s.data("typeahead") || s.typeahead(s.data())
    })
}(window.jQuery);
! function(t) {
    function i(i, e) {
        this.el = t(i), this.options = e || {}, this.x = !1 !== this.options.x || this.options.forceHorizontal, this.y = !1 !== this.options.y || this.options.forceVertical, this.autoHide = !1 !== this.options.autoHide, this.padding = void 0 == this.options.padding ? 2 : this.options.padding, this.inner = this.el.find(".antiscroll-inner").first(), this.options.width ? this.inner.css({
            width: parseFloat(this.options.width) + (this.x ? o() : 0)
        }) : this.inner.css("width").indexOf("%") > -1 || this.inner.css({
            width: "+=" + (this.x ? o() : 0)
        }), this.options.height ? this.inner.css({
            height: parseFloat(this.options.height) + (this.y ? o() : 0)
        }) : this.inner.css("height").indexOf("%") > -1 || this.inner.css({
            height: "+=" + (this.y ? o() : 0)
        }), this.refresh()
    }

    function e(t) {
        "use strict";
        var i, e = t.changedTouches,
            s = e[0],
            n = "";
        switch (t.type) {
            case "touchstart":
                n = "mousedown";
                break;
            case "touchmove":
                n = "mousemove";
                break;
            case "touchend":
                n = "mouseup";
                break;
            default:
                return
        }
        i = document.createEvent("MouseEvent"), i.initMouseEvent(n, !0, !0, window, 1, s.screenX, s.screenY, s.clientX, s.clientY, !1, !1, !1, !1, 0, null), e.length < 2 && (s.target.dispatchEvent(i), "touchend" == t.type && (n = "click", i = document.createEvent("MouseEvent"), i.initMouseEvent(n, !0, !0, window, 1, s.screenX, s.screenY, s.clientX, s.clientY, !1, !1, !1, !1, 0, null), s.target.dispatchEvent(i)), t.preventDefault())
    }

    function s(i) {
        this.pane = i, this.pane.el.append(this.el), this.innerEl = this.pane.inner.get(0), this.dragging = !1, this.enter = !1, this.shown = !1, t(this.el).get(0).addEventListener("touchstart", e, !0), t(this.el).get(0).addEventListener("touchmove", e, !0), t(this.el).get(0).addEventListener("touchend", e, !0), t(this.el).get(0).addEventListener("touchcancel", e, !0), this.pane.el.mouseenter(t.proxy(this, "mouseenter")), this.pane.el.mouseleave(t.proxy(this, "mouseleave")), this.el.mousedown(t.proxy(this, "mousedown")), this.innerPaneScrollListener = t.proxy(this, "scroll"), this.pane.inner[0].addEventListener("scroll", this.innerPaneScrollListener), this.innerPaneMouseWheelListener = t.proxy(this, "mousewheel"), this.pane.inner.bind("mousewheel", this.innerPaneMouseWheelListener);
        var s = this.pane.options.initialDisplay;
        s !== !1 && (this.show(), this.pane.autoHide && (this.hiding = setTimeout(t.proxy(this, "hide"), parseInt(s, 10) || 3e3)))
    }

    function n(t, i) {
        function e() {}
        e.prototype = i.prototype, t.prototype = new e
    }

    function o() {
        if (void 0 === h) {
            var i = t('<div class="antiscroll-inner" style="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;"><div style="height:100px;width:100%"/></div>');
            t("body").append(i);
            var e = t(i).innerWidth(),
                s = t("div", i).innerWidth();
            t(i).remove(), h = e - s
        }
        return h
    }
    t.fn.antiscroll = function(i) {
        return this.each(function() {
            t(this).data("antiscroll") && t(this).data("antiscroll").destroy(), t(this).data("antiscroll", new t.Antiscroll(this, i))
        })
    }, t.Antiscroll = i, i.prototype.refresh = function() {
        var t = this.inner.get(0).scrollWidth > this.el.width() + (this.y ? o() : 0),
            i = this.inner.get(0).scrollHeight > this.el.height() + (this.x ? o() : 0);
        this.x && this.options.horizontal !== !1 && (!this.horizontal && t ? this.horizontal = new s.Horizontal(this) : this.horizontal && !t ? (this.horizontal.destroy(), this.horizontal = null) : this.horizontal && this.horizontal.update()), this.y && this.options.vertical !== !1 && (!this.vertical && i ? this.vertical = new s.Vertical(this) : this.vertical && !i ? (this.vertical.destroy(), this.vertical = null) : this.vertical && this.vertical.update())
    }, i.prototype.destroy = function() {
        return this.horizontal && (this.horizontal.destroy(), this.horizontal = null), this.vertical && (this.vertical.destroy(), this.vertical = null), this
    }, i.prototype.rebuild = function() {
        return this.destroy(), this.inner.attr("style", ""), i.call(this, this.el, this.options), this
    }, s.prototype.destroy = function() {
        return this.el.remove(), this.pane.inner.unbind("scroll", this.innerPaneScrollListener), this.pane.inner.unbind("mousewheel", this.innerPaneMouseWheelListener), this
    }, s.prototype.mouseenter = function() {
        this.enter = !0, this.show()
    }, s.prototype.mouseleave = function() {
        this.enter = !1, this.dragging || this.pane.autoHide && this.hide()
    }, s.prototype.scroll = function() {
        this.shown || (this.show(), this.enter || this.dragging || this.pane.autoHide && (this.hiding = setTimeout(t.proxy(this, "hide"), 1500))), this.update()
    }, s.prototype.mousedown = function(i) {
        i.preventDefault(), this.dragging = !0, this.startPageY = i.pageY - parseInt(this.el.css("top"), 10), this.startPageX = i.pageX - parseInt(this.el.css("left"), 10), this.el[0].ownerDocument.onselectstart = function() {
            return !1
        };
        var e = (this.pane, t.proxy(this, "mousemove")),
            s = this;
        t(this.el[0].ownerDocument).mousemove(e).mouseup(function() {
            s.dragging = !1, this.onselectstart = null, t(this).unbind("mousemove", e), s.enter || s.hide()
        })
    }, s.prototype.show = function(t) {
        !this.shown && this.update() && (this.el.addClass("antiscroll-scrollbar-shown"), this.hiding && (clearTimeout(this.hiding), this.hiding = null), this.shown = !0)
    }, s.prototype.hide = function() {
        this.pane.autoHide !== !1 && this.shown && (this.el.removeClass("antiscroll-scrollbar-shown"), this.shown = !1)
    }, s.Horizontal = function(i) {
        this.el = t('<div class="antiscroll-scrollbar antiscroll-scrollbar-horizontal"/>', i.el), s.call(this, i)
    }, n(s.Horizontal, s), s.Horizontal.prototype.update = function() {
        var t = this.pane.el.width(),
            i = t - 2 * this.pane.padding,
            e = this.pane.inner.get(0);
        return this.el.css("width", i * t / e.scrollWidth).css("left", i * e.scrollLeft / e.scrollWidth), t < e.scrollWidth
    }, s.Horizontal.prototype.mousemove = function(t) {
        var i = this.pane.el.width() - 2 * this.pane.padding,
            e = t.pageX - this.startPageX,
            s = this.el.width(),
            n = this.pane.inner.get(0),
            o = Math.min(Math.max(e, 0), i - s);
        n.scrollLeft = (n.scrollWidth - this.pane.el.width()) * o / (i - s)
    }, s.Horizontal.prototype.mousewheel = function(t, i, e, s) {
        if (e < 0 && 0 == this.pane.inner.get(0).scrollLeft || e > 0 && this.innerEl.scrollLeft + Math.ceil(this.pane.el.width()) == this.innerEl.scrollWidth) return t.preventDefault(), !1
    }, s.Vertical = function(i) {
        this.el = t('<div class="antiscroll-scrollbar antiscroll-scrollbar-vertical"/>', i.el), s.call(this, i)
    }, n(s.Vertical, s), s.Vertical.prototype.update = function() {
        var t = this.pane.el.height(),
            i = t - 2 * this.pane.padding,
            e = this.innerEl,
            s = i * t / e.scrollHeight;
        s = s < 20 ? 20 : s;
        var n = i * e.scrollTop / e.scrollHeight;
        if (n + s > i) {
            var o = n + s - i;
            n = n - o - 3
        }
        return this.el.css("height", s).css("top", n), t < e.scrollHeight
    }, s.Vertical.prototype.mousemove = function(t) {
        var i = this.pane.el.height(),
            e = i - 2 * this.pane.padding,
            s = t.pageY - this.startPageY,
            n = this.el.height(),
            o = this.innerEl,
            h = Math.min(Math.max(s, 0), e - n);
        o.scrollTop = (o.scrollHeight - i) * h / (e - n)
    }, s.Vertical.prototype.mousewheel = function(t, i, e, s) {
        if (s > 0 && 0 == this.innerEl.scrollTop || s < 0 && this.innerEl.scrollTop + Math.ceil(this.pane.el.height()) == this.innerEl.scrollHeight) return t.preventDefault(), !1
    };
    var h
}(jQuery);
if ("undefined" == typeof jQuery) throw new Error("Bootstrap's JavaScript requires jQuery"); + function(t) {
    "use strict";
    var e = t.fn.jquery.split(" ")[0].split(".");
    if (e[0] < 2 && e[1] < 9 || 1 == e[0] && 9 == e[1] && e[2] < 1) throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")
}(jQuery), + function(t) {
    "use strict";

    function e(e) {
        e && 3 === e.which || (t(n).remove(), t(r).each(function() {
            var i = t(this),
                n = o(i),
                r = {
                    relatedTarget: this
                };
            n.hasClass("open") && (n.trigger(e = t.Event("hide.bs.dropdown", r)), e.isDefaultPrevented() || (i.attr("aria-expanded", "false"), n.removeClass("open").trigger("hidden.bs.dropdown", r)))
        }))
    }

    function o(e) {
        var o = e.attr("data-target");
        o || (o = e.attr("href"), o = o && /#[A-Za-z]/.test(o) && o.replace(/.*(?=#[^\s]*$)/, ""));
        var i = o && t(o);
        return i && i.length ? i : e.parent()
    }

    function i(e) {
        return this.each(function() {
            var o = t(this),
                i = o.data("bs.dropdown");
            i || o.data("bs.dropdown", i = new s(this)), "string" == typeof e && i[e].call(o)
        })
    }
    var n = ".dropdown-backdrop",
        r = '[data-toggle="dropdown"]',
        s = function(e) {
            t(e).on("click.bs.dropdown", this.toggle)
        };
    s.VERSION = "3.3.2", s.prototype.toggle = function(i) {
        var n = t(this);
        if (!n.is(".disabled, :disabled")) {
            var r = o(n),
                s = r.hasClass("open");
            if (e(), !s) {
                "ontouchstart" in document.documentElement && !r.closest(".navbar-nav").length && t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click", e);
                var a = {
                    relatedTarget: this
                };
                if (r.trigger(i = t.Event("show.bs.dropdown", a)), i.isDefaultPrevented()) return;
                n.trigger("focus").attr("aria-expanded", "true"), r.toggleClass("open").trigger("shown.bs.dropdown", a)
            }
            return !1
        }
    }, s.prototype.keydown = function(e) {
        if (/(38|40|27|32)/.test(e.which) && !/input|textarea/i.test(e.target.tagName)) {
            var i = t(this);
            if (e.preventDefault(), e.stopPropagation(), !i.is(".disabled, :disabled")) {
                var n = o(i),
                    s = n.hasClass("open");
                if (!s && 27 != e.which || s && 27 == e.which) return 27 == e.which && n.find(r).trigger("focus"), i.trigger("click");
                var a = " li:not(.divider):visible a",
                    p = n.find('[role="menu"]' + a + ', [role="listbox"]' + a);
                if (p.length) {
                    var l = p.index(e.target);
                    38 == e.which && l > 0 && l--, 40 == e.which && l < p.length - 1 && l++, ~l || (l = 0), p.eq(l).trigger("focus")
                }
            }
        }
    };
    var a = t.fn.dropdown;
    t.fn.dropdown = i, t.fn.dropdown.Constructor = s, t.fn.dropdown.noConflict = function() {
        return t.fn.dropdown = a, this
    }, t(document).on("click.bs.dropdown.data-api", e).on("click.bs.dropdown.data-api", ".dropdown form", function(t) {
        t.stopPropagation()
    }).on("click.bs.dropdown.data-api", r, s.prototype.toggle).on("keydown.bs.dropdown.data-api", r, s.prototype.keydown).on("keydown.bs.dropdown.data-api", '[role="menu"]', s.prototype.keydown).on("keydown.bs.dropdown.data-api", '[role="listbox"]', s.prototype.keydown)
}(jQuery), + function(t) {
    "use strict";

    function e(e) {
        return this.each(function() {
            var i = t(this),
                n = i.data("bs.tooltip"),
                r = "object" == typeof e && e;
            (n || "destroy" != e) && (n || i.data("bs.tooltip", n = new o(this, r)), "string" == typeof e && n[e]())
        })
    }
    var o = function(t, e) {
        this.type = this.options = this.enabled = this.timeout = this.hoverState = this.$element = null, this.init("tooltip", t, e)
    };
    o.VERSION = "3.3.2", o.TRANSITION_DURATION = 150, o.DEFAULTS = {
        animation: !0,
        placement: "top",
        selector: !1,
        template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
        trigger: "hover focus",
        title: "",
        delay: 0,
        html: !1,
        container: !1,
        viewport: {
            selector: "body",
            padding: 0
        }
    }, o.prototype.init = function(e, o, i) {
        this.enabled = !0, this.type = e, this.$element = t(o), this.options = this.getOptions(i), this.$viewport = this.options.viewport && t(this.options.viewport.selector || this.options.viewport);
        for (var n = this.options.trigger.split(" "), r = n.length; r--;) {
            var s = n[r];
            if ("click" == s) this.$element.on("click." + this.type, this.options.selector, t.proxy(this.toggle, this));
            else if ("manual" != s) {
                var a = "hover" == s ? "mouseenter" : "focusin",
                    p = "hover" == s ? "mouseleave" : "focusout";
                this.$element.on(a + "." + this.type, this.options.selector, t.proxy(this.enter, this)), this.$element.on(p + "." + this.type, this.options.selector, t.proxy(this.leave, this))
            }
        }
        this.options.selector ? this._options = t.extend({}, this.options, {
            trigger: "manual",
            selector: ""
        }) : this.fixTitle()
    }, o.prototype.getDefaults = function() {
        return o.DEFAULTS
    }, o.prototype.getOptions = function(e) {
        return e = t.extend({}, this.getDefaults(), this.$element.data(), e), e.delay && "number" == typeof e.delay && (e.delay = {
            show: e.delay,
            hide: e.delay
        }), e
    }, o.prototype.getDelegateOptions = function() {
        var e = {},
            o = this.getDefaults();
        return this._options && t.each(this._options, function(t, i) {
            o[t] != i && (e[t] = i)
        }), e
    }, o.prototype.enter = function(e) {
        var o = e instanceof this.constructor ? e : t(e.currentTarget).data("bs." + this.type);
        return o && o.$tip && o.$tip.is(":visible") ? void(o.hoverState = "in") : (o || (o = new this.constructor(e.currentTarget, this.getDelegateOptions()), t(e.currentTarget).data("bs." + this.type, o)), clearTimeout(o.timeout), o.hoverState = "in", o.options.delay && o.options.delay.show ? void(o.timeout = setTimeout(function() {
            "in" == o.hoverState && o.show()
        }, o.options.delay.show)) : o.show())
    }, o.prototype.leave = function(e) {
        var o = e instanceof this.constructor ? e : t(e.currentTarget).data("bs." + this.type);
        return o || (o = new this.constructor(e.currentTarget, this.getDelegateOptions()), t(e.currentTarget).data("bs." + this.type, o)), clearTimeout(o.timeout), o.hoverState = "out", o.options.delay && o.options.delay.hide ? void(o.timeout = setTimeout(function() {
            "out" == o.hoverState && o.hide()
        }, o.options.delay.hide)) : o.hide()
    }, o.prototype.show = function() {
        var e = t.Event("show.bs." + this.type);
        if (this.hasContent() && this.enabled) {
            this.$element.trigger(e);
            var i = t.contains(this.$element[0].ownerDocument.documentElement, this.$element[0]);
            if (e.isDefaultPrevented() || !i) return;
            var n = this,
                r = this.tip(),
                s = this.getUID(this.type);
            this.setContent(), r.attr("id", s), this.$element.attr("aria-describedby", s), this.options.animation && r.addClass("fade");
            var a = "function" == typeof this.options.placement ? this.options.placement.call(this, r[0], this.$element[0]) : this.options.placement,
                p = /\s?auto?\s?/i,
                l = p.test(a);
            l && (a = a.replace(p, "") || "top"), r.detach().css({
                top: 0,
                left: 0,
                display: "block"
            }).addClass(a).data("bs." + this.type, this), this.options.container ? r.appendTo(this.options.container) : r.insertAfter(this.$element);
            var h = this.getPosition(),
                d = r[0].offsetWidth,
                f = r[0].offsetHeight;
            if (l) {
                var c = a,
                    u = this.options.container ? t(this.options.container) : this.$element.parent(),
                    g = this.getPosition(u);
                a = "bottom" == a && h.bottom + f > g.bottom ? "top" : "top" == a && h.top - f < g.top ? "bottom" : "right" == a && h.right + d > g.width ? "left" : "left" == a && h.left - d < g.left ? "right" : a, r.removeClass(c).addClass(a)
            }
            var v = this.getCalculatedOffset(a, h, d, f);
            this.applyPlacement(v, a);
            var y = function() {
                var t = n.hoverState;
                n.$element.trigger("shown.bs." + n.type), n.hoverState = null, "out" == t && n.leave(n)
            };
            t.support.transition && this.$tip.hasClass("fade") ? r.one("bsTransitionEnd", y).emulateTransitionEnd(o.TRANSITION_DURATION) : y()
        }
    }, o.prototype.applyPlacement = function(e, o) {
        var i = this.tip(),
            n = i[0].offsetWidth,
            r = i[0].offsetHeight,
            s = parseInt(i.css("margin-top"), 10),
            a = parseInt(i.css("margin-left"), 10);
        isNaN(s) && (s = 0), isNaN(a) && (a = 0), e.top = e.top + s, e.left = e.left + a, t.offset.setOffset(i[0], t.extend({
            using: function(t) {
                i.css({
                    top: Math.round(t.top),
                    left: Math.round(t.left)
                })
            }
        }, e), 0), i.addClass("in");
        var p = i[0].offsetWidth,
            l = i[0].offsetHeight;
        "top" == o && l != r && (e.top = e.top + r - l);
        var h = this.getViewportAdjustedDelta(o, e, p, l);
        h.left ? e.left += h.left : e.top += h.top;
        var d = /top|bottom/.test(o),
            f = d ? 2 * h.left - n + p : 2 * h.top - r + l,
            c = d ? "offsetWidth" : "offsetHeight";
        i.offset(e), this.replaceArrow(f, i[0][c], d)
    }, o.prototype.replaceArrow = function(t, e, o) {
        this.arrow().css(o ? "left" : "top", 50 * (1 - t / e) + "%").css(o ? "top" : "left", "")
    }, o.prototype.setContent = function() {
        var t = this.tip(),
            e = this.getTitle();
        t.find(".tooltip-inner")[this.options.html ? "html" : "text"](e), t.removeClass("fade in top bottom left right")
    }, o.prototype.hide = function(e) {
        function i() {
            "in" != n.hoverState && r.detach(), n.$element.removeAttr("aria-describedby").trigger("hidden.bs." + n.type), e && e()
        }
        var n = this,
            r = this.tip(),
            s = t.Event("hide.bs." + this.type);
        if (this.$element.trigger(s), !s.isDefaultPrevented()) return r.removeClass("in"), t.support.transition && this.$tip.hasClass("fade") ? r.one("bsTransitionEnd", i).emulateTransitionEnd(o.TRANSITION_DURATION) : i(), this.hoverState = null, this
    }, o.prototype.fixTitle = function() {
        var t = this.$element;
        (t.attr("title") || "string" != typeof t.attr("data-original-title")) && t.attr("data-original-title", t.attr("title") || "").attr("title", "")
    }, o.prototype.hasContent = function() {
        return this.getTitle()
    }, o.prototype.getPosition = function(e) {
        e = e || this.$element;
        var o = e[0],
            i = "BODY" == o.tagName,
            n = o.getBoundingClientRect();
        null == n.width && (n = t.extend({}, n, {
            width: n.right - n.left,
            height: n.bottom - n.top
        }));
        var r = i ? {
                top: 0,
                left: 0
            } : e.offset(),
            s = {
                scroll: i ? document.documentElement.scrollTop || document.body.scrollTop : e.scrollTop()
            },
            a = i ? {
                width: t(window).width(),
                height: t(window).height()
            } : null;
        return t.extend({}, n, s, a, r)
    }, o.prototype.getCalculatedOffset = function(t, e, o, i) {
        return "bottom" == t ? {
            top: e.top + e.height,
            left: e.left + e.width / 2 - o / 2
        } : "top" == t ? {
            top: e.top - i,
            left: e.left + e.width / 2 - o / 2
        } : "left" == t ? {
            top: e.top + e.height / 2 - i / 2,
            left: e.left - o
        } : {
            top: e.top + e.height / 2 - i / 2,
            left: e.left + e.width
        }
    }, o.prototype.getViewportAdjustedDelta = function(t, e, o, i) {
        var n = {
            top: 0,
            left: 0
        };
        if (!this.$viewport) return n;
        var r = this.options.viewport && this.options.viewport.padding || 0,
            s = this.getPosition(this.$viewport);
        if (/right|left/.test(t)) {
            var a = e.top - r - s.scroll,
                p = e.top + r - s.scroll + i;
            a < s.top ? n.top = s.top - a : p > s.top + s.height && (n.top = s.top + s.height - p)
        } else {
            var l = e.left - r,
                h = e.left + r + o;
            l < s.left ? n.left = s.left - l : h > s.width && (n.left = s.left + s.width - h)
        }
        return n
    }, o.prototype.getTitle = function() {
        var t, e = this.$element,
            o = this.options;
        return t = e.attr("data-original-title") || ("function" == typeof o.title ? o.title.call(e[0]) : o.title)
    }, o.prototype.getUID = function(t) {
        do t += ~~(1e6 * Math.random()); while (document.getElementById(t));
        return t
    }, o.prototype.tip = function() {
        return this.$tip = this.$tip || t(this.options.template)
    }, o.prototype.arrow = function() {
        return this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow")
    }, o.prototype.enable = function() {
        this.enabled = !0
    }, o.prototype.disable = function() {
        this.enabled = !1
    }, o.prototype.toggleEnabled = function() {
        this.enabled = !this.enabled
    }, o.prototype.toggle = function(e) {
        var o = this;
        e && (o = t(e.currentTarget).data("bs." + this.type), o || (o = new this.constructor(e.currentTarget, this.getDelegateOptions()), t(e.currentTarget).data("bs." + this.type, o))), o.tip().hasClass("in") ? o.leave(o) : o.enter(o)
    }, o.prototype.destroy = function() {
        var t = this;
        clearTimeout(this.timeout), this.hide(function() {
            t.$element.off("." + t.type).removeData("bs." + t.type)
        })
    };
    var i = t.fn.tooltip;
    t.fn.tooltip = e, t.fn.tooltip.Constructor = o, t.fn.tooltip.noConflict = function() {
        return t.fn.tooltip = i, this
    }
}(jQuery), + function(t) {
    "use strict";

    function e(e) {
        return this.each(function() {
            var i = t(this),
                n = i.data("bs.popover"),
                r = "object" == typeof e && e;
            (n || "destroy" != e) && (n || i.data("bs.popover", n = new o(this, r)), "string" == typeof e && n[e]())
        })
    }
    var o = function(t, e) {
        this.init("popover", t, e)
    };
    if (!t.fn.tooltip) throw new Error("Popover requires tooltip.js");
    o.VERSION = "3.3.2", o.DEFAULTS = t.extend({}, t.fn.tooltip.Constructor.DEFAULTS, {
        placement: "right",
        trigger: "click",
        content: "",
        template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
    }), o.prototype = t.extend({}, t.fn.tooltip.Constructor.prototype), o.prototype.constructor = o, o.prototype.getDefaults = function() {
        return o.DEFAULTS
    }, o.prototype.setContent = function() {
        var t = this.tip(),
            e = this.getTitle(),
            o = this.getContent();
        t.find(".popover-title")[this.options.html ? "html" : "text"](e), t.find(".popover-content").children().detach().end()[this.options.html ? "string" == typeof o ? "html" : "append" : "text"](o), t.removeClass("fade top bottom left right in"), t.find(".popover-title").html() || t.find(".popover-title").hide()
    }, o.prototype.hasContent = function() {
        return this.getTitle() || this.getContent()
    }, o.prototype.getContent = function() {
        var t = this.$element,
            e = this.options;
        return t.attr("data-content") || ("function" == typeof e.content ? e.content.call(t[0]) : e.content)
    }, o.prototype.arrow = function() {
        return this.$arrow = this.$arrow || this.tip().find(".arrow")
    }, o.prototype.tip = function() {
        return this.$tip || (this.$tip = t(this.options.template)), this.$tip
    };
    var i = t.fn.popover;
    t.fn.popover = e, t.fn.popover.Constructor = o, t.fn.popover.noConflict = function() {
        return t.fn.popover = i, this
    }
}(jQuery), + function(t) {
    "use strict";

    function e(e) {
        return this.each(function() {
            var i = t(this),
                n = i.data("bs.tab");
            n || i.data("bs.tab", n = new o(this)), "string" == typeof e && n[e]()
        })
    }
    var o = function(e) {
        this.element = t(e)
    };
    o.VERSION = "3.3.2", o.TRANSITION_DURATION = 150, o.prototype.show = function() {
        var e = this.element,
            o = e.closest("ul:not(.dropdown-menu)"),
            i = e.data("target");
        i || (i = e.attr("href"), i = i && i.replace(/.*(?=#[^\s]*$)/, ""));
        var n = o.find(".active:last a"),
            r = t.Event("hide.bs.tab", {
                relatedTarget: e[0]
            }),
            s = t.Event("show.bs.tab", {
                relatedTarget: n[0]
            });
        if (n.trigger(r), e.trigger(s), !s.isDefaultPrevented() && !r.isDefaultPrevented()) {
            var a = t(i);
            this.activate(e.closest("li"), o), this.activate(a, a.parent(), function() {
                n.trigger({
                    type: "hidden.bs.tab",
                    relatedTarget: e[0]
                }), e.trigger({
                    type: "shown.bs.tab",
                    relatedTarget: n[0]
                })
            })
        }
    }, o.prototype.activate = function(e, i, n) {
        function r() {
            s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !1), e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded", !0), a ? (e[0].offsetWidth, e.addClass("in")) : e.removeClass("fade"), e.parent(".dropdown-menu") && e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !0), n && n()
        }
        var s = i.find("> .active"),
            a = n && t.support.transition && (s.length && s.hasClass("fade") || !!i.find("> .fade").length);
        s.length && a ? s.one("bsTransitionEnd", r).emulateTransitionEnd(o.TRANSITION_DURATION) : r(), s.removeClass("in")
    };
    var i = t.fn.tab;
    t.fn.tab = e, t.fn.tab.Constructor = o, t.fn.tab.noConflict = function() {
        return t.fn.tab = i, this
    };
    var n = function(o) {
        o.preventDefault(), e.call(t(this), "show")
    };
    t(document).on("click.bs.tab.data-api", '[data-toggle="tab"]', n).on("click.bs.tab.data-api", '[data-toggle="pill"]', n)
}(jQuery);
! function(t) {
    "use strict";

    function e(e, n) {
        this.itemsArray = [], this.$element = t(e), this.$element.hide(), this.isSelect = "SELECT" === e.tagName, this.multiple = this.isSelect && e.hasAttribute("multiple"), this.objectItems = n && n.itemValue, this.placeholderText = e.hasAttribute("placeholder") ? this.$element.attr("placeholder") : "", this.inputSize = Math.max(1, this.placeholderText.length), this.$container = t('<div class="bootstrap-tagsinput"></div>'), this.$input = t('<input type="text" placeholder="' + this.placeholderText + '"/>').appendTo(this.$container), this.$element.after(this.$container);
        var i = (this.inputSize < 3 ? 3 : this.inputSize) + "em";
        this.$input.get(0).style.cssText = "width: " + i + " !important;", this.build(n)
    }

    function n(t, e) {
        if ("function" != typeof t[e]) {
            var n = t[e];
            t[e] = function(t) {
                return t[n]
            }
        }
    }

    function i(t, e) {
        if ("function" != typeof t[e]) {
            var n = t[e];
            t[e] = function() {
                return n
            }
        }
    }

    function a(t) {
        return t ? u.text(t).html() : ""
    }

    function r(t) {
        var e = 0;
        if (document.selection) {
            t.focus();
            var n = document.selection.createRange();
            n.moveStart("character", -t.value.length), e = n.text.length
        } else(t.selectionStart || "0" == t.selectionStart) && (e = t.selectionStart);
        return e
    }

    function o(e, n) {
        var i = !1;
        return t.each(n, function(t, n) {
            if ("number" == typeof n && e.which === n) return i = !0, !1;
            if (e.which === n.which) {
                var a = !n.hasOwnProperty("altKey") || e.altKey === n.altKey,
                    r = !n.hasOwnProperty("shiftKey") || e.shiftKey === n.shiftKey,
                    o = !n.hasOwnProperty("ctrlKey") || e.ctrlKey === n.ctrlKey;
                if (a && r && o) return i = !0, !1
            }
        }), i
    }
    var s = {
        tagClass: function(t) {
            return "label label-info"
        },
        itemValue: function(t) {
            return t ? t.toString() : t
        },
        itemText: function(t) {
            return this.itemValue(t)
        },
        freeInput: !0,
        addOnBlur: !0,
        maxTags: void 0,
        maxChars: void 0,
        confirmKeys: [13, 44],
        onTagExists: function(t, e) {
            e.hide().fadeIn()
        },
        trimValue: !1,
        allowDuplicates: !1
    };
    e.prototype = {
        constructor: e,
        add: function(e, n) {
            var i = this;
            if (!(i.options.maxTags && i.itemsArray.length >= i.options.maxTags) && (e === !1 || e)) {
                if ("string" == typeof e && i.options.trimValue && (e = t.trim(e)), "object" == typeof e && !i.objectItems) throw "Can't add objects when itemValue option is not set";
                if (!e.toString().match(/^\s*$/)) {
                    if (i.isSelect && !i.multiple && i.itemsArray.length > 0 && i.remove(i.itemsArray[0]), "string" == typeof e && "INPUT" === this.$element[0].tagName) {
                        var r = e.split(",");
                        if (r.length > 1) {
                            for (var o = 0; o < r.length; o++) this.add(r[o], !0);
                            return void(n || i.pushVal())
                        }
                    }
                    var s = i.options.itemValue(e),
                        u = i.options.itemText(e),
                        l = i.options.tagClass(e),
                        p = t.grep(i.itemsArray, function(t) {
                            return i.options.itemValue(t) === s
                        })[0];
                    if (!p || i.options.allowDuplicates) {
                        if (!(i.items().toString().length + e.length + 1 > i.options.maxInputLength)) {
                            var c = t.Event("beforeItemAdd", {
                                item: e,
                                cancel: !1
                            });
                            if (i.$element.trigger(c), !c.cancel) {
                                i.itemsArray.push(e);
                                var h = t('<span class="tag ' + a(l) + '">' + a(u) + '<span data-role="remove"></span></span>');
                                if (h.data("item", e), i.findInputWrapper().before(h), h.after(" "), i.isSelect && !t('option[value="' + encodeURIComponent(s) + '"]', i.$element)[0]) {
                                    var m = t("<option selected>" + a(u) + "</option>");
                                    m.data("item", e), m.attr("value", s), i.$element.append(m)
                                }
                                n || i.pushVal(), i.options.maxTags !== i.itemsArray.length && i.items().toString().length !== i.options.maxInputLength || i.$container.addClass("bootstrap-tagsinput-max"), i.$element.trigger(t.Event("itemAdded", {
                                    item: e
                                }))
                            }
                        }
                    } else if (i.options.onTagExists) {
                        var f = t(".tag", i.$container).filter(function() {
                            return t(this).data("item") === p
                        });
                        i.options.onTagExists(e, f)
                    }
                }
            }
        },
        remove: function(e, n) {
            var i = this;
            if (i.objectItems && (e = "object" == typeof e ? t.grep(i.itemsArray, function(t) {
                    return i.options.itemValue(t) == i.options.itemValue(e)
                }) : t.grep(i.itemsArray, function(t) {
                    return i.options.itemValue(t) == e
                }), e = e[e.length - 1]), e) {
                var a = t.Event("beforeItemRemove", {
                    item: e,
                    cancel: !1
                });
                if (i.$element.trigger(a), a.cancel) return;
                t(".tag", i.$container).filter(function() {
                    return t(this).data("item") === e
                }).remove(), t("option", i.$element).filter(function() {
                    return t(this).data("item") === e
                }).remove(), t.inArray(e, i.itemsArray) !== -1 && i.itemsArray.splice(t.inArray(e, i.itemsArray), 1)
            }
            n || i.pushVal(), i.options.maxTags > i.itemsArray.length && i.$container.removeClass("bootstrap-tagsinput-max"), i.$element.trigger(t.Event("itemRemoved", {
                item: e
            }))
        },
        removeAll: function() {
            var e = this;
            for (t(".tag", e.$container).remove(), t("option", e.$element).remove(); e.itemsArray.length > 0;) e.itemsArray.pop();
            e.pushVal()
        },
        refresh: function() {
            var e = this;
            t(".tag", e.$container).each(function() {
                var n = t(this),
                    i = n.data("item"),
                    r = e.options.itemValue(i),
                    o = e.options.itemText(i),
                    s = e.options.tagClass(i);
                if (n.attr("class", null), n.addClass("tag " + a(s)), n.contents().filter(function() {
                        return 3 == this.nodeType
                    })[0].nodeValue = a(o), e.isSelect) {
                    var u = t("option", e.$element).filter(function() {
                        return t(this).data("item") === i
                    });
                    u.attr("value", r)
                }
            })
        },
        items: function() {
            return this.itemsArray
        },
        pushVal: function() {
            var e = this,
                n = t.map(e.items(), function(t) {
                    return e.options.itemValue(t).toString()
                });
            e.$element.val(n, !0).trigger("change")
        },
        build: function(e) {
            var a = this;
            if (a.options = t.extend({}, s, e), a.objectItems && (a.options.freeInput = !1), n(a.options, "itemValue"), n(a.options, "itemText"), i(a.options, "tagClass"), a.options.typeahead) {
                var u = a.options.typeahead || {};
                i(u, "source"), a.$input.typeahead(t.extend({}, u, {
                    source: function(e, n) {
                        function i(t) {
                            for (var e = [], i = 0; i < t.length; i++) {
                                var o = a.options.itemText(t[i]);
                                r[o] = t[i], e.push(o)
                            }
                            n(e)
                        }
                        this.map = {};
                        var r = this.map,
                            o = u.source(e);
                        t.isFunction(o.success) ? o.success(i) : t.isFunction(o.then) ? o.then(i) : t.when(o).then(i)
                    },
                    updater: function(t) {
                        a.add(this.map[t])
                    },
                    matcher: function(t) {
                        return t.toLowerCase().indexOf(this.query.trim().toLowerCase()) !== -1
                    },
                    sorter: function(t) {
                        return t.sort()
                    },
                    highlighter: function(t) {
                        var e = new RegExp("(" + this.query + ")", "gi");
                        return t.replace(e, "<strong>$1</strong>")
                    }
                }))
            }
            if (a.options.typeaheadjs) {
                var l = a.options.typeaheadjs || {};
                a.$input.typeahead(null, l).on("typeahead:selected", t.proxy(function(t, e) {
                    l.valueKey ? a.add(e[l.valueKey]) : a.add(e), a.$input.typeahead("val", "")
                }, a))
            }
            a.$container.on("click", t.proxy(function(t) {
                a.$element.attr("disabled") || a.$input.removeAttr("disabled"), a.$input.focus()
            }, a)), a.options.addOnBlur && a.options.freeInput && a.$input.on("focusout", t.proxy(function(e) {
                0 === t(".typeahead, .twitter-typeahead", a.$container).length && (a.add(a.$input.val()), a.$input.val(""))
            }, a)), a.$container.on("keydown", "input", t.proxy(function(e) {
                var n = t(e.target),
                    i = a.findInputWrapper();
                if (a.$element.attr("disabled")) return void a.$input.attr("disabled", "disabled");
                switch (e.which) {
                    case 8:
                        if (0 === r(n[0])) {
                            var o = i.prev();
                            o && a.remove(o.data("item"))
                        }
                        break;
                    case 46:
                        if (0 === r(n[0])) {
                            var s = i.next();
                            s && a.remove(s.data("item"))
                        }
                        break;
                    case 37:
                        var u = i.prev();
                        0 === n.val().length && u[0] && (u.before(i), n.focus());
                        break;
                    case 39:
                        var l = i.next();
                        0 === n.val().length && l[0] && (l.after(i), n.focus())
                }
                var p = n.val().length;
                Math.ceil(p / 5);
                n.attr("size", Math.max(this.inputSize, n.val().length))
            }, a)), a.$container.on("keypress", "input", t.proxy(function(e) {
                var n = t(e.target);
                if (a.$element.attr("disabled")) return void a.$input.attr("disabled", "disabled");
                var i = n.val(),
                    r = a.options.maxChars && i.length >= a.options.maxChars;
                a.options.freeInput && (o(e, a.options.confirmKeys) || r) && (a.add(r ? i.substr(0, a.options.maxChars) : i), n.val(""), e.preventDefault());
                var s = n.val().length;
                Math.ceil(s / 5);
                n.attr("size", Math.max(this.inputSize, n.val().length))
            }, a)), a.$container.on("click", "[data-role=remove]", t.proxy(function(e) {
                a.$element.attr("disabled") || a.remove(t(e.target).closest(".tag").data("item"))
            }, a)), a.options.itemValue === s.itemValue && ("INPUT" === a.$element[0].tagName ? a.add(a.$element.val()) : t("option", a.$element).each(function() {
                a.add(t(this).attr("value"), !0)
            }))
        },
        destroy: function() {
            var t = this;
            t.$container.off("keypress", "input"), t.$container.off("click", "[role=remove]"), t.$container.remove(), t.$element.removeData("tagsinput"), t.$element.show()
        },
        focus: function() {
            this.$input.focus()
        },
        input: function() {
            return this.$input
        },
        findInputWrapper: function() {
            for (var e = this.$input[0], n = this.$container[0]; e && e.parentNode !== n;) e = e.parentNode;
            return t(e)
        }
    }, t.fn.tagsinput = function(n, i) {
        var a = [];
        return this.each(function() {
            var r = t(this).data("tagsinput");
            if (r)
                if (n || i) {
                    if (void 0 !== r[n]) {
                        var o = r[n](i);
                        void 0 !== o && a.push(o)
                    }
                } else a.push(r);
            else r = new e(this, n), t(this).data("tagsinput", r), a.push(r), "SELECT" === this.tagName && t("option", t(this)).attr("selected", "selected"), t(this).val(t(this).val())
        }), "string" == typeof n ? a.length > 1 ? a : a[0] : a
    }, t.fn.tagsinput.Constructor = e;
    var u = t("<div />");
    t(function() {
        t("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()
    })
}(window.jQuery);

function commonApiAsync(n, o, i) {
    var t = 552,
        e = 350,
        c = (screen.width - t) / 2,
        a = (screen.height - e) / 2 - 50,
        s = window.open(BASE_URL + n, o, "width=" + t + ", height=" + e + ", top=" + a + ", left=" + c + ", scrollbars=no");
    if (i) var r = setInterval(function() {
        s.closed && (i(window.hasOwnProperty(o) && window[o]), clearInterval(r))
    }, 500)
}! function(n) {
    var o, i = "facebook-jssdk",
        t = n.getElementsByTagName("script")[0];
    n.getElementById(i) || (o = n.createElement("script"), o.id = i, o.async = !0, o.src = "//connect.facebook.net/en_US/all.js", t.parentNode.insertBefore(o, t))
}(document), window.fbAsyncInit = function(n) {
    FB.init({
        appId: "900710209977177",
        channelUrl: BASE_URL + "assets/js/facebook/channel.html",
        status: !0,
        cookie: !0,
        xfbml: !1,
        version: "v2.9"
    }), n && n()
}, window.inAsynInit = function(n) {
    commonApiAsync("load/api/instagramsetkey", "instagram", n)
}, window.flAsynInit = function(n) {
    commonApiAsync("load/api/auth/flickr", "flickr", n)
}, window.dbAsynInit = function(n) {
    commonApiAsync("load/api/auth/dropbox", "dropbox", n)
}, window.gdAsynInit = function(n) {
    commonApiAsync("load/api/auth/google", "google", n)
};
! function(e) {
    function t(t) {
        if ("string" == typeof t.data) {
            var s = t.handler,
                a = t.data.toLowerCase().split(" ");
            t.handler = function(t) {
                if (this === t.target || !/textarea|select/i.test(t.target.nodeName) && "text" !== t.target.type) {
                    var r = "keypress" !== t.type && e.hotkeys.specialKeys[t.which],
                        f = String.fromCharCode(t.which).toLowerCase(),
                        i = "",
                        h = {};
                    t.altKey && "alt" !== r && (i += "alt+"), t.ctrlKey && "ctrl" !== r && (i += "ctrl+"), t.metaKey && !t.ctrlKey && "meta" !== r && (i += "meta+"), t.shiftKey && "shift" !== r && (i += "shift+"), r ? h[i + r] = !0 : (h[i + f] = !0, h[i + e.hotkeys.shiftNums[f]] = !0, "shift+" === i && (h[e.hotkeys.shiftNums[f]] = !0));
                    for (var o = 0, c = a.length; o < c; o++)
                        if (h[a[o]]) return s.apply(this, arguments)
                }
            }
        }
    }
    e.hotkeys = {
        version: "0.8",
        specialKeys: {
            8: "backspace",
            9: "tab",
            13: "return",
            16: "shift",
            17: "ctrl",
            18: "alt",
            19: "pause",
            20: "capslock",
            27: "esc",
            32: "space",
            33: "pageup",
            34: "pagedown",
            35: "end",
            36: "home",
            37: "left",
            38: "up",
            39: "right",
            40: "down",
            45: "insert",
            46: "del",
            96: "0",
            97: "1",
            98: "2",
            99: "3",
            100: "4",
            101: "5",
            102: "6",
            103: "7",
            104: "8",
            105: "9",
            106: "*",
            107: "+",
            109: "-",
            110: ".",
            111: "/",
            112: "f1",
            113: "f2",
            114: "f3",
            115: "f4",
            116: "f5",
            117: "f6",
            118: "f7",
            119: "f8",
            120: "f9",
            121: "f10",
            122: "f11",
            123: "f12",
            144: "numlock",
            145: "scroll",
            191: "/",
            224: "meta",
            219: "[",
            221: "]"
        },
        shiftNums: {
            "`": "~",
            1: "!",
            2: "@",
            3: "#",
            4: "$",
            5: "%",
            6: "^",
            7: "&",
            8: "*",
            9: "(",
            0: ")",
            "-": "_",
            "=": "+",
            ";": ": ",
            "'": '"',
            ",": "<",
            ".": ">",
            "/": "?",
            "\\": "|"
        }
    }, e.each(["keydown", "keyup", "keypress"], function() {
        e.event.special[this] = {
            add: t
        }
    })
}(jQuery);
! function(e, r) {
    "function" == typeof define && define.amd ? define(["jquery"], function(o) {
        r(o, e)
    }) : r(jQuery, e)
}(this, function(e, r) {
    "use strict";
    var o, i;
    if (e.uaMatch = function(e) {
            e = e.toLowerCase();
            var r = /(edge)\/([\w.]+)/.exec(e) || /(opr)[\/]([\w.]+)/.exec(e) || /(chrome)[ \/]([\w.]+)/.exec(e) || /(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e) || /(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e) || /(webkit)[ \/]([\w.]+)/.exec(e) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e) || /(msie) ([\w.]+)/.exec(e) || e.indexOf("trident") >= 0 && /(rv)(?::| )([\w.]+)/.exec(e) || e.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e) || [],
                o = /(ipad)/.exec(e) || /(iphone)/.exec(e) || /(android)/.exec(e) || /(windows phone)/.exec(e) || /(win)/.exec(e) || /(mac)/.exec(e) || /(linux)/.exec(e) || /(cros)/.exec(e) || [];
            return {
                browser: r[5] || r[3] || r[1] || "",
                version: r[2] || r[4] || "0",
                versionNumber: r[4] || r[2] || "0",
                platform: o[0] || ""
            }
        }, o = e.uaMatch(r.navigator.userAgent), i = {}, o.browser && (i[o.browser] = !0, i.version = o.version, i.versionNumber = parseInt(o.versionNumber, 10)), o.platform && (i[o.platform] = !0), (i.android || i.ipad || i.iphone || i["windows phone"]) && (i.mobile = !0), (i.cros || i.mac || i.linux || i.win) && (i.desktop = !0), (i.chrome || i.opr || i.safari) && (i.webkit = !0), i.rv || i.edge) {
        var n = "msie";
        o.browser = n, i[n] = !0
    }
    if (i.opr) {
        var a = "opera";
        o.browser = a, i[a] = !0
    }
    if (i.safari && i.android) {
        var s = "android";
        o.browser = s, i[s] = !0
    }
    return i.name = o.browser, i.platform = o.platform, e.browser = i, i
});
! function(t) {
    t.fontSpy = function(n, e) {
        var o = t("html"),
            i = t("body");
        if ("string" == typeof n && "" !== n) {
            var a = {
                font: n,
                fontClass: n.toLowerCase().replace(/\s/g, ""),
                success: function() {},
                failure: function() {},
                testFont: "Courier New",
                testFontCallback: "Lato",
                testString: "QW@HhsXJ",
                glyphs: "",
                delay: 50,
                timeOut: 6e4,
                callback: t.noop
            };
            e.success || (e.success = e.onLoad);
            var s = t.extend(a, e),
                r = t("<span>" + s.testString + s.glyphs + "</span>").css("position", "absolute").css("top", "-9999px").css("left", "-9999px").css("visibility", "hidden").css("fontFamily", s.testFont).css("fontSize", "250px");
            i.append(r);
            var c = r.outerWidth(),
                u = s.timeOut - 5e3;
            r.css("fontFamily", s.font + "," + s.testFont);
            var l = function() {
                    o.addClass("no-" + s.fontClass), s && s.failure && s.failure(), s.callback(new Error("FontSpy timeout")), r.remove()
                },
                f = function() {
                    s.callback(), o.addClass(s.fontClass), s && s.success && s.success(), r.remove()
                },
                d = function() {
                    setTimeout(h, s.delay), s.timeOut === u && (r.css("fontFamily", s.testFontCallback), c = r.outerWidth(), r.css("fontFamily", s.font + "," + s.testFont)), s.timeOut = s.timeOut - s.delay
                },
                h = function() {
                    var t = r.outerWidth();
                    c !== t ? f() : s.timeOut < 0 ? l() : d()
                };
            h()
        }
    }, t.fn.fontSpy = function(n) {
        return this.each(function() {
            if (void 0 == t(this).data("fontSpy")) {
                var e = new t.fontSpy(this, n);
                t(this).data("fontSpy", e)
            }
        })
    }, t.ajaxTransport("+binary", function(t, n, e) {
        if (window.FormData && (t.dataType && "binary" == t.dataType || t.data && (window.ArrayBuffer && t.data instanceof ArrayBuffer || window.Blob && t.data instanceof Blob))) return {
            send: function(n, e) {
                var o = new XMLHttpRequest,
                    i = t.url,
                    a = t.type,
                    s = t.async || !0,
                    r = t.responseType || "blob",
                    c = t.data || null,
                    u = t.username || null,
                    l = t.password || null;
                o.addEventListener("load", function() {
                    var n = {};
                    n[t.dataType] = o.response, e(o.status, o.statusText, n, o.getAllResponseHeaders())
                }), o.open(a, i, s, u, l);
                for (var f in n) o.setRequestHeader(f, n[f]);
                o.responseType = r, o.send(c)
            },
            abort: function() {
                e.abort()
            }
        }
    }), t.extend({
        coalesce: function() {
            for (var t in arguments)
                if (null !== arguments[t] && void 0 !== arguments[t]) return arguments[t];
            return null
        },
        checkFont: function(n, e, o) {
            o = t.extend({
                url: "//fonts.googleapis.com/css?family="
            }, o), e = e || function() {}, fontSpy(n, {
                success: function() {
                    e()
                },
                failure: function() {
                    var i = document.createElement("link");
                    i.setAttribute("rel", "stylesheet"), i.setAttribute("type", "text/css"), i.setAttribute("href", o.url + n), document.getElementsByTagName("head")[0].appendChild(i), t(document).ready(function(t) {
                        fontSpy(n, {
                            success: function() {
                                e()
                            },
                            failure: function() {
                                alert("Fail to load font - " + n)
                            }
                        })
                    })
                }
            })
        }
    }), t.expr[":"].contains = t.expr.createPseudo(function(n) {
        return function(e) {
            return t(e).text().toUpperCase().indexOf(n.toUpperCase()) >= 0
        }
    }), t.fn.extend({
        swapWith: function(n) {
            return this.each(function() {
                var e = t(n).clone(!0),
                    o = t(this).clone(!0);
                t(n).replaceWith(o), t(this).replaceWith(e)
            })
        },
        removeAttributes: function() {
            return this.each(function() {
                var n = t.map(this.attributes, function(t) {
                        return t.name
                    }),
                    e = t(this);
                t.each(n, function(t, n) {
                    e.removeAttr(n)
                })
            })
        },
        removeClassWild: function(t) {
            return this.removeClass(function(n, e) {
                var o = t.replace(/\*/g, "\\S+");
                return (e.match(new RegExp("\\b" + o, "g")) || []).join(" ")
            })
        },
        callback: function(t) {
            return this.each(function(n) {
                t()
            })
        },
        destroyThumb: function(n) {
            return this.each(function(n) {
                t(this).find(".thumbnail-wrapper").remove()
            })
        },
        initDragable: function(n) {
            function e(e) {
                function s() {
                    return h = f.clone(!0).off(), t("#draggingObject").remove(), h.attr("id", "draggingObject"), h.css("position", "absolute"), h.css("left", d.left), h.css("top", d.top), h.css("width", d.width), h.css("height", d.height), h.css("z-index", 5e3), h.css("opacity", "0"), h.find(".tooltip").remove(), h.find("svg *").each(function() {
                        var n = t(this).attr("id");
                        n && t(this).attr("id", "clone-" + n)
                    }), t("body").append(h), h
                }

                function u() {
                    var t = a(e);
                    h.data("offset", {
                        x: (t.x - d.left) / d.width,
                        y: (t.y - d.top) / d.height
                    })
                }

                function l() {
                    t(window).unbind("mousemove touchmove", o), t(window).unbind("mouseup touchend touchcancel", i), t(window).on("mousemove touchmove", o), t(window).on("mouseup touchend touchcancel", i)
                }
                r = this;
                var f = t(this),
                    d = f.get(0).getBoundingClientRect(),
                    h = s();
                f.css("outline", c), u(), l(), n.callback.mousedown && n.callback.mousedown(h.get(0), e)
            }

            function o(e) {
                function o() {
                    function o() {
                        var t = c.data("offset"),
                            n = a(e);
                        return {
                            x: n.x - u.width * t.x,
                            y: n.y - u.height * t.y
                        }
                    }

                    function i() {
                        var t = f < 122.5,
                            n = h < 80,
                            e = n ? u.left : l.x,
                            o = t ? u.top : l.y;
                        c.css("left", e), c.css("top", o), c.css("opacity", n && t ? "0" : "1")
                    }

                    function s() {
                        var t = 130,
                            n = 300,
                            e = 2,
                            o = 1;
                        h > t && (o += (h - t) / (n - t), o > e && (o = e)), c.css("transform", "scale(" + o + ")")
                    }
                    var c = t("#draggingObject");
                    if (t("#draggingObject").length) {
                        var u = t(r).get(0).getBoundingClientRect(),
                            l = o(),
                            f = Math.abs(l.x - u.left),
                            d = Math.abs(l.y - u.top),
                            h = Math.round(Math.sqrt(f * f + d * d));
                        i(), s(), f > 122.5 && e.preventDefault(), h > 10 && c.data("dragging", !0), n.callback.mousemove && n.callback.mousemove(c.get(0), e)
                    }
                }
                t("#draggingObject").length && _.defer(o)
            }

            function i(e) {
                e.preventDefault();
                var s = t("#draggingObject"),
                    c = t("#canvas-panel").offset();
                if (s.length) {
                    var u = a(e);
                    u.x > c.left ? n.callback.mouseup && n.callback.mouseup(s.get(0), e) : s.data("dragging") || n.callback.click && n.callback.click(s.get(0), e), t(r).css("outline", "none"), s.remove(), t(window).unbind("mousemove touchmove", o), t(window).unbind("mouseup touchend", i)
                }
            }

            function a(t) {
                if (0 === t.type.indexOf("touch")) {
                    var n = {
                        x: t.originalEvent.changedTouches[0].clientX,
                        y: t.originalEvent.changedTouches[0].clientY
                    };
                    return t.clientX = n.x, t.clientY = n.y, n
                }
                return {
                    x: t.clientX,
                    y: t.clientY
                }
            }
            var s = {
                callback: {
                    click: t.noop,
                    mousedown: t.noop,
                    mousemove: t.noop,
                    mouseup: t.noop
                }
            };
            n = t.extend(s, n);
            var r = null,
                c = "2px solid #ffdd17";
            return this.each(function(n) {
                t(this).unbind("mousedown touchstart"), t(this).on("mousedown touchstart", e)
            })
        },
        addThumb: function(n) {
            var e = {
                itemSelector: ".thumbnail",
                columnWidth: 122.5,
                gutter: INKIVE.C.IS_MOBILE ? 5 : 10
            };
            return t.extend(e, n), this.each(function(n) {
                var o = e;
                t(this).append('<div class="thumbnail-wrapper"></div>');
                var i = t(this).find(".thumbnail-wrapper");
                i.masonry(o), i.masonry("unbindResize")
            })
        },
        initThumb: function(n) {
            var e = {
                itemSelector: ".thumbnail",
                columnWidth: 122.5,
                gutter: INKIVE.C.IS_MOBILE ? 5 : 10
            };
            t.extend(e, n);
            var o = this;
            return t(o).hasClass("thumbnail-wrapper") || (o = t(this).find(".thumbnail-wrapper")), this.each(function(n) {
                var i = e,
                    a = t(o);
                a.masonry(i), a.masonry("unbindResize")
            })
        },
        prependThumb: function(n, e, o) {
            var i = this;
            return o = o || t.noop, this.each(function(t) {
                e ? i.prepend(n).imagesLoaded(function(t) {
                    i.masonry(), o.call(this, n)
                }) : (i.prepend(n).masonry("prepended", n), o.call(this, n))
            })
        },
        appendThumb: function(n, e, o) {
            var i = this;
            return o = o || t.noop, this.each(function(t) {
                e ? i.append(n).imagesLoaded(function(t) {
                    i.masonry(), o.call(this, n)
                }) : (i.append(n).masonry("appended", n), o.call(this, n))
            })
        },
        reloadThumb: function(n) {
            var e = this;
            return t(e).hasClass("thumbnail-wrapper") || (e = t(this).find(".thumbnail-wrapper")), this.each(function(o) {
                t(e).masonry(), "function" == typeof n && n.call(this)
            })
        },
        removeThumb: function(t) {
            var n = this;
            return this.each(function(e) {
                n.masonry("remove", t), n.masonry()
            })
        },
        isOnScreen: function() {
            if (!this.length) return !1;
            var n = t(window),
                e = {
                    top: n.scrollTop(),
                    left: n.scrollLeft()
                };
            e.right = e.left + n.width(), e.bottom = e.top + n.height();
            var o = this.offset();
            return o.right = o.left + this.outerWidth(), o.bottom = o.top + this.outerHeight(), !(e.right < o.left || e.left > o.right || e.bottom < o.top || e.top > o.bottom)
        }
    })
}(jQuery);
! function(e) {
    e.fn.extend({
        colorpicker: function(n) {
            function t() {
                o(!1), e("#jpickerOverlay, #jpickerWrapper, .eye-dropper-preview-container").remove()
            }

            function r(n) {
                n = n || [256, 256, 256];
                var t = function(e, n, t) {
                        return (e << 16 | n << 8 | t).toString(16)
                    },
                    r = e(".eye-dropper-preview-container"),
                    o = ("000000" + t(n[0], n[1], n[2])).slice(-6);
                r.find(".eye-dropper-preview span").css("background-color", "#" + o), r.find(".eye-dropper-input").val(o), g.find(".Text input").val(o)
            }

            function o(n) {
                if (n) {
                    var r = h.find(".library-colors-container").is(":visible"),
                        o = e("body");
                    k = e("<div data-is-library=" + r + ' class="eye-dropper-preview-container"><input type="text" maxlength="6" class="eye-dropper-input"  /><div class="eye-dropper-preview"><span></span></div><input type="button" class="cancel-color-picker" value="' + INKIVE.TranslateHelper.translate("general.cancel") + '"/></div>'), e("#jpickerOverlay").unbind(), k.find(".cancel-color-picker").on("click", function() {
                        t(), 1 === y.length && v.addToSelection(y, !0), e('[data-action="colormap-circle"][type=' + p + "]").trigger("click"), r && (h.find(".template-colors-container").hide(), h.find(".library-colors-container").show())
                    }), e(f).attr("opacity", .7);
                    var a = e(INKIVE.TemplatesHelper("modal_loader"));
                    a.addClass("screenshot-temp-canvas-loader"), e("#svgcanvas").after(a), g.parents(".ui-dropdown").length && g.appendTo(o), g.hide(), v.clearSelection(), o.append(k), INKIVE.Tool.disableUI(), e("#bottom-submenu").find(".tool-zoom").addClass("disabled")
                } else INKIVE.Tool.enableUI(), e(".screenshot-temp-canvas-loader").remove(), e(f).find(".pageLoader").remove(), e(u).remove(), e(f).attr("opacity", ""), e(f).show(), e("#bottom-submenu").find(".tool-zoom").removeClass("disabled"), k && k.remove()
            }

            function a() {
                return _.delay(function() {
                    e(f).hide(), e(u).removeClass("hidden"), e(".screenshot-temp-canvas-loader").remove(), e("#jpickerOverlay").remove();
                    var n = u.getContext("2d");
                    e(u).on("mousemove", function(t) {
                        var o = parseInt(t.pageX - e(this).offset().left),
                            a = parseInt(t.pageY - e(this).offset().top),
                            i = n.getImageData(o, a, 1, 1).data;
                        r(i)
                    }), e(u).on("mouseout", function() {
                        r()
                    }), e(u).on("click", function() {
                        g.find(".Ok").trigger("click"), e('[data-action="colormap-circle"][type=' + p + "]").trigger("click")
                    })
                }, 100), !1
            }

            function i() {
                u = document.createElement("canvas"), u.className = "screenshot-temp-canvas hidden", e(l).find(".background>rect").attr("width", v.contentW), e(l).find(".background>rect").attr("height", v.contentH);
                var n = (new XMLSerializer).serializeToString(l);
                n = n.replace(/xmlns=\"http:\/\/www\.w3\.org\/2000\/svg\"/, ""), n = v.svgCanvasToString(e(n)[0]), e(l).find(".background>rect").attr("width", "100%"), e(l).find(".background>rect").attr("height", "100%"), e(u).css("top", e(l).attr("y") * d), e(u).css("left", e(l).attr("x") * d), e(u).insertAfter(e("#svgcanvas")[0]), canvg(u, n, {
                    useCORS: !0,
                    renderCallback: function() {
                        var t = 2;
                        canvg(u, n, {
                            offsetX: 0,
                            offsetY: 0,
                            scaleWidth: e(l).attr("width") * d,
                            scaleHeight: e(l).attr("height") * d,
                            ignoreDimensions: !1,
                            useCORS: !0,
                            renderCallback: a,
                            forceRedraw: function() {
                                return t-- > 0
                            }
                        })
                    }
                })
            }

            function c() {
                return l = e("#svgcontent")[0], d = INKIVE.EditorFacade.handle("zoom", "get"), o(!0), i(), !1
            }
            var l, d, s, p, v = INKIVE.Tool.getInstance().editor.canvas,
                f = e("#svgcanvas").find("#svgroot")[0],
                u = null,
                g = null,
                h = null,
                m = null,
                k = null,
                y = [];
            return n = e.extend({
                defaultColor: null,
                onLoad: e.noop,
                onClick: e.noop,
                onCancel: e.noop,
                onChange: e.noop,
                onSubmit: e.noop
            }, n), this.each(function() {
                n.onLoad(e(this)), s = n.isInline;
                var r = e(this),
                    o = e(this).find('[name="hex"]');
                y = n.selectedElement && n.selectedElement.length ? n.selectedElement : _.clone(v.getSelectedElems());
                var a = function() {
                    _.delay(function() {
                        var n = e(".eye-dropper-preview-container");
                        n.length && n.remove()
                    }, 1e3);
                    var a = o.val() || n.defaultColor;
                    g = e('<div id="jpickerWrapper' + (s ? r.parents("a").attr("type") : "") + '"/>'), s ? r.append(g) : (v.clearSelection(), g.addClass("addmore-color-picker"), m = r, e("body").append('<div id="jpickerOverlay"></div>', g), e("#jpickerOverlay").on("click", function() {
                        g.find(".Cancel").trigger("click")
                    })), g.jPicker({
                        images: {
                            clientPath: INKIVE.C.BASE_URL + "assets/css/editor/jpicker/"
                        },
                        color: {
                            active: new e.jPicker.Color({
                                hex: a
                            })
                        }
                    }, function(r, o) {
                        var a = r.val("all"),
                            i = a && "#" + a.hex || "none",
                            c = e(".eye-dropper-preview-container");
                        if (("#ffffff" === i || c.length) && g.find(".Text input").val() && (i = "#" + g.find(".Text input").val()), t(e(this)), n.onSubmit(i, o, c.data("is-library")), s) return !1
                    }, function(e, t) {
                        var r = e.val("all"),
                            a = r && "#" + r.hex.toUpperCase() || "none";
                        o.val(a), g.find(".selected-color span").css("background-color", "#" + a), o.trigger("change"), n.onChange(a, t)
                    }, function(r, a) {
                        var i = r.val("all"),
                            c = i && "#" + i.hex || i;
                        t(e(this)), o.val(c), o.trigger("change"), n.onCancel(c, a)
                    }), h = r.closest("a"), g.one("color-picker-loaded", function() {
                        var e = g.find("input.Hex"),
                            n = h.find("input[type=hidden]").val();
                        e.val(n.replace("#", "")), e.trigger("keyup"), g.find(".selected-color span").css("background-color", n), p = h.attr("type"), g.find(".eye-dropper").on("click", c), g.find(".cancel-color-picker").one("click", function() {
                            g.find(".Cancel").trigger("click")
                        })
                    })
                };
                s ? (a(), r.on("click", function() {
                    return !1
                })) : (r.on("click", a), n.onClick(e(this)))
            })
        }
    })
}(jQuery);
INKIVE.PopupMenuDefault = function(n, o) {
    this.$element = $(n), this.id = INKIVE.Math.generateUUID(), this.buttons = INKIVE.RestrictionsFacade.filterMenuOptions(n, o.buttons || []), "undefined" == typeof INKIVE.PopupMenuDefault.canAccessLibrary && (INKIVE.C.BOOK.book_type == INKIVE.C.BOOK_TYPE.TEMPLATE ? INKIVE.PopupMenuDefault.canAccessLibrary = !0 : INKIVE.Helpers.isDesygnerProject() && (INKIVE.PopupMenuDefault.canAccessLibrary = null, INKIVE.UserInfoFactory.get().then(_.bind(function(n) {
        INKIVE.PopupMenuDefault.canAccessLibrary = _(n.roles).contains("ROLE_LIBRARY") || _(n.roles).contains("ROLE_PREMIUM")
    }, this))));
    var e = [];
    _.each(this.buttons, _.bind(function(n) {
        if (INKIVE.PopupMenuDefault.Buttons[n]) {
            var o = INKIVE.PopupMenuDefault.Buttons[n].isSubmenuOf;
            o && e.push(_.findKey(INKIVE.PopupMenuDefault.Buttons, {
                action: o
            }))
        }
    }, this)), this.buttons = _.union(e, this.buttons), INKIVE.RestrictionsFacade.elementHasRestrictions(n) && this.buttons.push("RESTRICTION_INFO"), _.each(this.buttons, this.append, this), this.isReady = !1, o.disableBuild || this.build()
}, INKIVE.PopupMenuDefault.prototype = {
    positions: {},
    constructor: INKIVE.PopupMenuDefault,
    build: function() {
        if (!this.buttons.length) return void INKIVE.Menus.elementPopupMenu.hide();
        var n = this,
            o = n.menu(),
            e = 5,
            t = o.find('li[data-additional-menu="true"]');
        t.length && (t.length > e ? (o.find("li.space").replaceWith(INKIVE.TemplatesHelper("popupmenu_additional")), n.append(INKIVE.TemplatesHelper("popupmenu_showmore"))) : t.removeAttr("data-additional-menu").show()), this.$element.is("#svgroot") || this.isMenuValid() || INKIVE.Menus.elementPopupMenu.hide(), o.find('[data-action="on_show_more"]').on("click", function() {
            o.find('li[data-additional-menu="true"]').show(), $(this).hide()
        });
        var i = !1;
        o.find(">li").each(function() {
            $(this).hasClass("space") ? (i && $(this).remove(), i = !0) : i = !1
        }), INKIVE.Helpers.initTooltips(o, {
            placement: "top"
        }), this.isReady = !0
    },
    buttonHtml: function(n, o) {
        function e(n, o) {
            function e(n, e) {
                return e = "dropdownTitle" === e ? i + "dropdown_title." + o : i + e + "." + o, e === n
            }
            o = o.toLowerCase();
            var t = INKIVE.TranslateHelper.translate,
                i = "popupmenu.",
                r = _.omit({
                    title: t(i + "title." + o),
                    tooltip: t(i + "tooltip." + o),
                    dropdownTitle: t(i + "dropdown_title." + o)
                }, e);
            return _.extend(r, n)
        }
        if (n) {
            if (" " === n) return this.getSpacer();
            var t = _.clone(INKIVE.PopupMenuDefault.Buttons[n]);
            if (t && t.toggle) {
                var i = INKIVE.DesignFacade.get(this.$element.attr("id"));
                t.isApplied = _.isFunction(t.toggle) ? t.toggle(i) : i[t.toggle], t.isApplied || (n = "off_" + n)
            }
            var r = e($.extend({}, t, o), n),
                a = this.$element.hasClass("locked"),
                s = $(this.$element).closest("a").length > 0,
                l = this.$element.hasClass("layoutBox");
            if (!(r.hide && r.hide(this.$element) || r.forMobile && !INKIVE.C.IS_MOBILE || r.forBoxImage && !l || r.forBoxWithImage && l && (!this.$element.attr("xlink:href") || this.$element.attr("xlink:href").indexOf("imageplaceholder") >= 0) || r.notSubelement && this.$element.hasClass("subelement") || r.notLocked && a || r.isLocked && !a || r.notLinked && s || r.isLinked && !s)) {
                var c = "btn btn-onmenu action";
                r.disabled && (c += " disabled"), r.isDropdown && (c += " ui-dropdown");
                var d = ' data-action="' + r.action + '"',
                    p = _.isFunction(r.tooltip) ? r.tooltip() : r.tooltip,
                    u = p ? ' data-popover="tooltip" data-original-title="' + p + '"' : "",
                    g = r.type ? ' type="' + r.type + '"' : "",
                    I = ' data-title="' + (r.title ? r.title : p ? p : "") + '"',
                    m = this.getButtonWrapper(r);
                r.cls && $(m).addClass(r.cls);
                var E = r.icon ? '<i class="' + r.icon + '"></i>' : "";
                r.isApplied === !1 && (E = '<i class="' + r.icon + '"></i><span class="deny"></span>');
                var f = $('<a class="' + c + '"' + d + u + g + I + ">" + E + "</a>");
                if (r.isDropdown) {
                    var h = "";
                    r.dropdownWidth && (h += " width: " + r.dropdownWidth + ";"), r.dropdownHeight && (h += " height: " + r.dropdownHeight + ";");
                    var T = "ui-dropdown-items";
                    r.fullscreenDropdown && (T += " fullscreen"), r.isHorizontal ? T += " horizontal" : r.isDropdownList || (T += " ui-dropdown-div"), r.isDropdownList && (T += " ui-dropdown-list"), r.hasDropdownTitle && f.append('<span class="ui-dropdown-title">' + (r.dropdownTitle || "") + "</span>");
                    var w = $('<div class="' + T + '" style="' + h + '"></div>');
                    if (r.isMultipleDropdown && w.addClass("dropdown-multiple"), f.append(w), r.dropdownContent)
                        if (_.isFunction(r.dropdownContent)) r.dropdownContent(w);
                        else {
                            var b = $("<ul/>");
                            _.each(r.dropdownContent, _.bind(function(n, o) {
                                b.append(this.buttonHtml(o, n))
                            }, this)), r.isSubmenuOf && (w = $("[data-action=" + r.isSubmenuOf + "]").find(".ui-dropdown-items"), w.append('<div class="ui-dropdown-content-title ' + r.action + '">' + (INKIVE.TranslateHelper.translate("popupmenu.dropdown_title." + r.dropdownTitle) || "") + "</div>")), w.append(b)
                        }
                }
                return !r.isSubmenuOf && r.action ? $(m).append(f) : void 0
            }
        }
    },
    getSpacer: function() {
        return '<li class="space"></li>'
    },
    getButtonWrapper: function(n) {
        var o = n.isAdditional ? ' data-additional-menu="true" style="display: none;"' : "";
        return $.parseHTML("<li" + o + "></li>")
    },
    destroy: function() {
        this.$element.removeData("popupmenu")
    },
    getWrapperHtml: function() {
        return '<div class="menu popupmenu" data-id="' + this.id + '" data-element-id="' + this.$element.attr("id") + '"/>'
    },
    wrapper: function() {
        var n = this.$element.is("#svgroot") ? ".root-popupmenu" : ".element-popupmenu",
            o = $("#element-popupmenu").find(n);
        return !o.data("id") !== this.id && (o.data("id", this.id), o.data("element-id", this.$element.attr("id"))), o
    },
    getButtonContainer: function(n) {
        var o = ".specific-buttons";
        return _.contains(INKIVE.Menus.elementPopupMenu.popupMenuButtons.defaultMenus.ROOT, n) ? o = ".root-buttons" : _.contains(INKIVE.Menus.elementPopupMenu.popupMenuButtons.defaultMenus.COMMON, n) ? o = ".common-buttons" : _.contains(INKIVE.Menus.elementPopupMenu.popupMenuButtons.defaultMenus.SPECIAL, n) && (o = ".special-buttons"), this.menu().parent(o).find(">ul")
    },
    append: function(n, o) {
        var e = n.startsWith && n.startsWith("<li") ? n : this.buttonHtml(n, o);
        e && this.getButtonContainer(n).append(e)
    },
    appendBeforeSelector: function(n, o, e) {
        var t = o.startsWith && o.startsWith("<li") ? o : this.buttonHtml(o, e);
        t && this.getButtonContainer(o).find(n).parent("li").before(t)
    },
    prepend: function(n, o) {
        var e = n.startsWith && n.startsWith("<li") ? n : this.buttonHtml(n, o);
        e && this.getButtonContainer(n).prepend(e)
    },
    menu: function() {
        var n = this.wrapper();
        return n.find(".special-buttons>ul, .specific-buttons>ul, .common-buttons>ul, .root-buttons>ul")
    },
    getShownMenuButtonsCount: function() {
        var n = this.menu();
        return n.find("li:not(.space)").length
    },
    isMenuValid: function() {
        return this.getShownMenuButtonsCount() > 0
    },
    button: function(n) {
        return this.menu().find('[data-action="' + n + '"]')
    },
    li: function(n) {
        return this.menu().find('[data-action="' + n + '"]').parent("li")
    },
    element: function() {
        return this.$element.get(0)
    }
}, INKIVE.PopupMenuDefault.Buttons = {
    INCREASE: {
        action: "on_increaseElement",
        icon: "desygner-icon-plus",
        notSubelement: !0,
        forMobile: !0,
        notLocked: !0
    },
    DECREASE: {
        action: "on_decreaseElement",
        icon: "desygner-icon-minus",
        notSubelement: !0,
        forMobile: !0,
        notLocked: !0
    },
    DUPLICATE: {
        action: "on_copyElement",
        icon: "desygner-icon-duplicate",
        notSubelement: !0
    },
    REMOVE: {
        action: "on_removeElement",
        icon: "desygner-icon-delete",
        notSubelement: !0
    },
    OPACITY: {
        action: "on_opacity",
        icon: "desygner-icon-opacity",
        forBoxWithImage: !0,
        isHorizontal: !0,
        isDropdown: !0,
        dropdownWidth: "222px",
        notSubelement: !0
    },
    STROKE: {
        action: "on_stroke",
        icon: "desygner-icon-stroke-style",
        isDropdown: !0,
        dropdownWidth: "220px",
        notSubelement: !0
    },
    TRANSFORM: {
        icon: "desygner-icon-transform",
        action: "on_transform",
        notSubelement: !0,
        isMultipleDropdown: !0,
        isDropdown: !0
    },
    ARRANGE: {
        icon: "desygner-icon-arrange",
        action: "on_arrange",
        notSubelement: !0,
        isMultipleDropdown: !0,
        isDropdown: !0
    },
    ORDER: {
        action: "on_order",
        notSubelement: !0,
        isDropdown: !0,
        isHorizontal: !0,
        isSubmenuOf: "on_arrange",
        dropdownTitle: "order_title",
        dropdownContent: {
            SEND_FORWARD: {
                action: "on_sendForward",
                icon: "desygner-icon-move-forward"
            },
            SEND_BACKWARD: {
                action: "on_sendBackward",
                icon: "desygner-icon-move-backward"
            },
            SEND_TOP: {
                action: "on_sendTop",
                icon: "desygner-icon-move-front"
            },
            SEND_BOTTOM: {
                action: "on_sendBottom",
                icon: "desygner-icon-move-back"
            }
        }
    },
    ROTATE: {
        action: "on_rotate",
        notSubelement: !0,
        isDropdown: !0,
        isHorizontal: !0,
        isSubmenuOf: "on_transform",
        dropdownTitle: "rotate_title",
        dropdownContent: {
            ROTATE_LEFT: {
                action: "on_rotateLeft",
                icon: "desygner-icon-rotate-left",
                cls: "quadra",
                notSubelement: !0
            },
            ROTATE_RIGHT: {
                action: "on_rotateRight",
                icon: "desygner-icon-rotate-right",
                cls: "quadra",
                notSubelement: !0
            }
        }
    },
    FLIP: {
        action: "on_flip",
        notSubelement: !0,
        isDropdown: !0,
        isHorizontal: !0,
        isSubmenuOf: "on_transform",
        dropdownTitle: "flip_title",
        dropdownContent: {
            FLIP_V: {
                action: "on_flipV",
                icon: "desygner-icon-flip-vertical",
                cls: "quadra",
                notSubelement: !0
            },
            FLIP_H: {
                action: "on_flipH",
                icon: "desygner-icon-flip-horizontal",
                cls: "quadra",
                notSubelement: !0
            }
        }
    },
    FLIP_IMAGE: {
        action: "on_flip_image",
        notSubelement: !0,
        isDropdown: !0,
        isHorizontal: !0,
        isSubmenuOf: "on_transform",
        dropdownTitle: "flip_title",
        dropdownContent: {
            FLIP_IMAGE_H: {
                action: "on_flipImageH",
                icon: "desygner-icon-flip-horizontal",
                notSubelement: !0,
                type: "toggle"
            },
            FLIP_IMAGE_V: {
                action: "on_flipImageV",
                icon: "desygner-icon-flip-vertical",
                notSubelement: !0,
                type: "toggle"
            }
        }
    },
    BACKGROUND_FLIP: {
        action: "on_flip_background",
        notSubelement: !0,
        isDropdown: !0,
        isHorizontal: !0,
        isSubmenuOf: "on_transform",
        dropdownTitle: "flip_title",
        dropdownContent: {
            BACKGROUND_FLIP_H: {
                action: "on_flipBackgroundH",
                icon: "desygner-icon-flip-horizontal",
                notSubelement: !0,
                type: "toggle"
            },
            BACKGROUND_FLIP_V: {
                action: "on_flipBackgroundV",
                icon: "desygner-icon-flip-vertical",
                notSubelement: !0,
                type: "toggle"
            }
        }
    },
    ALIGNMENT: {
        action: "on_alignment",
        notSubelement: !0,
        isDropdown: !0,
        isHorizontal: !0,
        isSubmenuOf: "on_arrange",
        dropdownTitle: "align_title",
        dropdownContent: {
            ALIGN_VERTICAL_MIDDLE: {
                action: "on_align-vertical-middle",
                icon: "desygner-icon-align-center-vertical"
            },
            ALIGN_HORIZONTAL_MIDDLE: {
                action: "on_align-horizontal-middle",
                icon: "desygner-icon-align-center-horizontal"
            },
            ALIGN_LEFT: {
                action: "on_align-left",
                icon: "desygner-icon-align-left"
            },
            ALIGN_RIGHT: {
                action: "on_align-right",
                icon: "desygner-icon-align-right"
            },
            ALIGN_TOP: {
                action: "on_align-top",
                icon: "desygner-icon-align-top"
            },
            ALIGN_BOTTOM: {
                action: "on_align-bottom",
                icon: "desygner-icon-align-bottom"
            }
        }
    },
    FILL_COLOR: {
        action: "colormap-circle",
        icon: "desygner-icon-fill",
        cls: "quadra",
        type: "fill",
        isDropdown: !0,
        dropdownWidth: "242px"
    },
    STROKE_COLOR: {
        action: "colormap-circle",
        icon: "desygner-icon-stroke",
        cls: "quadra",
        type: "stroke",
        isDropdown: !0,
        dropdownWidth: "242px",
        notSubelement: !0
    },
    IMAGE_REPOSITION: {
        action: "on_reposition",
        icon: "desygner-icon-reposition",
        cls: "double",
        isDropdown: !0,
        hasDropdownTitle: !0,
        forBoxWithImage: !0,
        hide: function(n) {
            var o = $(n).is(".sticker") ? $(n).find("image") : n;
            return !o.hasClass("layoutBox") || (o.attr("xlink:href") || "").indexOf("imageplaceholder") > -1
        }
    },
    IMAGE_CROP: {
        action: "on_crop",
        icon: "desygner-icon-image-crop",
        cls: "double",
        isDropdown: !0,
        type: "toggle",
        forBoxWithImage: !0,
        hide: function(n) {
            return $(n).hasClass("layoutBox")
        }
    },
    IMAGE_BOX: {
        action: "on_imageBox",
        icon: "desygner-icon-image",
        cls: "double"
    },
    IMAGE_TAB: {
        action: "on_imageTab",
        icon: "desygner-icon-image",
        cls: "double",
        isDropdown: !0,
        forMobile: !0,
        forBoxImage: !0,
        type: "toggle"
    },
    IMAGE_FILTER: {
        action: "on_imageFilter",
        icon: "desygner-icon-filter",
        cls: "double",
        isDropdown: !0,
        forBoxWithImage: !0,
        type: "toggle",
        hasDropdownTitle: !0,
        hide: function(n) {
            var o = INKIVE.ImagesFactory.getMimeType(n[0].getAttribute("xlink:href"));
            return "msie" === $.browser.name || "image/jpeg" !== o
        }
    },
    SET_BACKGROUND: {
        action: "on_setBackground",
        icon: "desygner-icon-use-as-background",
        cls: "quadra",
        notSubelement: !0
    },
    BACKGROUND_REMOVE: {
        action: "on_removeElement",
        icon: "desygner-icon-delete",
        notSubelement: !0,
        hide: function(n) {
            return "none" === n.attr("fill")
        }
    },
    BACKGROUND_COLOR: {
        action: "colormap-circle",
        icon: "desygner-icon-fill",
        cls: "quadra",
        type: "background",
        isDropdown: !0,
        dropdownWidth: "242px",
        hide: function(n) {
            return n.is("image")
        }
    },
    BACKGROUND_COLOR_IMAGE: {
        action: "colormap-circle",
        icon: "desygner-icon-fill",
        cls: "quadra",
        type: "background",
        isDropdown: !0,
        dropdownWidth: "242px",
        hide: function(n) {
            return !$(n).is("image")
        },
        tooltip: function() {
            var n = $("g.background").find("image").attr("opacity"),
                o = n && 1 !== n ? "popupmenu.tooltip.background_color_image_set" : "popupmenu.tooltip.background_color_image_change";
            return INKIVE.TranslateHelper.translate(o)
        }
    },
    BACKGROUND_OPACITY: {
        action: "on_opacity",
        icon: "desygner-icon-opacity",
        forBoxWithImage: !0,
        isDropdown: !0,
        dropdownWidth: "222px",
        notSubelement: !0,
        hide: function(n) {
            return !$(n).is("image")
        }
    },
    BACKGROUND_REPOSITION: {
        action: "on_backgroundReposition",
        icon: "desygner-icon-reposition",
        cls: "double",
        isDropdown: !0,
        type: "toggle",
        forBoxWithImage: !0,
        hide: function(n) {
            return !$(n).is("image")
        }
    },
    EXPLODE_STICKER: {
        action: "on_explode_sticker",
        icon: "desygner-icon-unlink",
        on: "click"
    },
    LAYOUT_CONFIRM: {
        action: "on_layoutConfirm",
        icon: "desygner-icon-check",
        cls: "double",
        isDropdown: !0,
        type: "toggle"
    },
    LAYOUT_CLOSE: {
        action: "on_layoutClose",
        icon: "desygner-icon-close",
        cls: "double",
        isDropdown: !0,
        type: "toggle"
    },
    TEXT_FONTFAMILY: {
        action: "on_fontfamily",
        hasDropdownTitle: !0,
        cls: "combo",
        type: "toggle",
        dropdownWidth: "280px",
        isDropdown: !0,
        isDropdownList: !0,
        fullscreenDropdown: !0
    },
    TEXT_FONTSIZE: {
        action: "on_fontsize",
        hasDropdownTitle: !0,
        cls: "combo",
        type: "toggle",
        isDropdown: !0,
        isDropdownList: !0,
        dropdownHeight: "300px",
        dropdownWidth: "85px"
    },
    TEXT_TYPING: {
        action: "on_textTyping",
        icon: "desygner-icon-typewriter",
        cls: "double",
        isDropdown: !0,
        type: "toggle"
    },
    REMOVE_STYLE: {
        action: "on_removePartialStyle",
        icon: "desygner-icon-delete",
        cls: "double",
        isDropdown: !1,
        type: "toggle",
        hide: function(n) {
            var o = (new INKIVE.Text.Textarea).setDOM(n.get(0)),
                e = INKIVE.Tool.getInstance().editor.canvas.runExtensions("selectionRange", {}),
                t = !1;
            return _.each(o.text.styles, function(n) {
                e.start >= n.start && e.end <= n.end && (t = !0)
            }), !t
        }
    },
    TEXT_EDITING: {
        action: "on_textEditing",
        icon: "desygner-icon-text-edit",
        cls: "double",
        isDropdown: !0,
        type: "toggle"
    },
    TEXT_FINISH_EDITING: {
        action: "on_finishTextEditing",
        icon: "desygner-icon-check",
        cls: "double",
        isDropdown: !0,
        type: "toggle"
    },
    TEXT_SPACING: {
        action: "on_text-spacing",
        icon: "desygner-icon-linespacing",
        notSubelement: !0,
        isDropdown: !0,
        dropdownWidth: "222px",
        dropdownContent: {
            TEXT_LINE_SPACING: {
                action: "on_set-line-spacing"
            },
            TEXT_WORD_SPACING: {
                action: "on_set-word-spacing"
            },
            TEXT_CHAR_SPACING: {
                action: "on_set-char-spacing"
            }
        }
    },
    TEXT_BULLETS: {
        action: "on_set-bullets",
        icon: "desygner-icon-bullet-list",
        notSubelement: !0
    },
    TEXT_AUTO_ADJUSTABLE: {
        action: "on_set-auto-adjustable",
        icon: "desygner-icon-auto-adjust",
        hide: function() {
            return !INKIVE.C.USER.IS_SUPER && INKIVE.C.BOOK.book_type !== INKIVE.C.BOOK_TYPE.TEMPLATE
        }
    },
    TEXT_BOLD: {
        action: "on_set-bold",
        icon: "desygner-icon-bold"
    },
    TEXT_ITALIC: {
        action: "on_set-italic",
        icon: "desygner-icon-italic"
    },
    TEXT_UNDERLINE: {
        action: "on_set-underline",
        icon: "desygner-icon-underline"
    },
    TEXT_CASE: {
        action: "on_text-case",
        icon: "desygner-icon-casestyle",
        isDropdown: !0,
        isHorizontal: !0,
        dropdownContent: {
            TEXT_UCASE: {
                action: "on_set-ucase",
                icon: "desygner-icon-text-upper-case"
            },
            TEXT_LCASE: {
                action: "on_set-lcase",
                icon: "desygner-icon-text-lower-case"
            }
        }
    },
    TEXT_ALIGN: {
        action: "on_text-align",
        icon: "desygner-icon-text-align",
        isDropdown: !0,
        isHorizontal: !0,
        notSubelement: !0,
        dropdownContent: {
            TEXT_ALIGN_JUSTIFY: {
                action: "on_set-align-justify",
                icon: "desygner-icon-text-align-justify"
            },
            TEXT_ALIGN_LEFT: {
                action: "on_set-align-left",
                icon: "desygner-icon-text-align-left"
            },
            TEXT_ALIGN_CENTER: {
                action: "on_set-align-center",
                icon: "desygner-icon-text-align-center"
            },
            TEXT_ALIGN_RIGHT: {
                action: "on_set-align-right",
                icon: "desygner-icon-text-align-right"
            }
        }
    },
    GROUP_GROUP: {
        action: "on_groupGroup",
        icon: "icon-make-group",
        cls: "double",
        isDropdown: !0,
        type: "toggle",
        hide: function() {
            return _.contains([INKIVE.C.BOOK_TYPE.TEMPLATE, INKIVE.C.BOOK_TYPE.RESTRICTED_DESIGN], INKIVE.C.BOOK.book_type)
        }
    },
    GROUP_UNGROUP: {
        action: "on_groupUngroup",
        icon: "icon-ungroup",
        notLocked: !0,
        cls: "double",
        isDropdown: !0,
        type: "toggle",
        hide: function() {
            return _.contains([INKIVE.C.BOOK_TYPE.TEMPLATE, INKIVE.C.BOOK_TYPE.RESTRICTED_DESIGN], INKIVE.C.BOOK.book_type)
        }
    },
    LOCK: {
        action: "on_lockElement",
        icon: "desygner-icon-lock",
        notSubelement: !0,
        notLocked: !0
    },
    UNLOCK: {
        action: "on_unlockElement",
        icon: "desygner-icon-unlock",
        notSubelement: !0,
        isLocked: !0,
        cls: "double",
        isDropdown: !0,
        type: "toggle"
    },
    PERMISSIONS: {
        action: "on_set_permissions",
        notSubelement: !0,
        hasDropdownTitle: !0,
        isDropdown: !0,
        cls: "no-icon"
    },
    DESELECT: {
        action: "on_deselect",
        notSubelement: !0,
        icon: "icon-deselect"
    },
    LIBRARY_ADD: {
        action: "on_library_add",
        notSubelement: !0,
        icon: "icon-context-brandasset",
        tooltip: function() {
            var n = INKIVE.C.BOOK.book_type === INKIVE.C.BOOK_TYPE.DESIGN ? "editor.contextmenu.add_to_personal_library" : "editor.contextmenu.add_to_brand_assets";
            return INKIVE.TranslateHelper.translate(n)
        },
        hide: function() {
            return !INKIVE.PopupMenuDefault.canAccessLibrary
        }
    },
    LINK: {
        action: "on_linkElement",
        icon: "desygner-icon-link",
        forBoxWithImage: !0,
        isDropdown: !0,
        dropdownWidth: "222px",
        notSubelement: !0,
        notLinked: !0,
        hide: function() {
            return INKIVE.C.BOOK.book_type === INKIVE.C.BOOK_TYPE.DESIGN
        }
    },
    UNLINK: {
        action: "on_unlinkElement",
        icon: "desygner-icon-unlink",
        forBoxWithImage: !0,
        isDropdown: !0,
        dropdownWidth: "222px",
        notSubelement: !0,
        isLinked: !0,
        hide: function() {
            return INKIVE.C.BOOK.book_type === INKIVE.C.BOOK_TYPE.DESIGN
        }
    },
    VIDEO_SOURCE: {
        action: "on_set-source",
        icon: "fa fa-film",
        notSubelement: !0
    },
    VIDEO_AUTOPLAY: {
        action: "on_toggle-autoplay",
        icon: "fa fa-play-circle",
        notSubelement: !0,
        toggle: "autoplay"
    },
    VIDEO_MOVE_TO_NEXT: {
        action: "on_toggle-move-to-next",
        icon: "fa fa-forward",
        notSubelement: !0,
        toggle: "movetonext"
    },
    VIDEO_MUTE: {
        action: "on_toggle-mute",
        icon: "fa fa-volume-up",
        notSubelement: !0,
        toggle: function(n) {
            return !n.mute
        }
    },
    VIDEO_CONTROLS: {
        action: "on_toggle-controls",
        icon: "fa fa-sliders",
        notSubelement: !0,
        toggle: "controls"
    },
    VIDEO_FULLSCREEN: {
        action: "on_toggle-fullscreen",
        icon: "fa fa-arrows-alt",
        notSubelement: !0,
        toggle: "fullscreen"
    },
    VIDEO_LOOP: {
        action: "on_toggle-loop",
        icon: "fa fa-refresh",
        notSubelement: !0,
        toggle: "loop"
    },
    RESTRICTION_INFO: {
        action: "on_restrictionInfo",
        icon: "desygner-icon-question-mark"
    },
    ROOT_DRAWING: {
        action: "on_rootDrawing",
        hasDropdownTitle: !0,
        isDropdown: !0,
        cls: "no-icon",
        dropdownWidth: "260px",
        dropdownContent: function(n) {
            INKIVE.Menus.elementPopupMenu.popupMenuButtons.popupMenuCommonFunctions.getDrawingButtons(n)
        }
    },
    ROOT_SHAPES: {
        action: "on_rootShapes",
        hasDropdownTitle: !0,
        isDropdown: !0,
        cls: "no-icon",
        dropdownWidth: "280px",
        dropdownHeight: "500px",
        dropdownContent: function(n) {
            INKIVE.Menus.elementPopupMenu.popupMenuButtons.popupMenuCommonFunctions.getShapeButtons(n)
        }
    },
    ROOT_FRAMES: {
        action: "on_rootFrames",
        hasDropdownTitle: !0,
        isDropdown: !0,
        cls: "no-icon",
        dropdownWidth: "280px",
        dropdownHeight: "500px",
        dropdownContent: function(n) {
            INKIVE.Menus.elementPopupMenu.popupMenuButtons.popupMenuCommonFunctions.getFrameButtons(n)
        }
    },
    ROOT_TEXT: {
        action: "on_rootText",
        notSubelement: !0,
        hasDropdownTitle: !0,
        isDropdown: !0,
        cls: "no-icon",
        dropdownWidth: "280px",
        dropdownHeight: "185px",
        dropdownContent: function(n) {
            INKIVE.Menus.elementPopupMenu.popupMenuButtons.popupMenuCommonFunctions.getTextButtons(n)
        }
    }
};
INKIVE.PopupMenuMobile = function(e, o) {
    INKIVE.PopupMenuDefault.call(this, e, o)
}, INKIVE.PopupMenuMobile.prototype = Object.create(INKIVE.PopupMenuDefault.prototype), INKIVE.PopupMenuMobile.prototype.constructor = INKIVE.PopupMenuMobile, INKIVE.PopupMenuMobile.prototype.getWrapperHtml = function() {
    var e = !1;
    return '<div class="menu popupmenu mobile ' + (e ? "portrait" : "landscape") + '" data-id="' + this.id + '" data-element-id="' + this.$element.attr("id") + '"><div class="tool-static-block back-menu"><a class="btn" data-href=""><div class="icon-element"><i class="icon-chevron-left"></i></div><span class="text-element">Back to Main menu</span></a></div><div class="undoredo"><a class="btn btn-onmenu action" data-action="on_undo" id="ik-undo" type="toggle"><i class="icon-reply"></i><span class="ui-dropdown-title">undo</span></a><a class="btn btn-onmenu action" data-action="on_redo" id="ik-redo" type="toggle"><i class="icon-forward"></i><span class="ui-dropdown-title">redo</span></a></div></div>'
}, INKIVE.PopupMenuMobile.prototype.getSpacer = function() {
    return null
}, INKIVE.PopupMenuMobile.prototype.getButtonWrapper = function() {
    return $.parseHTML("<li></li>")
}, INKIVE.PopupMenuMobile.prototype.refresh = function() {}, INKIVE.PopupMenuMobile.prototype.build = function() {
    INKIVE.PopupMenuDefault.prototype.build.call(this);
    var e = this;
    e.wrapper().find(".back-menu a").click(function() {
        var o = INKIVE.Tool.getInstance();
        o.editor.canvas.clearSelection(), o.mobileBackMenuShow(!1), e.destroy()
    })
};
! function(t) {
    "use strict";
    t.fn.popupmenudropdown = function(e) {
        e = _.extend({
            left: null,
            forceBottom: !1,
            onShow: t.noop,
            onHide: t.noop
        }, e);
        var i = t(window).height();
        t(window).width();
        return this.each(function(n) {
            var o = t(this).find(">.ui-dropdown-items"),
                s = function(e, i, n) {
                    e.each(function() {
                        var e = t(this).parents(".root-popupmenu").length;
                        e && t(this).css("visibility", i ? "visible" : "hidden"), e || t(this)["slide" + (i ? "Down" : "Up")]("fast", n)
                    }), i || e.removeClass("active")
                };
            !o.hasClass("ui-dropdown-div") && o.children().length && (o.hasClass("horizontal") ? t(this).append('<i class="icon-spacing_2"></i>') : t(this).append('<i class="desygner-icon-arrow-down"></i>')), t(this).off("click").on("click", function(n, l) {
                function p() {
                    var e = t(".menu").get(0).getBoundingClientRect(),
                        i = t("#tool-panel");
                    if (i.is(".active")) {
                        var n = i.offset();
                        e = {
                            right: e.right - n.left,
                            left: e.left - n.left,
                            bottom: e.bottom,
                            height: e.height,
                            top: e.top,
                            width: e.width
                        }
                    }
                    return e
                }
                l = l || {};
                var a = t(n.target),
                    r = ":not(input, select, .ui-dropdown-items)";
                if (!a.parents(".dropdown-multiple").length && l.keepHidden !== !0 && (a.is(t(this)) || a.is(t(this).find(r))))
                    if ("none" !== o.css("display") && "hidden" !== o.css("visibility") || !o.children().length) {
                        if (!a.parents("[data-action=on_fontfamily]").length) {
                            if (a.parents(".root-popupmenu .ui-dropdown-div").length && !a.parents("a.item").length) return;
                            t(this).removeClass("active"), o.find(".ui-dropdown-items.sub").hide(), s(o, !1, e.onHide)
                        }
                    } else {
                        s(t(".ui-dropdown-items"), !1);
                        var h = p(),
                            u = this.getBoundingClientRect();
                        t(this).addClass("active"), o.hasClass("fullscreen") ? o.css("left", t("#editor").offset().left + 2) : o.parents(".common-buttons").length ? o.css("right", 0) : o.parents(".root-buttons").length ? o.css("left", 0) : "number" == typeof e.left ? o.css("left", e.left) : u.left + o.width() < h.right ? o.css("left", 0) : u.right - o.width() > h.left ? o.css("right", 0) : o.css("left", h.left - u.left), !e.forceBottom && (INKIVE.C.IS_MOBILE && u.top - o.height() + 150 > h.top || !INKIVE.C.IS_MOBILE && u.bottom + o.height() + 10 > i) ? o.addClass("top") : o.removeClass("top"), s(o, !0, e.onShow)
                    }
            }), o.off("click").on("click", "li:not(.ui-font-selection)", function(e) {
                var i = t(this).parents(".ui-dropdown"),
                    n = t(this).find("[role=menuitem]").html();
                if (n && !t(this).is(".font-locale")) {
                    var o = t(this).find("[role=menuitem]").attr("data-font-family"),
                        l = t(this).find("[role=menuitem]").attr("data-font-weight");
                    i.find(".ui-dropdown-title").html(o), i.trigger("change", [n, o, l]), "toggle" === i.attr("type") && s(t(".ui-dropdown-items"), !1), "all" === t(this).find("a").data("type") && (INKIVE.Menus.elementPopupMenu.popupMenuButtons.fontMenu = null), e.stopPropagation()
                }
            })
        })
    }, t.fn.popupmenu = function(e, i, n, o) {
        var s = [];
        return this.each(function() {
            var l = t(this).data("popupmenu");
            if (!l && t.isPlainObject(e)) l = INKIVE.C.IS_MOBILE ? new INKIVE.PopupMenuMobile(this, e) : new INKIVE.PopupMenuDefault(this, e), t(this).data("popupmenu", l), s.push(l);
            else if (!l || e || i) {
                if (l && void 0 !== l[e]) {
                    var p = l[e](i, n, o);
                    void 0 !== p && s.push(p)
                }
            } else s.push(l)
        }), "string" == typeof e ? s.length > 1 ? s : s[0] : s
    }, t.fn.popupmenu.Constructor = INKIVE.C.IS_MOBILE ? INKIVE.PopupMenuMobile : INKIVE.PopupMenuDefault
}(window.jQuery);
! function(a, l) {
    var e = .6;
    Math.precision = function(a, l) {
        return void 0 === l && (l = 0), Math.round(a * Math.pow(10, l)) / Math.pow(10, l)
    };
    var n = function(l, n) {
            var t, r, i = this,
                o = l.find("img:first"),
                c = 0,
                s = 100,
                u = 100,
                v = 0,
                d = 100,
                h = 100,
                p = 0,
                g = 0,
                f = new Array,
                b = function(a) {
                    for (var l = 0; l < f.length; l++) f[l].call(i, i, a)
                },
                x = function(e) {
                    var n = l.offset();
                    t = {
                        l: 0 | n.left,
                        t: 0 | n.top
                    }, clearTimeout(r), r = setTimeout(function() {
                        k.call(i, e)
                    }, 0), a(document).bind("mousemove", m).bind("mouseup", w).bind("touchmove", svgedit.touchHandler).bind("touchend", svgedit.touchHandler), e.preventDefault()
                },
                m = function(a) {
                    return clearTimeout(r), r = setTimeout(function() {
                        k.call(i, a)
                    }, 0), a.stopPropagation(), a.preventDefault(), !1
                },
                w = function(l) {
                    return a(document).unbind("mouseup", w).unbind("mousemove", m).unbind("touchmove", svgedit.touchHandler).unbind("touchend", svgedit.touchHandler), l.stopPropagation(), l.preventDefault(), !1
                },
                k = function(a) {
                    var n = (a.pageX - t.l) / e,
                        r = (a.pageY - t.t) / e,
                        o = l.w,
                        s = l.h;
                    n < 0 ? n = 0 : n > o && (n = o), r < 0 ? r = 0 : r > s && (r = s), C.call(i, "xy", {
                        x: n / o * u + c,
                        y: r / s * h + v
                    })
                },
                y = function() {
                    var a = 0,
                        e = 0,
                        n = l.w,
                        t = l.h,
                        r = o.w,
                        i = o.h;
                    setTimeout(function() {
                        u > 0 && (a = p == s ? n : p / u * n | 0), h > 0 && (e = g == d ? t : g / h * t | 0), r >= n ? a = (n >> 1) - (r >> 1) : a -= r >> 1, i >= t ? e = (t >> 1) - (i >> 1) : e -= i >> 1, o.css({
                            left: a + "px",
                            top: e + "px"
                        })
                    }, 0)
                },
                C = function(a, l, e) {
                    var n = void 0 !== l;
                    if (!n) switch (void 0 !== a && null != a || (a = "xy"), a.toLowerCase()) {
                        case "x":
                            return p;
                        case "y":
                            return g;
                        case "xy":
                        default:
                            return {
                                x: p,
                                y: g
                            }
                    }
                    if (null == e || e != i) {
                        var t, r, o = !1;
                        switch (null == a && (a = "xy"), a.toLowerCase()) {
                            case "x":
                                t = l && (l.x && 0 | l.x || 0 | l) || 0;
                                break;
                            case "y":
                                r = l && (l.y && 0 | l.y || 0 | l) || 0;
                                break;
                            case "xy":
                            default:
                                t = l && l.x && 0 | l.x || 0, r = l && l.y && 0 | l.y || 0
                        }
                        null != t && (t < c ? t = c : t > s && (t = s), p != t && (p = t, o = !0)), null != r && (r < v ? r = v : r > d && (r = d), g != r && (g = r, o = !0)), o && b.call(i, e || i)
                    }
                },
                M = function(a, l) {
                    var e = void 0 !== l;
                    if (!e) switch (void 0 !== a && null != a || (a = "all"), a.toLowerCase()) {
                        case "minx":
                            return c;
                        case "maxx":
                            return s;
                        case "rangex":
                            return {
                                minX: c,
                                maxX: s,
                                rangeX: u
                            };
                        case "miny":
                            return v;
                        case "maxy":
                            return d;
                        case "rangey":
                            return {
                                minY: v,
                                maxY: d,
                                rangeY: h
                            };
                        case "all":
                        default:
                            return {
                                minX: c,
                                maxX: s,
                                rangeX: u,
                                minY: v,
                                maxY: d,
                                rangeY: h
                            }
                    }
                    var n, t, r, i;
                    switch (null == a && (a = "all"), a.toLowerCase()) {
                        case "minx":
                            n = l && (l.minX && 0 | l.minX || 0 | l) || 0;
                            break;
                        case "maxx":
                            t = l && (l.maxX && 0 | l.maxX || 0 | l) || 0;
                            break;
                        case "rangex":
                            n = l && l.minX && 0 | l.minX || 0, t = l && l.maxX && 0 | l.maxX || 0;
                            break;
                        case "miny":
                            r = l && (l.minY && 0 | l.minY || 0 | l) || 0;
                            break;
                        case "maxy":
                            i = l && (l.maxY && 0 | l.maxY || 0 | l) || 0;
                            break;
                        case "rangey":
                            r = l && l.minY && 0 | l.minY || 0, i = l && l.maxY && 0 | l.maxY || 0;
                            break;
                        case "all":
                        default:
                            n = l && l.minX && 0 | l.minX || 0, t = l && l.maxX && 0 | l.maxX || 0, r = l && l.minY && 0 | l.minY || 0, i = l && l.maxY && 0 | l.maxY || 0
                    }
                    null != n && c != n && (c = n, u = s - c), null != t && s != t && (s = t, u = s - c), null != r && v != r && (v = r, h = d - v), null != i && d != i && (d = i, h = d - v)
                },
                T = function(l) {
                    a.isFunction(l) && f.push(l)
                },
                Y = function(l) {
                    if (a.isFunction(l))
                        for (var e;
                            (e = a.inArray(l, f)) != -1;) f.splice(e, 1)
                },
                q = function() {
                    a(document).unbind("mouseup", w).unbind("mousemove", m).unbind("touchmove", svgedit.touchHandler).unbind("touchend", svgedit.touchHandler), l.unbind("mousedown", x).unbind("touchstart", svgedit.touchHandler), l = null, o = null, f = null
                };
            a.extend(!0, i, {
                val: C,
                range: M,
                bind: T,
                unbind: Y,
                destroy: q
            }), o.src = n.arrow && n.arrow.image, o.w = n.arrow && n.arrow.width || o.width(), o.h = n.arrow && n.arrow.height || o.height(), l.w = n.map && n.map.width || l.width(), l.h = n.map && n.map.height || l.height(), l.bind("mousedown", x).bind("touchstart", svgedit.touchHandler), T.call(i, y)
        },
        t = function(l, e, n, t) {
            var r = this,
                i = l.find("td.Text input"),
                o = i.eq(3),
                c = i.eq(4),
                s = i.eq(5),
                u = i.length > 7 ? i.eq(6) : null,
                v = i.eq(0),
                d = i.eq(1),
                h = i.eq(2),
                p = l.find("span input").eq(0),
                g = i.length > 7 ? i.eq(8) : null,
                f = function(a) {
                    if ("" != a.target.value || a.target == p.get(0) || (null == n || a.target == n.get(0)) && null != n) {
                        if (!m(a)) return a;
                        switch (a.target) {
                            case o.get(0):
                                switch (a.keyCode) {
                                    case 38:
                                        return o.val(w.call(r, (o.val() << 0) + 1, 0, 255)), e.val("r", o.val(), a.target), !1;
                                    case 40:
                                        return o.val(w.call(r, (o.val() << 0) - 1, 0, 255)), e.val("r", o.val(), a.target), !1
                                }
                                break;
                            case c.get(0):
                                switch (a.keyCode) {
                                    case 38:
                                        return c.val(w.call(r, (c.val() << 0) + 1, 0, 255)), e.val("g", c.val(), a.target), !1;
                                    case 40:
                                        return c.val(w.call(r, (c.val() << 0) - 1, 0, 255)), e.val("g", c.val(), a.target), !1
                                }
                                break;
                            case s.get(0):
                                switch (a.keyCode) {
                                    case 38:
                                        return s.val(w.call(r, (s.val() << 0) + 1, 0, 255)), e.val("b", s.val(), a.target), !1;
                                    case 40:
                                        return s.val(w.call(r, (s.val() << 0) - 1, 0, 255)), e.val("b", s.val(), a.target), !1
                                }
                                break;
                            case u && u.get(0):
                                switch (a.keyCode) {
                                    case 38:
                                        return u.val(w.call(r, parseFloat(u.val()) + 1, 0, 100)), e.val("a", Math.precision(255 * u.val() / 100, t), a.target), !1;
                                    case 40:
                                        return u.val(w.call(r, parseFloat(u.val()) - 1, 0, 100)), e.val("a", Math.precision(255 * u.val() / 100, t), a.target), !1
                                }
                                break;
                            case v.get(0):
                                switch (a.keyCode) {
                                    case 38:
                                        return v.val(w.call(r, (v.val() << 0) + 1, 0, 360)), e.val("h", v.val(), a.target), !1;
                                    case 40:
                                        return v.val(w.call(r, (v.val() << 0) - 1, 0, 360)), e.val("h", v.val(), a.target), !1
                                }
                                break;
                            case d.get(0):
                                switch (a.keyCode) {
                                    case 38:
                                        return d.val(w.call(r, (d.val() << 0) + 1, 0, 100)), e.val("s", d.val(), a.target), !1;
                                    case 40:
                                        return d.val(w.call(r, (d.val() << 0) - 1, 0, 100)), e.val("s", d.val(), a.target), !1
                                }
                                break;
                            case h.get(0):
                                switch (a.keyCode) {
                                    case 38:
                                        return h.val(w.call(r, (h.val() << 0) + 1, 0, 100)), e.val("v", h.val(), a.target), !1;
                                    case 40:
                                        return h.val(w.call(r, (h.val() << 0) - 1, 0, 100)), e.val("v", h.val(), a.target), !1
                                }
                        }
                    }
                },
                b = function(a) {
                    if ("" != a.target.value || a.target == p.get(0) || (null == n || a.target == n.get(0)) && null != n) {
                        if (!m(a)) return a;
                        switch (a.target) {
                            case o.get(0):
                                o.val(w.call(r, o.val(), 0, 255)), e.val("r", o.val(), a.target);
                                break;
                            case c.get(0):
                                c.val(w.call(r, c.val(), 0, 255)), e.val("g", c.val(), a.target);
                                break;
                            case s.get(0):
                                s.val(w.call(r, s.val(), 0, 255)), e.val("b", s.val(), a.target);
                                break;
                            case u && u.get(0):
                                u.val(w.call(r, u.val(), 0, 100)), e.val("a", Math.precision(255 * u.val() / 100, t), a.target);
                                break;
                            case v.get(0):
                                v.val(w.call(r, v.val(), 0, 360)), e.val("h", v.val(), a.target);
                                break;
                            case d.get(0):
                                d.val(w.call(r, d.val(), 0, 100)), e.val("s", d.val(), a.target);
                                break;
                            case h.get(0):
                                h.val(w.call(r, h.val(), 0, 100)), e.val("v", h.val(), a.target);
                                break;
                            case p.get(0):
                                p.val(p.val().replace(/[^a-fA-F0-9]/g, "").toLowerCase().substring(0, 6)), n && n.val(p.val()), e.val("hex", "" != p.val() ? p.val() : null, a.target);
                                break;
                            case n && n.get(0):
                                n.val(n.val().replace(/[^a-fA-F0-9]/g, "").toLowerCase().substring(0, 6)), p.val(n.val()), e.val("hex", "" != n.val() ? n.val() : null, a.target);
                                break;
                            case g && g.get(0):
                                g.val(g.val().replace(/[^a-fA-F0-9]/g, "").toLowerCase().substring(0, 2)), e.val("a", null != g.val() ? parseInt(g.val(), 16) : null, a.target)
                        }
                    }
                },
                x = function(a) {
                    if (null != e.val()) switch (a.target) {
                        case o.get(0):
                            o.val(e.val("r"));
                            break;
                        case c.get(0):
                            c.val(e.val("g"));
                            break;
                        case s.get(0):
                            s.val(e.val("b"));
                            break;
                        case u && u.get(0):
                            u.val(Math.precision(100 * e.val("a") / 255, t));
                            break;
                        case v.get(0):
                            v.val(e.val("h"));
                            break;
                        case d.get(0):
                            d.val(e.val("s"));
                            break;
                        case h.get(0):
                            h.val(e.val("v"));
                            break;
                        case p.get(0):
                        case n && n.get(0):
                            p.val(e.val("hex")), n && n.val(e.val("hex"));
                            break;
                        case g && g.get(0):
                            g.val(e.val("ahex").substring(6))
                    }
                },
                m = function(a) {
                    switch (a.keyCode) {
                        case 9:
                        case 16:
                        case 29:
                        case 37:
                        case 39:
                            return !1;
                        case "c".charCodeAt():
                        case "v".charCodeAt():
                            if (a.ctrlKey) return !1
                    }
                    return !0
                },
                w = function(a, l, e) {
                    return "" == a || isNaN(a) ? l : a > e ? e : a < l ? l : a
                },
                k = function(a, l) {
                    var e = a.val("all");
                    l != o.get(0) && o.val(null != e ? e.r : ""), l != c.get(0) && c.val(null != e ? e.g : ""), l != s.get(0) && s.val(null != e ? e.b : ""), u && l != u.get(0) && u.val(null != e ? Math.precision(100 * e.a / 255, t) : ""), l != v.get(0) && v.val(null != e ? e.h : ""), l != d.get(0) && d.val(null != e ? e.s : ""), l != h.get(0) && h.val(null != e ? e.v : ""), l != p.get(0) && (n && l != n.get(0) || !n) && p.val(null != e ? e.hex : ""), n && l != n.get(0) && l != p.get(0) && n.val(null != e ? e.hex : ""), g && l != g.get(0) && g.val(null != e ? e.ahex.substring(6) : "")
                },
                y = function() {
                    o.add(c).add(s).add(u).add(v).add(d).add(h).add(p).add(n).add(g).unbind("keyup", b).unbind("blur", x), o.add(c).add(s).add(u).add(v).add(d).add(h).unbind("keydown", f), e.unbind(k), o = null, c = null, s = null, u = null, v = null, d = null, h = null, p = null, g = null
                };
            a.extend(!0, r, {
                destroy: y
            }), o.add(c).add(s).add(u).add(v).add(d).add(h).add(p).add(n).add(g).bind("keyup", b).bind("blur", x), o.add(c).add(s).add(u).add(v).add(d).add(h).bind("keydown", f), e.bind(k)
        };
    a.jPicker = {
        List: [],
        Color: function(l) {
            var e, n, t, r, i, c, s, u = this,
                v = new Array,
                d = function(a) {
                    for (var l = 0; l < v.length; l++) v[l].call(u, u, a)
                },
                h = function(a, l, v) {
                    var p = void 0 !== l;
                    if (!p) {
                        if (void 0 !== a && null != a && "" != a || (a = "all"), null == e) return null;
                        switch (a.toLowerCase()) {
                            case "ahex":
                                return o.rgbaToHex({
                                    r: e,
                                    g: n,
                                    b: t,
                                    a: r
                                });
                            case "hex":
                                return h("ahex").substring(0, 6);
                            case "all":
                                return {
                                    r: e,
                                    g: n,
                                    b: t,
                                    a: r,
                                    h: i,
                                    s: c,
                                    v: s,
                                    hex: h.call(u, "hex"),
                                    ahex: h.call(u, "ahex")
                                };
                            default:
                                for (var g = {}, f = 0; f < a.length; f++) switch (a.charAt(f)) {
                                    case "r":
                                        1 == a.length ? g = e : g.r = e;
                                        break;
                                    case "g":
                                        1 == a.length ? g = n : g.g = n;
                                        break;
                                    case "b":
                                        1 == a.length ? g = t : g.b = t;
                                        break;
                                    case "a":
                                        1 == a.length ? g = r : g.a = r;
                                        break;
                                    case "h":
                                        1 == a.length ? g = i : g.h = i;
                                        break;
                                    case "s":
                                        1 == a.length ? g = c : g.s = c;
                                        break;
                                    case "v":
                                        1 == a.length ? g = s : g.v = s
                                }
                                return g == {} ? h.call(u, "all") : g
                        }
                    }
                    if (null == v || v != u) {
                        var b = !1;
                        if (null == a && (a = ""), null == l) return null != e && (e = null, b = !0), null != n && (n = null, b = !0), null != t && (t = null, b = !0), null != r && (r = null, b = !0), null != i && (i = null, b = !0), null != c && (c = null, b = !0), null != s && (s = null, b = !0), void(b && d.call(u, v || u));
                        switch (a.toLowerCase()) {
                            case "ahex":
                            case "hex":
                                var g = o.hexToRgba(l && (l.ahex || l.hex) || l || "00000000");
                                h.call(u, "rgba", {
                                    r: g.r,
                                    g: g.g,
                                    b: g.b,
                                    a: "ahex" == a ? g.a : null != r ? r : 255
                                }, v);
                                break;
                            default:
                                if (l && (null != l.ahex || null != l.hex)) return void h.call(u, "ahex", l.ahex || l.hex || "00000000", v);
                                var x = {},
                                    m = !1,
                                    w = !1;
                                void 0 !== l.r && !a.indexOf("r") == -1 && (a += "r"), void 0 !== l.g && !a.indexOf("g") == -1 && (a += "g"), void 0 !== l.b && !a.indexOf("b") == -1 && (a += "b"), void 0 !== l.a && !a.indexOf("a") == -1 && (a += "a"), void 0 !== l.h && !a.indexOf("h") == -1 && (a += "h"), void 0 !== l.s && !a.indexOf("s") == -1 && (a += "s"), void 0 !== l.v && !a.indexOf("v") == -1 && (a += "v");
                                for (var f = 0; f < a.length; f++) switch (a.charAt(f)) {
                                    case "r":
                                        if (w) continue;
                                        m = !0, x.r = l && l.r && 0 | l.r || l && 0 | l || 0, x.r < 0 ? x.r = 0 : x.r > 255 && (x.r = 255), e != x.r && (e = x.r, b = !0);
                                        break;
                                    case "g":
                                        if (w) continue;
                                        m = !0, x.g = l && l.g && 0 | l.g || l && 0 | l || 0, x.g < 0 ? x.g = 0 : x.g > 255 && (x.g = 255), n != x.g && (n = x.g, b = !0);
                                        break;
                                    case "b":
                                        if (w) continue;
                                        m = !0, x.b = l && l.b && 0 | l.b || l && 0 | l || 0, x.b < 0 ? x.b = 0 : x.b > 255 && (x.b = 255), t != x.b && (t = x.b, b = !0);
                                        break;
                                    case "a":
                                        x.a = l && null != l.a ? 0 | l.a : null != l ? 0 | l : 255, x.a < 0 ? x.a = 0 : x.a > 255 && (x.a = 255), r != x.a && (r = x.a, b = !0);
                                        break;
                                    case "h":
                                        if (m) continue;
                                        w = !0, x.h = l && l.h && 0 | l.h || l && 0 | l || 0, x.h < 0 ? x.h = 0 : x.h > 360 && (x.h = 360), i != x.h && (i = x.h, b = !0);
                                        break;
                                    case "s":
                                        if (m) continue;
                                        w = !0, x.s = l && null != l.s ? 0 | l.s : null != l ? 0 | l : 100, x.s < 0 ? x.s = 0 : x.s > 100 && (x.s = 100), c != x.s && (c = x.s, b = !0);
                                        break;
                                    case "v":
                                        if (m) continue;
                                        w = !0, x.v = l && null != l.v ? 0 | l.v : null != l ? 0 | l : 100, x.v < 0 ? x.v = 0 : x.v > 100 && (x.v = 100), s != x.v && (s = x.v, b = !0)
                                }
                                if (b) {
                                    if (m) {
                                        e = e || 0, n = n || 0, t = t || 0;
                                        var g = o.rgbToHsv({
                                            r: e,
                                            g: n,
                                            b: t
                                        });
                                        i = g.h, c = g.s, s = g.v
                                    } else if (w) {
                                        i = i || 0, c = null != c ? c : 100, s = null != s ? s : 100;
                                        var g = o.hsvToRgb({
                                            h: i,
                                            s: c,
                                            v: s
                                        });
                                        e = g.r, n = g.g, t = g.b
                                    }
                                    r = null != r ? r : 255, d.call(u, v || u)
                                }
                        }
                    }
                },
                p = function(l) {
                    a.isFunction(l) && v.push(l)
                },
                g = function(l) {
                    if (a.isFunction(l))
                        for (var e;
                            (e = a.inArray(l, v)) != -1;) v.splice(e, 1)
                },
                f = function() {
                    v = null
                };
            a.extend(!0, u, {
                val: h,
                bind: p,
                unbind: g,
                destroy: f
            }), l && (null != l.ahex ? h("ahex", l) : null != l.hex ? h((null != l.a ? "a" : "") + "hex", null != l.a ? {
                ahex: l.hex + o.intToHex(l.a)
            } : l) : null != l.r && null != l.g && null != l.b ? h("rgb" + (null != l.a ? "a" : ""), l) : null != l.h && null != l.s && null != l.v && h("hsv" + (null != l.a ? "a" : ""), l))
        },
        ColorMethods: {
            hexToRgba: function(a) {
                if (a = this.validateHex(a), "" == a) return {
                    r: null,
                    g: null,
                    b: null,
                    a: null
                };
                var l = "00",
                    e = "00",
                    n = "00",
                    t = "255";
                return 6 == a.length && (a += "ff"), a.length > 6 ? (l = a.substring(0, 2), e = a.substring(2, 4), n = a.substring(4, 6), t = a.substring(6, a.length)) : (a.length > 4 && (l = a.substring(4, a.length), a = a.substring(0, 4)), a.length > 2 && (e = a.substring(2, a.length), a = a.substring(0, 2)), a.length > 0 && (n = a.substring(0, a.length))), {
                    r: this.hexToInt(l),
                    g: this.hexToInt(e),
                    b: this.hexToInt(n),
                    a: this.hexToInt(t)
                }
            },
            validateHex: function(a) {
                return a = a.toLowerCase().replace(/[^a-f0-9]/g, ""), a.length > 8 && (a = a.substring(0, 8)), a
            },
            rgbaToHex: function(a) {
                return this.intToHex(a.r) + this.intToHex(a.g) + this.intToHex(a.b) + this.intToHex(a.a)
            },
            intToHex: function(a) {
                var l = (0 | a).toString(16);
                return 1 == l.length && (l = "0" + l), l.toLowerCase()
            },
            hexToInt: function(a) {
                return parseInt(a, 16)
            },
            rgbToHsv: function(a) {
                var l, e = a.r / 255,
                    n = a.g / 255,
                    t = a.b / 255,
                    r = {
                        h: 0,
                        s: 0,
                        v: 0
                    },
                    i = 0,
                    o = 0;
                return e >= n && e >= t ? (o = e, i = n > t ? t : n) : n >= t && n >= e ? (o = n, i = e > t ? t : e) : (o = t, i = n > e ? e : n), r.v = o, r.s = o ? (o - i) / o : 0, r.s ? (l = o - i, e == o ? r.h = (n - t) / l : n == o ? r.h = 2 + (t - e) / l : r.h = 4 + (e - n) / l, r.h = parseInt(60 * r.h), r.h < 0 && (r.h += 360)) : r.h = 0, r.s = 100 * r.s | 0, r.v = 100 * r.v | 0, r
            },
            hsvToRgb: function(a) {
                var l = {
                        r: 0,
                        g: 0,
                        b: 0,
                        a: 100
                    },
                    e = a.h,
                    n = a.s,
                    t = a.v;
                if (0 == n) 0 == t ? l.r = l.g = l.b = 0 : l.r = l.g = l.b = 255 * t / 100 | 0;
                else {
                    360 == e && (e = 0), e /= 60, n /= 100, t /= 100;
                    var r = 0 | e,
                        i = e - r,
                        o = t * (1 - n),
                        c = t * (1 - n * i),
                        s = t * (1 - n * (1 - i));
                    switch (r) {
                        case 0:
                            l.r = t, l.g = s, l.b = o;
                            break;
                        case 1:
                            l.r = c, l.g = t, l.b = o;
                            break;
                        case 2:
                            l.r = o, l.g = t, l.b = s;
                            break;
                        case 3:
                            l.r = o, l.g = c, l.b = t;
                            break;
                        case 4:
                            l.r = s, l.g = o, l.b = t;
                            break;
                        case 5:
                            l.r = t, l.g = o, l.b = c
                    }
                    l.r = 255 * l.r | 0, l.g = 255 * l.g | 0, l.b = 255 * l.b | 0
                }
                return l
            }
        }
    };
    var r = a.jPicker.Color,
        i = a.jPicker.List,
        o = a.jPicker.ColorMethods;
    a.fn.jPicker = function(l) {
        var e = arguments;
        return this.each(function() {
            var c = this,
                s = a.extend(!0, {}, a.fn.jPicker.defaults, l);
            "input" == a(c).get(0).nodeName.toLowerCase() && (a.extend(!0, s, {
                window: {
                    bindToInput: !0,
                    expandable: !0,
                    input: a(c)
                }
            }), "" == a(c).val() ? (s.color.active = new r({
                hex: null
            }), s.color.current = new r({
                hex: null
            })) : o.validateHex(a(c).val()) && (s.color.active = new r({
                hex: a(c).val(),
                a: s.color.active.val("a")
            }), s.color.current = new r({
                hex: a(c).val(),
                a: s.color.active.val("a")
            }))), s.window.expandable ? a(c).after('<span class="jPicker"><span class="Icon"><span class="Color">&nbsp;</span><span class="Alpha">&nbsp;</span><span class="Image" title="Click To Open Color Picker">&nbsp;</span><span class="Container">&nbsp;</span></span></span>') : s.window.liveUpdate = !1;
            var u = parseFloat(navigator.appVersion.split("MSIE")[1]) < 7 && document.body.filters,
                v = null,
                d = null,
                h = null,
                p = null,
                g = null,
                f = null,
                b = null,
                x = null,
                m = null,
                w = null,
                k = null,
                y = null,
                C = null,
                M = null,
                T = null,
                Y = null,
                q = null,
                P = null,
                I = null,
                A = null,
                X = null,
                H = null,
                L = null,
                S = null,
                B = null,
                O = null,
                j = null,
                F = null,
                D = function(a) {
                    var l, e, n = ma.active,
                        t = (ba.clientPath, n.val("hex"));
                    switch (s.color.mode = a, a) {
                        case "h":
                            if (setTimeout(function() {
                                    Q.call(c, d, "transparent"), J.call(c, p, 0), W.call(c, p, 100), J.call(c, g, 260), W.call(c, g, 100), Q.call(c, h, "transparent"), J.call(c, b, 0), W.call(c, b, 100), J.call(c, x, 260), W.call(c, x, 100), J.call(c, m, 260), W.call(c, m, 100), J.call(c, w, 260), W.call(c, w, 100), J.call(c, y, 260), W.call(c, y, 100)
                                }, 0), C.range("all", {
                                    minX: 0,
                                    maxX: 100,
                                    minY: 0,
                                    maxY: 100
                                }), M.range("rangeY", {
                                    minY: 0,
                                    maxY: 360
                                }), null == n.val("ahex")) break;
                            C.val("xy", {
                                x: n.val("s"),
                                y: 100 - n.val("v")
                            }, C), M.val("y", 360 - n.val("h"), M);
                            break;
                        case "s":
                            if (setTimeout(function() {
                                    Q.call(c, d, "transparent"), J.call(c, p, -260), J.call(c, g, -520), J.call(c, b, -260), J.call(c, x, -520), J.call(c, y, 260), W.call(c, y, 100)
                                }, 0), C.range("all", {
                                    minX: 0,
                                    maxX: 360,
                                    minY: 0,
                                    maxY: 100
                                }), M.range("rangeY", {
                                    minY: 0,
                                    maxY: 100
                                }), null == n.val("ahex")) break;
                            C.val("xy", {
                                x: n.val("h"),
                                y: 100 - n.val("v")
                            }, C), M.val("y", 100 - n.val("s"), M);
                            break;
                        case "v":
                            if (setTimeout(function() {
                                    Q.call(c, d, "000000"), J.call(c, p, -780), J.call(c, g, 260), Q.call(c, h, t), J.call(c, b, -520), J.call(c, x, 260), W.call(c, x, 100), J.call(c, y, 260), W.call(c, y, 100)
                                }, 0), C.range("all", {
                                    minX: 0,
                                    maxX: 360,
                                    minY: 0,
                                    maxY: 100
                                }), M.range("rangeY", {
                                    minY: 0,
                                    maxY: 100
                                }), null == n.val("ahex")) break;
                            C.val("xy", {
                                x: n.val("h"),
                                y: 100 - n.val("s")
                            }, C), M.val("y", 100 - n.val("v"), M);
                            break;
                        case "r":
                            if (l = -1040, e = -780, C.range("all", {
                                    minX: 0,
                                    maxX: 255,
                                    minY: 0,
                                    maxY: 255
                                }), M.range("rangeY", {
                                    minY: 0,
                                    maxY: 255
                                }), null == n.val("ahex")) break;
                            C.val("xy", {
                                x: n.val("b"),
                                y: 255 - n.val("g")
                            }, C), M.val("y", 255 - n.val("r"), M);
                            break;
                        case "g":
                            if (l = -1560, e = -1820, C.range("all", {
                                    minX: 0,
                                    maxX: 255,
                                    minY: 0,
                                    maxY: 255
                                }), M.range("rangeY", {
                                    minY: 0,
                                    maxY: 255
                                }), null == n.val("ahex")) break;
                            C.val("xy", {
                                x: n.val("b"),
                                y: 255 - n.val("r")
                            }, C), M.val("y", 255 - n.val("g"), M);
                            break;
                        case "b":
                            if (l = -2080, e = -2860, C.range("all", {
                                    minX: 0,
                                    maxX: 255,
                                    minY: 0,
                                    maxY: 255
                                }), M.range("rangeY", {
                                    minY: 0,
                                    maxY: 255
                                }), null == n.val("ahex")) break;
                            C.val("xy", {
                                x: n.val("r"),
                                y: 255 - n.val("g")
                            }, C), M.val("y", 255 - n.val("b"), M);
                            break;
                        case "a":
                            if (setTimeout(function() {
                                    Q.call(c, d, "transparent"), J.call(c, p, -260), J.call(c, g, -520), J.call(c, b, 260), J.call(c, x, 260), W.call(c, x, 100), J.call(c, y, 0), W.call(c, y, 100)
                                }, 0), C.range("all", {
                                    minX: 0,
                                    maxX: 360,
                                    minY: 0,
                                    maxY: 100
                                }), M.range("rangeY", {
                                    minY: 0,
                                    maxY: 255
                                }), null == n.val("ahex")) break;
                            C.val("xy", {
                                x: n.val("h"),
                                y: 100 - n.val("v")
                            }, C), M.val("y", 255 - n.val("a"), M);
                            break;
                        default:
                            throw "Invalid Mode"
                    }
                    switch (a) {
                        case "h":
                            break;
                        case "s":
                        case "v":
                        case "a":
                            setTimeout(function() {
                                W.call(c, p, 100), W.call(c, b, 100), J.call(c, m, 260), W.call(c, m, 100), J.call(c, w, 260), W.call(c, w, 100)
                            }, 0);
                            break;
                        case "r":
                        case "g":
                        case "b":
                            setTimeout(function() {
                                Q.call(c, d, "transparent"), Q.call(c, h, "transparent"), W.call(c, b, 100), W.call(c, p, 100), J.call(c, p, l), J.call(c, g, l - 260), J.call(c, b, e - 780), J.call(c, x, e - 520), J.call(c, m, e), J.call(c, w, e - 260), J.call(c, y, 260), W.call(c, y, 100)
                            }, 0)
                    }
                    null != n.val("ahex") && V.call(c, n)
                },
                V = function(a, l) {
                    (null == l || l != M && l != C) && R.call(c, a, l), setTimeout(function() {
                        N.call(c, a), G.call(c, a), K.call(c, a)
                    }, 0)
                },
                E = function(a, l) {
                    var e = ma.active;
                    if (l == C || null != e.val()) {
                        var n = a.val("all");
                        switch (s.color.mode) {
                            case "h":
                                e.val("sv", {
                                    s: n.x,
                                    v: 100 - n.y
                                }, l);
                                break;
                            case "s":
                            case "a":
                                e.val("hv", {
                                    h: n.x,
                                    v: 100 - n.y
                                }, l);
                                break;
                            case "v":
                                e.val("hs", {
                                    h: n.x,
                                    s: 100 - n.y
                                }, l);
                                break;
                            case "r":
                                e.val("gb", {
                                    g: 255 - n.y,
                                    b: n.x
                                }, l);
                                break;
                            case "g":
                                e.val("rb", {
                                    r: 255 - n.y,
                                    b: n.x
                                }, l);
                                break;
                            case "b":
                                e.val("rg", {
                                    r: n.x,
                                    g: 255 - n.y
                                }, l)
                        }
                    }
                },
                z = function(a, l) {
                    var e = ma.active;
                    if (l == M || null != e.val()) switch (s.color.mode) {
                        case "h":
                            e.val("h", {
                                h: 360 - a.val("y")
                            }, l);
                            break;
                        case "s":
                            e.val("s", {
                                s: 100 - a.val("y")
                            }, l);
                            break;
                        case "v":
                            e.val("v", {
                                v: 100 - a.val("y")
                            }, l);
                            break;
                        case "r":
                            e.val("r", {
                                r: 255 - a.val("y")
                            }, l);
                            break;
                        case "g":
                            e.val("g", {
                                g: 255 - a.val("y")
                            }, l);
                            break;
                        case "b":
                            e.val("b", {
                                b: 255 - a.val("y")
                            }, l);
                            break;
                        case "a":
                            e.val("a", 255 - a.val("y"), l)
                    }
                },
                R = function(a, l) {
                    if (l != C) switch (s.color.mode) {
                        case "h":
                            var e = a.val("sv");
                            C.val("xy", {
                                x: null != e ? e.s : 100,
                                y: 100 - (null != e ? e.v : 100)
                            }, l);
                            break;
                        case "s":
                        case "a":
                            var n = a.val("hv");
                            C.val("xy", {
                                x: n && n.h || 0,
                                y: 100 - (null != n ? n.v : 100)
                            }, l);
                            break;
                        case "v":
                            var t = a.val("hs");
                            C.val("xy", {
                                x: t && t.h || 0,
                                y: 100 - (null != t ? t.s : 100)
                            }, l);
                            break;
                        case "r":
                            var r = a.val("bg");
                            C.val("xy", {
                                x: r && r.b || 0,
                                y: 255 - (r && r.g || 0)
                            }, l);
                            break;
                        case "g":
                            var i = a.val("br");
                            C.val("xy", {
                                x: i && i.b || 0,
                                y: 255 - (i && i.r || 0)
                            }, l);
                            break;
                        case "b":
                            var o = a.val("rg");
                            C.val("xy", {
                                x: o && o.r || 0,
                                y: 255 - (o && o.g || 0)
                            }, l)
                    }
                    if (l != M) switch (s.color.mode) {
                        case "h":
                            M.val("y", 360 - (a.val("h") || 0), l);
                            break;
                        case "s":
                            var c = a.val("s");
                            M.val("y", 100 - (null != c ? c : 100), l);
                            break;
                        case "v":
                            var u = a.val("v");
                            M.val("y", 100 - (null != u ? u : 100), l);
                            break;
                        case "r":
                            M.val("y", 255 - (a.val("r") || 0), l);
                            break;
                        case "g":
                            M.val("y", 255 - (a.val("g") || 0), l);
                            break;
                        case "b":
                            M.val("y", 255 - (a.val("b") || 0), l);
                            break;
                        case "a":
                            var v = a.val("a");
                            M.val("y", 255 - (null != v ? v : 255), l)
                    }
                },
                N = function(a) {
                    try {
                        var l = a.val("all");
                        A.css({
                            backgroundColor: l && "#" + l.hex || "transparent"
                        }), W.call(c, A, l && Math.precision(100 * l.a / 255, 4) || 0)
                    } catch (e) {}
                },
                G = function(a) {
                    switch (s.color.mode) {
                        case "h":
                            Q.call(c, d, new r({
                                h: a.val("h") || 0,
                                s: 100,
                                v: 100
                            }).val("hex"));
                            break;
                        case "s":
                        case "a":
                            var l = a.val("s");
                            W.call(c, g, 100 - (null != l ? l : 100));
                            break;
                        case "v":
                            var e = a.val("v");
                            W.call(c, p, null != e ? e : 100);
                            break;
                        case "r":
                            W.call(c, g, Math.precision((a.val("r") || 0) / 255 * 100, 4));
                            break;
                        case "g":
                            W.call(c, g, Math.precision((a.val("g") || 0) / 255 * 100, 4));
                            break;
                        case "b":
                            W.call(c, g, Math.precision((a.val("b") || 0) / 255 * 100))
                    }
                    var n = a.val("a");
                    W.call(c, f, Math.precision(100 * (255 - (n || 0)) / 255, 4))
                },
                K = function(a) {
                    switch (s.color.mode) {
                        case "h":
                            var l = a.val("a");
                            W.call(c, k, Math.precision(100 * (255 - (l || 0)) / 255, 4));
                            break;
                        case "s":
                            var e = a.val("hva"),
                                n = new r({
                                    h: e && e.h || 0,
                                    s: 100,
                                    v: null != e ? e.v : 100
                                });
                            Q.call(c, h, n.val("hex")), W.call(c, x, 100 - (null != e ? e.v : 100)), W.call(c, k, Math.precision(100 * (255 - (e && e.a || 0)) / 255, 4));
                            break;
                        case "v":
                            var t = a.val("hsa"),
                                i = new r({
                                    h: t && t.h || 0,
                                    s: null != t ? t.s : 100,
                                    v: 100
                                });
                            Q.call(c, h, i.val("hex")), W.call(c, k, Math.precision(100 * (255 - (t && t.a || 0)) / 255, 4));
                            break;
                        case "r":
                        case "g":
                        case "b":
                            var o = 0,
                                u = 0,
                                v = a.val("rgba");
                            "r" == s.color.mode ? (o = v && v.b || 0, u = v && v.g || 0) : "g" == s.color.mode ? (o = v && v.b || 0, u = v && v.r || 0) : "b" == s.color.mode && (o = v && v.r || 0, u = v && v.g || 0);
                            var d = u > o ? o : u;
                            W.call(c, x, o > u ? Math.precision((o - u) / (255 - u) * 100, 4) : 0), W.call(c, m, u > o ? Math.precision((u - o) / (255 - o) * 100, 4) : 0), W.call(c, w, Math.precision(d / 255 * 100, 4)), W.call(c, k, Math.precision(100 * (255 - (v && v.a || 0)) / 255, 4));
                            break;
                        case "a":
                            var l = a.val("a");
                            Q.call(c, h, a.val("hex") || "000000"), W.call(c, k, null != l ? 0 : 100), W.call(c, y, null != l ? 100 : 0)
                    }
                },
                Q = function(a, l) {
                    a.css({
                        backgroundColor: l && 6 == l.length && "#" + l || "transparent"
                    })
                },
                U = function(a, l) {
                    !u || l.indexOf("AlphaBar.png") == -1 && l.indexOf("Bars.png") == -1 && l.indexOf("Maps.png") == -1 ? a.css({
                        backgroundImage: "url('" + l + "')"
                    }) : (a.attr("pngSrc", l), a.css({
                        backgroundImage: "none",
                        filter: "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='" + l + "', sizingMethod='scale')"
                    }))
                },
                J = function(a, l) {
                    a.css({
                        top: l + "px"
                    })
                },
                W = function(a, l) {
                    if (a.css({
                            visibility: l > 0 ? "visible" : "hidden"
                        }), l > 0 && l < 100)
                        if (u) {
                            var e = a.attr("pngSrc");
                            null == e || e.indexOf("AlphaBar.png") == -1 && e.indexOf("Bars.png") == -1 && e.indexOf("Maps.png") == -1 ? a.css({
                                opacity: Math.precision(l / 100, 4)
                            }) : a.css({
                                filter: "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='" + e + "', sizingMethod='scale') progid:DXImageTransform.Microsoft.Alpha(opacity=" + l + ")"
                            })
                        } else a.css({
                            opacity: Math.precision(l / 100, 4)
                        });
                    else if (0 == l || 100 == l)
                        if (u) {
                            var e = a.attr("pngSrc");
                            null == e || e.indexOf("AlphaBar.png") == -1 && e.indexOf("Bars.png") == -1 && e.indexOf("Maps.png") == -1 ? a.css({
                                opacity: ""
                            }) : a.css({
                                filter: "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='" + e + "', sizingMethod='scale')"
                            })
                        } else a.css({
                            opacity: ""
                        })
                },
                Z = function() {
                    ma.active.val("ahex", ma.current.val("ahex"))
                },
                $ = function() {
                    ma.current.val("ahex", ma.active.val("ahex"))
                },
                _ = function(l) {
                    a(this).parents("tbody:first").find('input:radio[value!="' + l.target.value + '"]').removeAttr("checked"), D.call(c, l.target.value)
                },
                aa = function() {
                    Z.call(c)
                },
                la = function() {
                    Z.call(c), s.window.expandable && pa.call(c), a.isFunction(da) && da.call(c, ma.active, L)
                },
                ea = function() {
                    $.call(c), s.window.expandable && pa.call(c), a.isFunction(ua) && ua.call(c, ma.active, H)
                },
                na = function() {
                    ha.call(c)
                },
                ta = function(a, l) {
                    var e = a.val("hex");
                    X.css({
                        backgroundColor: e && "#" + e || "transparent"
                    }), W.call(c, X, Math.precision(100 * (a.val("a") || 0) / 255, 4))
                },
                ra = function(a, l) {
                    var e = a.val("hex"),
                        n = a.val("va");
                    B.css({
                        backgroundColor: e && "#" + e || "transparent"
                    }), W.call(c, O, Math.precision(100 * (255 - (n && n.a || 0)) / 255, 4)), s.window.bindToInput && s.window.updateInputColor && s.window.input.css({
                        backgroundColor: e && "#" + e || "transparent",
                        color: null == n || n.v > 75 ? "#000000" : "#ffffff"
                    })
                },
                ia = function(l) {
                    s.window.element, s.window.page;
                    Y = parseInt(v.css("left")), q = parseInt(v.css("top")), P = l.pageX, I = l.pageY, a(document).bind("mousemove", oa).bind("mouseup", ca).bind("touchmove", svgedit.touchHandler).bind("touchend", svgedit.touchHandler), l.preventDefault()
                },
                oa = function(l) {
                    return v.css({
                        left: Y - (P - l.pageX) + "px",
                        top: q - (I - l.pageY) + "px"
                    }), s.window.expandable && !a.support.boxModel && v.prev().css({
                        left: v.css("left"),
                        top: v.css("top")
                    }), l.stopPropagation(), l.preventDefault(), !1
                },
                ca = function(l) {
                    return a(document).unbind("mousemove", oa).unbind("mouseup", ca).unbind("touchmove", svgedit.touchHandler).unbind("touchend", svgedit.touchHandler), l.stopPropagation(), l.preventDefault(), !1
                },
                sa = function(l) {
                    return l.preventDefault(), l.stopPropagation(), ma.active.val("ahex", a(this).attr("title") || null, l.target), !1
                },
                ua = a.isFunction(e[1]) && e[1] || null,
                va = a.isFunction(e[2]) && e[2] || null,
                da = a.isFunction(e[3]) && e[3] || null,
                ha = function() {
                    ma.current.val("ahex", ma.active.val("ahex"));
                    var l = function() {
                        if (s.window.expandable && !a.support.boxModel) {
                            var l = v.find("table:first");
                            v.before("<iframe/>"), v.prev().css({
                                width: l.width(),
                                height: v.height(),
                                opacity: 0,
                                position: "absolute",
                                left: v.css("left"),
                                top: v.css("top")
                            })
                        }
                    };
                    switch (s.window.expandable && (a(document.body).children("div.jPicker.Container").css({
                        zIndex: 10
                    }), v.css({
                        zIndex: 20
                    })), s.window.effects.type) {
                        case "fade":
                            v.fadeIn(s.window.effects.speed.show, l);
                            break;
                        case "slide":
                            v.slideDown(s.window.effects.speed.show, l);
                            break;
                        case "show":
                        default:
                            v.show(s.window.effects.speed.show, l)
                    }
                },
                pa = function() {
                    var l = function() {
                        s.window.expandable && v.css({
                            zIndex: 10
                        }), s.window.expandable && !a.support.boxModel && v.prev().remove()
                    };
                    switch (s.window.effects.type) {
                        case "fade":
                            v.fadeOut(s.window.effects.speed.hide, l);
                            break;
                        case "slide":
                            v.slideUp(s.window.effects.speed.hide, l);
                            break;
                        case "show":
                        default:
                            v.hide(s.window.effects.speed.hide, l)
                    }
                },
                ga = function() {
                    var l = s.window,
                        e = l.expandable ? a(c).next().find(".Container:first") : null;
                    v = a(l.expandable ? "<div/>" : c), v.addClass("jPicker Container"), l.expandable && v.hide(), v.get(0).onselectstart = function(a) {
                        if ("input" !== a.target.nodeName.toLowerCase()) return !1
                    };
                    var i = ma.active.val("all");
                    l.alphaPrecision < 0 ? l.alphaPrecision = 0 : l.alphaPrecision > 2 && (l.alphaPrecision = 2);
                    var o = '<table class="jPicker" cellpadding="0" cellspacing="0"><tbody>' + (l.expandable ? '<tr><td class="Move" colspan="5">&nbsp;</td></tr>' : "") + '<tr><td><div class="Map"><span class="Map1">&nbsp;</span><span class="Map2">&nbsp;</span><span class="Map3">&nbsp;</span><img src="' + ba.clientPath + ba.colorMap.arrow.file + '" class="Arrow"/></div></td><td class="color-selector-bar"><div class="Bar"> <span class="Map1">&nbsp;</span><span class="Map2">&nbsp;</span><span class="Map3">&nbsp;</span><span class="Map4">&nbsp;</span><span class="Map5">&nbsp;</span><span class="Map6">&nbsp;</span><img src="' + ba.clientPath + ba.colorBar.arrow.file + '" class="Arrow"/></div></td></tr><tr class="Button"><td colspan="2"><div class="eye-dropper"><i class="desygner-icon-eye-dropper" aria-hidden="true"></i></div><div class="Hex"><span class="Text"><input type="text" maxlength="6" class="Hex color-selector-input" value="' + (null != i ? i.hex : "") + '"/></span><div class="selected-color"><span></span></div><div class="Grid">&nbsp;</div></div><input type="button" class="Cancel" value="' + xa.text.cancel + '" title="' + xa.tooltips.buttons.cancel + '"/><input type="button" class="Ok" value="' + INKIVE.TranslateHelper.translate("editor.apply") + '" title="' + xa.tooltips.buttons.ok + '"/></td></tr></tbody></table>';
                    l.expandable ? (v.html(o), 0 == a(document.body).children("div.jPicker.Container").length ? a(document.body).prepend(v) : a(document.body).children("div.jPicker.Container:last").after(v), v.mousedown(function() {
                        a(document.body).children("div.jPicker.Container").css({
                            zIndex: 10
                        }), v.css({
                            zIndex: 20
                        })
                    }), v.css({
                        left: "left" == l.position.x ? e.offset().left - 530 - ("center" == l.position.y ? 25 : 0) + "px" : "center" == l.position.x ? e.offset().left - 260 + "px" : "right" == l.position.x ? e.offset().left - 10 + ("center" == l.position.y ? 25 : 0) + "px" : "screenCenter" == l.position.x ? (a(document).width() >> 1) - 260 + "px" : e.offset().left + parseInt(l.position.x) + "px",
                        position: "absolute",
                        top: "top" == l.position.y ? e.offset().top - 312 + "px" : "center" == l.position.y ? e.offset().top - 156 + "px" : "bottom" == l.position.y ? e.offset().top + 25 + "px" : e.offset().top + parseInt(l.position.y) + "px"
                    })) : (v = a(c), v.html(o));
                    var u = v.find("tbody:first");
                    d = u.find("div.Map:first"), h = u.find("div.Bar:first");
                    var Y = d.find("span"),
                        q = h.find("span");
                    p = Y.filter(".Map1:first"), g = Y.filter(".Map2:first"), f = Y.filter(".Map3:first"), b = q.filter(".Map1:first"), x = q.filter(".Map2:first"), m = q.filter(".Map3:first"), w = q.filter(".Map4:first"), k = q.filter(".Map5:first"), y = q.filter(".Map6:first"), C = new n(d, {
                        map: {
                            width: ba.colorMap.width,
                            height: ba.colorMap.height
                        },
                        arrow: {
                            image: ba.clientPath + ba.colorMap.arrow.file,
                            width: ba.colorMap.arrow.width,
                            height: ba.colorMap.arrow.height
                        }
                    }), C.bind(E), M = new n(h, {
                        map: {
                            width: ba.colorBar.width,
                            height: ba.colorBar.height
                        },
                        arrow: {
                            image: ba.clientPath + ba.colorBar.arrow.file,
                            width: ba.colorBar.arrow.width,
                            height: ba.colorBar.arrow.height
                        }
                    }), M.bind(z), T = new t(u, ma.active, l.expandable && l.bindToInput ? l.input : null, l.alphaPrecision);
                    var P = null != i ? i.hex : null,
                        I = u.find(".Preview"),
                        R = u.find(".Button");
                    if (A = I.find(".Active:first").css({
                            backgroundColor: P && "#" + P || "transparent"
                        }), X = I.find(".Current:first").css({
                            backgroundColor: P && "#" + P || "transparent"
                        }).bind("click", aa), W.call(c, X, Math.precision(100 * ma.current.val("a")) / 255, 4), H = R.find(".Ok:first").bind("click", ea), L = R.find(".Cancel:first").bind("click", la), S = R.find(".Grid:first"), setTimeout(function() {
                            U.call(c, p, ba.clientPath + "Maps.png"), U.call(c, g, ba.clientPath + "Maps.png"), U.call(c, f, ba.clientPath + "map-opacity.png"), U.call(c, b, ba.clientPath + "Bars.png"), U.call(c, x, ba.clientPath + "Bars.png"), U.call(c, m, ba.clientPath + "Bars.png"), U.call(c, w, ba.clientPath + "Bars.png"), U.call(c, y, ba.clientPath + "AlphaBar.png"), U.call(c, I.find("div:first"), ba.clientPath + "preview-opacity.png")
                        }, 0), u.find("td.Radio input").bind("click", _), ma.quickList && ma.quickList.length > 0) {
                        for (var N = "", G = 0; G < ma.quickList.length; G++) {
                            "string" == (typeof ma.quickList[G]).toString().toLowerCase() && (ma.quickList[G] = new r({
                                hex: ma.quickList[G]
                            }));
                            var K = ma.quickList[G].val("a"),
                                Q = ma.quickList[G].val("ahex");
                            !l.alphaSupport && Q && (Q = Q.substring(0, 6) + "ff");
                            var J = ma.quickList[G].val("hex");
                            N += '<span class="QuickColor"' + (Q && ' title="#' + Q + '"' || "") + ' style="background-color:' + (J && "#" + J || "") + ";" + (J ? "" : "background-image:url(" + ba.clientPath + "NoColor.png)") + (l.alphaSupport && K && K < 255 ? ";opacity:" + Math.precision(K / 255, 4) + ";filter:Alpha(opacity=" + Math.precision(K / 2.55, 4) + ")" : "") + '">&nbsp;</span>'
                        }
                        S.html(N), S.find(".QuickColor").click(sa)
                    }
                    D.call(c, s.color.mode), ma.active.bind(V), a.isFunction(va) && ma.active.bind(va), ma.current.bind(ta), a(v).trigger("color-picker-loaded"), l.expandable ? (c.icon = e.parents(".Icon:first"), B = c.icon.find(".Color:first").css({
                        backgroundColor: P && "#" + P || "transparent"
                    }), O = c.icon.find(".Alpha:first"), W.call(c, O, Math.precision(100 * (255 - (null != i ? i.a : 0)) / 255, 4)), j = c.icon.find(".Image:first").css({
                        backgroundImage: "url('" + ba.clientPath + ba.picker.file + "')"
                    }).bind("click", na), l.bindToInput && l.updateInputColor && l.input.css({
                        backgroundColor: P && "#" + P || "transparent",
                        color: null == i || i.v > 75 ? "#000000" : "#ffffff"
                    }), F = u.find(".Move:first").bind("mousedown", ia).bind("touchstart", svgedit.touchHandler), ma.active.bind(ra)) : ha.call(c)
                },
                fa = function() {
                    v.find("td.Radio input").unbind("click", _), X.unbind("click", aa), L.unbind("click", la), H.unbind("click", ea), s.window.expandable && (j.unbind("click", na), F.unbind("mousedown", ia).unbind("touchstart", svgedit.touchHandler), c.icon = null), v.find(".QuickColor").unbind("click", sa), d = null, h = null, p = null, g = null, f = null, b = null, x = null, m = null, w = null, k = null, y = null, C.destroy(), C = null, M.destroy(), M = null, T.destroy(), T = null, A = null, X = null, H = null, L = null, S = null, ua = null, da = null, va = null, v.html("");
                    for (var a = 0; a < i.length; a++) i[a] == c && i.splice(a, 1)
                },
                ba = s.images,
                xa = s.localization,
                ma = {
                    active: new r("string" == (typeof s.color.active).toString().toLowerCase() ? {
                        ahex: !s.window.alphaSupport && s.color.active ? s.color.active.substring(0, 6) + "ff" : s.color.active
                    } : {
                        ahex: !s.window.alphaSupport && s.color.active.val("ahex") ? s.color.active.val("ahex").substring(0, 6) + "ff" : s.color.active.val("ahex")
                    }),
                    current: new r("string" == (typeof s.color.active).toString().toLowerCase() ? {
                        ahex: !s.window.alphaSupport && s.color.active ? s.color.active.substring(0, 6) + "ff" : s.color.active
                    } : {
                        ahex: !s.window.alphaSupport && s.color.active.val("ahex") ? s.color.active.val("ahex").substring(0, 6) + "ff" : s.color.active.val("ahex")
                    }),
                    quickList: s.color.quickList
                };
            a.extend(!0, c, {
                commitCallback: ua,
                liveCallback: va,
                cancelCallback: da,
                color: ma,
                show: ha,
                hide: pa,
                destroy: fa
            }), i.push(c), setTimeout(function() {
                ga.call(c)
            }, 0)
        })
    }, a.fn.jPicker.defaults = {
        window: {
            title: null,
            effects: {
                type: "slide",
                speed: {
                    show: "slow",
                    hide: "fast"
                }
            },
            position: {
                x: "screenCenter",
                y: "top"
            },
            expandable: !1,
            liveUpdate: !0,
            alphaSupport: !1,
            alphaPrecision: 0,
            updateInputColor: !0
        },
        color: {
            mode: "h",
            active: new r({
                ahex: "#ffcc00ff"
            }),
            quickList: [new r]
        },
        images: {
            clientPath: "/jPicker/images/",
            colorMap: {
                width: 256,
                height: 256,
                arrow: {
                    file: "mappoint.gif",
                    width: 15,
                    height: 15
                }
            },
            colorBar: {
                width: 20,
                height: 256,
                arrow: {
                    file: "rangearrows.gif",
                    width: 20,
                    height: 7
                }
            },
            picker: {
                file: "picker.gif",
                width: 25,
                height: 24
            }
        },
        localization: {
            text: {
                title: "Drag Markers To Pick A Color",
                newColor: "new",
                currentColor: "current",
                ok: "OK",
                cancel: "Cancel"
            },
            tooltips: {
                colors: {
                    newColor: "New Color - Press &ldquo;OK&rdquo; To Commit",
                    currentColor: "Click To Revert To Original Color"
                },
                buttons: {
                    ok: "Commit To This Color Selection",
                    cancel: "Cancel And Revert To Original Color"
                },
                hue: {
                    radio: "Set To &ldquo;Hue&rdquo; Color Mode",
                    textbox: "Enter A &ldquo;Hue&rdquo; Value (0-360&deg;)"
                },
                saturation: {
                    radio: "Set To &ldquo;Saturation&rdquo; Color Mode",
                    textbox: "Enter A &ldquo;Saturation&rdquo; Value (0-100%)"
                },
                value: {
                    radio: "Set To &ldquo;Value&rdquo; Color Mode",
                    textbox: "Enter A &ldquo;Value&rdquo; Value (0-100%)"
                },
                red: {
                    radio: "Set To &ldquo;Red&rdquo; Color Mode",
                    textbox: "Enter A &ldquo;Red&rdquo; Value (0-255)"
                },
                green: {
                    radio: "Set To &ldquo;Green&rdquo; Color Mode",
                    textbox: "Enter A &ldquo;Green&rdquo; Value (0-255)"
                },
                blue: {
                    radio: "Set To &ldquo;Blue&rdquo; Color Mode",
                    textbox: "Enter A &ldquo;Blue&rdquo; Value (0-255)"
                },
                alpha: {
                    radio: "Set To &ldquo;Alpha&rdquo; Color Mode",
                    textbox: "Enter A &ldquo;Alpha&rdquo; Value (0-100)"
                },
                hex: {
                    textbox: "Enter A &ldquo;Hex&rdquo; Color Value (#000000-#ffffff)",
                    alpha: "Enter A &ldquo;Alpha&rdquo; Value (#00-#ff)"
                }
            }
        }
    }
}(jQuery, "1.1.6");
! function(e, t) {
    "use strict";
    var n, r, a, i = e,
        o = i.document,
        l = i.navigator,
        s = i.setTimeout,
        c = i.clearTimeout,
        f = i.setInterval,
        d = i.clearInterval,
        u = i.getComputedStyle,
        p = i.encodeURIComponent,
        h = i.ActiveXObject,
        y = i.Error,
        m = i.Number.parseInt || i.parseInt,
        v = i.Number.parseFloat || i.parseFloat,
        b = i.Number.isNaN || i.isNaN,
        g = i.Date.now,
        w = i.Object.keys,
        x = i.Object.defineProperty,
        C = i.Object.prototype.hasOwnProperty,
        E = i.Array.prototype.slice,
        T = function() {
            var e = function(e) {
                return e
            };
            if ("function" == typeof i.wrap && "function" == typeof i.unwrap) try {
                var t = o.createElement("div"),
                    n = i.unwrap(t);
                1 === t.nodeType && n && 1 === n.nodeType && (e = i.unwrap)
            } catch (r) {}
            return e
        }(),
        j = function(e) {
            return E.call(e, 0)
        },
        D = function() {
            var e, n, r, a, i, o, l = j(arguments),
                s = l[0] || {};
            for (e = 1, n = l.length; e < n; e++)
                if (null != (r = l[e]))
                    for (a in r) C.call(r, a) && (i = s[a], o = r[a], s !== o && o !== t && (s[a] = o));
            return s
        },
        k = function(e) {
            var t, n, r, a;
            if ("object" != typeof e || null == e || "number" == typeof e.nodeType) t = e;
            else if ("number" == typeof e.length)
                for (t = [], n = 0, r = e.length; n < r; n++) C.call(e, n) && (t[n] = k(e[n]));
            else {
                t = {};
                for (a in e) C.call(e, a) && (t[a] = k(e[a]))
            }
            return t
        },
        I = function(e, t) {
            for (var n = {}, r = 0, a = t.length; r < a; r++) t[r] in e && (n[t[r]] = e[t[r]]);
            return n
        },
        O = function(e, t) {
            var n = {};
            for (var r in e) t.indexOf(r) === -1 && (n[r] = e[r]);
            return n
        },
        N = function(e) {
            if (e)
                for (var t in e) C.call(e, t) && delete e[t];
            return e
        },
        L = function(e, t) {
            if (e && 1 === e.nodeType && e.ownerDocument && t && (1 === t.nodeType && t.ownerDocument && t.ownerDocument === e.ownerDocument || 9 === t.nodeType && !t.ownerDocument && t === e.ownerDocument))
                do {
                    if (e === t) return !0;
                    e = e.parentNode
                } while (e);
            return !1
        },
        A = function(e) {
            var t;
            return "string" == typeof e && e && (t = e.split("#")[0].split("?")[0], t = e.slice(0, e.lastIndexOf("/") + 1)), t
        },
        _ = function(e) {
            var t, n;
            return "string" == typeof e && e && (n = e.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/), n && n[1] ? t = n[1] : (n = e.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/), n && n[1] && (t = n[1]))), t
        },
        F = function() {
            var e, t;
            try {
                throw new y
            } catch (n) {
                t = n
            }
            return t && (e = t.sourceURL || t.fileName || _(t.stack)), e
        },
        S = function() {
            var e, n, r;
            if (o.currentScript && (e = o.currentScript.src)) return e;
            if (n = o.getElementsByTagName("script"), 1 === n.length) return n[0].src || t;
            if ("readyState" in n[0])
                for (r = n.length; r--;)
                    if ("interactive" === n[r].readyState && (e = n[r].src)) return e;
            return "loading" === o.readyState && (e = n[n.length - 1].src) ? e : (e = F()) ? e : t
        },
        z = function() {
            var e, n, r, a = o.getElementsByTagName("script");
            for (e = a.length; e--;) {
                if (!(r = a[e].src)) {
                    n = null;
                    break
                }
                if (r = A(r), null == n) n = r;
                else if (n !== r) {
                    n = null;
                    break
                }
            }
            return n || t
        },
        Z = function() {
            var e = A(S()) || z() || "";
            return e + "ZeroClipboard.swf"
        },
        V = function() {
            return null == e.opener && (!!e.top && e != e.top || !!e.parent && e != e.parent)
        }(),
        X = {
            bridge: null,
            version: "0.0.0",
            pluginType: "unknown",
            disabled: null,
            outdated: null,
            sandboxed: null,
            unavailable: null,
            degraded: null,
            deactivated: null,
            overdue: null,
            ready: null
        },
        $ = "11.0.0",
        Y = {},
        B = {},
        M = null,
        P = 0,
        H = 0,
        R = {
            ready: "Flash communication is established",
            error: {
                "flash-disabled": "Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.",
                "flash-outdated": "Flash is too outdated to support ZeroClipboard",
                "flash-sandboxed": "Attempting to run Flash in a sandboxed iframe, which is impossible",
                "flash-unavailable": "Flash is unable to communicate bidirectionally with JavaScript",
                "flash-degraded": "Flash is unable to preserve data fidelity when communicating with JavaScript",
                "flash-deactivated": "Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.",
                "flash-overdue": "Flash communication was established but NOT within the acceptable time limit",
                "version-mismatch": "ZeroClipboard JS version number does not match ZeroClipboard SWF version number",
                "clipboard-error": "At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard",
                "config-mismatch": "ZeroClipboard configuration does not match Flash's reality",
                "swf-not-found": "The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"
            }
        },
        J = ["flash-unavailable", "flash-degraded", "flash-overdue", "version-mismatch", "config-mismatch", "clipboard-error"],
        K = ["flash-disabled", "flash-outdated", "flash-sandboxed", "flash-unavailable", "flash-degraded", "flash-deactivated", "flash-overdue"],
        U = new RegExp("^flash-(" + K.map(function(e) {
            return e.replace(/^flash-/, "")
        }).join("|") + ")$"),
        W = new RegExp("^flash-(" + K.slice(1).map(function(e) {
            return e.replace(/^flash-/, "")
        }).join("|") + ")$"),
        G = {
            swfPath: Z(),
            trustedDomains: e.location.host ? [e.location.host] : [],
            cacheBust: !0,
            forceEnhancedClipboard: !1,
            flashLoadTimeout: 3e4,
            autoActivate: !0,
            bubbleEvents: !0,
            containerId: "global-zeroclipboard-html-bridge",
            containerClass: "global-zeroclipboard-container",
            swfObjectId: "global-zeroclipboard-flash-bridge",
            hoverClass: "zeroclipboard-is-hover",
            activeClass: "zeroclipboard-is-active",
            forceHandCursor: !1,
            title: null,
            zIndex: 999999999
        },
        q = function(e) {
            if ("object" == typeof e && null !== e)
                for (var t in e)
                    if (C.call(e, t))
                        if (/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(t)) G[t] = e[t];
                        else if (null == X.bridge)
                if ("containerId" === t || "swfObjectId" === t) {
                    if (!pe(e[t])) throw new Error("The specified `" + t + "` value is not valid as an HTML4 Element ID");
                    G[t] = e[t]
                } else G[t] = e[t]; {
                    if ("string" != typeof e || !e) return k(G);
                    if (C.call(G, e)) return G[e]
                }
        },
        Q = function() {
            return He(), {
                browser: I(l, ["userAgent", "platform", "appName"]),
                flash: O(X, ["bridge"]),
                zeroclipboard: {
                    version: Je.version,
                    config: Je.config()
                }
            }
        },
        ee = function() {
            return !!(X.disabled || X.outdated || X.sandboxed || X.unavailable || X.degraded || X.deactivated)
        },
        te = function(e, r) {
            var a, i, o, l = {};
            if ("string" == typeof e && e) o = e.toLowerCase().split(/\s+/);
            else if ("object" == typeof e && e && "undefined" == typeof r)
                for (a in e) C.call(e, a) && "string" == typeof a && a && "function" == typeof e[a] && Je.on(a, e[a]);
            if (o && o.length) {
                for (a = 0, i = o.length; a < i; a++) e = o[a].replace(/^on/, ""), l[e] = !0, Y[e] || (Y[e] = []), Y[e].push(r);
                if (l.ready && X.ready && Je.emit({
                        type: "ready"
                    }), l.error) {
                    for (a = 0, i = K.length; a < i; a++)
                        if (X[K[a].replace(/^flash-/, "")] === !0) {
                            Je.emit({
                                type: "error",
                                name: K[a]
                            });
                            break
                        }
                    n !== t && Je.version !== n && Je.emit({
                        type: "error",
                        name: "version-mismatch",
                        jsVersion: Je.version,
                        swfVersion: n
                    })
                }
            }
            return Je
        },
        ne = function(e, t) {
            var n, r, a, i, o;
            if (0 === arguments.length) i = w(Y);
            else if ("string" == typeof e && e) i = e.split(/\s+/);
            else if ("object" == typeof e && e && "undefined" == typeof t)
                for (n in e) C.call(e, n) && "string" == typeof n && n && "function" == typeof e[n] && Je.off(n, e[n]);
            if (i && i.length)
                for (n = 0, r = i.length; n < r; n++)
                    if (e = i[n].toLowerCase().replace(/^on/, ""), o = Y[e], o && o.length)
                        if (t)
                            for (a = o.indexOf(t); a !== -1;) o.splice(a, 1), a = o.indexOf(t, a);
                        else o.length = 0;
            return Je
        },
        re = function(e) {
            var t;
            return t = "string" == typeof e && e ? k(Y[e]) || null : k(Y)
        },
        ae = function(e) {
            var t, n, r;
            if (e = he(e), e && !xe(e)) return "ready" === e.type && X.overdue === !0 ? Je.emit({
                type: "error",
                name: "flash-overdue"
            }) : (t = D({}, e), ge.call(this, t), "copy" === e.type && (r = Oe(B), n = r.data, M = r.formatMap), n)
        },
        ie = function() {
            var e = X.sandboxed;
            if (He(), "boolean" != typeof X.ready && (X.ready = !1), X.sandboxed !== e && X.sandboxed === !0) X.ready = !1, Je.emit({
                type: "error",
                name: "flash-sandboxed"
            });
            else if (!Je.isFlashUnusable() && null === X.bridge) {
                var t = G.flashLoadTimeout;
                "number" == typeof t && t >= 0 && (P = s(function() {
                    "boolean" != typeof X.deactivated && (X.deactivated = !0), X.deactivated === !0 && Je.emit({
                        type: "error",
                        name: "flash-deactivated"
                    })
                }, t)), X.overdue = !1, ke()
            }
        },
        oe = function() {
            Je.clearData(), Je.blur(), Je.emit("destroy"), Ie(), Je.off()
        },
        le = function(e, t) {
            var n;
            if ("object" == typeof e && e && "undefined" == typeof t) n = e, Je.clearData();
            else {
                if ("string" != typeof e || !e) return;
                n = {}, n[e] = t
            }
            for (var r in n) "string" == typeof r && r && C.call(n, r) && "string" == typeof n[r] && n[r] && (B[r] = n[r])
        },
        se = function(e) {
            "undefined" == typeof e ? (N(B), M = null) : "string" == typeof e && C.call(B, e) && delete B[e]
        },
        ce = function(e) {
            return "undefined" == typeof e ? k(B) : "string" == typeof e && C.call(B, e) ? B[e] : void 0
        },
        fe = function(e) {
            if (e && 1 === e.nodeType) {
                r && (Ze(r, G.activeClass), r !== e && Ze(r, G.hoverClass)), r = e, ze(e, G.hoverClass);
                var t = e.getAttribute("title") || G.title;
                if ("string" == typeof t && t) {
                    var n = De(X.bridge);
                    n && n.setAttribute("title", t)
                }
                var a = G.forceHandCursor === !0 || "pointer" === Ve(e, "cursor");
                Me(a), Be()
            }
        },
        de = function() {
            var e = De(X.bridge);
            e && (e.removeAttribute("title"), e.style.left = "0px", e.style.top = "-9999px", e.style.width = "1px", e.style.height = "1px"), r && (Ze(r, G.hoverClass), Ze(r, G.activeClass), r = null)
        },
        ue = function() {
            return r || null
        },
        pe = function(e) {
            return "string" == typeof e && e && /^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(e)
        },
        he = function(e) {
            var t;
            if ("string" == typeof e && e ? (t = e, e = {}) : "object" == typeof e && e && "string" == typeof e.type && e.type && (t = e.type), t) {
                t = t.toLowerCase(), !e.target && (/^(copy|aftercopy|_click)$/.test(t) || "error" === t && "clipboard-error" === e.name) && (e.target = a), D(e, {
                    type: t,
                    target: e.target || r || null,
                    relatedTarget: e.relatedTarget || null,
                    currentTarget: X && X.bridge || null,
                    timeStamp: e.timeStamp || g() || null
                });
                var n = R[e.type];
                return "error" === e.type && e.name && n && (n = n[e.name]), n && (e.message = n), "ready" === e.type && D(e, {
                    target: null,
                    version: X.version
                }), "error" === e.type && (U.test(e.name) && D(e, {
                    target: null,
                    minimumVersion: $
                }), W.test(e.name) && D(e, {
                    version: X.version
                })), "copy" === e.type && (e.clipboardData = {
                    setData: Je.setData,
                    clearData: Je.clearData
                }), "aftercopy" === e.type && (e = Ne(e, M)), e.target && !e.relatedTarget && (e.relatedTarget = ye(e.target)), me(e)
            }
        },
        ye = function(e) {
            var t = e && e.getAttribute && e.getAttribute("data-clipboard-target");
            return t ? o.getElementById(t) : null
        },
        me = function(e) {
            if (e && /^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)) {
                var n = e.target,
                    r = "_mouseover" === e.type && e.relatedTarget ? e.relatedTarget : t,
                    a = "_mouseout" === e.type && e.relatedTarget ? e.relatedTarget : t,
                    l = Xe(n),
                    s = i.screenLeft || i.screenX || 0,
                    c = i.screenTop || i.screenY || 0,
                    f = o.body.scrollLeft + o.documentElement.scrollLeft,
                    d = o.body.scrollTop + o.documentElement.scrollTop,
                    u = l.left + ("number" == typeof e._stageX ? e._stageX : 0),
                    p = l.top + ("number" == typeof e._stageY ? e._stageY : 0),
                    h = u - f,
                    y = p - d,
                    m = s + h,
                    v = c + y,
                    b = "number" == typeof e.movementX ? e.movementX : 0,
                    g = "number" == typeof e.movementY ? e.movementY : 0;
                delete e._stageX, delete e._stageY, D(e, {
                    srcElement: n,
                    fromElement: r,
                    toElement: a,
                    screenX: m,
                    screenY: v,
                    pageX: u,
                    pageY: p,
                    clientX: h,
                    clientY: y,
                    x: h,
                    y: y,
                    movementX: b,
                    movementY: g,
                    offsetX: 0,
                    offsetY: 0,
                    layerX: 0,
                    layerY: 0
                })
            }
            return e
        },
        ve = function(e) {
            var t = e && "string" == typeof e.type && e.type || "";
            return !/^(?:(?:before)?copy|destroy)$/.test(t)
        },
        be = function(e, t, n, r) {
            r ? s(function() {
                e.apply(t, n)
            }, 0) : e.apply(t, n)
        },
        ge = function(e) {
            if ("object" == typeof e && e && e.type) {
                var t = ve(e),
                    n = Y["*"] || [],
                    r = Y[e.type] || [],
                    a = n.concat(r);
                if (a && a.length) {
                    var o, l, s, c, f, d = this;
                    for (o = 0, l = a.length; o < l; o++) s = a[o], c = d, "string" == typeof s && "function" == typeof i[s] && (s = i[s]), "object" == typeof s && s && "function" == typeof s.handleEvent && (c = s, s = s.handleEvent), "function" == typeof s && (f = D({}, e), be(s, c, [f], t))
                }
                return this
            }
        },
        we = function(e) {
            var t = null;
            return (V === !1 || e && "error" === e.type && e.name && J.indexOf(e.name) !== -1) && (t = !1), t
        },
        xe = function(e) {
            var t = e.target || r || null,
                i = "swf" === e._source;
            switch (delete e._source, e.type) {
                case "error":
                    var o = "flash-sandboxed" === e.name || we(e);
                    "boolean" == typeof o && (X.sandboxed = o), K.indexOf(e.name) !== -1 ? D(X, {
                        disabled: "flash-disabled" === e.name,
                        outdated: "flash-outdated" === e.name,
                        unavailable: "flash-unavailable" === e.name,
                        degraded: "flash-degraded" === e.name,
                        deactivated: "flash-deactivated" === e.name,
                        overdue: "flash-overdue" === e.name,
                        ready: !1
                    }) : "version-mismatch" === e.name && (n = e.swfVersion, D(X, {
                        disabled: !1,
                        outdated: !1,
                        unavailable: !1,
                        degraded: !1,
                        deactivated: !1,
                        overdue: !1,
                        ready: !1
                    })), Ye();
                    break;
                case "ready":
                    n = e.swfVersion;
                    var l = X.deactivated === !0;
                    D(X, {
                        disabled: !1,
                        outdated: !1,
                        sandboxed: !1,
                        unavailable: !1,
                        degraded: !1,
                        deactivated: !1,
                        overdue: l,
                        ready: !l
                    }), Ye();
                    break;
                case "beforecopy":
                    a = t;
                    break;
                case "copy":
                    var s, c, f = e.relatedTarget;
                    !B["text/html"] && !B["text/plain"] && f && (c = f.value || f.outerHTML || f.innerHTML) && (s = f.value || f.textContent || f.innerText) ? (e.clipboardData.clearData(), e.clipboardData.setData("text/plain", s), c !== s && e.clipboardData.setData("text/html", c)) : !B["text/plain"] && e.target && (s = e.target.getAttribute("data-clipboard-text")) && (e.clipboardData.clearData(), e.clipboardData.setData("text/plain", s));
                    break;
                case "aftercopy":
                    Ce(e), Je.clearData(), t && t !== Se() && t.focus && t.focus();
                    break;
                case "_mouseover":
                    Je.focus(t), G.bubbleEvents === !0 && i && (t && t !== e.relatedTarget && !L(e.relatedTarget, t) && Ee(D({}, e, {
                        type: "mouseenter",
                        bubbles: !1,
                        cancelable: !1
                    })), Ee(D({}, e, {
                        type: "mouseover"
                    })));
                    break;
                case "_mouseout":
                    Je.blur(), G.bubbleEvents === !0 && i && (t && t !== e.relatedTarget && !L(e.relatedTarget, t) && Ee(D({}, e, {
                        type: "mouseleave",
                        bubbles: !1,
                        cancelable: !1
                    })), Ee(D({}, e, {
                        type: "mouseout"
                    })));
                    break;
                case "_mousedown":
                    ze(t, G.activeClass), G.bubbleEvents === !0 && i && Ee(D({}, e, {
                        type: e.type.slice(1)
                    }));
                    break;
                case "_mouseup":
                    Ze(t, G.activeClass), G.bubbleEvents === !0 && i && Ee(D({}, e, {
                        type: e.type.slice(1)
                    }));
                    break;
                case "_click":
                    a = null, G.bubbleEvents === !0 && i && Ee(D({}, e, {
                        type: e.type.slice(1)
                    }));
                    break;
                case "_mousemove":
                    G.bubbleEvents === !0 && i && Ee(D({}, e, {
                        type: e.type.slice(1)
                    }))
            }
            if (/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)) return !0
        },
        Ce = function(e) {
            if (e.errors && e.errors.length > 0) {
                var t = k(e);
                D(t, {
                    type: "error",
                    name: "clipboard-error"
                }), delete t.success, s(function() {
                    Je.emit(t)
                }, 0)
            }
        },
        Ee = function(e) {
            if (e && "string" == typeof e.type && e) {
                var t, n = e.target || null,
                    r = n && n.ownerDocument || o,
                    a = {
                        view: r.defaultView || i,
                        canBubble: !0,
                        cancelable: !0,
                        detail: "click" === e.type ? 1 : 0,
                        button: "number" == typeof e.which ? e.which - 1 : "number" == typeof e.button ? e.button : r.createEvent ? 0 : 1
                    },
                    l = D(a, e);
                n && r.createEvent && n.dispatchEvent && (l = [l.type, l.canBubble, l.cancelable, l.view, l.detail, l.screenX, l.screenY, l.clientX, l.clientY, l.ctrlKey, l.altKey, l.shiftKey, l.metaKey, l.button, l.relatedTarget], t = r.createEvent("MouseEvents"), t.initMouseEvent && (t.initMouseEvent.apply(t, l), t._source = "js", n.dispatchEvent(t)))
            }
        },
        Te = function() {
            var e = G.flashLoadTimeout;
            if ("number" == typeof e && e >= 0) {
                var t = Math.min(1e3, e / 10),
                    n = G.swfObjectId + "_fallbackContent";
                H = f(function() {
                    var e = o.getElementById(n);
                    $e(e) && (Ye(), X.deactivated = null, Je.emit({
                        type: "error",
                        name: "swf-not-found"
                    }))
                }, t)
            }
        },
        je = function() {
            var e = o.createElement("div");
            return e.id = G.containerId, e.className = G.containerClass, e.style.position = "absolute", e.style.left = "0px", e.style.top = "-9999px", e.style.width = "1px", e.style.height = "1px", e.style.zIndex = "" + Pe(G.zIndex), e
        },
        De = function(e) {
            for (var t = e && e.parentNode; t && "OBJECT" === t.nodeName && t.parentNode;) t = t.parentNode;
            return t || null
        },
        ke = function() {
            var e, t = X.bridge,
                n = De(t);
            if (!t) {
                var r = Fe(i.location.host, G),
                    a = "never" === r ? "none" : "all",
                    l = Ae(D({
                        jsVersion: Je.version
                    }, G)),
                    s = G.swfPath + Le(G.swfPath, G);
                n = je();
                var c = o.createElement("div");
                n.appendChild(c), o.body.appendChild(n);
                var f = o.createElement("div"),
                    d = "activex" === X.pluginType;
                f.innerHTML = '<object id="' + G.swfObjectId + '" name="' + G.swfObjectId + '" width="100%" height="100%" ' + (d ? 'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"' : 'type="application/x-shockwave-flash" data="' + s + '"') + ">" + (d ? '<param name="movie" value="' + s + '"/>' : "") + '<param name="allowScriptAccess" value="' + r + '"/><param name="allowNetworking" value="' + a + '"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="' + l + '"/><div id="' + G.swfObjectId + '_fallbackContent">&nbsp;</div></object>', t = f.firstChild, f = null, T(t).ZeroClipboard = Je, n.replaceChild(t, c), Te()
            }
            return t || (t = o[G.swfObjectId], t && (e = t.length) && (t = t[e - 1]), !t && n && (t = n.firstChild)), X.bridge = t || null, t
        },
        Ie = function() {
            var e = X.bridge;
            if (e) {
                var r = De(e);
                r && ("activex" === X.pluginType && "readyState" in e ? (e.style.display = "none", function a() {
                    if (4 === e.readyState) {
                        for (var t in e) "function" == typeof e[t] && (e[t] = null);
                        e.parentNode && e.parentNode.removeChild(e), r.parentNode && r.parentNode.removeChild(r)
                    } else s(a, 10)
                }()) : (e.parentNode && e.parentNode.removeChild(e), r.parentNode && r.parentNode.removeChild(r))), Ye(), X.ready = null, X.bridge = null, X.deactivated = null, n = t
            }
        },
        Oe = function(e) {
            var t = {},
                n = {};
            if ("object" == typeof e && e) {
                for (var r in e)
                    if (r && C.call(e, r) && "string" == typeof e[r] && e[r]) switch (r.toLowerCase()) {
                        case "text/plain":
                        case "text":
                        case "air:text":
                        case "flash:text":
                            t.text = e[r], n.text = r;
                            break;
                        case "text/html":
                        case "html":
                        case "air:html":
                        case "flash:html":
                            t.html = e[r], n.html = r;
                            break;
                        case "application/rtf":
                        case "text/rtf":
                        case "rtf":
                        case "richtext":
                        case "air:rtf":
                        case "flash:rtf":
                            t.rtf = e[r], n.rtf = r
                    }
                    return {
                        data: t,
                        formatMap: n
                    }
            }
        },
        Ne = function(e, t) {
            if ("object" != typeof e || !e || "object" != typeof t || !t) return e;
            var n = {};
            for (var r in e)
                if (C.call(e, r))
                    if ("errors" === r) {
                        n[r] = e[r] ? e[r].slice() : [];
                        for (var a = 0, i = n[r].length; a < i; a++) n[r][a].format = t[n[r][a].format]
                    } else if ("success" !== r && "data" !== r) n[r] = e[r];
            else {
                n[r] = {};
                var o = e[r];
                for (var l in o) l && C.call(o, l) && C.call(t, l) && (n[r][t[l]] = o[l])
            }
            return n
        },
        Le = function(e, t) {
            var n = null == t || t && t.cacheBust === !0;
            return n ? (e.indexOf("?") === -1 ? "?" : "&") + "noCache=" + g() : ""
        },
        Ae = function(e) {
            var t, n, r, a, o = "",
                l = [];
            if (e.trustedDomains && ("string" == typeof e.trustedDomains ? a = [e.trustedDomains] : "object" == typeof e.trustedDomains && "length" in e.trustedDomains && (a = e.trustedDomains)), a && a.length)
                for (t = 0, n = a.length; t < n; t++)
                    if (C.call(a, t) && a[t] && "string" == typeof a[t]) {
                        if (r = _e(a[t]), !r) continue;
                        if ("*" === r) {
                            l.length = 0, l.push(r);
                            break
                        }
                        l.push.apply(l, [r, "//" + r, i.location.protocol + "//" + r])
                    }
            return l.length && (o += "trustedOrigins=" + p(l.join(","))), e.forceEnhancedClipboard === !0 && (o += (o ? "&" : "") + "forceEnhancedClipboard=true"), "string" == typeof e.swfObjectId && e.swfObjectId && (o += (o ? "&" : "") + "swfObjectId=" + p(e.swfObjectId)), "string" == typeof e.jsVersion && e.jsVersion && (o += (o ? "&" : "") + "jsVersion=" + p(e.jsVersion)), o
        },
        _e = function(e) {
            if (null == e || "" === e) return null;
            if (e = e.replace(/^\s+|\s+$/g, ""), "" === e) return null;
            var t = e.indexOf("//");
            e = t === -1 ? e : e.slice(t + 2);
            var n = e.indexOf("/");
            return e = n === -1 ? e : t === -1 || 0 === n ? null : e.slice(0, n), e && ".swf" === e.slice(-4).toLowerCase() ? null : e || null
        },
        Fe = function() {
            var e = function(e) {
                var t, n, r, a = [];
                if ("string" == typeof e && (e = [e]), "object" != typeof e || !e || "number" != typeof e.length) return a;
                for (t = 0, n = e.length; t < n; t++)
                    if (C.call(e, t) && (r = _e(e[t]))) {
                        if ("*" === r) {
                            a.length = 0, a.push("*");
                            break
                        }
                        a.indexOf(r) === -1 && a.push(r)
                    }
                return a
            };
            return function(t, n) {
                var r = _e(n.swfPath);
                null === r && (r = t);
                var a = e(n.trustedDomains),
                    i = a.length;
                if (i > 0) {
                    if (1 === i && "*" === a[0]) return "always";
                    if (a.indexOf(t) !== -1) return 1 === i && t === r ? "sameDomain" : "always"
                }
                return "never"
            }
        }(),
        Se = function() {
            try {
                return o.activeElement
            } catch (e) {
                return null
            }
        },
        ze = function(e, t) {
            var n, r, a, i = [];
            if ("string" == typeof t && t && (i = t.split(/\s+/)), e && 1 === e.nodeType && i.length > 0)
                if (e.classList)
                    for (n = 0, r = i.length; n < r; n++) e.classList.add(i[n]);
                else if (e.hasOwnProperty("className")) {
                for (a = " " + e.className + " ", n = 0, r = i.length; n < r; n++) a.indexOf(" " + i[n] + " ") === -1 && (a += i[n] + " ");
                e.className = a.replace(/^\s+|\s+$/g, "")
            }
            return e
        },
        Ze = function(e, t) {
            var n, r, a, i = [];
            if ("string" == typeof t && t && (i = t.split(/\s+/)), e && 1 === e.nodeType && i.length > 0)
                if (e.classList && e.classList.length > 0)
                    for (n = 0, r = i.length; n < r; n++) e.classList.remove(i[n]);
                else if (e.className) {
                for (a = (" " + e.className + " ").replace(/[\r\n\t]/g, " "), n = 0, r = i.length; n < r; n++) a = a.replace(" " + i[n] + " ", " ");
                e.className = a.replace(/^\s+|\s+$/g, "")
            }
            return e
        },
        Ve = function(e, t) {
            var n = u(e, null).getPropertyValue(t);
            return "cursor" !== t || n && "auto" !== n || "A" !== e.nodeName ? n : "pointer"
        },
        Xe = function(e) {
            var t = {
                left: 0,
                top: 0,
                width: 0,
                height: 0
            };
            if (e.getBoundingClientRect) {
                var n = e.getBoundingClientRect(),
                    r = i.pageXOffset,
                    a = i.pageYOffset,
                    l = o.documentElement.clientLeft || 0,
                    s = o.documentElement.clientTop || 0,
                    c = 0,
                    f = 0;
                if ("relative" === Ve(o.body, "position")) {
                    var d = o.body.getBoundingClientRect(),
                        u = o.documentElement.getBoundingClientRect();
                    c = d.left - u.left || 0, f = d.top - u.top || 0
                }
                t.left = n.left + r - l - c, t.top = n.top + a - s - f, t.width = "width" in n ? n.width : n.right - n.left, t.height = "height" in n ? n.height : n.bottom - n.top
            }
            return t
        },
        $e = function(e) {
            if (!e) return !1;
            var t = u(e, null),
                n = v(t.height) > 0,
                r = v(t.width) > 0,
                a = v(t.top) >= 0,
                i = v(t.left) >= 0,
                o = n && r && a && i,
                l = o ? null : Xe(e),
                s = "none" !== t.display && "collapse" !== t.visibility && (o || !!l && (n || l.height > 0) && (r || l.width > 0) && (a || l.top >= 0) && (i || l.left >= 0));
            return s
        },
        Ye = function() {
            c(P), P = 0, d(H), H = 0
        },
        Be = function() {
            var e;
            if (r && (e = De(X.bridge))) {
                var t = Xe(r);
                D(e.style, {
                    width: t.width + "px",
                    height: t.height + "px",
                    top: t.top + "px",
                    left: t.left + "px",
                    zIndex: "" + Pe(G.zIndex)
                })
            }
        },
        Me = function(e) {
            X.ready === !0 && (X.bridge && "function" == typeof X.bridge.setHandCursor ? X.bridge.setHandCursor(e) : X.ready = !1)
        },
        Pe = function(e) {
            if (/^(?:auto|inherit)$/.test(e)) return e;
            var t;
            return "number" != typeof e || b(e) ? "string" == typeof e && (t = Pe(m(e, 10))) : t = e, "number" == typeof t ? t : "auto"
        },
        He = function(t) {
            var n, r, a, i = X.sandboxed,
                o = null;
            if (t = t === !0, V === !1) o = !1;
            else {
                try {
                    r = e.frameElement || null
                } catch (l) {
                    a = {
                        name: l.name,
                        message: l.message
                    }
                }
                if (r && 1 === r.nodeType && "IFRAME" === r.nodeName) try {
                    o = r.hasAttribute("sandbox")
                } catch (l) {
                    o = null
                } else {
                    try {
                        n = document.domain || null
                    } catch (l) {
                        n = null
                    }(null === n || a && "SecurityError" === a.name && /(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(a.message.toLowerCase())) && (o = !0)
                }
            }
            return X.sandboxed = o, i === o || t || Re(h), o
        },
        Re = function(e) {
            function t(e) {
                var t = e.match(/[\d]+/g);
                return t.length = 3, t.join(".")
            }

            function n(e) {
                return !!e && (e = e.toLowerCase()) && (/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(e) || "chrome.plugin" === e.slice(-13))
            }

            function r(e) {
                e && (s = !0, e.version && (d = t(e.version)), !d && e.description && (d = t(e.description)), e.filename && (f = n(e.filename)))
            }
            var a, i, o, s = !1,
                c = !1,
                f = !1,
                d = "";
            if (l.plugins && l.plugins.length) a = l.plugins["Shockwave Flash"], r(a), l.plugins["Shockwave Flash 2.0"] && (s = !0, d = "2.0.0.11");
            else if (l.mimeTypes && l.mimeTypes.length) o = l.mimeTypes["application/x-shockwave-flash"], a = o && o.enabledPlugin, r(a);
            else if ("undefined" != typeof e) {
                c = !0;
                try {
                    i = new e("ShockwaveFlash.ShockwaveFlash.7"), s = !0, d = t(i.GetVariable("$version"))
                } catch (u) {
                    try {
                        i = new e("ShockwaveFlash.ShockwaveFlash.6"), s = !0, d = "6.0.21"
                    } catch (p) {
                        try {
                            i = new e("ShockwaveFlash.ShockwaveFlash"), s = !0, d = t(i.GetVariable("$version"))
                        } catch (h) {
                            c = !1
                        }
                    }
                }
            }
            X.disabled = s !== !0, X.outdated = d && v(d) < v($), X.version = d || "0.0.0", X.pluginType = f ? "pepper" : c ? "activex" : s ? "netscape" : "unknown"
        };
    Re(h), He(!0);
    var Je = function() {
        return this instanceof Je ? void("function" == typeof Je._createClient && Je._createClient.apply(this, j(arguments))) : new Je
    };
    x(Je, "version", {
        value: "2.2.0",
        writable: !1,
        configurable: !0,
        enumerable: !0
    }), Je.config = function() {
        return q.apply(this, j(arguments))
    }, Je.state = function() {
        return Q.apply(this, j(arguments))
    }, Je.isFlashUnusable = function() {
        return ee.apply(this, j(arguments))
    }, Je.on = function() {
        return te.apply(this, j(arguments))
    }, Je.off = function() {
        return ne.apply(this, j(arguments))
    }, Je.handlers = function() {
        return re.apply(this, j(arguments))
    }, Je.emit = function() {
        return ae.apply(this, j(arguments))
    }, Je.create = function() {
        return ie.apply(this, j(arguments))
    }, Je.destroy = function() {
        return oe.apply(this, j(arguments))
    }, Je.setData = function() {
        return le.apply(this, j(arguments))
    }, Je.clearData = function() {
        return se.apply(this, j(arguments))
    }, Je.getData = function() {
        return ce.apply(this, j(arguments))
    }, Je.focus = Je.activate = function() {
        return fe.apply(this, j(arguments))
    }, Je.blur = Je.deactivate = function() {
        return de.apply(this, j(arguments))
    }, Je.activeElement = function() {
        return ue.apply(this, j(arguments))
    };
    var Ke = 0,
        Ue = {},
        We = 0,
        Ge = {},
        qe = {};
    D(G, {
        autoActivate: !0
    });
    var Qe = function(e) {
            var t = this;
            t.id = "" + Ke++, Ue[t.id] = {
                instance: t,
                elements: [],
                handlers: {}
            }, e && t.clip(e), Je.on("*", function(e) {
                return t.emit(e)
            }), Je.on("destroy", function() {
                t.destroy()
            }), Je.create()
        },
        et = function(e, r) {
            var a, i, o, l = {},
                s = Ue[this.id],
                c = s && s.handlers;
            if (!s) throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");
            if ("string" == typeof e && e) o = e.toLowerCase().split(/\s+/);
            else if ("object" == typeof e && e && "undefined" == typeof r)
                for (a in e) C.call(e, a) && "string" == typeof a && a && "function" == typeof e[a] && this.on(a, e[a]);
            if (o && o.length) {
                for (a = 0, i = o.length; a < i; a++) e = o[a].replace(/^on/, ""), l[e] = !0, c[e] || (c[e] = []), c[e].push(r);
                if (l.ready && X.ready && this.emit({
                        type: "ready",
                        client: this
                    }), l.error) {
                    for (a = 0, i = K.length; a < i; a++)
                        if (X[K[a].replace(/^flash-/, "")]) {
                            this.emit({
                                type: "error",
                                name: K[a],
                                client: this
                            });
                            break
                        }
                    n !== t && Je.version !== n && this.emit({
                        type: "error",
                        name: "version-mismatch",
                        jsVersion: Je.version,
                        swfVersion: n
                    })
                }
            }
            return this
        },
        tt = function(e, t) {
            var n, r, a, i, o, l = Ue[this.id],
                s = l && l.handlers;
            if (!s) return this;
            if (0 === arguments.length) i = w(s);
            else if ("string" == typeof e && e) i = e.split(/\s+/);
            else if ("object" == typeof e && e && "undefined" == typeof t)
                for (n in e) C.call(e, n) && "string" == typeof n && n && "function" == typeof e[n] && this.off(n, e[n]);
            if (i && i.length)
                for (n = 0, r = i.length; n < r; n++)
                    if (e = i[n].toLowerCase().replace(/^on/, ""), o = s[e], o && o.length)
                        if (t)
                            for (a = o.indexOf(t); a !== -1;) o.splice(a, 1), a = o.indexOf(t, a);
                        else o.length = 0;
            return this
        },
        nt = function(e) {
            var t = null,
                n = Ue[this.id] && Ue[this.id].handlers;
            return n && (t = "string" == typeof e && e ? n[e] ? n[e].slice(0) : [] : k(n)), t
        },
        rt = function(e) {
            if (st.call(this, e)) {
                "object" == typeof e && e && "string" == typeof e.type && e.type && (e = D({}, e));
                var t = D({}, he(e), {
                    client: this
                });
                ct.call(this, t)
            }
            return this
        },
        at = function(e) {
            if (!Ue[this.id]) throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");
            e = ft(e);
            for (var t = 0; t < e.length; t++)
                if (C.call(e, t) && e[t] && 1 === e[t].nodeType) {
                    e[t].zcClippingId ? Ge[e[t].zcClippingId].indexOf(this.id) === -1 && Ge[e[t].zcClippingId].push(this.id) : (e[t].zcClippingId = "zcClippingId_" + We++, Ge[e[t].zcClippingId] = [this.id], G.autoActivate === !0 && dt(e[t]));
                    var n = Ue[this.id] && Ue[this.id].elements;
                    n.indexOf(e[t]) === -1 && n.push(e[t])
                }
            return this
        },
        it = function(e) {
            var t = Ue[this.id];
            if (!t) return this;
            var n, r = t.elements;
            e = "undefined" == typeof e ? r.slice(0) : ft(e);
            for (var a = e.length; a--;)
                if (C.call(e, a) && e[a] && 1 === e[a].nodeType) {
                    for (n = 0;
                        (n = r.indexOf(e[a], n)) !== -1;) r.splice(n, 1);
                    var i = Ge[e[a].zcClippingId];
                    if (i) {
                        for (n = 0;
                            (n = i.indexOf(this.id, n)) !== -1;) i.splice(n, 1);
                        0 === i.length && (G.autoActivate === !0 && ut(e[a]), delete e[a].zcClippingId)
                    }
                }
            return this
        },
        ot = function() {
            var e = Ue[this.id];
            return e && e.elements ? e.elements.slice(0) : []
        },
        lt = function() {
            Ue[this.id] && (this.unclip(), this.off(), delete Ue[this.id])
        },
        st = function(e) {
            if (!e || !e.type) return !1;
            if (e.client && e.client !== this) return !1;
            var t = Ue[this.id],
                n = t && t.elements,
                r = !!n && n.length > 0,
                a = !e.target || r && n.indexOf(e.target) !== -1,
                i = e.relatedTarget && r && n.indexOf(e.relatedTarget) !== -1,
                o = e.client && e.client === this;
            return !(!t || !(a || i || o))
        },
        ct = function(e) {
            var t = Ue[this.id];
            if ("object" == typeof e && e && e.type && t) {
                var n = ve(e),
                    r = t && t.handlers["*"] || [],
                    a = t && t.handlers[e.type] || [],
                    o = r.concat(a);
                if (o && o.length) {
                    var l, s, c, f, d, u = this;
                    for (l = 0, s = o.length; l < s; l++) c = o[l], f = u, "string" == typeof c && "function" == typeof i[c] && (c = i[c]), "object" == typeof c && c && "function" == typeof c.handleEvent && (f = c, c = c.handleEvent), "function" == typeof c && (d = D({}, e), be(c, f, [d], n))
                }
            }
        },
        ft = function(e) {
            return "string" == typeof e && (e = []), "number" != typeof e.length ? [e] : e
        },
        dt = function(e) {
            if (e && 1 === e.nodeType) {
                var t = function(e) {
                        (e || (e = i.event)) && ("js" !== e._source && (e.stopImmediatePropagation(), e.preventDefault()), delete e._source)
                    },
                    n = function(n) {
                        (n || (n = i.event)) && (t(n), Je.focus(e))
                    };
                e.addEventListener("mouseover", n, !1), e.addEventListener("mouseout", t, !1), e.addEventListener("mouseenter", t, !1), e.addEventListener("mouseleave", t, !1), e.addEventListener("mousemove", t, !1), qe[e.zcClippingId] = {
                    mouseover: n,
                    mouseout: t,
                    mouseenter: t,
                    mouseleave: t,
                    mousemove: t
                }
            }
        },
        ut = function(e) {
            if (e && 1 === e.nodeType) {
                var t = qe[e.zcClippingId];
                if ("object" == typeof t && t) {
                    for (var n, r, a = ["move", "leave", "enter", "out", "over"], i = 0, o = a.length; i < o; i++) n = "mouse" + a[i], r = t[n], "function" == typeof r && e.removeEventListener(n, r, !1);
                    delete qe[e.zcClippingId]
                }
            }
        };
    Je._createClient = function() {
        Qe.apply(this, j(arguments))
    }, Je.prototype.on = function() {
        return et.apply(this, j(arguments))
    }, Je.prototype.off = function() {
        return tt.apply(this, j(arguments))
    }, Je.prototype.handlers = function() {
        return nt.apply(this, j(arguments))
    }, Je.prototype.emit = function() {
        return rt.apply(this, j(arguments))
    }, Je.prototype.clip = function() {
        return at.apply(this, j(arguments))
    }, Je.prototype.unclip = function() {
        return it.apply(this, j(arguments))
    }, Je.prototype.elements = function() {
        return ot.apply(this, j(arguments))
    }, Je.prototype.destroy = function() {
        return lt.apply(this, j(arguments))
    }, Je.prototype.setText = function(e) {
        if (!Ue[this.id]) throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");
        return Je.setData("text/plain", e), this
    }, Je.prototype.setHtml = function(e) {
        if (!Ue[this.id]) throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");
        return Je.setData("text/html", e), this
    }, Je.prototype.setRichText = function(e) {
        if (!Ue[this.id]) throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");
        return Je.setData("application/rtf", e), this
    }, Je.prototype.setData = function() {
        if (!Ue[this.id]) throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");
        return Je.setData.apply(this, j(arguments)), this
    }, Je.prototype.clearData = function() {
        if (!Ue[this.id]) throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");
        return Je.clearData.apply(this, j(arguments)), this
    }, Je.prototype.getData = function() {
        if (!Ue[this.id]) throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");
        return Je.getData.apply(this, j(arguments))
    }, "function" == typeof define && define.amd ? define(function() {
        return Je
    }) : "object" == typeof module && module && "object" == typeof module.exports && module.exports ? module.exports = Je : e.ZeroClipboard = Je
}(function() {
    return this || window
}());
! function(e, t, a) {
    "use strict";

    function n() {
        for (var e, a = "", n = {}, r = t.getSelection(), o = document.createElement("div"), c = 0, i = r.rangeCount; c < i; c++) e = r.getRangeAt(c), a += e.toString(), o.appendChild(e.cloneContents());
        return n["text/plain"] = a, a.replace(/\s/g, "") && (n["text/html"] = o.innerHTML), n
    }

    function r(t) {
        var a = e.Event(t.type, e.extend(t, {
            _source: "swf"
        }));
        if (e(t.target).trigger(a), "copy" === a.type && e.event.special.copy.options.requirePreventDefault === !0 && !a.isDefaultPrevented()) {
            t.clipboardData.clearData();
            var r = n();
            (r["text/plain"] || r["text/html"]) && t.clipboardData.setData(r)
        }
    }

    function o(t) {
        var a = e.Event("copy-error", e.extend(t, {
            type: "copy-error",
            _source: "swf"
        }));
        e(t.target).trigger(a)
    }

    function c() {
        e.event.props.push("clipboardData"), d.config(e.extend(!0, {
            autoActivate: !1
        }, l.options)), d.on("copy", r), d.on("error", o), d.create()
    }

    function i() {
        d.destroy();
        var t = e.event.props.indexOf("clipboardData");
        t !== -1 && e.event.props.splice(t, 1)
    }

    function p(e) {
        d.isFlashUnusable() || "js" === e.originalEvent._source || (e.stopImmediatePropagation(), e.preventDefault())
    }
    var s = 0,
        u = ".zeroclipboard",
        d = t.ZeroClipboard,
        f = d.config("trustedDomains"),
        l = {
            add: function(t) {
                0 === s++ && c();
                var a = u + (t.namespace ? "." + t.namespace : ""),
                    n = t.selector,
                    r = "zc|{" + n + "}|{" + a + "}|count",
                    o = e(this);
                "number" != typeof o.data(r) && o.data(r, 0), o.data(r, o.data(r) + 1)
            },
            remove: function(t) {
                var a = u + (t.namespace ? "." + t.namespace : ""),
                    n = t.selector,
                    r = "zc|{" + n + "}|{" + a + "}|count",
                    o = e(this);
                o.data(r, o.data(r) - 1), 0 === o.data(r) && (o.off("click" + a, n, p), o.removeData(r)), 0 === --s && i()
            },
            trigger: function(t) {
                if ("copy" === t.type) {
                    var a = e(this),
                        n = "swf" === t._source;
                    delete t._source, n || a.one("copy", function() {
                        var t = {},
                            a = d.getData();
                        e.each(a, function(e) {
                            t[e] = !1
                        })
                    })
                }
            },
            _default: function() {
                return !0
            },
            options: {
                requirePreventDefault: !0,
                trustedDomains: f
            }
        };
    e.event.special.copy = l
}(jQuery, function() {
    return this || window
}());
INKIVE.Ruler = function(t) {
    "use strict";

    function e() {
        return "vertical" === h.layout
    }

    function i() {
        var t, i, n, l;
        e() ? (t = "y", i = "x", n = "width", l = "height") : (t = "x", i = "y", n = "height", l = "width"), h.divisions = $.map(h.divisions, function(t) {
            var e = t.percent * h.zoom * h.multiplier;
            return $.extend({}, h.divisionDefaults, t, {
                pixelGap: e
            })
        }), h.texts = $.map(h.texts, function(t) {
            var e = t.percent * h.zoom * h.multiplier;
            return $.extend({}, h.textDefaults, t, {
                pixelGap: e
            })
        }), $(m).empty();
        var u = s.getBoundingClientRect(),
            a = document.createElementNS(p, "rect");
        a.setAttribute("fill", "#EDEDED"), a.setAttribute(t, (s.getAttribute(l) - h.value) / 2 * h.zoom), a.setAttribute(i, e() ? 15 : 0), a.setAttribute(n, 7), a.setAttribute(l, h.value * h.zoom), m.appendChild(a);
        var c = document.createElementNS(p, "rect");
        c.setAttribute("fill", "#EDEDED"), c.setAttribute(t, (s.getAttribute(l) - h.value) / 2 * h.zoom), c.setAttribute(i, e() ? 21 : 0), c.setAttribute(n, 1), c.setAttribute(l, h.value * h.zoom), m.appendChild(c), h.divisions.forEach(function(t) {
            r(t, u[l])
        }), h.texts.forEach(function(t) {
            o(t, u[l])
        })
    }

    function r(t, e) {
        for (var i = e / 2, r = i, o = 1; r < e; r += t.pixelGap, o++) m.appendChild(n(r, t, r - i > h.value * h.zoom / 2 ? "#2C353F" : null));
        for (var r = i; r > 2; r -= t.pixelGap) m.appendChild(n(r, t, r < i - h.value * h.zoom / 2 ? "#2C353F" : null))
    }

    function n(t, i, r) {
        r = r || "#404E62";
        var n, o, l, u, s = document.createElementNS(p, "rect");
        return e() ? (n = "y", o = "x", l = "width", u = "height") : (n = "x", o = "y", l = "height", u = "width"), s.setAttribute("fill", r), s.setAttribute(n, Math.floor(t)), s.setAttribute(o, e() ? Math.floor(a - i.lineLength) : 0), s.setAttribute(l, i.lineLength), s.setAttribute(u, i.strokeWidth), s
    }

    function o(t, e) {
        for (var i = e / 2, r = i, n = 0; r < e; r += t.pixelGap, n++) m.appendChild(l(r, t, n * t.percent * h.multiplier, r - i > h.value * h.zoom / 2 ? "#414A4B" : null));
        for (var r = i - t.pixelGap, n = -1; r > 0; r -= t.pixelGap, n--) m.appendChild(l(r, t, n * t.percent * h.multiplier, r < i - h.value * h.zoom / 2 ? "#414A4B" : null))
    }

    function l(t, i, r, n) {
        r = r || 0, n = n || "#2B3031";
        var o, l, a = document.createElementNS(p, "text"),
            s = e() ? i.y : i.y + 5;
        return a.setAttribute("class", i.className), e() ? (o = "y", l = "x") : (o = "x", l = "y"), t = e() ? t - 3 : t + 3, a.origPos = t, a.origPosAttribute = o, a.setAttribute("fill", n), a.setAttribute(o, t), a.setAttribute(l, s), u(a, i), a.textContent = 0 == r ? "0px" : r, a
    }

    function u(t, i) {
        if (i.rotation) {
            var r = t.origPos,
                n = i.y,
                o = e() ? "rotate(" + i.rotation + " " + n + " " + r + ")" : "rotate(" + i.rotation + " " + r + " " + n + ")";
            t.setAttribute("transform", o)
        }
    }
    var a = 19,
        s = $("#svgroot").get(0),
        p = "http://www.w3.org/2000/svg",
        c = {
            multiplier: 1,
            layout: "horizontal",
            zoom: 1,
            value: 100,
            units: "",
            divisionDefaults: {
                strokeWidth: 1
            },
            divisions: [{
                percent: 100,
                lineLength: 20
            }, {
                percent: 20,
                lineLength: 7
            }, {
                percent: 10,
                lineLength: 5
            }],
            textDefaults: {
                rotation: 0,
                offset: 25,
                className: "rulez-text",
                showUnits: !1,
                centerText: {
                    by: "width",
                    operation: "sub"
                }
            },
            texts: [{
                percent: 100,
                y: 11
            }]
        },
        h = $.extend(!0, {}, c, t);
    window.test = h, this.config = h, h.element = document.createElementNS(p, "svg"), h.element.setAttribute("style", "pointer-events:none;"), h.wrapper.appendChild(h.element);
    var m = document.createElementNS(p, "g");
    h.element.appendChild(m), this.render = function() {
        i()
    }, this.resize = function(t, r) {
        for (h.zoom = t || h.zoom, h.multiplier = r || h.multiplier; h.zoom * h.multiplier < .3;) h.multiplier *= 2;
        var n = s.getBoundingClientRect();
        h.element.setAttribute("width", Math.floor(e() ? a : n.width)), h.element.setAttribute("height", Math.floor(e() ? n.height - 5 : a)), e() || $(h.wrapper).css("top", h.zoom * s.getAttribute("height") - 22), i()
    }
};
INKIVE.EXTENSION || (INKIVE.EXTENSION = {}), INKIVE.EXTENSION.CopyPaste = function(e) {
    function t(e) {
        var t = INKIVE.Tool.getInstance().editor.canvas;
        if ("clipperImage" != t.getCurrentDrawing().getCurrentLayer().getAttribute("class")) {
            t.copySelectedElements();
            var a = t.clipBoard,
                i = [],
                n = [];
            $.each(a, function(e, t) {
                t && ("clippath" == t.nodeName.toLowerCase() ? n.push((new XMLSerializer).serializeToString(t)) : i.push((new XMLSerializer).serializeToString(t)))
            }), t.clipBoard = [];
            var o = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs>' + n.join() + '</defs><g class="clipboard">' + i.join() + "</g></svg>",
                l = $(e.target).val();
            if (l) e.clipboardData.setData("text/plain", l);
            else {
                e.clipboardData.setData("image/svg+xml", o);
                var r = e.clipboardData.getData("image/svg+xml");
                o != r && (t.clipBoard = a)
            }
        }
    }

    function a(e) {
        var t = INKIVE.Tool.getInstance().editor;
        if (t.canvas.clipBoard.length) {
            var a = $("#svgroot #svgcontent").get(0),
                i = t.canvas.getBBox(a);
            t.canvas.pasteElements("point", i.width / 2, i.height / 2), t.canvas.clipBoard = []
        } else if (e || t.canvas.clipBoard.length)
            if (e && e.clipboardData) {
                var s = e.clipboardData.items;
                if (s)
                    for (var c = 0; c < s.length; c++)
                        if (s[c].type.indexOf("plain") !== -1 && "textedit" != r.getMode()) {
                            if (!INKIVE.RestrictionsFacade.isFunctionalityAllowed("text_add")) return;
                            l({
                                text: e.clipboardData.getData("text/plain")
                            })
                        } else if (s[c].type.indexOf("svg+xml") !== -1) {
                    if (!INKIVE.RestrictionsFacade.isFunctionalityAllowed("image_add")) return;
                    var d = e.clipboardData.getData("image/svg+xml");
                    d = $.parseXML(d);
                    var g = [],
                        f = [];
                    $.each($(d).find("g.clipboard > *"), function(e, t) {
                        g.push(t)
                    }), $.each($(d).find("defs > *"), function(e, t) {
                        f.push(t)
                    }), r.clipBoard = g.concat(f);
                    var p = t.getOffset();
                    t.canvas.pasteElements("point", p.width / 2, p.height / 2), r.clipBoard = [], INKIVE.Tool.blinkScreen()
                } else if (s[c].type.indexOf("image") !== -1) {
                    if (!INKIVE.RestrictionsFacade.isFunctionalityAllowed("image_add")) return;
                    var u = s[c].getAsFile(),
                        h = new FileReader;
                    h.onload = function(e) {
                        return o({
                            dataURL: e.target.result,
                            event: e,
                            file: u,
                            name: u.name
                        })
                    }, h.readAsDataURL(u)
                }
            } else e && setTimeout(n, 1);
        else INKIVE.Modal.alertMessage("<b>Your browser does not allow<br/>access to the clipboard</b><br/>Please use: CTRL + V")
    }

    function i(e) {
        var t = INKIVE.Tool.getInstance().editor;
        t.canvas.cutSelectedElements()
    }

    function n() {
        var e = s.childNodes[0];
        s.innerHTML = "", e && "IMG" === e.tagName && o(e.src)
    }

    function o(e) {
        var t = INKIVE.Tool.getInstance().editor,
            a = new Image,
            i = t.getOffset();
        a.onload = function() {
            console.log("Loading pasted image..."), console.log("Offset width: " + i.width + " offset height " + i.height);
            var n = i.width / 2 - a.width / 2,
                o = i.height / 2 - a.height / 2,
                l = a.width,
                r = a.height;
            console.log("Image dimensions- X " + n + " Y " + o + " width " + l + " height " + r);
            var s = t.addElement("image", {
                url: e.dataURL,
                x: n,
                y: o,
                width: l,
                height: r
            });
            console.log(s), INKIVE.Tool.blinkScreen(s)
        }, a.src = e.dataURL
    }

    function l(e) {
        var t = INKIVE.Tool.getInstance().editor;
        if (0 != e.text.length) {
            var a = {
                    family: "Allerta",
                    size: 14
                },
                i = t.getOffset();
            fontSpy("Lato", {
                success: function() {
                    var n = t.addElement("textarea", {
                        x: (i.width - 200) / 2,
                        y: Math.floor4((i.height - a.size) / 2),
                        width: 200,
                        text: {
                            "font-family": a.family,
                            "font-size": a.size,
                            textContent: e.text
                        }
                    });
                    INKIVE.Tool.blinkScreen(n)
                },
                failure: function() {
                    INKIVE.Modal.alertMessage("Fail to init font", {
                        skip: !1
                    })
                }
            })
        }
    }
    var r = (e.svgroot, e.canvas);
    if (!window.Clipboard) {
        var s = document.createElement("div");
        s.setAttribute("contenteditable", ""), s.style.display = "none", document.body.appendChild(s), s.focus(), document.addEventListener("click", function() {
            s.focus()
        })
    }
    return $(document).on("copy", function(e) {
        $(e.target).is("input, textarea") || (e.clipboardData.clearData(), t(e), e.preventDefault())
    }), document.addEventListener("paste", function(e) {
        $(e.target).is("input, textarea") || a(e)
    }), {
        copy: function() {
            t()
        },
        paste: function() {
            a()
        },
        cut: function() {
            i()
        }
    }
};
INKIVE.EXTENSION || (INKIVE.EXTENSION = {}), INKIVE.EXTENSION.Layout = function(t) {
    function e(t, e) {
        var i = {
            x: 0,
            y: 0,
            width: Math.floor4(t.width * e.height / t.height),
            height: Math.floor4(t.height * e.height / t.height)
        };
        return i.width < e.width ? (i.width = Math.floor4(t.width * e.width / t.width), i.height = Math.floor4(t.height * e.width / t.width), i.y = Math.floor4((i.height - e.height) / 2)) : i.x = Math.floor4((i.width - e.width) / 2), i
    }

    function i(t, e) {
        if (e) {
            t = "string" == typeof t ? $("#" + t).get(0) : t;
            var i = {
                x: Math.floor4(e.x),
                y: Math.floor4(e.y),
                width: Math.floor4(e.width),
                height: Math.floor4(e.height)
            };
            t.textContent = i.x + " " + i.y + " " + i.width + " " + i.height
        }
    }

    function r(t) {
        var e = "string" == typeof t ? $("#" + t).get(0) : t,
            i = e.textContent.split(/[^-|\d\.]/);
        return {
            x: Math.floor4(i[0]),
            y: Math.floor4(i[1]),
            width: Math.floor4(i[2]),
            height: Math.floor4(i[3])
        }
    }

    function a(t) {
        return t.replace(/(\&\w+;)/g, function(t) {
            for (var e = $("<p>" + t + "</p>").text(), i = "", r = 0; r < e.length; r++) i += "&#" + e.charCodeAt(r) + ";";
            return i
        })
    }

    function o(t, e, i, r) {
        E.clearSelection(), INKIVE.ImagesFactory.inlinedImages = {}, e = a(e), e = INKIVE.Helpers.imagesSanitize.preLoadImagesSanitize(e);
        var o = '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs>' + t + "</defs><g>" + e + "</g></svg>";
        o = $.parseXML(o), r && $(o).find("image").each(function(t, e) {
            e.setAttributeNS(S.XLINK, "xlink:href", INKIVE.Helpers.getCORSSecureUrl(V))
        }), INKIVE.Helpers.imagesSanitize.postLoadBackgroundSanitize(o), r || i && INKIVE.Helpers.imagesSanitize.postLoadImagesSanitize(o);
        var n = E.getSvgContent(),
            l = E.getCurrentDrawing().current_layer,
            s = $(n).find("defs");
        l.setAttribute("class", "main"), !r && s && s.length > 0 && s.remove();
        var g = $(n).find("#layout_defs")[0];
        g || (g = document.createElementNS(S.SVG, "defs"), g.setAttribute("id", "layout_defs"), n.insertBefore(g, n.childNodes[0]));
        for (var u = o.getElementsByTagName("defs")[0], d = u.childNodes.length, c = null; d;) {
            var h = u.childNodes[d - 1];
            switch (h.tagName) {
                case "title":
                    break;
                default:
                    g.insertBefore(h, c), c = h
            }
            d--
        }
        if (!r)
            for (d = l.childNodes.length; d;) {
                var h = l.childNodes[d - 1];
                switch (h.tagName) {
                    case "title":
                        break;
                    default:
                        l.removeChild(h)
                }
                d--
            }
        var m = o.getElementsByTagName("g")[0];
        for (svgedit.sanitize.sanitizeSvg(m), d = m.childNodes.length, c = null; d;) {
            var h = m.childNodes[d - 1];
            switch ($(h).hasClass("element") || $(h).addClass("element"), h.tagName) {
                case "title":
                    break;
                case "image":
                default:
                    var f = INKIVE.Helpers.getUnusedId(o);
                    if ("image" === h.tagName) {
                        for (var v = INKIVE.ImagesFactory.inlinedImages; v[INKIVE.ImagesFactory.getImageHash(f)];) f = INKIVE.Helpers.getUnusedId(o);
                        var p = INKIVE.ImagesFactory.getImageUrl(h);
                        delete v[INKIVE.ImagesFactory.getImageHash(h)], svgedit.utilities.assignAttributes(h, {
                            id: f
                        }), INKIVE.ImagesFactory.setImageUrl(h, p)
                    } else svgedit.utilities.assignAttributes(h, {
                        id: f
                    });
                    l.insertBefore(h, c), c = h;
                    var y = svgedit.utilities.getClipPath(h);
                    if (y) {
                        var I = INKIVE.Helpers.getUnusedId(o);
                        svgedit.utilities.assignAttributes(y, {
                            id: "clip_" + I
                        }), svgedit.utilities.assignAttributes(h, {
                            "clip-path": "url(#clip_" + I + ")"
                        })
                    }
            }
            d--
        }
        INKIVE.Helpers.converterCurrentPage()
    }

    function n(t, e) {
        function i() {
            return "CSS" in window && "supports" in window.CSS && window.CSS.supports("mix-blend-mode", "soft-light")
        }

        function r(t) {
            return i() ? "mix-blend-mode:" + t + "; pointer-events:none;" : "pointer-events:none;"
        }

        function a() {
            var e = t.getAttribute("transform"),
                a = svgedit.utilities.getClipPath(t),
                o = E.copyElem(a.childNodes[0]);
            return e && o.setAttribute("transform", e), o.setAttribute("id", A()), o.setAttribute("class", "layoutClipper"), o.setAttribute("fill", "#000"), o.setAttribute("stroke", "#AAA"), o.setAttribute("stroke-width", 1), o.setAttribute("style", r("overlay")), i() || o.setAttribute("opacity", ".4"), o
        }

        function o() {
            var t = E.addSvgElementFromJson({
                element: "rect",
                curStyles: !1,
                attr: {
                    x: u.getAttribute("x"),
                    y: u.getAttribute("y"),
                    id: "layoutScreen",
                    width: u.getAttribute("width"),
                    height: u.getAttribute("height")
                }
            });
            i() ? t.setAttribute("fill", "#777") : (t.setAttribute("fill", "#FFF"), t.setAttribute("opacity", ".4"));
            var e = u.getAttribute("transform");
            return e && t.setAttribute("transform", e), t
        }

        function n() {
            E.addSvgElementFromJson({
                element: "rect",
                curStyles: !1,
                attr: {
                    x: 0,
                    y: 0,
                    id: "layoutOverlay",
                    fill: INKIVE.C.IS_MOBILE ? "#545C5D" : "#000",
                    width: E.contentW,
                    height: E.contentH,
                    opacity: INKIVE.C.IS_MOBILE ? null : .5
                }
            })
        }
        x = e, E.clearSelection(), $("#selectorGrip_rotateconnector").hide(), $("#selectorGrip_rotate").hide();
        var g = t.getAttribute("id"),
            u = E.copyElem(svgedit.utilities.getElem(g)),
            d = a(),
            c = svgedit.utilities.getRotationAngle(u);
        u.removeAttribute("clip-path"), n(), E.createLayer("clipperImage");
        var h = E.getCurrentDrawing().current_layer;
        h.setAttribute("class", "clipperImage"), u.setAttribute("id", A()), u.setAttribute("class", "layoutClipperImage element");
        var m = o();
        h.appendChild(u), h.appendChild(m), E.createLayer("clipperSelector");
        var f = E.getCurrentDrawing().current_layer;
        f.setAttribute("class", "clipperSelector"), f.appendChild(d), p(d.id, c < -180 ? 360 + c : c), E.setCurrentLayer("clipperImage"), m.setAttribute("style", r("screen")), $(u).on("dblclick", function(e) {
            s(t, u, !0), e.preventDefault(), e.stopPropagation()
        }), E.addToSelection([u], !0), E.call("editor.cropping", !0), l()
    }

    function l() {
        var t = "hidden" === $("#svgcontent").css("overflow");
        t ? (this.$hiddenOverflowContainers = $("#svgcontent > *[clip-path]"), this.$hiddenOverflowContainers.removeAttr("clip-path"), $("#svgcontent").css("overflow", "visible"), $("#copy-paste-panel").hide(), E.runExtensions("disableRuler", {})) : this.$hiddenOverflowContainers && (this.$hiddenOverflowContainers.attr("clip-path", "url(#clip_canvas)"), $("#svgcontent").css("overflow", "hidden"), $("#copy-paste-panel").show(), E.runExtensions("enableRuler", {}))
    }

    function s(t, e, i) {
        if (i) {
            E.clearSelection();
            var t = $(t).get(0);
            _.each(["x", "y", "width", "height"], function(i) {
                var r = e.getAttribute(i);
                t.setAttribute(i, r)
            });
            var r = svgedit.transformlist.getTransformList(e),
                a = $("#clip_" + t.id + " rect").get(0);
            if (r.numberOfItems && a) {
                var o = _.clone(r.getItem(0));
                svgedit.transformlist.getTransformList(t), svgedit.transformlist.getTransformList(a);
                o.angle = -o.angle
            }
        }
        E.deleteCurrentLayer(), E.deleteCurrentLayer();
        var n = document.getElementById("layoutOverlay").parentNode;
        n.removeChild(n.lastChild), E.call("editor.cropping"), l(), x && x()
    }

    function g(t, i) {
        function a() {
            var t = {
                width: i.width.baseVal ? i.width.baseVal.value : i.width,
                height: i.height.baseVal ? i.height.baseVal.value : i.height
            };
            if (!t.height || !t.width) {
                var e = $(i).closest(".thumbnail");
                e.length && (t = {
                    width: e.width(),
                    height: e.height()
                })
            }
            return t
        }
        var o = i.getAttribute("xlink:href") || i.getAttribute("src");
        if (!o) return void E.call("advice.show", "locked-layout-image");
        var n = r(t),
            l = {
                x: n.x,
                y: n.y,
                width: n.width,
                height: n.height
            },
            s = e(a(), l);
        svgedit.utilities.assignAttributes(t, {
            x: l.x - s.x,
            y: l.y - s.y,
            width: s.width,
            height: s.height,
            "xlink:href": o
        }, 100)
    }

    function u(t, e) {
        e ? (t.setAttribute("xlink:href", e.url), t.setAttribute("x", e.x), t.setAttribute("y", e.y), t.setAttribute("width", e.width), t.setAttribute("height", e.height)) : c(t)
    }

    function d(t) {
        $(t).remove();
        var e = $("#clip_" + t.id);
        e.length && e.remove()
    }

    function c(t) {
        var i = r(t.id || t),
            a = e(B, i);
        E.getSelectedElems();
        t.setAttribute("xlink:href", V), t.setAttribute("x", i.x - a.x), t.setAttribute("y", i.y - a.y), t.setAttribute("width", a.width), t.setAttribute("height", a.height)
    }

    function h(t, e) {
        var i = $(".layoutBox"),
            a = {};
        N = E.getZoom();
        for (var o = i.length - 1; o >= 0; o--)
            if (a = r(i[o]), a.x * N < t && t < (a.x + a.width) * N && a.y * N < e && e < (a.y + a.height) * N) return i[o]
    }

    function m(t) {
        E.clearSelection();
        var r = t.elem,
            a = t.clipPathBB;
        a.x = Math.floor4(a.x), a.y = Math.floor4(a.y), a.width = Math.floor4(a.width), a.height = Math.floor4(a.height);
        var o = e(B, {
                x: a.x,
                y: a.y,
                width: a.width,
                height: a.height
            }),
            n = E.getNextId(),
            l = E.addSvgElementFromJson({
                element: "image",
                curStyles: !1,
                attr: {
                    x: a.x - o.x,
                    y: a.y - o.y,
                    id: n,
                    width: o.width,
                    height: o.height,
                    "class": "layoutBox element",
                    "clip-path": "url(#clip_" + n + ")",
                    "xlink:href": t["xlink:href"] || V
                }
            });
        return i(l.id, t.clipPathBB), v(l.id, r), l
    }

    function f(t) {
        for (var e = t.id, i = t.childNodes.length, r = e.replace("clip_", ""), a = null, o = 0; o < i; o++) a = t.childNodes[o].getAttribute("transform"), t.childNodes[o].removeAttribute("transform");
        var n = $("#" + r).get(0);
        a && n && n.setAttribute("transform", a)
    }

    function v(t, e) {
        var i = $("#svgcontent").get(0),
            r = $("#svgcontent #layout_defs").get(0);
        r || (r = window.document.createElementNS(S.SVG, "defs"), r.setAttribute("id", "layout_defs")), $("#clip_" + t).remove();
        var a = window.document.createElementNS(S.SVG, "clipPath");
        a.setAttribute("id", "clip_" + t), r.appendChild(a), e.setAttribute("class", "layoutClipper"), a.appendChild(e), i.insertBefore(r, i.firstChild), f(a)
    }

    function p(t, e) {
        e = parseFloat(e);
        var i = $("#" + t).get(0),
            r = (i.getAttribute("transform"), svgedit.utilities.getBBox(i)),
            a = r.x + r.width / 2,
            o = r.y + r.height / 2,
            n = svgedit.transformlist.getTransformList(i);
        if (n.numberOfItems > 0) {
            var l = n.getItem(0);
            4 == l.type && n.removeItem(0)
        }
        if (0 != e) {
            var s = svgedit.math.transformPoint(a, o, svgedit.math.transformListToTransform(n).matrix),
                g = $("#svgroot").get(0).createSVGTransform();
            g.setRotate(e, s.x, s.y), n.numberOfItems ? n.insertItemBefore(g, 0) : n.appendItem(g)
        } else 0 == n.numberOfItems && i.removeAttribute("transform")
    }

    function y(t, e, a) {
        e = parseFloat(e), a = parseFloat(a), t.setAttribute("x", parseFloat(t.getAttribute("x")) + e), t.setAttribute("y", parseFloat(t.getAttribute("y")) + a);
        var o = $("#clip_" + t.id).get(0).childNodes[0],
            n = w.createSVGTransform(),
            l = svgedit.transformlist.getTransformList(o);
        n.setTranslate(e, a), l.numberOfItems ? l.replaceItem(n, 0) : l.appendItem(n);
        var s = r(t.id);
        E.recalculateDimensions(o, s), s.x += e, s.y += a, i(t.id, s)
    }

    function I(t, e, i) {
        function a(t, e, i, r, a) {
            r = r || 0, a = a || 0;
            var o = t.x + r,
                n = e.x + r,
                l = t.y + a,
                s = e.y + a,
                g = Math.sqrt(Math.pow(n - o, 2) + Math.pow(s - l, 2));
            return ((n - o) * (l - i.y) - (o - i.x) * (s - l)) / g
        }
        var o, n, l = svgedit.utilities.getRotationAngle(t),
            s = svgedit.utilities.getBBox(t),
            g = r(t);
        if (l) {
            var u = t.getAttribute("transform"),
                d = /rotate\(([+-]?\d+(\.\d+)?) ([+-]?\d+(\.\d+)?)\,([+-]?\d+(\.\d+)?)\)/gi,
                c = d.exec(u);
            c && (o = c[3], n = c[5])
        }
        var h = INKIVE.Helpers.getTransformPoints(g, 0, l),
            m = INKIVE.Helpers.getTransformPoints(s, 0, l, o, n);
        a(m.tl, m.tr, h.tl, e, i) > 0 && (i = h.tl.y - m.tl.y), a(m.bl, m.tl, h.bl, e, i) > 0 && (e = h.bl.x - m.bl.x), a(m.bl, m.br, h.bl, e, i) < 0 && (i = h.bl.y - m.bl.y), a(m.br, m.tr, h.br, e, i) < 0 && (e = h.br.x - m.br.x);
        var f = svgedit.utilities.getScale(t);
        return f.scale && (e *= f.scale.matrix.a, i *= f.scale.matrix.d), {
            dx: e,
            dy: i
        }
    }

    function b(t) {
        if (t && !INKIVE.Helpers.isElementInCanvas(t)) {
            $("#selector-rect-" + t.id).remove();
            var e = $("#outsideCanvasSelectorGroup")[0],
                i = _.isObject(e),
                r = $("#selectorParentGroup").attr("transform");
            i ? $(e).attr("transform", r) : e = E.addSvgElementFromJson({
                element: "g",
                attr: {
                    id: "outsideCanvasSelectorGroup",
                    transform: r,
                    style: "pointer-events:auto"
                }
            });
            var a = svgedit.utilities.getBBox(t);
            e.appendChild(E.addSvgElementFromJson({
                element: "rect",
                attr: {
                    id: "selector-rect-" + t.id,
                    "data-related-id": "#" + t.id,
                    fill: "none",
                    stroke: "#aaa",
                    "stroke-width": "2",
                    "stroke-dasharray": "2",
                    x: a.x * N,
                    y: a.y * N,
                    width: a.width * N,
                    height: a.height * N,
                    style: "pointer-events:all",
                    "class": "outside-canvas-selection-box"
                }
            })), i || $("#svgpanel").prepend(e)
        }
    }
    var x, w = t.svgroot,
        A = t.getNextId,
        E = (t.getElem, t.addSvgElementFromJson, t.selectorManager, t.canvas),
        C = (t.curConfig, INKIVE.Tool.getInstance()),
        N = E.getZoom(),
        S = svgedit.NS,
        V = "https://static.inkive.com/assets/img/placeholders/imageplaceholder_new.svg",
        B = {
            width: 1280,
            height: 1280
        };
    return {
        isEmptyLayout: function(t) {
            var e = $(t.layoutBox).hasClass("layoutBox");
            return e &= t.layoutBox.getAttribute("xlink:href") === V
        },
        setFullSizePlaceholder: function(t) {
            c(t.layoutBox)
        },
        addLayoutBox: function(t) {
            return m(t)
        },
        setLayoutBoxCoord: function(t) {
            i(t.layoutBox, t.bbox)
        },
        getLayoutBoxCoord: function(t) {
            return r(t.layoutBox)
        },
        showLayoutClipper: function(t) {
            n(t.layout, t.callback)
        },
        cropLayoutContent: function(t) {
            var e = t.layout;
            e && e.getAttribute("class") && e.getAttribute("class").indexOf("background") == -1 && s(e, t.elem, t.hasChanges)
        },
        moveLayout: function(t) {
            return y(t.elem, t.dx, t.dy)
        },
        moveLayoutClipperImage: function(t) {
            return I(t.selected, t.dx, t.dy)
        },
        setLayout: function(t) {
            var e = "undefined" == typeof t.triggerImagesLoading || t.triggerImagesLoading;
            o(t.defs, t.content, e, t.keep)
        },
        addLayoutImage: function(t) {
            g(t.elem, t.data)
        },
        removeLayoutImage: function(t) {
            u(t.elem, t.attr)
        },
        deleteLayout: function(t) {
            return t.elem.getAttribute("xlink:href") == V ? (d(t.elem), null) : (c(t.elem), t.elem)
        },
        overLayoutImage: function(t) {
            function e(t, e) {
                "image" == t.tagName ? svgedit.utilities.assignAttributes(t, {
                    opacity: e
                }, 100) : $(t).css("opacity", e)
            }
            var i = t.mouse_x && t.mouse_y ? h(t.mouse_x, t.mouse_y) : C.editor.canvas.getSelectedElems()[0];
            if (!i || !t.selection || t.selection.id === i.getAttribute("id")) {
                if (E._t.layout_prvElem == i) return i;
                if (E._t.layout_prvElem && (u(E._t.layout_prvElem, E._t.layout_prvAttr), E._t.layout_prvElem = null, E._t.layout_prvAttr = null, e(t.elem, 1)), i && !E._t.layout_prvElem) {
                    var r = !INKIVE.RestrictionsFacade.canChange(i, "content") || INKIVE.RestrictionsFacade.getElementRestrictions(i.getAttribute("id"), "source").length;
                    if (r) E.call("advice.show", "restriction-image-content");
                    else {
                        var a = {
                            x: i.getAttribute("x"),
                            y: i.getAttribute("y"),
                            url: i.getAttribute("xlink:href"),
                            width: i.getAttribute("width"),
                            height: i.getAttribute("height")
                        };
                        E._t.layout_prvElem = i, E._t.layout_prvAttr = a, g(i, t.elem), e(t.elem, .3)
                    }
                }
                return i
            }
        },
        dblClick: function(t) {
            var e = t.event,
                i = t.mouse_target;
            e.preventDefault(), e.stopPropagation();
            var r = $(".layoutClipperImage");
            r.trigger("dblclick"), "image" !== i.tagName || 0 !== r.length || !$(i).hasClass("layoutBox") || $(i).hasClass("locked") || i.getAttribute("xlink:href").indexOf("imageplaceholder") >= 0 || INKIVE.EditorFacade.handle("crop")
        },
        mouseDown: function(t) {
            var e = E.getSelectedElems()[0];
            if (e) {
                var i = $(e).hasClass("layoutClipperImage"),
                    r = !i && INKIVE.RestrictionsFacade.canChange(e, "rotation");
                $("#selectorGrip_rotateconnector").toggle(r), $("#selectorGrip_rotate").toggle(r), $(e).hasClass("image") && "select" == E.getMode() && (E._t.layout_prvElem = null, E._t.layout_prvAttr = null)
            } else if (INKIVE.C.IS_MOBILE && $(".clipperImage .layoutClipperImage").length) {
                var a = $(".clipperImage .layoutClipperImage").get(0);
                a && a.getAttribute("class") && a.getAttribute("class").indexOf("background") == -1 && s(a, a, !1)
            }
        },
        mouseMove: function(t) {
            var e = E.getSelectedElems()[0];
            $(e).trigger("move"), "select" != E.getMode() || !e || "image" != e.tagName || !$(e).is(".image") || $(e).is(".logo") || $(e).is(".icon") || $(e).is(".video") || this.overLayoutImage({
                elem: e,
                mouse_x: t.mouse_x,
                mouse_y: t.mouse_y
            })
        },
        mouseUp: function(t) {
            var e = E.getSelectedElems(),
                i = e[0];
            "select" == E.getMode() && i && "image" == i.tagName && $(i).hasClass("image") && E._t.layout_prvElem && (svgedit.utilities.assignAttributes(i, {
                opacity: 1
            }), E.deleteSelectedElements(), E._t.layout_prvElem = null, E._t.layout_prvAttr = null, INKIVE.History.onChange("image_replace", null, C.editor.getSvgString()))
        },
        generateOutsideCanvasSelectionBox: function(t) {
            b(t)
        },
        recalculateOutsideCanvasSelectionBox: function() {
            $(E.getSvgContent()).find(".main").find(".element").each(function(t, e) {
                $("#selector-rect-" + e.id).remove(), b(e)
            })
        },
        zoomChanged: function() {
            N = E.getZoom(), this.recalculateOutsideCanvasSelectionBox()
        }
    }
};
INKIVE.EXTENSION || (INKIVE.EXTENSION = {}), INKIVE.EXTENSION.Snap = function(t) {
    function e() {
        f = [];
        for (var t = s.getCurrentDrawing().getCurrentLayer(), e = s.getSelectedElems(), o = t.childNodes, n = 0; n < o.length; n++)
            if ("title" != o[n].tagName)
                for (var i = 0, a = 0, g = e.length; a < g; a++)
                    if (e[a] && (e[a].id != o[n].id && i++, i == g)) {
                        var l;
                        if (l = $(o[n]).hasClass("layoutBox") ? s.runExtensions("getLayoutBoxCoord", {
                                layoutBox: o[n]
                            }) : s.getBBox(o[n]), !l || isNaN(l.x) || isNaN(l.y) || isNaN(l.width) || isNaN(l.height)) continue;
                        var d = f.push(l);
                        f[d - 1].rotate = s.getRotationAngle(o[n]), f[d - 1].id = o[n].getAttribute("id")
                    }
        var u = $("#canvasBackground").get(0),
            c = s.getBBox(u);
        c.id = u.getAttribute("id"), c.rotate = 0;
        var h = INKIVE.Helpers.getObjectCoordinates(s, c);
        r = {
            vertical: v.getYCoordinates(h),
            horizontal: v.getXCoordinates(h),
            objects: [c].concat(f)
        };
        for (var n = 0; f && n < f.length; n++) f[n] && (h = INKIVE.Helpers.getObjectCoordinates(s, f[n]), r.vertical = r.vertical.concat(v.getYCoordinates(h)), r.horizontal = r.horizontal.concat(v.getXCoordinates(h)))
    }

    function o(t) {
        t ? $(".guideLineGroup ." + t).remove() : $(".guideLineGroup").remove()
    }

    function n(t, e, n) {
        function a(t) {
            var e = !1,
                n = "horizontal" === t ? 1 : 0,
                a = 1 - n;
            if (r) {
                for (var g = 0; g < r[t].length && !e; g++)
                    for (var u = r[t][g], c = 0; c < l[t].length && !e; c++) {
                        var h = l[t][c],
                            v = u - h;
                        Math.abs(v) < d && (s.moveSelectedElements(v * n, v * a, !1), o(t), i(t, u), e = !0)
                    }
                e || o(t)
            }
        }
        if (h) {
            var g = INKIVE.Helpers.getObjectCoordinatesByDirection(s, t, e - u >= 0, n - c >= 0),
                l = {
                    vertical: v.getYCoordinates(g),
                    horizontal: v.getXCoordinates(g)
                };
            e && a("horizontal"), n && a("vertical"), u = e, c = n
        }
    }

    function i(t, e) {
        var o = $("#svgroot").width(),
            n = $("#svgroot").height(),
            i = $(".guideLineGroup").length ? $(".guideLineGroup").get(0) : g({
                element: "g",
                curStyles: !1,
                attr: {
                    id: a(),
                    "class": "guideLineGroup",
                    style: "pointer-events:none"
                }
            }, $("#svgpanel").get(0));
        g({
            element: "line",
            attr: {
                x1: "horizontal" === t ? e : 0,
                y1: "horizontal" === t ? 0 : e,
                x2: "horizontal" === t ? e : o,
                y2: "horizontal" === t ? n : e,
                stroke: "#0000FF",
                "stroke-width": "1",
                "pointer-events": "none",
                "class": t,
                "stroke-opacity": "0.9",
                "stroke-dasharray": "1 1"
            }
        }, i)
    }
    var r, a = t.getNextId,
        g = t.addSvgElementFromJson,
        s = t.canvas,
        l = t.curConfig,
        d = 3,
        u = 0,
        c = 0,
        h = !0,
        v = {
            getXCoordinates: function(t) {
                return v.keyMatchingFilter(t, /x\d+/)
            },
            getYCoordinates: function(t) {
                return v.keyMatchingFilter(t, /y\d+/)
            },
            keyMatchingFilter: function(t, e) {
                return _.filter(t, function(t, o) {
                    return o.match(e)
                })
            }
        },
        f = {};
    return {
        mouseDown: function() {
            h && !l.gridSnapping && (u = 0, c = 0, "select" == s.getMode() && e())
        },
        mouseUp: function() {
            h && !l.gridSnapping && o()
        },
        mouseMove: function(t) {
            if (h && !l.gridSnapping && "select" == s.getMode())
                for (var e = s.getSelectedElems(), o = 0; o < e.length; o++) {
                    var i = "layoutBox" != e[o].getAttribute("class") ? s.getBBox(e[o]) : s.runExtensions("getLayoutBoxCoord", {
                        layoutBox: e[o]
                    });
                    i.x = i.x + t.dx, i.y = i.y + t.dy, i.rotate = s.getRotationAngle(e[o]), i.id = e[o].getAttribute("id"), i.rotate || n(i, t.dx, t.dy)
                }
        },
        zoomChanged: function() {
            h && !l.gridSnapping && o()
        },
        enableSnap: function() {
            h = !0
        },
        disableSnap: function() {
            h = !1
        }
    }
};
INKIVE.EXTENSION || (INKIVE.EXTENSION = {}), INKIVE.EXTENSION.PrintGuideLine = function(t) {
    function e() {
        $(".printGuideLineGroup").remove(), l = $("#svgroot").get(0).getBoundingClientRect();
        var t = $("#canvasBackground").get(0).getBoundingClientRect(),
            e = 17.5 * a.getZoom(),
            i = e / 2,
            o = document.createElementNS(c.SVG, "line");
        o.setAttribute("stroke", b), o.setAttribute("stroke-width", e), o.setAttribute("stroke-opacity", p), o.setAttribute("fill", "none"), o.setAttribute("style", "pointer-events:none");
        var n = o.cloneNode();
        n.setAttribute("class", "line_n"), n.setAttribute("x1", t.left - l.left), n.setAttribute("y1", t.top - l.top + i), n.setAttribute("x2", t.right - l.left), n.setAttribute("y2", t.top - l.top + i);
        var r = o.cloneNode();
        r.setAttribute("class", "line_e"), r.setAttribute("x1", t.right - l.left - i), r.setAttribute("y1", t.top - l.top + e), r.setAttribute("x2", t.right - l.left - i), r.setAttribute("y2", t.bottom - l.top - e);
        var g = o.cloneNode();
        g.setAttribute("class", "line_s"), g.setAttribute("x1", t.left - l.left), g.setAttribute("y1", t.bottom - l.top - i), g.setAttribute("x2", t.right - l.left), g.setAttribute("y2", t.bottom - l.top - i);
        var d = o.cloneNode();
        d.setAttribute("class", "line_w"), d.setAttribute("x1", t.left - l.left + i), d.setAttribute("y1", t.top - l.top + e), d.setAttribute("x2", t.left - l.left + i), d.setAttribute("y2", t.bottom - l.top - e);
        var A = u({
            element: "g",
            curStyles: !1,
            attr: {
                id: s(),
                "class": "printGuideLineGroup",
                style: "pointer-events:none",
                notice: 0,
                display: "none"
            }
        }, $("#svgpanel").get(0));
        A.appendChild(n), A.appendChild(r), A.appendChild(g), A.appendChild(d), f = {
            top: Math.floor4(n.getAttribute("y1")) + e,
            right: Math.floor4(r.getAttribute("x1")) - e,
            bottom: Math.floor4(g.getAttribute("y1")) - e,
            left: Math.floor4(d.getAttribute("x1")) + e
        }
    }

    function i() {
        $(".printGuideLineGroup").remove()
    }

    function o(t) {
        if (g) {
            var e = $(".printGuideLineGroup").get(0);
            if (e) {
                var i = $("#selectorParentGroup").get(0).getBoundingClientRect(),
                    o = {
                        top: i.top - l.top,
                        right: i.right - l.left,
                        bottom: i.bottom - l.top,
                        left: i.left - l.left
                    },
                    r = o.top < f.top || o.right > f.right || o.bottom > f.bottom || o.left < f.left;
                if (r) {
                    for (var s = 0; s < t.length; s++)
                        if (n(t[s])) {
                            e.setAttribute("display", "inline"), a.call("advice.show", "crop"), 1 != e.getAttribute("notice") && e.setAttribute("notice", 1);
                            break
                        }
                } else e.setAttribute("display", "none")
            }
        }
    }

    function n(t) {
        return "g" == t.tagName && $(t).hasClass("sticker") || $(t).hasClass("textarea")
    }

    function r(t, e) {
        var i = INKIVE.Helpers.convertUnitsToPixels;
        return !_.any(INKIVE.Tool._cache.layoutFormat, function(o) {
            return "px" !== o.unit && i(o.width, o.unit) == t && i(o.height, o.unit) == e
        })
    }
    var l, s = t.getNextId,
        u = t.addSvgElementFromJson,
        a = t.canvas,
        c = svgedit.NS,
        p = .5,
        b = "#913E3E",
        g = !INKIVE.C.IS_MOBILE,
        f = {};
    return r = _.memoize(r), {
        mouseDown: function(t) {
            if (g) {
                var i = a.getSelectedElems();
                "select" == a.getMode() && (1 == i.length && n(i[0]) || i.length > 1) && e()
            }
        },
        mouseUp: function(t) {
            g && i()
        },
        mouseMove: function(t) {
            g && !r(a.contentW, a.contentH) && "select" == a.getMode() && o(a.getSelectedElems())
        },
        enableGuideLine: function() {
            g = !INKIVE.C.IS_MOBILE
        },
        disableGuideLine: function() {
            g = !1
        }
    }
};
INKIVE.EXTENSION || (INKIVE.EXTENSION = {}), INKIVE.EXTENSION.TextArea = function(e) {
    function t(e) {
        var t = $("#header");
        t.find(".btn").each(function(t, i) {
            e && $(i).addClass("disabled"), e || $(i).removeClass("disabled")
        });
        var i = function() {
            $("#text-edit").find(".footer .btn").animate({
                "background-color": "#414a4b",
                color: "#ffdd17"
            }, 250).animate({
                "background-color": "#ffdd17",
                color: "#414a4b"
            }, 250)
        };
        e && t.find(".right-menu").on("click", i), e || t.find(".right-menu").off("click", i)
    }

    function i() {
        var e = new RegExp(String.fromCharCode(160), "g"),
            t = y.value.replace(e, " ");
        V.find(".value").val(t), V.addClass("in"), V.find(".value").focus()
    }

    function n(e) {
        e && "g" === e.tagName && $(e).is(".textarea") && (m = (new INKIVE.Text.Textarea).setDOM(e), y || (y = $(k.initText.input).get(0), $(y).blur(function() {
            p = this
        })), y.value = (new INKIVE.Text.Textarea).setDOM(e).text.textContent, E = y.value)
    }

    function r() {
        m.setCursorTextType(!0);
        var e = 9;
        $(y).unbind("paste").on("paste", function() {
            _.defer(function() {
                $(y).trigger("keyup", {
                    forceRedraw: !0
                })
            })
        }), $(y).unbind("keydown").on("keydown", function(t) {
            t.which === e && t.preventDefault()
        }), $(y).unbind("keyup").on("keyup", _.throttle(function(t, i) {
            if (m) {
                i = i || {};
                var n = this.value;
                if (t.which === e && (this.value = this.value.replace(/\t/g, "")), E !== n) {
                    var r = n.length - E.length;
                    E = n, _.each(m.text.styles, _.bind(function(e) {
                        this.selectionEnd <= e.start && (e.start = e.start + r), this.selectionEnd <= e.end && (e.end = e.end + r)
                    }, this)), m.text.styles = _.filter(m.text.styles, function(e) {
                        return e.end > e.start && e.end > 0
                    });
                    var s = _.contains(["Enter", "Backspace", "Tab"], t.key) || n.length < 200 || i.forceRedraw;
                    INKIVE.DesignFacade.set({
                        textarea: m,
                        text_content: n,
                        force_redraw: s,
                        cursor_position: this.selectionStart
                    }), $(m.dom).hasClass("subelement") || M.requestSelector(m.dom).resize()
                }
                u(), a(this.selectionStart !== this.selectionEnd ? this.selectionEnd : this.selectionStart)
            }
        }, 200))
    }

    function s() {
        clearInterval(C), C = null, m && (m.setCursorTextType(!1), $(m.dom).hasClass("subelement") || (N.clearSelection(), N.selectOnly([m.dom])), T && (T.parentNode.removeChild(T), T = null), I && ($(I).remove(), I = null)), $(y).blur(), m = null
    }

    function o(e) {
        var t = e.event ? e.event.target : e.elem,
            i = e.mouse_x,
            n = e.mouse_y;
        if (m) {
            $(t).is("text, tspan") || (t = $(t).find("text, tspan")[0]);
            var r = y.selectionStart,
                s = y.selectionEnd;
            if (!t) return void("mousedown" === e.event.type && (y.setSelectionRange(s, s), u()));
            var o = f(t),
                a = l(o, i, n);
            return e.isMoveCursor ? a > r ? y.setSelectionRange(r, a) : y.setSelectionRange(a, s) : y.setSelectionRange(a, a), u(), a
        }
    }

    function a(e) {
        var t = "" === y.value;
        $(y).focus(), arguments.length || (e = t ? 0 : S);
        var i = m.text.getChars()[e];
        if (!i) return null;
        I = svgedit.utilities.getElem("text_cursor"), I || (I = document.createElementNS(B.SVG, "line"), svgedit.utilities.assignAttributes(I, {
            id: "text_cursor",
            stroke: m.text.fill,
            "stroke-width": 1
        }), I = svgedit.utilities.getElem("selectorParentGroup").appendChild(I)), C || (C = setInterval(function() {
            var e = "none" === I.getAttribute("display");
            I.setAttribute("display", e ? "inline" : "none")
        }, 600));
        var n = h(i.x, i.y),
            r = h(i.x, i.y + i.height);
        svgedit.utilities.assignAttributes(I, {
            x1: n.x,
            y1: n.y,
            x2: r.x,
            y2: r.y,
            visibility: "visible",
            display: "inline"
        })
    }

    function l(e, t, i) {
        if (e < 0) return 0;
        for (var n = x(t, i), r = 0, s = 0; s < e; s++) r += m.text.strings[s].getChars().length;
        for (var o = m.text.strings[e].getChars(), a = 0; a < o.length && n.x > o[a].x + o[a].width / 2; a++) r++;
        return r
    }

    function d(e) {
        var t = e.event,
            i = (e.mouse_target, e.mouse_x),
            n = e.mouse_y;
        if (m && t && $(t.target).is("tspan, text")) {
            for (var r = f(t.target), s = l(r, i, n), o = m.text.getChars(), a = -1, d = -1, g = s; g < o.length; g++)
                if (!o[g]["char"] || o[g]["char"].match(/\W+/i)) {
                    d = g;
                    break
                }
            if (o.length)
                for (var x = s; x >= 0; x--)
                    if (!o[x]["char"] || o[x]["char"].match(/\W+/i)) {
                        a = x + 1;
                        break
                    }
            m.text.bullets && (a++, d++), a === -1 && (a = 0), d === -1 && (d = o.length - 1), y.setSelectionRange(a, d), u(), $(t.target).click(c), setTimeout(function() {
                $(t.target).unbind("click", c)
            }, 300)
        }
    }

    function c() {
        var e = m.text.getChars().length - 1;
        y.setSelectionRange(0, e), u()
    }

    function u() {
        if ("textedit" === N.getMode()) {
            var e = y.selectionStart,
                t = y.selectionEnd,
                i = Math.min(e, t),
                n = Math.max(e, t);
            m.setCursorTextType(!0), a(n), g(i, n)
        }
    }

    function g(e, t) {
        function i(e) {
            var t = document.createElementNS(B.SVG, "path");
            svgedit.utilities.assignAttributes(t, {
                fill: "blue",
                opacity: .5,
                style: "pointer-events:none"
            }), svgedit.utilities.assignAttributes(t, {
                d: e,
                display: "inline"
            }), T.appendChild(t)
        }
        var n = m.text.getChars();
        T = svgedit.utilities.getElem("text_selectblock"), T && svgedit.utilities.getElem("selectorParentGroup").removeChild(T), T = document.createElementNS(B.SVG, "g"), svgedit.utilities.assignAttributes(T, {
            id: "text_selectblock",
            style: "pointer-events:none"
        }), svgedit.utilities.getElem("selectorParentGroup").appendChild(T);
        var r = n[e],
            s = n[t];
        if (!r || !s) return null;
        for (var o = e, a = e; a <= t; a++)
            if (r.y != n[a].y) {
                var l = h(r.x, r.y),
                    d = h(n[a - 1].x + n[a - 1].width, r.y),
                    c = h(r.x, r.y + r.height),
                    u = h(n[a - 1].x + n[a - 1].width, n[a - 1].y + r.height),
                    g = "M" + l.x + "," + l.y + " L" + d.x + "," + d.y + " " + u.x + "," + u.y + " " + c.x + "," + c.y + "z";
                i(g), r = n[a], o = a
            }
        if (o != t) {
            var l = h(r.x, r.y),
                d = h(s.x, r.y),
                c = h(r.x, r.y + r.height),
                u = h(s.x, s.y + r.height),
                g = "M" + l.x + "," + l.y + " L" + d.x + "," + d.y + " " + u.x + "," + u.y + " " + c.x + "," + c.y + "z";
            i(g)
        }
    }

    function f(e) {
        var t = -1;
        return $.each(m.text.strings, function(i, n) {
            if (n.dom == e || $.contains(n.dom, e)) return t = i, !1
        }), t
    }

    function x(e, t) {
        var i = {
                x: e,
                y: t
            },
            n = N.getZoom();
        return i.x /= n, i.y /= n, A && $.extend(i, svgedit.math.transformPoint(i.x, i.y, A.inverse())), i
    }

    function h(e, t) {
        var i = {
            x: e,
            y: t
        };
        A && $.extend(i, svgedit.math.transformPoint(i.x, i.y, A));
        var n = N.getZoom();
        return i.x *= n, i.y *= n, i
    }

    function v(e) {
        var t = INKIVE.C.IS_MOBILE_APP && (AppBridge.version.isApp("webrand") || AppBridge.version.isApp("pdf") || !window.Android && !AppBridge.version.isLowerThan("1.2") || window.Android && !AppBridge.version.isLowerThan("1.2"));
        if (!t) return $(e.elem).hasClass("subelement") || svgedit.select.getSelectorManager().requestSelector(e.elem).showGrips(!1), N.setMode("textedit"), n(e.elem), !0
    }
    var m, y, p, E, b, I, C, S, T, w, A, M = (e.svgroot, e.selectorManager),
        N = e.canvas,
        k = e.curConfig,
        B = svgedit.NS,
        V = $("#text-edit");
    return V.length && (V.find(".text-edit-cancel").click(function() {
        t(!1), s(), N.setMode("select"), V.removeClass("in")
    }), V.find("form").submit(function(e) {
        t(!1);
        var i = V.find(".value").val().replace(" ", String.fromCharCode(160));
        e.preventDefault(), INKIVE.DesignFacade.set({
            text_content: i,
            force_redraw: !0
        }), s(), N.setMode("select"), V.removeClass("in")
    })), {
        updateSelection: function() {
            m && _.defer(u)
        },
        selectionRange: function() {
            var e = 0,
                t = 0;
            return "textedit" === N.getMode() && (INKIVE.C.IS_MOBILE_APP || p && p.focus(), y && (t = y.selectionEnd, 0 !== y.selectionStart && (e = y.selectionStart))), {
                start: e,
                end: t
            }
        },
        dblClick: function(e) {
            var t = e.mouse_target;
            if ($(t).is(".sticker") && (t = $(e.event.target).parents("g.textarea")[0]), "textedit" === N.getMode()) d(e);
            else if ("g" === t.tagName && $(t).is(".textarea")) {
                var i = N.getTransformList(t),
                    n = 1 === i.numberOfItems && i.getItem(0).type === SVGTransform.SVG_TRANSFORM_ROTATE,
                    r = INKIVE.RestrictionsFacade.isActionAllowed("text_change_content", t);
                if (r) {
                    var s = INKIVE.RestrictionsFacade.getAllElementPermissions(t.getAttribute("id")),
                        o = _(s).any(function(e) {
                            return !e.basic && 1 === _.size(e) || _.size(e) > 1
                        });
                    INKIVE.C.IS_MOBILE || n ? this.beginTextTyping({
                        elem: t
                    }) : (o && this.beginTextTyping({
                        elem: t
                    }), o || this.beginTextEditing({
                        elem: t
                    }))
                }!INKIVE.C.IS_DEV && !INKIVE.C.IS_MOBILE && ga("send", {
                    hitType: "event",
                    eventCategory: "Editor UI | Popupmenu | text",
                    eventAction: "double_click"
                })
            }
        },
        mouseDown: function(e) {
            var t = e.mouse_x,
                i = e.mouse_y,
                r = e.mouse_target,
                s = "textedit" === N.getMode();
            if (r !== e.selectedElements[0] && s) return void this.endEditing();
            if ($(r).is(".sticker") && (r = $(e.event.target).parents("g.textarea")[0]), w = !0, n(r), s) {
                if (y.focus(), o(e), m) {
                    var a = m.getBBox(),
                        l = N.getZoom();
                    if (a.x = a.x * l, a.y = a.y * l, a.width = a.width * l, a.height = a.height * l, !(t < a.x + a.width && t > a.x && i > a.y && i < a.y + a.height)) return this.endEditing(), {
                        started: !1,
                        keep: !1
                    }
                }
                return {
                    started: !0
                }
            }
        },
        mouseUp: function(e) {
            return w = !1, "textedit" == N.getMode() && m ? {
                started: !1,
                keep: !1
            } : void("select" == N.getMode() && (m = null))
        },
        resizeText: function(e) {
            function t() {
                var e = m.text.getBBox(),
                    t = m.getBBox(),
                    i = t.height,
                    n = e.height || i;
                return i / n
            }
            m = (new INKIVE.Text.Textarea).setDOM(e.elem);
            var i = e.scale || t();
            m.original_font_size && (m.original_font_size = m.original_font_size * i), m.text.font_size = Number(m.text.font_size * i), m.render(N)
        },
        mouseMove: function(e) {
            switch (N.getMode()) {
                case "textedit":
                    e.isMoveCursor = w, o(e)
            }
        },
        startResize: function(e) {
            function t() {
                return N.addSvgElementFromJson({
                    element: "rect",
                    attr: {
                        id: "hint-box",
                        fill: "#2b3031"
                    }
                })
            }

            function i() {
                var e = N.addSvgElementFromJson({
                    element: "text",
                    attr: {
                        "font-size": r.width / 20,
                        id: "hint-text",
                        fill: "#EEEEEE"
                    }
                });
                return e.textContent = INKIVE.TranslateHelper.translate("common.resize_text_box"), e.innerHTML = e.textContent, e
            }
            b = e.elem;
            var n = b.getElementsByTagName("rect")[0],
                r = svgedit.utilities.getBBox(n),
                s = N.getZoom();
            _.each(r, function(e, t) {
                r[t] = e * s
            });
            var o = i(),
                a = t(),
                l = $("#selectorGroup0")[0];
            l.insertBefore(o, l.firstChild), l.insertBefore(a, l.firstChild);
            var d = {
                    x: 0,
                    y: 24
                },
                c = svgedit.utilities.getBBox(o);
            o.setAttribute("x", r.x + (r.width - c.width) / 2 + d.x), o.setAttribute("y", r.y + (r.height - c.height) / 2 + d.y), a.setAttribute("x", r.x), a.setAttribute("y", r.y), a.setAttribute("width", r.width), a.setAttribute("height", r.height)
        },
        endResize: function() {
            if (b) {
                var e = $("#hint-box")[0],
                    t = $("#hint-text")[0];
                e && e.remove(), t && t.remove(), b = null, m && this.resizeText({
                    scale: 1,
                    elem: m.dom
                })
            }
        },
        beginTextTyping: function(e) {
            $(e.elem).is(".subelement") && $(e.elem).addClass("active"), t(!0), v(e) && i()
        },
        beginTextEditing: function(e) {
            v(e) && (r(), o(e), y && y.focus(), m.text.textContent.length > 200 && N.call("advice.show", "long-text"))
        },
        endEditing: function() {
            m && m.invalidate(), y && y.blur(), N.setMode("select")
        },
        clear: function() {
            "textedit" != N.getMode() && s()
        },
        zoomChanged: function() {
            "textedit" != N.getMode() && s()
        },
        renderTextArea: function(e) {
            e && e.textArea && (e.textArea.render(N), svgedit.select.getSelectorManager().requestSelector(e.textArea.dom).resize(), m = e.textArea)
        }
    }
};
INKIVE.EXTENSION || (INKIVE.EXTENSION = {}), INKIVE.EXTENSION.Ruler = function(e) {
    function t(e) {
        return Math.round(e * y) / y
    }

    function n() {
        a || ($("#ruler-horizontal").show(), a = new INKIVE.Ruler({
            wrapper: document.getElementById("ruler-horizontal"),
            layout: "horizontal",
            alignment: "bottom",
            zoom: c.getZoom(),
            multiplier: c.zoomMultiplier,
            value: parseInt(c.contentW),
            textDefaults: {
                centerText: {
                    by: "width",
                    operation: "sub"
                }
            }
        }))
    }

    function r() {
        s || ($("#ruler-vertical").show(), s = new INKIVE.Ruler({
            wrapper: document.getElementById("ruler-vertical"),
            layout: "vertical",
            alignment: "right",
            zoom: c.getZoom(),
            multiplier: c.zoomMultiplier,
            value: parseInt(c.contentH),
            textDefaults: {
                rotation: -90,
                centerText: {
                    by: "height",
                    operation: "sum"
                }
            },
            texts: [{
                pixelGap: 100,
                offset: 25
            }]
        }))
    }

    function o() {
        if (m) {
            $("#canvasBackground").get(0).getBoundingClientRect();
            a.config.value = c.contentW, s.config.value = c.contentH
        }
    }

    function i(e) {
        if (e) {
            if ($(".borderLineGroup").length)
                for (var t = $(".borderLineGroup").get(0), n = t.childNodes, r = 0; r < n.length;) $(n[r]).hasClass("borderline_" + e) ? t.removeChild(n[r]) : r++
        } else if ($(".borderLineGroup").length) {
            var t = $(".borderLineGroup").get(0);
            t.parentNode.removeChild(t)
        }
    }

    function l(e) {
        if (m) {
            var n = INKIVE.RestrictionsFacade.canChange(e, "position");
            if (!$(e).hasClass("locked") && n) {
                var r = INKIVE.Helpers.getSelectedCoordinates(e);
                if (!r) return !1;
                r.sx = 15, r.sy = 15, i();
                for (var o = e.getAttribute("id"), l = $(".borderLineGroup").length ? $(".borderLineGroup").get(0) : d({
                        element: "g",
                        curStyles: !1,
                        attr: {
                            id: g(),
                            "class": "borderLineGroup"
                        }
                    }, $("#svgpanel").get(0)), a = c.getZoom(), s = Array({
                        x1: r.sx,
                        y1: r.y1,
                        x2: r.x1,
                        y2: r.y1
                    }, {
                        x1: r.x1,
                        y1: r.sy,
                        x2: r.x1,
                        y2: r.y1
                    }, {
                        x1: r.sx,
                        y1: r.y2,
                        x2: r.x2,
                        y2: r.y2
                    }, {
                        x1: r.x2,
                        y1: r.sy,
                        x2: r.x2,
                        y2: r.y2
                    }, {
                        x1: r.sx,
                        y1: r.y3,
                        x2: r.x3,
                        y2: r.y3
                    }, {
                        x1: r.x3,
                        y1: r.sy,
                        x2: r.x3,
                        y2: r.y3
                    }, {
                        x1: r.sx,
                        y1: r.y4,
                        x2: r.x4,
                        y2: r.y4
                    }, {
                        x1: r.x4,
                        y1: r.sy,
                        x2: r.x4,
                        y2: r.y4
                    }), y = $("#svgroot").get(0).getBoundingClientRect(), x = $("#canvasBackground").get(0).getBoundingClientRect(), f = x.left - y.left, h = x.top - y.top, v = [], p = [], E = 0, I = 1 / 0, z = 0, b = 1 / 0, C = 0; C < s.length; C++) {
                    var N = !(C % 2),
                        S = s[C].y2,
                        M = s[C].x2;
                    if (N) {
                        if ($.inArray(S, v) != -1) continue;
                        v.push(S), z < S && (z = S), b > S && (b = S)
                    } else {
                        if ($.inArray(M, p) != -1) continue;
                        p.push(M), E < M && (E = M), I > M && (I = M)
                    }
                    c.addSvgElementFromJson({
                        element: "line",
                        attr: {
                            "class": "guideline_" + o,
                            stroke: s[C].stroke ? s[C].stroke : "gray",
                            "stroke-width": "1",
                            "pointer-events": "none",
                            "stroke-dasharray": "5 3",
                            x1: s[C].x1 + (N ? 0 : f),
                            y1: s[C].y1 + (N ? h : h + s[C].y2),
                            x2: f + s[C].x2,
                            y2: N ? h + s[C].y2 : a * u.getAttribute("height") - 20
                        }
                    }, l);
                    var w = t(N ? S / a - c.contentH / 2 : M / a - c.contentW / 2),
                        A = c.addSvgElementFromJson({
                            element: "text",
                            attr: {
                                "font-size": 10,
                                fill: "#000",
                                x: s[C].x1 + (N ? 12 : 2 + f),
                                y: s[C].y1 + (N ? -5 + h : a * u.getAttribute("height") - 44)
                            }
                        }, l);
                    A.textContent = w
                }
                if (E - I > c.zoomUnitSizeMin) {
                    c.addSvgElementFromJson({
                        element: "rect",
                        attr: {
                            fill: "gray",
                            "pointer-events": "none",
                            x: f + I,
                            y: a * u.getAttribute("height") - 26,
                            width: E - I,
                            height: 2
                        }
                    }, l);
                    var A = c.addSvgElementFromJson({
                        element: "text",
                        attr: {
                            "font-size": 9,
                            fill: "gray",
                            "text-anchor": "middle",
                            x: f + I + (E - I) / 2,
                            y: a * u.getAttribute("height") - 30
                        }
                    }, l);
                    A.textContent = t((E - I) / a)
                }
                if (z - b > c.zoomUnitSizeMin) {
                    c.addSvgElementFromJson({
                        element: "rect",
                        attr: {
                            fill: "gray",
                            "pointer-events": "none",
                            x: 22,
                            y: h + b,
                            width: 2,
                            height: z - b
                        }
                    }, l);
                    var A = c.addSvgElementFromJson({
                        element: "text",
                        attr: {
                            "font-size": 9,
                            fill: "gray",
                            "text-anchor": "middle",
                            x: 32,
                            y: h + b + (z - b) / 2,
                            transform: "rotate(-90 32 " + (h + b + (z - b) / 2) + ")"
                        }
                    }, l);
                    A.textContent = t((z - b) / a)
                }
                return !0
            }
        }
    }
    var a, s, u = e.svgroot,
        g = e.getNextId,
        d = e.addSvgElementFromJson,
        c = e.canvas,
        y = 10,
        m = !1;
    return {
        enableRuler: function() {
            m || INKIVE.C.IS_MOBILE || 2 == $("#ruler-horizontal, #ruler-vertical").length && (m = !0, n(), r(), o())
        },
        disableRuler: function() {
            m && (m = !1, s.config.element.parentNode.removeChild(s.config.element), a.config.element.parentNode.removeChild(a.config.element), $("#ruler-horizontal").hide(), $("#ruler-vertical").hide(), s = null, a = null)
        },
        mouseUp: function(e) {},
        clear: function(e) {
            i(), this.selectedChanged(e)
        },
        selectedChanged: function(e) {
            if (!m) return void i();
            var t = c.getMode();
            c.validateSelectedElems();
            var n = c.getSelectedElems(),
                r = n.length;
            if (!n || !r) return void i();
            if ($.inArray(t, ["select", "multiselect"]) >= 0)
                for (var o = 0; o < r && !l(n[o]); o++);
        },
        mouseMove: function(e) {
            if (m) {
                var t = c.getMode(),
                    n = c.getSelectedElems(),
                    r = n.length;
                if (!n || !r) return void i();
                if ($.inArray(t, ["select", "resize", "rotate"]) >= 0)
                    for (var o = 0; o < r && !l(n[o]); o++);
                else i()
            }
        },
        zoomChanged: function() {
            if (m) {
                i(), o();
                var e = c.getZoom();
                a.resize(e, c.zoomMultiplier), s.resize(e, c.zoomMultiplier), this.selectedChanged({})
            }
        }
    }
};
INKIVE.EXTENSION || (INKIVE.EXTENSION = {}), INKIVE.EXTENSION.Background = function(t) {
    function e(t, e) {
        $("#svgroot").addClass("background-image-cropping"), a.clearSelection(), $("#selectorGrip_rotateconnector").hide(), $("#selectorGrip_rotate").hide();
        var r = a.copyElem(t),
            n = a.addSvgElementFromJson({
                element: "rect",
                curStyles: !1,
                attr: {
                    x: 0,
                    y: 0,
                    width: a.contentW,
                    height: a.contentH,
                    opacity: .5,
                    fill: "#000",
                    "class": "layoutClipper"
                }
            });
        a.createLayer("clipperImage");
        var c = a.getCurrentDrawing().current_layer;
        c.setAttribute("class", "clipperImage"), r.setAttribute("id", a.getNextId()), r.setAttribute("class", "layoutClipperImage background");
        var l = {
            x: 0,
            y: 0,
            width: a.contentW,
            height: a.contentH
        };
        r.textContent = l.x + " " + l.y + " " + l.width + " " + l.height, c.appendChild(r), a.createLayer("clipperSelector");
        var u = a.getCurrentDrawing().current_layer;
        u.setAttribute("class", "clipperSelector"), u.appendChild(n), a.setCurrentLayer("clipperImage"), o = a.getZoom(), o > g && a.setZoom(g), $(r).on("dblclick", function(n) {
            i(t, r, !0, e), n.preventDefault(), n.stopPropagation()
        }), a.addToSelection([r], !0), a.call("editor.cropping", !0)
    }

    function r(t) {
        var e = $(t).find("image")[0] ? $(t).find("image") : $(t).find("rect");
        e[0] || (e = n(t)), a.clearSelection(), a.addToSelection(e, !1)
    }

    function n(t) {
        var e = $("#svgcontent");
        t || (t = document.createElementNS(c.SVG, "g"), $(t).addClass("background"), t.setAttribute("style", "pointer-events:none"), e.insertBefore(t, e.firstChild));
        var r = document.createElementNS(c.SVG, "rect");
        r.setAttribute("id", "svg_background_color"), r.setAttribute("fill", "none"), r.setAttribute("x", "0"), r.setAttribute("y", "0"), r.setAttribute("width", "100%"), r.setAttribute("height", "100%"), $(t).prepend(r);
        var n = document.createElementNS(c.SVG, "title");
        return n.setAttribute("style", "pointer-events:inherit"), n.textContent = "Background", $(t).append(n), $(r)
    }

    function i(t, e, r, n) {
        if ($("#svgroot").removeClass("background-image-cropping"), r) {
            var i = {
                x: e.getAttribute("x"),
                y: e.getAttribute("y"),
                width: e.getAttribute("width"),
                height: e.getAttribute("height")
            };
            a.clearSelection(), $(t).get(0).setAttribute("x", i.x), $(t).get(0).setAttribute("y", i.y), $(t).get(0).setAttribute("width", i.width), $(t).get(0).setAttribute("height", i.height)
        }
        a.deleteCurrentLayer(), a.deleteCurrentLayer(), a.call("editor.cropping"), n && n()
    }
    var o, a = (t.svgroot, t.getNextId, t.getElem, t.addSvgElementFromJson, t.selectorManager, t.canvas),
        c = (t.curConfig, svgedit.NS),
        g = .7,
        l = !0;
    return {
        showBackgroundPopupMenu: function() {
            l && r($("#svgcontent").find("g.background"))
        },
        cropLayoutContent: function(t) {
            if (l) {
                var e = $(t.elem),
                    r = $("svg > g.background image").attr("id"),
                    n = e.is("image") && e.attr("data-old-id") === r;
                n && i(t.layout, e[0], t.hasChanges)
            }
        },
        enableBackground: function() {
            l = !0
        },
        disableBackground: function() {
            l = !1
        },
        backgroundReposition: function(t) {
            $(t.layout).is("image") && e(t.layout, t.callback)
        }
    }
};
INKIVE.EXTENSION || (INKIVE.EXTENSION = {}), INKIVE.EXTENSION.Grid = function(e) {
    function t() {
        $(c).hide().appendTo("body"), o = g.createElementNS(d.SVG, "image"), a = g.createElementNS(d.SVG, "svg");
        var e = $("#svgpanel");
        h(a, {
            id: "canvasGrid",
            width: "100%",
            height: "100%",
            x: 0,
            y: 0,
            overflow: "visible",
            style: "pointer-events: none; display:none;"
        }), e.append(a);
        var t = g.createElementNS(d.SVG, "pattern");
        h(t, {
            id: "gridpattern",
            patternUnits: "userSpaceOnUse",
            x: 0,
            y: 0,
            width: 100,
            height: 100
        }), h(o, {
            x: 0,
            y: 0,
            width: 100,
            height: 100
        }), t.appendChild(o), $("#svgroot > defs").length || $("#svgroot").append("<defs></defs>"), $("#svgroot > defs").first().append(t);
        var i = g.createElementNS(d.SVG, "rect");
        h(i, {
            width: "100%",
            height: "100%",
            x: 0,
            y: 0,
            "stroke-width": 0,
            stroke: "none",
            fill: "url(#gridpattern)",
            style: "pointer-events: none;"
        }), $("#canvasGrid").append(i)
    }

    function n(e) {
        if (a) {
            var t = $("#svgcontent").get(0);
            h(a, {
                width: Math.floor(t.getAttribute("width") * e),
                height: Math.floor(t.getAttribute("height") * e),
                x: Math.floor(t.getAttribute("x") * e),
                y: Math.floor(t.getAttribute("y") * e)
            });
            var n = 100,
                d = n * e * r.zoomMultiplier;
            c.width = d, c.height = d;
            var l = c.getContext("2d"),
                g = .5,
                v = d / 5;
            for (l.globalAlpha = .2, l.strokeStyle = s.gridColor, l.setLineDash([2, 2]), i = 1; i < 5; i++) {
                var p = Math.floor(v * i) + .5,
                    f = 0;
                l.moveTo(p, d), l.lineTo(p, f), l.moveTo(d, p), l.lineTo(f, p)
            }
            l.stroke(), l.beginPath(), l.globalAlpha = .3, l.setLineDash([5, 3]), l.moveTo(g, d), l.lineTo(g, 0), l.moveTo(d, g), l.lineTo(0, g), l.stroke();
            var u = c.toDataURL("image/png");
            o.setAttribute("width", d), o.setAttribute("height", d), o.parentNode.setAttribute("width", d), o.parentNode.setAttribute("height", d), o.parentNode.setAttribute("x", Math.floor(r.contentW * e / 2 - d)), o.parentNode.setAttribute("y", Math.floor(r.contentH * e / 2 - d)), r.setHref(o, u)
        }
    }
    var o, a, r = (e.svgroot, e.canvas),
        s = e.curConfig,
        d = svgedit.NS,
        l = !1,
        g = document.getElementById("svgcanvas").ownerDocument,
        h = r.assignAttributes,
        c = document.createElement("canvas");
    return {
        zoomChanged: function(e) {
            if (l) {
                var t = $("#canvasBackground").get(0).getBoundingClientRect();
                t.top - 50, t.left - 395, INKIVE.EditorModeManager.isMode("default") ? 0 : 10;
                l && n(e)
            }
        },
        enableRuler: function() {
            if (!l && !INKIVE.C.IS_MOBILE) {
                var e = this;
                l = !0, t(), $("#ik-grid-snap").show(), $("#ik-grid-snap").off("click"), $("#ik-grid-snap").on("click", function() {
                    $(this).toggleClass("active"), $(this).hasClass("active") ? e.enableGrid() : e.disableGrid()
                })
            }
        },
        disableRuler: function() {
            l && (l = !1, this.disableGrid(), $("#ik-grid-snap").hide(), $("#ik-grid-snap").removeClass("active"))
        },
        enableGrid: function() {
            s.gridSnapping = !0, n(r.getZoom()), $("#canvasGrid").show()
        },
        disableGrid: function() {
            s.gridSnapping = !1, $("#canvasGrid").hide()
        }
    }
};
INKIVE.EXTENSION || (INKIVE.EXTENSION = {}), INKIVE.EXTENSION.Popupmenu = function(e) {
    function t(e) {
        e = e || {};
        var t = $(".element-popupmenu.menu"),
            n = t.siblings(".scroll-handler-right").hide(),
            l = 0;
        t.siblings(".scroll-handler-left").hide(), t.children().each(function() {
            l += $(this).outerWidth()
        }), t.width() !== l && (e.skipScroll || t.css("left", 0), (e.$handler || n).fadeIn("slow"))
    }
    INKIVE.isNewDesign = !0;
    var n = e.canvas,
        l = e.getNextId;
    return {
        selectedChanged: function() {
            var e = n.getMode(),
                t = $("#svgroot");
            n.validateSelectedElems();
            var a = n.getSelectedElems(),
                s = a.length;
            a && s ? $.inArray(e, ["select", "textedit", "multiselect"]) >= 0 && ($(a).removeClass("subelement"), INKIVE.Menus.elementPopupMenu.render(a), ($(a[0]).children().hasClass("textarea") && $(a[0]).find(">:not(g.textarea)").length || $(a[0]).children().hasClass("layoutBox")) && $(a[0]).find(".textarea, .layoutBox").each(function(e, t) {
                $(t).addClass("subelement"), $(t).attr("id") || $(t).attr("id", l())
            })) : (t.popupmenu().length || INKIVE.Menus.elementPopupMenu.render(t, "root"), t.popupmenu().length && INKIVE.Menus.elementPopupMenu.hide())
        },
        clear: function(e) {
            var t = this,
                l = e.elems ? $(e.elems[0]).find(".layoutBox.subelement") : null,
                a = n.getMode();
            "textedit" === a ? t.selectedChanged() : l && l.length ? l.each(function() {
                t.selectedChanged()
            }) : INKIVE.Menus.elementPopupMenu.$el.children().length || this.selectedChanged(e)
        },
        mouseMove: function() {},
        mouseDown: function(e) {
            if (_.includes(["select", "multiselect"], n.getMode())) {
                var t = $(e.event.target).parents(".textarea.subelement");
                t.length ? INKIVE.Menus.elementPopupMenu.render([t.get(0)], "text") : INKIVE.C.IS_MOBILE || this.selectedChanged(e)
            }
        },
        mouseUp: function(e) {
            if (_.includes(["select", "multiselect"], n.getMode())) {
                if (e.event.changedTouches && e.event.changedTouches.length) var t = e.event.changedTouches[0].pageX,
                    l = e.event.changedTouches[0].pageY;
                else var t = e.event.clientX,
                    l = e.event.clientY;
                var a = INKIVE.Tool.getInstance().editor.isClickInsideEditor(t, l);
                !n.getSelectedElems().length && a && "svgroot" === e.mouse_target.id && n.runExtensions("showBackgroundPopupMenu")
            }
        },
        reloadFontLocaleSubset: function(e) {
            if (e) {
                var t = $(INKIVE.EditorFacade.canvas.getSelectedElems()[0]);
                t.data("font-locale-subset", e), INKIVE.EditorFacade.canvas.clearSelection(), INKIVE.EditorFacade.canvas.selectOnly(t), _.delay(function() {
                    $("[data-action=on_fontfamily]").trigger("click")
                })
            }
        },
        browserResize: function(e) {
            t(e)
        }
    }
};
INKIVE.Text || (INKIVE.Text = {}), INKIVE.Text.AbstractElement = function() {
    this.uuid = INKIVE.Math.generateUUID()
}, INKIVE.Text.AbstractElement.prototype = {
    constructor: INKIVE.Text.AbstractElement,
    setValues: function(t) {
        if (void 0 !== t) {
            for (var e in t) {
                var n = t[e];
                void 0 !== n ? e in this && (this[e] = n) : console.warn("INKIVE.AbstractObject: '" + e + "' parameter is undefined.")
            }
            return this
        }
    }
};
INKIVE.Text || (INKIVE.Text = {}), INKIVE.Text._cache = {}, INKIVE.Text.Textarea = function(t) {
    INKIVE.Text.AbstractElement.call(this), this.id = null, this.cls = "element textarea", this.x = 0, this.y = 0, this.width = 100, this.height = 100, this.setOriginalFontSizeFromClass(), this.setValues(t), this.text = new INKIVE.Text.Text(t ? t.text : {})
}, INKIVE.Text.Textarea.prototype = Object.create(INKIVE.Text.AbstractElement.prototype), INKIVE.Text.Textarea.prototype.constructor = INKIVE.Text.Textarea, INKIVE.Text.Textarea.prototype.setOriginalFontSizeFromClass = function() {
    if (this.cls.indexOf("subelement") > -1) {
        var t = this.cls.match(/original\-font\-size\-(\d*\.\d+|\d+)/);
        t && (this.original_font_size = parseFloat(t[1]))
    }
}, INKIVE.Text.Textarea.prototype.setDOM = function(t) {
    if (!t || !$(t).is("g.textarea")) return null;
    var e = t.getAttribute("id");
    return INKIVE.Text._cache[e] && INKIVE.Text._cache[e].dom == t ? INKIVE.Text._cache[e] : (this.dom = t, this.setValues($.extend({}, svgedit.utilities.getBBox(t), {
        id: e,
        cls: t.getAttribute("class") || "textarea"
    })), this.setOriginalFontSizeFromClass(), this.text.setDOM(t), this.isSubelement() && !this.original_font_size && (this.original_font_size = this.text.font_size), INKIVE.Text._cache[e] = this, this)
}, INKIVE.Text.Textarea.prototype.setCursorTextType = function(t) {
    this.dom && ($(this.dom).css("cursor", t ? "text" : ""), $(this.dom.getElementsByTagName("rect")[0]).css("cursor", t ? "text" : ""), $(this.dom.getElementsByTagName("text")[0]).css("cursor", t ? "text" : ""))
}, INKIVE.Text.Textarea.prototype.isSubelement = function() {
    var t = $(this.dom).parent();
    return t.find(">:not(g.textarea)").length ? this.dom.getAttribute("class").indexOf("subelement") > -1 : (t.find(".subelement").removeClass("subelement"), !1)
}, INKIVE.Text.Textarea.prototype.getBBox = function() {
    return $.extend({}, svgedit.utilities.getBBox(this.dom))
}, INKIVE.Text.Textarea.prototype.getCRect = function() {
    var t = this.dom.getElementsByTagName("rect")[0];
    return $.extend({}, t.getBoundingClientRect())
}, INKIVE.Text.Textarea.prototype.getWidth = function() {
    return this.getCRect().width
}, INKIVE.Text.Textarea.prototype.getBBoxAligned = function() {
    var t = this.getBBox();
    switch (this.text.text_anchor) {
        case "middle":
            t.x = t.x + t.width / 2;
            break;
        case "end":
            t.x = t.x + t.width
    }
    return t
}, INKIVE.Text.Textarea.prototype.invalidate = function() {
    INKIVE.Text._cache[this.id] = null
}, INKIVE.Text.Textarea.prototype.render = function(t) {
    var e = this;
    this.invalidate();
    var i;
    this.dom || (this.dom = t.addSvgElementFromJson({
        element: "g",
        attr: {
            id: this.id ? this.id : t.getCurrentDrawing().getNextId(),
            "class": this.cls
        }
    })), i = this.dom.getElementsByTagName("rect")[0], i || (i = t.addSvgElementFromJson({
        element: "rect",
        curStyles: !1,
        attr: {
            id: t.getCurrentDrawing().getNextId(),
            x: this.x,
            y: this.y,
            width: this.width,
            height: this.height,
            stroke: "none",
            fill: "none"
        }
    }, this.dom));
    var s = $.map(this.dom.attributes, function(t) {
        return t.name
    });
    _.each(s, function(t) {
        _.contains(["id", "class", "opacity", "custom-placeholder"], t) || $(e.dom).removeAttr(t)
    }), $(e.dom).removeClassWild("original-font-size-*"), e.original_font_size && $(e.dom).addClass("original-font-size-" + e.original_font_size);
    var r = e.text.firstDiffLinePosition;
    null === r && $(this.dom).find(":not(rect)").remove(), "justify" === e.text.text_anchor && (e.text.letter_spacing = 0);
    var n = e.text.render(t, this);
    return i.setAttribute("height", n.getBBox().height), $.inArray(this.dom, t.getSelectedElems()) > -1 && svgedit.select.getSelectorManager().requestSelector(this.dom).resize(), t.runExtensions("updateSelection", {}), this.dom
}, INKIVE.Text.Textarea.prototype.moveTextByY = function(t, e) {
    if (e && this.dom) {
        var i = this.dom.getElementsByTagName("rect")[0],
            s = t.getRootElem().createSVGTransform(),
            r = svgedit.transformlist.getTransformList(i);
        s.setTranslate(0, e), r.numberOfItems ? r.replaceItem(s, 0) : r.appendItem(s), t.recalculateDimensions(i), this.setValues($.extend({}, i.getBBox()))
    }
};
INKIVE.Text || (INKIVE.Text = {}), INKIVE.Text.PartialStylingAttrs = ["font-family", "font-size", "font-weight", "font-style", "text-decoration", "fill", "custom-font-id"], INKIVE.Text.Text = function(t) {
    INKIVE.Text.AbstractElement.call(this), this.textContent = "Type text here", this.firstDiffLinePosition = null, this.newLetters = null, this.cursorPosition = null, this.line_spacing = 0, this.word_spacing = 0, this.letter_spacing = 0, this.strings = [], this.styles = [], this.bullets = !1, this.text_anchor = "start", this.fill = "#000", this.stroke = "none", this.stroke_width = null, this.stroke_dasharray = null, this.font_family = "Lato", this.custom_font_id = null, this.font_size = 22, this.text_decoration = null, this.font_weight = null, this.font_style = null, this.auto_adjustable = null, this.setValues(t)
}, INKIVE.Text.Text.prototype = Object.create(INKIVE.Text.AbstractElement.prototype), INKIVE.Text.Text.prototype.constructor = INKIVE.Text.Textarea, INKIVE.Text.Text.prototype.setDOM = function(t) {
    function e() {
        var e = /letter-spacing-([-+]?[0-9]*\.?[0-9]+)/.test(I) ? parseInt(I.match(/letter-spacing-([-+]?[0-9]*\.?[0-9]+)/i)[1]) : parseInt(n && n.getAttribute("letter-spacing") || t.getAttribute("letter-spacing"));
        return e || (e = parseInt(b.get(0).getAttribute("letter-spacing"))), e || (e = _.chain($(n).find("text[dx]")).map(function(t) {
            return $(t).attr("dx") && $(t).html() && _.first($(t).attr("dx").split(" "), $(t).html().length)
        }).flatten().value(), e = _.some(e, function(t) {
            return t && parseFloat(t)
        }) && e), e || 0
    }
    if (!t || !$(t).is("g.textarea")) return null;
    var s = this,
        n = $(t).find(">text, >g.textGroup, >g.text")[0];
    this.dom = n;
    var i = n && n.getAttribute("fill") || t.getAttribute("fill") || "#000",
        r = n && n.getAttribute("stroke") || t.getAttribute("stroke") || "none",
        o = n && n.getAttribute("stroke-width") || t.getAttribute("stroke-width") || null,
        a = n && n.getAttribute("stroke-dasharray") || t.getAttribute("stroke-dasharray") || null,
        l = n && n.getAttribute("font-family") || t.getAttribute("font-family") || "Lato",
        g = n && n.getAttribute("custom-font-id") || t.getAttribute("custom-font-id") || null,
        h = n && n.getAttribute("font-size") && n.getAttribute("font-size").replace(/[^0-9\.]+/, "") || parseFloat(t.getAttribute("font-size").replace(/[^0-9\.]+/, "") || 22);
    h = isNaN(h) ? 22 : parseFloat(h);
    var u = n && n.getAttribute("text-anchor") || t.getAttribute("text-anchor") || "start",
        d = n && n.getAttribute("text-decoration") || t.getAttribute("text-decoration"),
        f = n && n.getAttribute("font-weight") || t.getAttribute("font-weight"),
        c = n && n.getAttribute("font-style") || t.getAttribute("font-style"),
        x = n && $(n).hasClass("auto-adjustable") || $(t).hasClass("auto-adjustable"),
        I = n && n.getAttribute("class") || "",
        p = /word-spacing-([-+]?[0-9]*\.?[0-9]+)/.test(I) ? parseInt(I.match(/word-spacing-([-+]?[0-9]*\.?[0-9]+)/i)[1]) : parseInt(n && n.getAttribute("word-spacing") || t.getAttribute("word-spacing") || 0),
        b = $(n).find(">tspan, >text");
    b.length && (p || (p = parseInt(b.get(0).getAttribute("word-spacing")) || 0));
    var m = /line-spacing-([-+]?[0-9]*\.?[0-9]+)/.test(I) ? parseInt(I.match(/line-spacing-([-+]?[0-9]*\.?[0-9]+)/i)[1]) : 0;
    return !$(n).hasClass("text") && !m && b.length >= 2 && b.get(1).getAttribute("y") && (m = parseInt(b.get(1).getAttribute("y") - b.get(0).getAttribute("y") - h)), this.setValues($.extend({}, {
        fill: i,
        stroke: r,
        stroke_width: o,
        stroke_dasharray: a,
        font_family: l,
        custom_font_id: g,
        font_size: h,
        text_anchor: u,
        word_spacing: p,
        letter_spacing: e(),
        line_spacing: m,
        text_decoration: d,
        font_weight: f,
        font_style: c,
        auto_adjustable: x
    })), this.textContent = "", this.firstDiffLinePosition = null, this.newLetters = 0, this.cursorPosition = null, b.each(function(t, e) {
        var n = new INKIVE.Text.String({
            startIndex: t > 0 ? s.strings[t - 1].endIndex : 0
        }).setDOM(e);
        n.endIndex = n.startIndex + n.textContent.length, n.styles.length && (s.styles = s.styles.concat(n.styles)), s.strings.push(n), n.isBlank || (s.textContent += n.textContent), n.isEol && (s.textContent += "\n"), n.hasBullet && !s.bullets && (s.bullets = !0)
    }), $.inArray(this.textContent.charCodeAt(this.textContent.length - 1), [10, 32]) > -1 && (this.textContent = this.textContent.slice(0, -1)), this
}, INKIVE.Text.Text.prototype.getStyles4Range = function(t, e) {
    var s = this,
        n = {};
    return t = this.fakeCharIndexToReal(t), e = this.fakeCharIndexToReal(e), $.each(INKIVE.Text.PartialStylingAttrs, function(t, e) {
        var i = e.replace(/-/g, "_");
        n[i] = s[i]
    }), INKIVE.Helpers.isInt(t) && INKIVE.Helpers.isInt(e) ? (s.styles.length > 0 && $.each(s.styles.concat().sort(function(t, e) {
        return t.start > e.start ? -1 : e.start > t.start ? 1 : 0
    }), function(e, s) {
        if (s.start <= t && s.end > t) return n[s.attribute.replace(/-/g, "_")] = s.value, !1
    }), n) : (console.warn("Text.getStyles4Range(): start and end should be integers"), n)
}, INKIVE.Text.Text.prototype.setTextCase = function(t, e, s) {
    if (!INKIVE.Helpers.isInt(t) || !INKIVE.Helpers.isInt(e)) return void console.warn("Text.setTextCase(): start and end should be integers");
    if (void 0 == s) return void console.warn("Text.setTextCase(): value mast be defined");
    if (t === e) this.textContent = s ? this.textContent.toUpperCase() : this.textContent.toLocaleLowerCase();
    else {
        var n = this.textContent.substring(0, t);
        n += s ? this.textContent.substring(t, e).toUpperCase() : this.textContent.substring(t, e).toLocaleLowerCase(), n += this.textContent.substring(e, this.textContent.length), this.textContent = n
    }
}, INKIVE.Text.Text.prototype.setPartialStyling = function(t, e, s, n) {
    if (!INKIVE.Helpers.isInt(t) || !INKIVE.Helpers.isInt(e)) return void console.warn("Text.setPartialStyling(): start and end should be integers");
    if ($.inArray(s, INKIVE.Text.PartialStylingAttrs) === -1) return void console.warn("Text.setPartialStyling(): supported attributes are " + INKIVE.Text.PartialStylingAttrs.join(", "));
    if (!n) return void console.warn("Text.setPartialStyling(): value must be defined");
    if (t === e) {
        var i = {};
        i[s.replace(/-/g, "_")] = n, this.setValues(i)
    } else {
        this.styles.push({
            start: this.fakeCharIndexToReal(t),
            end: this.fakeCharIndexToReal(e),
            attribute: s,
            value: n
        });
        var r = INKIVE.Tool.getInstance().editor.canvas;
        r.call("advice.show", "text-partial-edit")
    }
}, INKIVE.Text.Text.prototype.removePartialStyling = function(t, e) {
    var s = [];
    _.each(this.styles, function(n) {
        t >= n.start && e <= n.end || s.push(n)
    }), this.styles = s
}, INKIVE.Text.Text.prototype.getBBox = function() {
    return this.dom.getBBox()
}, INKIVE.Text.Text.prototype.getCRect = function() {
    return $.extend({}, this.dom.getBoundingClientRect())
}, INKIVE.Text.Text.prototype.getChars = function() {
    var t = this;
    t.fakeCharsIndices = [];
    var e = [],
        s = 0;
    return $.each(this.strings, function(n, i) {
        e = e.concat(i.getChars(s, n + 1)), s = i.lastIndex + 1, i.containsFakeChar && t.fakeCharsIndices.push(e.length - 1)
    }), e
}, INKIVE.Text.Text.prototype.fakeCharIndexToReal = function(t) {
    var e = t;
    return this.fakeCharsIndices && this.fakeCharsIndices.length > 0 && $.each(this.fakeCharsIndices, function(s, n) {
        return n < t && void e--
    }), e
}, INKIVE.Text.Text.prototype.renderNewLine = function(t, e, s, n, i, r) {
    var o = _.isUndefined(r),
        a = o ? s[i] : s[i][r],
        l = o ? -a.length : -1;
    if (this.strings[n].textContent = this.strings[n].textContent.slice(0, l), this.strings[n].render(t, this), "" !== this.strings[n].textContent || !o) {
        o && this.strings[n].renderJustify(t, this), n++;
        var g;
        this.strings[n] && (g = $(this.strings[n].dom)), this.strings[n] = new INKIVE.Text.String({
            x: e.x,
            y: n * this.line_spacing + e.y + this.font_size * (n + 1),
            hasBullet: this.bullets,
            startIndex: n - 1 >= 0 ? this.strings[n - 1].endIndex : 0
        })
    }
    return this.strings[n].textContent += a, this.strings[n].render(t, this), g && ($(this.strings[n].dom).insertAfter(g), g.parent().length && g.remove()), n
}, INKIVE.Text.Text.prototype.isTextSizeAutoAdjustable = function(t, e) {
    var s = 0 === e && t.isSubelement();
    return t.dom.closest && null !== t.dom.closest(".group") && (s = !1), t.text.auto_adjustable || s
}, INKIVE.Text.Text.prototype.renderText = function(t, e) {
    var s = this,
        n = -1,
        i = _.isNumber(s.firstDiffLinePosition),
        r = 0;
    i ? (n = s.firstDiffLinePosition - 1, r = s.strings[s.firstDiffLinePosition].startIndex, _.each(s.strings, function(t, e) {
        e < s.firstDiffLinePosition && t.isEol && !t.isBlank && r++
    })) : ($(s.dom).children().remove(), s.strings = []);
    var o, a = t.getTransformList(s.dom.parentElement);
    1 === a.numberOfItems && 4 === a.getItem(0).type && (o = a.getItem(0), a.removeItem(0));
    var l = e.getBBoxAligned();
    s.rectWidth = e.getWidth(), s.rectBBox = e.getBBox(), this.textContent = this.textContent.replace(/ /g, " ");
    var g = this.textContent;
    g.length > r && (g = g.substring(r)), s.cursorPosition && s.newLetters && _.isArray(s.letter_spacing) && (s.newLetters > 0 ? s.letter_spacing.splice(s.cursorPosition, 0, s.letter_spacing[s.cursorPosition]) : s.letter_spacing.splice(s.cursorPosition - 1, 1));
    var h = g.split(/\r\n|\r|\n/g),
        u = !0,
        d = null;
    for (var f in h)
        if (u) {
            var c, x = h[f];
            d && i ? x = d + x : n++;
            var I = l.x,
                p = n * s.line_spacing + l.y + s.font_size * (n + 1);
            if (i && s.strings[n] ? (c = s.strings[n].textContent.length, s.strings[n].textContent = "", s.strings[n].x = I, s.strings[n].y = p) : (s.strings[n] && $(s.strings[n].dom).remove(), s.strings[n] = new INKIVE.Text.String({
                    x: I,
                    y: p,
                    isNewl: !0,
                    hasBullet: s.bullets,
                    startIndex: n - 1 >= 0 ? s.strings[n - 1].endIndex : 0
                })), "" === x) {
                s.strings[n].textContent = " ", s.strings[n].isBlank = !0, s.strings[n].isEol = !0, s.strings[n].render(t, s);
                continue
            }
            s.strings[n].isBlank = !1;
            for (var b = x.split(" "), m = 0; m < b.length && u; m++)
                if (m !== b.length - 1 && (b[m] += " "), s.strings[n].textContent += b[m], s.strings[n].render(t, s), s.strings[n].getCRect())
                    if (s.strings[n].getCRect().width > s.rectWidth)
                        if (s.isTextSizeAutoAdjustable(e, n)) {
                            var y = s.rectWidth / s.getCRect().width,
                                C = s.font_size * y,
                                T = (s.font_size - C) / 2;
                            s.font_size = C, s.dom.setAttribute("font-size", s.font_size), e.moveTextByY(t, T), s.strings[n].render(t, s)
                        } else {
                            var A = s.renderNewLine(t, l, b, n, m);
                            if (A > n && i) return s.firstDiffLinePosition = null, !0;
                            if (n = A, Math.round(s.strings[n].getCRect().width) > Math.round(s.rectWidth)) {
                                d = null, s.strings[n].textContent = s.strings[n].textContent.slice(0, -b[m].length), s.strings[n].render(t, s);
                                for (var v = 0; v < b[m].length; v++) {
                                    if (s.strings[n].textContent += b[m][v], s.strings[n].render(t, s), s.strings[n].textContent.length > 1 && s.strings[n].getCRect().width > s.rectWidth && (A = s.renderNewLine(t, l, b, n, m, v), A > n && (n = A, d = "", i))) return s.firstDiffLinePosition = null, !0;
                                    _.isNull(d) || (d += b[m][v])
                                }
                            }
                        } else if (s.strings[n].getCRect().width < s.rectWidth) {
                if (s.isTextSizeAutoAdjustable(e, n)) {
                    var y = s.rectWidth / s.strings[n].getCRect().width,
                        C = 1 * Number(s.font_size * y);
                    if (C = C < e.original_font_size ? C : e.original_font_size, s.font_size && C) {
                        var T = (s.font_size - C) / 2;
                        s.font_size = C, s.dom.setAttribute("font-size", s.font_size), e.moveTextByY(t, T), s.strings[n].render(t, s)
                    }
                }
                n === s.firstDiffLinePosition && s.strings[n].textContent.length === c + s.newLetters && (_.each(s.strings, function(t, e) {
                    e >= s.firstDiffLinePosition && (e !== s.firstDiffLinePosition && (t.startIndex += s.newLetters), t.endIndex += s.newLetters, t.lastiIndex += s.newLetters)
                }), u = !1)
            }
            u && (s.strings[n].isEol = !0, s.strings[n].render(t, s))
        }
    o && a.appendItem(o), this.cursorPosition && (this.selectionStart = this.selectionEnd = this.cursorPosition)
}, INKIVE.Text.Text.prototype.render = function(t, e) {
    var s = this;
    e.getBBoxAligned();
    if (!s.dom || !s.dom.hasChildNodes()) {
        s.dom = t.addSvgElementFromJson({
            element: "g",
            curStyles: !1,
            attr: {}
        }, e.dom);
        var n = "text";
        this.letter_spacing && !_.isArray(this.letter_spacing) && (n += " letter-spacing-" + this.letter_spacing), this.word_spacing && (n += " word-spacing-" + this.word_spacing), this.line_spacing && (n += " line-spacing-" + this.line_spacing), s.dom.setAttribute("class", n), s.dom.setAttribute("fill", s.fill), s.dom.setAttribute("stroke", s.stroke), s.dom.setAttribute("font-family", s.font_family), s.dom.setAttribute("font-size", s.font_size), s.dom.setAttribute("text-anchor", s.text_anchor), null === s.stroke_width || s.dom.setAttribute("stroke-width", s.stroke_width), s.stroke_dasharray && s.dom.setAttribute("stroke-dasharray", s.stroke_dasharray);
        var i = INKIVE.FontsFactory.get(s.font_family);
        i && (s.custom_font_id = i.customId), s.custom_font_id && s.dom.setAttribute("custom-font-id", s.custom_font_id), s.text_decoration && s.dom.setAttribute("text-decoration", s.text_decoration), s.font_weight && s.dom.setAttribute("font-weight", s.font_weight), s.font_style && s.dom.setAttribute("font-style", s.font_style), s.auto_adjustable && $(s.dom).addClass("auto-adjustable"), _.each(s.styles, function(t) {
            var e = t.end + s.newLetters;
            e === s.textContent.length && (t.end = e)
        })
    }
    var r = s.renderText(t, e);
    return r && s.renderText(t, e), s.dom
};
INKIVE.Text || (INKIVE.Text = {}), INKIVE.Text.Span = function(t) {
    INKIVE.Text.AbstractElement.call(this), this.textContent = "", this.cls = null, this.fill = null, this.font_family = null, this.font_size = null, this.text_decoration = null, this.font_weight = null, this.font_style = null, this.letter_spacing = null, this.setValues(t)
}, INKIVE.Text.Span.prototype = Object.create(INKIVE.Text.AbstractElement.prototype), INKIVE.Text.Span.prototype.constructor = INKIVE.Text.Span, INKIVE.Text.Span.prototype.setDOM = function(t) {
    if (!t) return null;
    this.dom = t;
    var e = t.getAttribute("font-size");
    return e = e ? parseFloat(t.getAttribute("font-size")) : null, this.setValues($.extend({}, {
        cls: t.getAttribute("class"),
        fill: t.getAttribute("fill"),
        font_family: t.getAttribute("font-family"),
        font_size: e,
        text_decoration: t.getAttribute("text-decoration"),
        font_weight: t.getAttribute("font-weight"),
        font_style: t.getAttribute("font-style"),
        textContent: t.textContent
    })), this
}, INKIVE.Text.Span.prototype.hasSubelements = function() {
    return $(this.dom).has("tspan").length > 0
}, INKIVE.Text.Span.prototype.isBullet = function() {
    return this.cls && this.cls.indexOf("bullets") > -1
}, INKIVE.Text.Span.prototype.setDefaultBullet = function() {
    return this.cls = "bullets", this.textContent = "•", this.text_decoration = "none", this.letter_spacing = 0, this
}, INKIVE.Text.Span.prototype.setDefaultIndent = function() {
    return this.cls = "bullets blank", this.textContent = "&nbsp;", this.text_decoration = "none", this.letter_spacing = 0, this
}, INKIVE.Text.Span.prototype.setSimpleText = function(t) {
    return this.textContent = t, this
}, INKIVE.Text.Span.prototype.render = function(t) {
    var e = this;
    return this.dom = t.addSvgElementFromJson({
        element: "tspan",
        curStyles: !1,
        attr: {}
    }), e.cls && this.dom.setAttribute("class", e.cls), e.fill && e.dom.setAttribute("fill", e.fill), e.font_family && e.dom.setAttribute("font-family", e.font_family), e.font_size && e.dom.setAttribute("font-size", e.font_size), e.text_decoration && e.dom.setAttribute("text-decoration", e.text_decoration), e.font_weight && e.dom.setAttribute("font-weight", e.font_weight), e.font_style && e.dom.setAttribute("font-style", e.font_style), null !== e.letter_spacing && e.dom.setAttribute("letter-spacing", e.letter_spacing), e.dom.innerSVG = e.textContent, e.dom
};
INKIVE.Text || (INKIVE.Text = {}), INKIVE.Text.String = function(t) {
    INKIVE.Text.AbstractElement.call(this, t), this.styles = [], this.hasBullet = !1, this.textContent = "", this.startIndex = 0, this.endIndex = 0, this.x = 0, this.y = 0, this.isBlank = !1, this.isEol = !1, this.isNewl = !1, this.setValues(t)
}, INKIVE.Text.String.prototype = Object.create(INKIVE.Text.AbstractElement.prototype), INKIVE.Text.String.prototype.constructor = INKIVE.Text.String, INKIVE.Text.String.prototype.setDOM = function(t) {
    function e(t) {
        $(t).contents().each(function() {
            if (1 == this.nodeType) {
                var t = (new INKIVE.Text.Span).setDOM(this);
                if (!t.isBullet())
                    if (t.hasSubelements()) e(t.dom);
                    else {
                        n.textContent += t.textContent;
                        for (var s = 0; s < INKIVE.Text.PartialStylingAttrs.length; s++) {
                            var r = INKIVE.Text.PartialStylingAttrs[s],
                                i = t[r.replace("-", "_")];
                            i && ("string" != typeof i || "string" == typeof i && "normal" != i.toLowerCase()) && n.styles.push({
                                start: n.startIndex + n.textContent.length - t.textContent.length,
                                end: n.startIndex + n.textContent.length,
                                attribute: r,
                                value: t[r.replace("-", "_")]
                            })
                        }
                    }
                n.hasBullet || (n.hasBullet = t.isBullet())
            } else 3 == this.nodeType && (n.textContent += this.nodeValue)
        })
    }
    var n = this;
    if (!t) return null;
    this.dom = t;
    var s = t.getAttribute("class");
    return this.setValues($.extend({
        isBlank: s && s.indexOf("blank") > -1,
        isEol: s && s.indexOf("eol") > -1,
        x: parseFloat(t.getAttribute("x")),
        y: parseFloat(t.getAttribute("y")),
        dy: parseFloat(t.getAttribute("dy"))
    })), e(this.dom), this
}, INKIVE.Text.String.prototype.getChars = function(t, e) {
    var n = [];
    if (t = t || 0, e = e || 0, this.dom)
        for (var s = this.hasBullet ? 1 : 0, r = this.dom.getNumberOfChars(); s < r; s++) this.lastIndex = t + s, n.push($.extend({
            "char": this.textContent.charAt(s),
            line: e,
            index: this.lastIndex
        }, this.dom.getExtentOfChar(s)));
    var i = n[n.length - 1];
    return i && this.isEol && !this.isBlank && (this.containsFakeChar = !0, n.push({
        x: i.x + i.width,
        y: i.y,
        width: 0,
        height: i.height
    })), n
}, INKIVE.Text.String.prototype.getWidth = function() {
    var t = this.getChars();
    return t.length > 1 ? t[t.length - 1].width + t[t.length - 1].x - t[0].x : 1 == t.length ? t[0].width : 0
}, INKIVE.Text.String.prototype.getCRect = function() {
    return $.extend({}, this.dom.getBoundingClientRect())
}, INKIVE.Text.String.prototype.getStringStyles = function(t) {
    var e = this,
        n = [];
    t && t.length && $.each(t, function(t, s) {
        s.start >= e.startIndex && s.end <= e.endIndex ? n.push($.extend({}, s)) : s.start < e.startIndex && s.end <= e.endIndex && s.end > e.startIndex ? n.push($.extend({}, s, {
            start: e.startIndex
        })) : s.start >= e.startIndex && s.start < e.endIndex && s.end > e.endIndex ? n.push($.extend({}, s, {
            end: e.endIndex
        })) : s.start < e.startIndex && s.end > e.endIndex && n.push($.extend({}, s, {
            start: e.startIndex,
            end: e.endIndex
        }))
    });
    var s = [];
    $.each(n, function(t, e) {
        s = jQuery.grep(s, function(t) {
            return !(t.start >= e.start && t.end <= e.end && t.start < e.end || t.start <= e.start && t.end >= e.end || t.start <= e.start && t.end < e.end && e.start < t.end || t.start >= e.start && t.end > e.end && t.start < e.end)
        }), s.push(e)
    }), s.sort(function(t, e) {
        return t.start > e.start ? 1 : e.start > t.start ? -1 : 0
    });
    var r = [],
        i = 0,
        a = !1;
    return $.each(s, function(t, n) {
        !a && n.start > e.startIndex && r.push({
            start: 0,
            end: n.start - e.startIndex
        }), a && n.start > i && r.push({
            start: i - e.startIndex,
            end: n.start - e.startIndex
        }), i = n.end, a = !0, r.push({
            start: n.start - e.startIndex,
            end: n.end - e.startIndex,
            attribute: n.attribute,
            value: n.value
        })
    }), a && i - e.startIndex > 0 && r.push({
        start: i - e.startIndex,
        end: e.textContent.length
    }), r
}, INKIVE.Text.String.prototype.render = function(t, e) {
    var n = this;
    this.dom || (this.dom = t.addSvgElementFromJson({
        element: "text",
        curStyles: !1,
        attr: {}
    }, e.dom)), this.endIndex = this.startIndex + this.textContent.length;
    var s = "";
    this.isBlank && (s += " blank"), this.isEol && (s += " eol"), this.dom.removeAttribute("xml:space"), this.dom.setAttribute("x", this.x), this.dom.setAttribute("y", this.y);
    var r = _.isArray(e.letter_spacing) ? this.getDxFromArray(e) : this.getDxFromSpacings(e);
    r && this.dom.setAttribute("dx", r), this.dom.setAttribute("class", s);
    var i = "",
        a = this.getStringStyles(e.styles);
    if (a.length > 0) {
        var h = [];
        $.each(a, function(t, s) {
            if (s.attribute) {
                var r = "";
                if ("font-family" === s.attribute) {
                    var i = INKIVE.FontsFactory.get(s.value);
                    i && i.customId && (r = 'custom-font-id="' + i.customId + '"')
                }
                "font-size" === s.attribute && e.font_size !== s.value, h.push("<tspan " + r + ' xml:space="preserve" ' + s.attribute + '="' + s.value + '">' + n.textContent.substring(s.start, s.end) + "</tspan>")
            } else {
                var a = n.textContent.substring(s.start, s.end);
                a && h.push('<tspan xml:space="preserve">' + a + "</tspan>")
            }
        }), i = h.join("")
    } else i = this.textContent;
    if (this.hasBullet && $.inArray(e.text_anchor, ["start"]) > -1) {
        $(this.dom).empty();
        var o = (new INKIVE.Text.Span).setSimpleText(i).render(t);
        o.setAttribute("x", this.x + e.font_size), a.length || o.setAttribute("xml:space", "preserve"), $(this.dom).append(o);
        var l = this.isNewl && !this.isBlank ? (new INKIVE.Text.Span).setDefaultBullet().render(t) : (new INKIVE.Text.Span).setDefaultIndent().render(t);
        l.setAttribute("xml:space", "preserve"), $(this.dom).prepend(l)
    } else a.length || n.dom.setAttribute("xml:space", "preserve"), n.dom.innerSVG = i;
    return n.dom
}, INKIVE.Text.String.prototype.renderJustify = function(t, e) {
    if (!this.hasBullet) {
        var n = this.getDxFromSpacings(e, !0);
        n && this.dom.setAttribute("dx", n)
    }
}, INKIVE.Text.String.prototype.getAvgDx = function(t) {
    var e = t.letter_spacing;
    return _.isArray(e) ? _.reduce(e, function(t, e) {
        return t + parseFloat(e)
    }, 0) / (e.length - 1) : e
}, INKIVE.Text.String.prototype.getDxFromArray = function(t) {
    var e = [],
        n = t.letter_spacing,
        s = t.word_spacing || 0,
        r = this.textContent.replace(/\s+$/g, "").split(/\s/),
        i = this.getAvgDx(t);
    return _.each(r, function(t, n) {
        if (n != r.length - 1 || t.length) {
            var a = INKIVE.Helpers.fillArray(i || 0, t.length);
            n + 1 < r.length && a.push(i || 0), n < r.length - 1 && (a[a.length - 1] = s + i || 0), e = e.concat(a)
        }
    }), n = _.first(_.rest(n, this.startIndex), e.length), e = n.concat(_.rest(e, n.length)), e.length && (e[0] = 0), e.join(" ")
}, INKIVE.Text.String.prototype.getDxFromSpacings = function(t, e) {
    var n = this,
        s = [],
        r = this.getAvgDx(t);
    if (r || t.word_spacing || e && "justify" == t.text_anchor) {
        var i = n.textContent.replace(/\s+$/g, "").split(/\s/),
            a = i.length,
            h = t.word_spacing || 0;
        if (e && "justify" == t.text_anchor) {
            var o = t.rectBBox.width - n.getWidth();
            h += o > 0 && a > 1 ? o / (a - 1) : 0
        }
        _.each(i, function(t, e) {
            var n = t.length;
            if (e == a - 1 && !n) return !1;
            var i = INKIVE.Helpers.fillArray(r || 0, n);
            e + 1 < a && i.push(r || 0), e < a - 1 && (i[i.length - 1] = h + r || 0), s = s.concat(i)
        }), s.length && (s[0] = 0), n.hasBullet && $.inArray(t.text_anchor, ["start", "justify"]) > -1 && s.unshift(0)
    }
    return s.join(" ")
};
INKIVE.Thumb = function() {
    Object.defineProperty(this, "number", {
        value: INKIVE.Thumb.Count++
    }), this.id = null, this.name = "", this.uuid = INKIVE.Math.generateUUID(), this.count = null, this.type = "Thumb", this.width = 122.5, this.height = 76, this.tooltip = null, this.imageCheck = !1, this.isDragable = !0, this.visible = !0
}, INKIVE.Thumb.Count = 0, INKIVE.Thumb.prototype = {
    constructor: INKIVE.Thumb,
    setValues: function(t) {
        if (void 0 !== t)
            for (var i in t) {
                var e = t[i];
                void 0 !== e ? i in this && (this[i] = e) : console.warn("INKIVE.Thumb: '" + i + "' parameter is undefined.")
            }
    },
    getTooltipHtml: function() {
        return this.tooltip ? ' data-popover="tooltip" data-original-title="' + this.tooltip + '"' : ""
    },
    getA: function() {
        return '<a id="' + this.uuid + '" class="item" style="background-color: transparent !important;"' + this.getTooltipHtml() + "></a>"
    },
    getItemContainer: function() {
        var t = this;
        return this._container || (this._container = $.parseHTML('<div class="thumbnail">' + this.getA() + "</div>"), this.width && $(this._container).css("width", this.width), this.height && $(this._container).css("height", this.height), this.isDragable && $(this._container).initDragable({
            callback: {
                click: function(i, e) {
                    t.onItemClick($(i).find("a").get(0), e)
                },
                mouseup: function(i, e) {
                    t.onItemRelease($(i).find("a").get(0), e)
                },
                mousemove: function(i, e) {
                    t.onItemMove($(i).find("a").get(0), e)
                }
            }
        })), $(this._container)
    },
    getItem: function() {
        var t = this.getItemContainer();
        return t.find("a").attr("style", "background:url(" + INKIVE.C.THUMB_NOCOVER + ") 50% 50%;background-size:100%;"), t
    },
    appendTo: function(t) {
        t = this.getTarget(t);
        var i = this.getItem();
        return this.imageCheck ? t.append(i).imagesLoaded(function(e) {
            t.masonry(), this.onItemLoad(i)
        }) : (t.append(i), document.contains(t[0]) && t.masonry("appended", i), this.onItemLoad(i)), this.postAppend(), this
    },
    prependTo: function(t) {
        t = this.getTarget(t);
        var i = this.getItem();
        return this.imageCheck ? t.prepend(i).imagesLoaded(function(e) {
            t.masonry(), this.onItemLoad(i)
        }) : (t.prepend(i).masonry("prepended", i), this.onItemLoad(i)), this.postAppend(), this
    },
    postAppend: function() {
        var t = this.getItemContainer();
        INKIVE.Helpers.initTooltips(t), INKIVE.Helpers.initPopover(t, {
            html: !1
        })
    },
    onItemLoad: function(t) {},
    onItemClick: function(t, i) {},
    onItemRelease: function(t, i) {},
    onItemMove: function(t, i) {},
    getTarget: function(t) {
        return t = t.hasClass("thumbnail-wrapper") ? t : t.find(".thumbnail-wrapper"), t.hasClass("thumbmenu") || t.addClass("thumbmenu"), t
    }
};
INKIVE.ThumbShape = function(t) {
    INKIVE.Thumb.call(this), this.height = 122.5, this.path = null, this.size = 300, this.type = "Shape", this.setValues(t)
}, INKIVE.ThumbShape.prototype = Object.create(INKIVE.Thumb.prototype), INKIVE.ThumbShape.prototype.constructor = INKIVE.ThumbShape, INKIVE.ThumbShape.prototype.getVB = function() {
    var t = .05 * this.size,
        e = 0,
        n = 0,
        a = this.size,
        o = this.size;
    return [e - t, n - t, a + 2 * t, o + 2 * t]
}, INKIVE.ThumbShape.prototype.getItem = function() {
    var t = this.getItemContainer(),
        e = this.size / 300,
        n = (new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg"><path fill="#fff" stroke="#000" stroke-width="' + e + '" /></svg>', "text/xml"),
        a = $(document.importNode(n.documentElement, !0)),
        o = a.find("path");
    return o.attr("d", this.path), t.find("a").append(a), a.attr("width", this.width), a.attr("height", this.height), a.attr("viewBox", this.getVB().join(" ")), t.css("height", this.height), t
}, INKIVE.ThumbShape.prototype._addElement = function(t, e, n) {
    var a = this.path,
        o = INKIVE.Tool.getInstance().editor,
        i = o.canvas,
        h = i.addSvgElementFromJson({
            element: "g",
            attr: {
                id: o.canvas.getNextId()
            }
        }),
        s = o.canvas.addSvgElementFromJson({
            element: "path",
            curStyles: !0,
            attr: {
                d: a,
                id: o.canvas.getNextId(),
                opacity: 1
            }
        }, h);
    s.setAttribute("class", "element"), /[a-z]/.test(a) && (a = o.canvas.pathActions.convertPath(s), s.setAttribute("d", a), o.canvas.pathActions.fixEnd(s)), INKIVE.Helpers.resize(h, i.contentW, i.contentH, e, n), h.parentElement.insertBefore(h.firstChild, h), h.parentElement.removeChild(h), i.selectOnly([s]);
    var r = new svgedit.history.BatchCommand("Paste elements");
    return r.addSubCommand(new svgedit.history.InsertElementCommand(s)), o.canvas.undoMgr.addCommandToHistory(r), INKIVE.Tool.blinkScreen(s), s
}, INKIVE.ThumbShape.prototype.onItemClick = function(t) {
    var e = INKIVE.Tool.getInstance().editor,
        n = e.canvas,
        a = t.getBoundingClientRect(),
        o = (n.contentW - a.width) / 2,
        i = (n.contentH - a.height) / 2;
    return this._addElement(a, o, i)
}, INKIVE.ThumbShape.prototype.onItemRelease = function(t) {
    var e = INKIVE.Tool.getInstance().editor,
        n = this.getItemContainer().get(0).getBoundingClientRect(),
        a = INKIVE.EditorFacade.handle("zoom", "get"),
        o = e.getOffset(),
        i = Math.floor4((n.left - o.x) / a),
        h = Math.floor4((n.top - o.y) / a);
    return this._addElement(n, i, h)
};
INKIVE.ThumbPlaceholder = function(t) {
    INKIVE.ThumbShape.call(this), this.height = 122.5, this.path = null, this.size = 300, this.type = "Shape", this.setValues(t)
}, INKIVE.ThumbPlaceholder.prototype = Object.create(INKIVE.ThumbShape.prototype), INKIVE.ThumbPlaceholder.prototype.constructor = INKIVE.ThumbPlaceholder, INKIVE.ThumbPlaceholder.prototype.getItem = function() {
    var t = this.getItemContainer(),
        e = (this.size / 300, (new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><pattern id="imgpattern" x="0" y="0" width="1" height="1"><image width="330" height="330" xlink:href="https://static.inkive.com/assets/img/placeholders/imageplaceholder_new.svg"/></pattern></defs><path fill="url(#imgpattern)" stroke="#DDD" stroke-width="4" /></svg>', "text/xml")),
        h = $(document.importNode(e.documentElement, !0)),
        i = h.find("path");
    return i.attr("d", this.path), t.find("a").append(h), h.attr("width", this.width), h.attr("height", this.height), h.attr("viewBox", this.getVB().join(" ")), t.css("height", this.height), t
}, INKIVE.ThumbPlaceholder.prototype.onItemClick = function(t) {
    INKIVE.ThumbShape.prototype.onItemClick.call(this, t), INKIVE.EditorFacade.handle("convert_to_image_box")
}, INKIVE.ThumbPlaceholder.prototype.onItemRelease = function(t) {
    INKIVE.ThumbShape.prototype.onItemRelease.call(this, t), INKIVE.EditorFacade.handle("convert_to_image_box")
};
INKIVE.ThumbFont = function(t) {
    INKIVE.Thumb.call(this), this.type = "Font", this.height = null, this.width = null, this.fontFamily = null, this.fontSize = 22, this.text = "Type text here", this.setValues(t)
}, INKIVE.ThumbFont.prototype = Object.create(INKIVE.Thumb.prototype), INKIVE.ThumbFont.prototype.constructor = INKIVE.ThumbFont, INKIVE.ThumbFont.prototype.getItem = function() {
    var t = this.getItemContainer(),
        e = this.fontSize > 50 ? this.fontSize / 2 : this.fontSize;
    return t.find("a").append('<a role="menuitem" style="white-space: nowrap;overflow: hidden; max-width: 230px; background-color: transparent !important; font-size:' + e + "px; font-family: " + this.fontFamily + ';">' + this.text + "</a>"), t
}, INKIVE.ThumbFont.prototype.onItemClick = function(t) {
    var e = INKIVE.Tool.getInstance().editor,
        o = {
            family: this.fontFamily,
            size: this.fontSize,
            text: this.text
        },
        i = e.getOffset(),
        n = INKIVE.EditorFacade.handle("zoom", "get"),
        h = this.getItemContainer().get(0).getBoundingClientRect().width,
        a = Math.floor4(o.text.length > 30 ? i.width / 2 : h / n),
        l = {
            x: (i.width - a) / 2,
            y: Math.floor4((i.height - o.size) / 2),
            width: a,
            text: {
                font_family: o.family,
                font_size: o.size,
                textContent: o.text
            }
        };
    INKIVE.Tool.blinkScreen(e.addElement("textarea", l))
}, INKIVE.ThumbFont.prototype.onItemRelease = function(t, e) {
    var o = INKIVE.Tool.getInstance().editor,
        i = {
            family: this.fontFamily,
            size: this.fontSize,
            text: this.text
        },
        n = INKIVE.EditorFacade.handle("zoom", "get"),
        h = o.getOffset(),
        a = t.getBoundingClientRect(),
        l = this.getItemContainer().get(0).getBoundingClientRect().width,
        s = Math.floor4(i.text.length > 30 ? h.width / 2 : l / n),
        r = {
            x: Math.floor4(e.clientX - s / 2 * n - h.x),
            y: Math.floor4((a.top - h.y) / n),
            width: s,
            text: {
                "font-family": i.family,
                "font-size": i.size,
                textContent: i.text
            }
        };
    INKIVE.Tool.blinkScreen(o.addElement("textarea", r))
};
INKIVE.ThumbText = function(t) {
    INKIVE.ThumbFont.call(this), this.width = 122.5, this.setValues(t), this.uuid = this.id
}, INKIVE.ThumbText.prototype = Object.create(INKIVE.ThumbFont.prototype), INKIVE.ThumbText.prototype.constructor = INKIVE.ThumbText, INKIVE.ThumbText.prototype.getTooltipHtml = function() {
    return this.tooltip ? 'data-container="body" data-popover="popover" data-placement="right" data-content="' + this.tooltip + '"' : ""
}, INKIVE.ThumbText.prototype.getItem = function() {
    var t = this.getItemContainer();
    return t.find("a").append('<div class="text"><span>' + this.text.trimToLength(50) + "</span></div>"), t
};
INKIVE.ThumbSimpleText = function(t) {
    INKIVE.Thumb.call(this), this.text = "", this.setValues(t)
}, INKIVE.ThumbSimpleText.prototype = Object.create(INKIVE.Thumb.prototype), INKIVE.ThumbSimpleText.prototype.constructor = INKIVE.ThumbSimpleText, INKIVE.ThumbSimpleText.prototype.getA = function() {
    return '<a id="' + this.uuid + '" class="item"  data-id="' + this.id + '" style="background-color: transparent !important;"></a>'
}, INKIVE.ThumbSimpleText.prototype.getItem = function() {
    var t = this.height + "px",
        e = this.getItemContainer(),
        i = $('<div class="text"><span>' + this.text.trimToLength(50) + "</span></div>");
    return i.css("height", t).css("line-height", t), e.find("a").append(i), e
};
INKIVE.ThumbGroupImage = function(t) {
    INKIVE.Thumb.call(this), this.height = null, this.href = null, this.description = null, this.thumb = null, this.isDragable = !1, this.setValues(t)
}, INKIVE.ThumbGroupImage.prototype = Object.create(INKIVE.Thumb.prototype), INKIVE.ThumbGroupImage.prototype.constructor = INKIVE.ThumbGroupImage, INKIVE.ThumbGroupImage.prototype.getA = function() {
    return '<a style="height: ' + this.height + "px; width: " + this.width + 'px; " id="' + this.uuid + '" class="menu" role="tab" data-id="' + this.id + '" data-toggle="tab" href="' + this.href + '"' + this.getTooltipHtml() + "></a>"
}, INKIVE.ThumbGroupImage.prototype.getItem = function() {
    function t(t) {
        e(t, 100);
        var h = new Image;
        h.src = t, h.onload = function() {
            var h = o.width() / o.height(),
                i = this.width / this.height,
                u = i / h;
            i > h && e(t, 100 * u)
        }
    }

    function e(t, e) {
        o.css("background", "url(" + t + ") 50% 50% no-repeat").css("background-size", e + "%")
    }

    function h(t) {
        var e = "<p><label>" + t.trimToLength(15) + "</label></p>";
        o.after(e)
    }
    var i = this.getItemContainer(),
        o = i.find("a");
    return this.name && h(this.name), t(this.thumb), i
};
INKIVE.ThumbSvg = function(t) {
    INKIVE.ThumbFont.call(this), this.width = 122.5, this.height = 76, this.content = null, this.thumb = null, this.setValues(t), this.uuid = Base64.encode(this.thumb).replace(/([^a-z0-9]+)/gi, "")
}, INKIVE.ThumbSvg.prototype = Object.create(INKIVE.Thumb.prototype), INKIVE.ThumbSvg.prototype.constructor = INKIVE.ThumbSvg, INKIVE.ThumbSvg.prototype.getItem = function() {
    function t(t) {
        e(t, 100);
        var n = new Image;
        n.src = t, n.onload = function() {
            var n = o.width() / o.height(),
                i = this.width / this.height,
                h = i / n;
            i > n && e(t, 100 * h)
        }
    }

    function e(t, e) {
        o.css("background", "url(" + t + ") 50% 50% no-repeat").css("background-size", e + "%")
    }
    var n = this.getItemContainer(),
        o = n.find("a");
    return t("http://virginia.inkive.com/" + this.thumb), n
}, INKIVE.ThumbSvg.prototype._addElement = function(t, e) {
    var n = INKIVE.Tool.getInstance().editor,
        o = n.canvas,
        i = INKIVE.Helpers.getStickerFromString(this.content);
    n.canvas.getCurrentDrawing().getCurrentLayer().appendChild(i), INKIVE.Helpers.resize(i, o.contentW, o.contentH, t, e), n.canvas.addToSelection([i]), INKIVE.Tool.blinkScreen(i)
}, INKIVE.ThumbSvg.prototype.onItemClick = function(t) {
    var e = INKIVE.Tool.getInstance().editor,
        n = e.canvas,
        o = t.getBoundingClientRect(),
        i = (n.contentW - o.width) / 2,
        h = (n.contentH - o.height) / 2;
    this._addElement(i, h)
}, INKIVE.ThumbSvg.prototype.onItemRelease = function(t) {
    var e = INKIVE.Tool.getInstance().editor,
        n = this.getItemContainer().get(0).getBoundingClientRect(),
        o = INKIVE.EditorFacade.handle("zoom", "get"),
        i = e.getOffset(),
        h = Math.floor4((n.left - i.x) / o),
        r = Math.floor4((n.top - i.y) / o);
    this._addElement(h, r)
};
INKIVE.C.UPLOAD_SERVER = "https://s3.amazonaws.com/virginia.inkive.com", INKIVE.C.VIEWER_URL = INKIVE.C.BASE_URL + "design/?id=" + INKIVE.C.BOOK.id, INKIVE.C.CTRL = INKIVE.C.BASE_URL + "editor/", INKIVE.C.AUTO_SAVE_INTERVAL = 3e5, INKIVE.C.EMBED = {
    W2H: .707070707070707,
    DefaultWidth: 290,
    MaxWidth: 1200
}, INKIVE.C.EMBED.MaxHeight = Math.round(INKIVE.C.EMBED.MaxWidth * INKIVE.C.EMBED.W2H), INKIVE.C.EMBED.DefaultHeight = Math.round(INKIVE.C.EMBED.DefaultWidth * INKIVE.C.EMBED.W2H), INKIVE.C.Timeout = {
    imageCheck: 18e4
}, INKIVE.C.Status = {
    success: 0,
    error: 1,
    timeout: 10
}, INKIVE.C.BOOK_TYPE = {
    DESIGN: "0",
    LOGO: "1",
    TEMPLATE: "2",
    RESTRICTED_DESIGN: "3",
    DESYGNER_DESIGN: "4"
}, INKIVE.C.USE_FALLBACK_UPLOAD = !0, INKIVE.C.DEFAULT_FINEUPLOADER = {
    maxConnections: 3,
    uploaderType: "basic",
    signature: {
        endpoint: INKIVE.C.BASE_URL + "upload"
    },
    iframeSupport: {
        localBlankPagePath: INKIVE.C.BASE_URL + "assets/blank.html"
    },
    chunking: {
        enabled: !1
    },
    resume: {
        enabled: !0
    },
    validation: {
        sizeLimit: 15e7
    },
    messages: {},
    request: {
        endpoint: INKIVE.C.UPLOAD_SERVER,
        accessKey: INKIVE.C.UPLOAD_KEY,
        forceMultipart: !1
    },
    uploadSuccess: {
        endpoint: INKIVE.C.BASE_URL + "upload/successasync",
        params: {
            type: "editor",
            scrapbookId: INKIVE.C.BOOK.id
        }
    }
}, INKIVE.C.VersionUploadSize = {
    o: 0,
    l: 3500,
    m: 1800,
    s: 600
}, INKIVE.C.VersionThumbSize = {
    o: 1200,
    l: 1024,
    m: 800,
    s: 600
}, INKIVE.C.DefaultColors = ["#FFF", "#AAA", "#555", "#000", "none", "#D42929", "#00AEEF", "#00A651", "#F5EB33"], INKIVE.C.THUMB_NOCOVER = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABMCAYAAABqFkmCAAACKklEQVR4Xu2bUXJEUBREx9pYtjXZgkQSU0qhH4N0qzNfmbnjaue4z5uPVF3X9S9eEQQqZEV4+gmJrBxXyApyhSxkJREIysozC1lBBIKiMlnICiIQFJXJQlYQgaCoTBaygggERWWykBVEICgqk4WsIAJBUZksZAURCIrKZCEriEBQVCYLWUEEgqIyWcgKIhAUlclCVhCBoKhMFrKCCARFZbKQFUQgKOrlk9W27RtH0zTvv8fPp58d5TY9x9jjjL5H81x1XLysJeln3ghXgT/S91ZZQ8Dxjj8D6Bk9jkD7r2OsZM2XM7WU7ZG11XveZ+390hI7fLeqqlff//63r8r8iejbZA0XMYVQCmjr4ktl7T3XkZxXixr6I+sbwpbMEtHDZNV1/cnQFB17q6wh0dpypKAsXc1Zk1WSa37+6bMXWX9b/juWwRJZaznGZ9YjJ2sOZm13eHRqpv339i75GbC0Ajx2stZkbd3dakEv+VFcstNcu0HUTvIxshRo6uUELt9glEfhm4oAshQhozqyjGSoKMhShIzqyDKSoaIgSxEyqiPLSIaKgixFyKiOLCMZKgqyFCGjOrKMZKgoyFKEjOrIMpKhoiBLETKqI8tIhoqCLEXIqI4sIxkqCrIUIaM6soxkqCjIUoSM6sgykqGiIEsRMqojy0iGioIsRciojiwjGSoKshQhozqyjGSoKMhShIzqyDKSoaIgSxEyqiPLSIaKgixFyKiOLCMZKsoXOIgiF3P82hcAAAAASUVORK5CYII=", INKIVE.C.FLIP_IMAGE = {
    HORIZONTAL: "image-flip-h",
    VERTICAL: "image-flip-v"
}, INKIVE.C.LOCALE_SUBSETS = [{
    locales: [],
    name: "default"
}, {
    locales: ["ar"],
    name: "arabic"
}, {
    locales: ["bn"],
    name: "bengali"
}, {
    locales: ["zh"],
    name: "chinese"
}, {
    locales: ["ru", "az", "be", "bg", "mk", "kz", "mn", "sr", "tt", "uk", "uz", "ka"],
    name: "cyrillic"
}, {
    locales: ["ne"],
    name: "devanagari"
}, {
    locales: ["el"],
    name: "greek"
}, {
    locales: ["gu"],
    name: "gujarati"
}, {
    locales: ["pa"],
    name: "gurmukhi"
}, {
    locales: ["he"],
    name: "hebrew"
}, {
    locales: ["kn"],
    name: "kannada"
}, {
    locales: ["km"],
    name: "khmer"
}, {
    locales: ["ko"],
    name: "korean"
}, {
    locales: ["ja"],
    name: "japanese"
}, {
    locales: ["es", "pt", "de", "fr", "it", "nl"],
    name: "latin-ext"
}, {
    locales: ["ml"],
    name: "malayalam"
}, {
    locales: ["my"],
    name: "myanmar"
}, {
    locales: ["or"],
    name: "oriya"
}, {
    locales: ["si"],
    name: "sinhala"
}, {
    locales: ["ta"],
    name: "tamil"
}, {
    locales: ["te"],
    name: "telugu"
}, {
    locales: ["th"],
    name: "thai"
}, {
    locales: ["vi"],
    name: "vietnamese"
}];
INKIVE.Modal = function(t) {
    this.id = INKIVE.Math.generateUUID(), this.options = $.extend({
        skip: !0
    }, t)
}, INKIVE.Modal.prototype = {
    constructor: INKIVE.Modal,
    getWrapper: function() {
        var t = $('body .modalWrapper[data-id="' + this.id + '"]');
        return t.length || (t = $(INKIVE.TemplatesHelper("modal_wrapper", {
            id: this.id
        })), $("body").append(t)), t
    },
    constructModal: function(t) {
        function o() {
            function o() {
                function t(t) {
                    return _.extend({}, t, {
                        "class": t.cls ? t.cls : "btn-yellow",
                        width: t.width ? "width: " + t.width + "; " : ""
                    })
                }
                var o = _.map(n.options.buttons, t),
                    e = INKIVE.TemplatesHelper("modal_buttons", o);
                a.find(".modal").append(e)
            }
            var e = INKIVE.TemplatesHelper("modal", {
                id: n.id,
                icon: n.options.headerIcon,
                title: n.options.headerTitle,
                width: "width: " + n.options.width + "px;"
            });
            a.append(e).find(".modal .content form").append(t), n.options.buttons && o()
        }

        function e() {
            function t() {
                var t = a.find(".btnWrapper.bottom");
                _.each(n.options.buttons, function(o, e) {
                    t.find("#btn-" + e).on("click", o.onClick)
                })
            }
            a.find(".modal .content form").submit(function(t) {
                t.preventDefault()
            }), a.find(".modal .content form input").keyup(function(t) {
                var o = t.keyCode ? t.keyCode : t.which;
                if (13 == o || 10 == o || 9 == o) return $(this).blur(), t.preventDefault(), t.stopPropagation(), !1
            }), n.options.skip && a.find(".modal .modal-header").on("click", _.bind(n.close, n)), n.options.buttons && t()
        }
        this.options = $.extend({
            width: 670
        }, this.options);
        var n = this,
            a = this.getWrapper();
        o(), e()
    },
    constructAlert: function(t) {
        function o() {
            function o() {
                function t(t) {
                    return {
                        "class": "btn-yellow",
                        title: n.options.message[t]
                    }
                }
                var o = _.map(_.range(n.options.callback.length), t),
                    e = INKIVE.TemplatesHelper("modal_buttons", o);
                a.find(".modal").append(e);
                var l = n.options.callback.length % 2 === 0;
                l || a.find(".btnWrapper.bottom li").last().css("width", "100%")
            }
            var e = INKIVE.TemplatesHelper("modal_alert", {
                message: t,
                width: "width: " + n.options.width + "px;"
            });
            a.append(e), n.options.callback.length && o()
        }

        function e() {
            a.find(".btnWrapper.bottom .btn").on("click", function(t) {
                var o = $(this).attr("id").split("-")[1],
                    e = n.options.callback[o];
                "function" == typeof e && e(), n.close()
            })
        }
        this.options = $.extend({
            width: 350,
            loader: !1,
            message: ["Yes", "No"],
            callback: []
        }, this.options);
        var n = this,
            a = this.getWrapper();
        o(), n.options.callback.length && e(), n.options.loader && INKIVE.Modal.loader(a.find(".modal"), 1)
    },
    show: function() {
        function t(e) {
            o.options.skip && 27 == e.keyCode && (o.close(), $(document).unbind("keydown", t))
        }
        var o = this,
            e = this.getWrapper();
        e.on("contentChanged", function() {
            o.refresh()
        }), e.show(), $("body > header").addClass("disabled blur"), $("aside").addClass("disabled blur");
        var n = e.find(".modal");
        o.refresh(), n.show(), o.options.skip && (e.on("click", function(t) {
            $(t.target).is($(this)) && o.close()
        }), $(document).keydown(t))
    },
    refresh: function() {
        var t = this.getWrapper(),
            o = t.find(".modal"),
            e = ($(window).height() - o.height()) / 2 + 10,
            n = -o.width() / 2;
        e < 0 && (e = 0), o.css("margin-top", e), o.css("margin-left", n)
    },
    close: function(t) {
        var o = $('.modalWrapper[data-id="' + this.id + '"]');
        this.getWrapper().off("click"), o.children(" .modal").transition({
            scale: 0
        }, 350, function() {
            o.remove();
            var e = !0;
            $(".modalWrapper").each(function() {
                var t = $(this).is(":empty");
                t && $(this).remove(), e &= t
            }), e && ($("aside").removeClass("disabled blur"), $("body > header").removeClass("disabled blur")), "function" == typeof t && t()
        })
    }
}, INKIVE.Modal.toggleLock = function(t) {
    INKIVE.Modal.lockStatus = t
}, INKIVE.Modal.modalWindow = function(t, o) {
    if (INKIVE.Modal.lockStatus) return null;
    var e = new INKIVE.Modal(o);
    return e.constructModal(t), e.show(), e
}, INKIVE.Modal.alertMessage = function(t, o) {
    if (INKIVE.Modal.lockStatus) return null;
    var e = new INKIVE.Modal(o);
    return e.constructAlert(t), e.show(), e
}, INKIVE.Modal.loader = function(t, o) {
    var e = $(t).find(".loader-wrapper");
    return e.length ? e : $(INKIVE.TemplatesHelper("modal_loader", o)).appendTo(t)
}, INKIVE.Modal.loaderClose = function(t) {
    var o = $(t).find(".loader-wrapper");
    o.length && o.remove()
}, INKIVE.Modal._lastAlerts = [], INKIVE.Modal.togglePageLoader = function(t, o) {
    if (INKIVE.Modal.lockStatus) return null;
    if (t) {
        var o = ['<b style="font-weight: 400">', INKIVE.TranslateHelper.translate(o || "modal.wait"), "</b>"];
        INKIVE.Modal._lastAlerts.push(INKIVE.Modal.alertMessage(o.join(""), {
            skip: !1,
            loader: !0
        }))
    } else INKIVE.Modal._lastAlerts.length && INKIVE.Modal._lastAlerts.pop().close()
}, INKIVE.Modal.closeAllPageLoaders = function() {
    for (; INKIVE.Modal._lastAlerts.length;) INKIVE.Modal._lastAlerts.pop().close()
};

function initEditor() {
    var e, t, n = _.extend({}, Backbone.Events),
        o = {
            background: {
                url: null,
                stroke: "none",
                fill: "FF0000"
            },
            bkgd_color: "#FFF",
            bkgd_url: "",
            img_save: "embed",
            save_notice_done: !1,
            export_notice_done: !1
        },
        i = {},
        a = {
            allowedOrigins: []
        },
        r = {
            debug: INKIVE.C.IS_DEV,
            wrapper: "#ik-editor",
            workarea: "#workarea",
            editor: "#editor",
            canvasName: "default",
            canvasElem: "#svgcanvas",
            canvasPanel: "#canvaspanel",
            canvas_expansion: 1,
            initText: {
                input: "#text"
            },
            initBackground: {
                url: null,
                stroke: "none",
                fill: "url(#transparencypattern)"
            },
            initFill: {
                color: "#404E62",
                opacity: 1
            },
            initStroke: {
                width: 2,
                color: "#405E7F",
                opacity: 1
            },
            initOpacity: 1,
            colorPickerCSS: null,
            initTool: "select",
            wireframe: !1,
            showlayers: !1,
            no_save_warning: !1,
            basePath: INKIVE.C.BASE_URL + "assets/js/editor/core/",
            imgPath: "images/",
            langPath: "locale/",
            extPath: "extensions/",
            jGraduatePath: "jgraduate/images/",
            margin: [100, 100],
            dimensions: [INKIVE.width, INKIVE.height],
            gridSnapping: !1,
            gridColor: "#000",
            baseUnit: "px",
            snappingStep: 10,
            preventAllURLConfig: !1,
            preventURLContentLoading: !1,
            lockExtensions: !1,
            noDefaultExtensions: !1,
            showGrid: !1,
            noStorageOnLoad: !1,
            forceStorage: !1,
            emptyStorageOnDecline: !1,
            string: {
                noTextInput: "Can not found input element."
            }
        };
    return n.loadSvgString = function(t, n, o, i) {
        function a() {
            e.contentW = o, e.contentH = i, INKIVE.EditorFacade.handle("zoom", "fit")
        }
        n = n || $.noop, e.clear(), o = parseInt(o || t.match(/<svg[^>]*width="(\d+)"[^>]*>/)[1]), i = parseInt(i || t.match(/<svg[^>]*height="(\d+)"[^>]*>/)[1]), a(), e.setSvgString(t) ? (a(), n(!0), INKIVE.Helpers.converterCurrentPage(), INKIVE.Helpers.displayImagesLoadingAnimation()) : (INKIVE.Modal.alertMessage("Error load SVG string", "error"), n(!1))
    }, n.init = function() {
        function s() {
            i = $.extend(!0, {}, o, i), n.curPrefs = i
        }

        function l() {
            a = $.extend(!0, {}, r, a), $.each(["allowedOrigins"], function(e, t) {
                a[t] = $.grep(a[t], function(e, n) {
                    return n === a[t].indexOf(e)
                })
            }), n.curConfig = a
        }
        try {
            "localStorage" in window && (n.storage = localStorage)
        } catch (c) {}
        var d = [];
        if ($("#lang_select option").each(function() {
                d.push(this.value)
            }), function() {
                t = {}, $.isEmptyObject(t) ? (l(), s()) : (t.dimensions && (t.dimensions = t.dimensions.split(",")), t.bkgd_color && (t.bkgd_color = "#" + t.bkgd_color), $.each(["extPath", "imgPath", "langPath", "jGraduatePath"], function(e) {
                    t[e] && delete t[e]
                }), n.setConfig(t, {
                    overwrite: !1
                }), l())
            }(), n.canvas = e = new $.SvgCanvas(document.getElementById("svgcanvas"), a), e) {
            for (var g in INKIVE.EXTENSION) e.addExtension(g, INKIVE.EXTENSION[g]);
            e.bind("loading.show", function(e, t) {
                INKIVE.SVGElementLoading.show(t)
            }), e.bind("loading.hide", function(e, t) {
                INKIVE.SVGElementLoading.hide(t)
            }), e.bind("loading.hide_all", function(e) {
                INKIVE.SVGElementLoading.hideAll()
            })
        }
        n.canvas.setFlip = function(t) {
            for (var n = e.getSelectedElems(), o = $("#svgroot").get(0), i = 0; i < n.length; i++) {
                var a = n[i];
                if (a) {
                    var r = e.getTransformList(a),
                        s = o.createSVGTransform(),
                        l = o.createSVGTransform(),
                        c = o.createSVGTransform(),
                        d = a.getBBox(),
                        g = "g" == a.tagName && a.getAttribute("class").indexOf("sticker") != -1;
                    switch (t) {
                        case "h":
                            s.setTranslate(g ? -d.x - d.width / 2 : -d.x, -d.y), l.setScale(-1, 1), c.setTranslate(d.x + d.width, d.y), r.appendItem(c), r.appendItem(l), r.appendItem(s), this.recalculateAllSelectedDimensions();
                            break;
                        case "v":
                            s.setTranslate(-d.x, g ? -d.y - d.height / 2 : -d.y), l.setScale(1, -1), c.setTranslate(d.x, d.y + d.height), r.appendItem(c), r.appendItem(l), r.appendItem(s), this.recalculateAllSelectedDimensions()
                    }
                }
            }
        };
        var u = $(a.workarea),
            h = n.initScroll = function() {
                var e = $(a.wrapper);
                e.antiscroll({
                    autoHide: !1,
                    width: e.width(),
                    height: e.height()
                })
            };
        n.getMode = function() {
            return e.getMode()
        }, n.setMode = function(t) {
            e.setMode(t), e.runExtensions("selectedChanged", {})
        }, e.bind("editor.changed", function(e, t) {
            INKIVE.Tool.autoSave(t[0])
        }), e.bind("editor.added", function(t, o) {
            switch (e.getMode()) {
                case "fhpath":
                case "square":
                case "rect":
                case "ellipse":
                case "circle":
                case "line":
                    n.setMode("select")
            }
        }), e.bind("editor.modeChanged", function(e, t) {
            INKIVE.Tabs.extra && INKIVE.Tabs.extra.updateDrawingButtons()
        }), e.bind("editor.cropping", function(e, t) {
            t ? INKIVE.Tool.disableUI() : INKIVE.Tool.enableUI()
        }), e.bind("editor.zoomChanged", function(t, n) {
            "zooming" !== e.getMode() && ($(".tool-zoom .custom span").html(Math.floor(100 * n)), h())
        }), n.getOffset = function() {
            var t = $("#canvasBackground").get(0).getBoundingClientRect();
            return {
                x: t.left,
                y: t.top,
                width: e.contentW,
                height: e.contentH
            }
        }, n.isClickInsideEditor = function(t, n) {
            var o = this.getOffset();
            return t > o.x && n > o.y && t < o.x + o.width * e.getZoom() && n < o.y + o.height * e.getZoom()
        }, n.isElementClicked = function(t, n) {
            var o = e.getBBox(t),
                i = this.getOffset(),
                a = n.clientX - i.x,
                r = n.clientY - i.y,
                s = function(t) {
                    return o[t] * e.getZoom()
                };
            if (o) return a > s("x") && r > s("y") && a < s("x") + s("width") && r < s("y") + s("height")
        }, n.getNextId = function() {
            return e.getNextId()
        }, n.loadingElement = function(t) {
            e.loadingElement(t)
        }, n.clearSelection = function() {
            e.clearSelection()
        }, n.replaceElement = function(t, n) {
            e.replaceElement(t, n), INKIVE.Tool.autoSave(n)
        }, n.replaceBackground = function(t) {
            return e.addElement("background", t)
        }, n.addElement = function(t, n, o) {
            var i = e.addElement(t, n, o);
            switch (i && INKIVE.Tool.autoSave(i), t) {
                case "background":
                    break;
                default:
                    e.clearSelection(), i && e.selectOnly([i])
            }
            return i
        }, n.getSvgString = function(t) {
            return e.getSvgString(t)
        }, n.getSelectedElems = function() {
            return e.validateSelectedElems(), e.getSelectedElems()
        }, n.openPrep = function(e) {
            $("#main_menu").hide(), e(!0)
        }, n.setFavColor = function(e) {
            var t = _.without(n.getFavColors(), e);
            t.push(e), localStorage.setItem("colors", JSON.stringify(t))
        }, n.getFavColors = function() {
            if (!localStorage.getItem("colors")) return [];
            var e = _.uniq(JSON.parse(localStorage.getItem("colors").toUpperCase()), !1);
            return e.slice(Math.max(e.length - 10, 0))
        }, n.getEditorUsedColors = function() {
            var e = [],
                t = function(e, t) {
                    var n = $(e).attr(t);
                    return n && "null" !== n && "none" !== n && n.toUpperCase()
                };
            return $("#svgcontent [stroke], #svgcontent [fill], g.background>rect[fill]").each(function() {
                e.push(t(this, "stroke")), e.push(t(this, "fill"))
            }), _.compact(_.uniq(e))
        };
        var f = n.initEditor = function() {
            var t = !1;
            t && $("#content, .menu").removeClass("landscape") && $("#content, .menu").addClass("portrait"), t || $("#content, .menu").removeClass("portrait") && $("#content, .menu").addClass("landscape"), h();
            var n = parseFloat(u.width()),
                o = parseFloat(u.height()),
                i = $(a.canvasPanel),
                r = parseFloat(e.contentW),
                s = parseFloat(e.contentH),
                l = r > s ? n / (r + a.margin[0]) : o / (s + a.margin[1]);
            i.css("width", n), i.css("height", o), i.css("pointer-events", "none"), e.setZoom(l)
        };
        $(function() {
            f()
        }), n.trigger("initialize")
    }, n.getOpacity = function(e) {
        return e = e || n.canvas.getSelectedElems(), e[0].getAttribute("opacity") ? e[0].getAttribute("opacity") : 1
    }, n.getStrokeWidth = function(e) {
        function t(e) {
            var n = 0;
            if ($(e).hasClass("textarea")) {
                var o = (new INKIVE.Text.Textarea).setDOM(e);
                n = o.text.stroke_width ? o.text.stroke_width : "none" == o.text.stroke ? 0 : 1
            } else
                for (var i = e.childNodes, a = e && "g" != e.tagName ? [e].concat(i) : i, r = 0, s = a.length; r < s; r++)
                    if ("g" == a[r].tagName) n = t(a[r]);
                    else if ($.inArray(a[r].tagName, ["path", "line", "polygon", "rect", "circle", "ellipse"]) >= 0) {
                n = a[r].getAttribute("stroke-width") ? a[r].getAttribute("stroke-width") : a[r].getAttribute("stroke") ? 1 : 0;
                break
            }
            return !n || "none" == n || isNaN(n) ? 0 : n
        }
        return e = e || n.canvas.getSelectedElems(), t(e[0])
    }, n
}
INKIVE.Editor = {},
    function(e) {
        var t = null;
        e(document).ready(function() {
            function n() {
                var t = e.browser.name,
                    n = e.browser.versionNumber,
                    o = !1;
                switch (t) {
                    case "android":
                        o = n >= 4;
                        break;
                    case "webkit":
                        o = n >= 600;
                        break;
                    case "chrome":
                        o = n >= 4;
                        break;
                    case "msie":
                        o = n >= 13;
                        break;
                    case "safari":
                        o = n >= 7;
                        break;
                    case "mozilla":
                    case "firefox":
                        o = n >= 31
                }
                return o
            }
            if (n()) {
                var o = initEditor();
                t = INKIVE.Tool.getInstance(null, o, function() {
                    function n() {
                        INKIVE.EditorFacade.handle("page", "move_to", {
                            page_number: INKIVE.page,
                            quiet: !0
                        }).then(function() {
                            t.inkiveLoader(0), t.show(), e('#tool-panel .tool-menu [href="#tabRestrictions"]').trigger("click");
                            var n = 0 === e("#svgroot .main").find(":not(title)").length;
                            n && INKIVE.Helpers.isDesygnerProject() && o.canvas.call("advice.show", "pick-template"), INKIVE.C.IS_MOBILE_APP && _.defer(function() {
                                AppBridge.callBoth("editor_loaded", {
                                    book_id: INKIVE.C.BOOK.id
                                })
                            })
                        })
                    }
                    o.init(), INKIVE.C.IS_MOBILE && setTimeout(function() {
                        window.scrollTo(0, 1)
                    }, 1);
                    var i = INKIVE.Keyboard.getInstance(o);
                    i.init(), o.gesture = new INKIVE.Gesture(o.canvas), INKIVE.DesignFacade.initialize(), INKIVE.EditorFacade.initialize(o.curConfig), INKIVE.ProjectFacade.initialize(), INKIVE.SVGElementLoading.initialize(), window.AppBridge && AppBridge.initialize();
                    var a = INKIVE.C.BOOK.book_type == INKIVE.C.BOOK_TYPE.RESTRICTED_DESIGN,
                        r = INKIVE.FontsFactory.initialize(),
                        s = a ? INKIVE.RestrictionsFacade.initialize() : e.Deferred().resolve();
                    e.when(r, s).then(function() {
                        a && INKIVE.EditorModeManager.setMode("restrict"), n()
                    }), e(window).on("resize", function() {
                        o.initEditor(), INKIVE.EditorFacade.handle("zoom", "fit"), t.editor.canvas.runExtensions("browserResize", {}), t.resize()
                    }), e(o.curConfig.workarea).bind("mousewheel DOMMouseScroll", function(e) {
                        if (e.shiftKey) {
                            e.preventDefault();
                            var t = e.originalEvent,
                                n = t.wheelDelta ? t.wheelDelta : t.detail ? -t.detail : 0;
                            n && (n > 0 && INKIVE.EditorFacade.handle("zoom", "in"), n <= 0 && INKIVE.EditorFacade.handle("zoom", "out"))
                        }
                    })
                })
            } else {
                var i = '<h1>Oops...</h1><h2>This browser is not supported.</h2><h3 style="text-align: center;">But don’t worry, there is an easy fix. All you have to do is to click on one of the icons below and follow the instructions.</h3><h2 class="bottom"><a title="Use Safari" class="browser-icon browser-safari" href="http://www.apple.com/safari/"></a>&nbsp;&nbsp;<a title="Download Firefox" class="browser-icon browser-firefox" href="https://www.mozilla.org/firefox"></a>&nbsp;&nbsp;<a title="Download Chrome" class="browser-icon browser-chrome" href="https://www.google.com/chrome"></a></h2>';
                e("#inkiveLoader").length && e("#inkiveLoader").append(i)
            }
        })
    }(jQuery);
INKIVE.Tool = function(e, t, a) {
    this.col = 2, this.$elem = e ? $(e) : $("#tool-panel"), this.editor = t, this.tabButtonTraker = null, this.timeout = {
        image: 5e3
    }, this.token = {
        facebook: null,
        instagram: null
    }, this.defaultListQueryParams = {
        inst: (new Date).getTime(),
        from: 0,
        limit: INKIVE.C.IS_MOBILE ? 10 : 20
    };
    var i = this;
    this.inkiveLoader(1, function() {
        function e() {
            a && a(), i.initMainHandlers(), INKIVE.Helpers.initTooltips(), INKIVE.Helpers.initPopover(), i.initAccordion(), i.initDropdownButton(), i.initExpandContent(), i.initTabEvent(), i.initScroll($("#pages-panel")), i.initProjectSettings(), INKIVE.C.IS_MOBILE && i.updateCurrentPageInfo(), INKIVE.ProjectFacade.on("design.removed", function(e) {
                INKIVE.EditorFacade.handle("cache", "remove", e), i.updateCurrentPageInfo()
            }), INKIVE.C.IS_MOBILE && $(".tool-menu .menu .ui-dropdown").popupmenudropdown(), INKIVE.C.MODE.IS_DESYGNER && _.delay(_.partial(i.editor.canvas.runExtensions, "enableRuler", {}), 1e3), localStorage.getItem("colors") || _.each(INKIVE.C.DefaultColors, t.setFavColor)
        }
        var n = _.once(e);
        $("#ik-editor").css("opacity", 0), "undefined" == typeof fontSpy || fontSpy("Lato", {
            success: n
        }), _.delay(n, 3e3)
    })
}, INKIVE.Tool._current_page_number, INKIVE.Tool._cache = {}, INKIVE.Tool._autoSaveTimeout = null, INKIVE.Tool._intervalThumb = {}, INKIVE.Tool.preloadFavFonts = function(e) {
    return e = e || $.noop, INKIVE.Tool._cache.favFonts ? void e(!0) : void INKIVE.Helpers.api("favourites/font", "GET", {
        id: INKIVE.C.BOOK.id
    }, function(t) {
        INKIVE.Tool._cache.favFonts = t.data ? t.data : [], e("success" == t.status)
    })
}, INKIVE.Tool.preloadLayoutFormat = function(e) {
    return e = e || $.noop, INKIVE.Tool._cache.layoutFormat ? void e(!0) : void INKIVE.Helpers.api("management/layoutformat", "GET", {}, function(t) {
        "success" == t.status && (INKIVE.Tool._cache.layoutFormat = t.data), e("success" == t.status)
    })
}, INKIVE.Tool.preloadStickerCategories = function(e) {
    return e = e || $.noop, INKIVE.Tool._cache.stickerCategories ? void e(!0) : void INKIVE.Helpers.api("search/category", "GET", {
        type: "sticker"
    }, function(t) {
        INKIVE.Tool._cache.stickerCategories = t, e(!0)
    })
}, INKIVE.Tool.preloadBackgroundCategories = function(e) {
    return e = e || $.noop, INKIVE.Tool._cache.backgroundCategories ? void e(!0) : void INKIVE.Helpers.api("search/category", "GET", {
        type: "background"
    }, function(t) {
        INKIVE.Tool._cache.backgroundCategories = t, e(!0)
    })
}, INKIVE.Tool.getInstance = function(e, t, a) {
    return !INKIVE.Tool.INSTANCE && t ? INKIVE.Tool.INSTANCE = new INKIVE.Tool(e, t, a) : INKIVE.Tool.INSTANCE
}, INKIVE.Tool.autoSave = function(e) {
    INKIVE.Tool._autoSaveTimeout && clearTimeout(INKIVE.Tool._autoSaveTimeout), INKIVE.Tool._autoSaveTimeout = null, "clipperImage" != INKIVE.Tool.getInstance().editor.canvas.getCurrentDrawing().getCurrentLayer().getAttribute("class") && INKIVE.C.IS_AUTO_SAVE && INKIVE.Tool.getInstance() && !INKIVE.Tool._autoSaveTimeout && e && (INKIVE.Tool._autoSaveTimeout = setTimeout(function() {
        INKIVE.C.IS_DEV && console.warn("Autosave"), INKIVE.EditorFacade.handle("page", "save", {
            quiet: !0
        }).then(function() {
            INKIVE.Tool._autoSaveTimeout = null
        })
    }, INKIVE.C.AUTO_SAVE_INTERVAL))
}, INKIVE.Tool.disableUI = function() {
    $("#tool-panel").addClass("disabled"), $("#header .right-menu").addClass("disabled"), $("#copy-paste-panel").addClass("disabled"), $("#right-submenu").addClass("disabled"), $("#left-submenu").addClass("disabled"), $("#bottom-submenu").children().addClass("disabled"), $("#bottom-submenu").find(".tool-zoom").removeClass("disabled"), $("#pages-panel").addClass("disabled")
}, INKIVE.Tool.enableUI = function() {
    $("#tool-panel").removeClass("disabled"), $("#header .right-menu").removeClass("disabled"), $("#copy-paste-panel").removeClass("disabled"), $("#right-submenu").removeClass("disabled"), $("#left-submenu").removeClass("disabled"), $("#bottom-submenu").children().removeClass("disabled"), $("#pages-panel").removeClass("disabled")
}, INKIVE.Tool.blinkScreen = function(e) {
    var t = $("#workarea");
    t.animate({
        backgroundColor: "#ffdd17"
    }, 100, function() {
        t.animate({
            backgroundColor: "#CBCBCB"
        }, 500)
    })
}, INKIVE.Tool.calculateStringContentDifference = function(e, t) {
    for (var a = 0; a < e.length && a < t.length && e[a] === t[a];) a++;
    for (var i = 0; i < e.length && i < t.length && e.length - i > a && t.length - i > a && e[e.length - 1 - i] === t[t.length - 1 - i];) i++;
    var n = t.length - i,
        o = e.length - i,
        r = o - a,
        l = n - a;
    return {
        position: a,
        removed: r,
        added: l
    }
}, INKIVE.Tool.prototype = {
    constructor: INKIVE.Tool,
    initMainHandlers: function() {
        function e() {
            function e() {
                function e(e, t) {
                    var a = !1;
                    if (INKIVE.C.IS_MOBILE_APP && AppBridge.version.isApp("desygner") && (a = window.Android ? !t && INKIVE.C.MODE.IS_DESYGNER && AppBridge.version.isGreaterThan("1.0.2") : INKIVE.C.MODE.IS_INKIVE && AppBridge.version.isGreaterThan("1.5.1") || INKIVE.C.MODE.IS_PHOTOBOOKY && AppBridge.version.isGreaterThan("1.2") || INKIVE.C.MODE.IS_DESYGNER && AppBridge.version.isGreaterThan("1.0.1")), a) AppBridge.callBoth(t || "open_in_new_window", {
                        url: e
                    });
                    else {
                        var i = window.open(e, "Share", "height=500,width=500, location=0");
                        window.focus && i.focus()
                    }
                }
                $("#ik-share-link").on("click", function() {
                    this.select()
                }), $("#tabShare .notallowed .btn").on("click", function(e) {
                    if ($("#ik-project-privacy a.make-public").trigger("click"), e.stopPropagation(), !INKIVE.C.IS_MOBILE) {
                        var t = $("#ik-share"),
                            a = t.html();
                        t.html(INKIVE.TemplatesHelper("modal_loader") + "<span>hold on...</span>"), $("#ik-share").one("click", function() {
                            t.html(a)
                        })
                    }
                }), $("#ik-share-facebook").on("click", function() {
                    e(INKIVE.Helpers.getTwitterUrl(), "share_with_fb")
                }), $("#ik-share-linkedin").on("click", function() {
                    e(INKIVE.Helpers.getLinkedinUrl())
                }), $("#ik-share-twitter").on("click", function() {
                    e(INKIVE.Helpers.getTwitterUrl())
                }), $("#ik-share-google").on("click", function() {
                    e(INKIVE.Helpers.getGoogleplusUrl())
                }), $("#ik-share-embed").on("click", function() {
                    var e = new INKIVE.ModalShareEmbed({}),
                        t = INKIVE.Modal.modalWindow(e.getFormHtml(), {
                            width: 600,
                            headerIcon: "icon-code",
                            headerTitle: "editor.embed",
                            buttons: [{
                                title: INKIVE.TranslateHelper.translate("general.close"),
                                onClick: function() {
                                    e.saveForm(function() {
                                        t.close()
                                    })
                                }
                            }]
                        })
                }), $("#ik-share-email").on("click", function() {
                    var e = new INKIVE.ModalShareEmail,
                        t = INKIVE.Modal.modalWindow(e.getFormHtml(), {
                            width: 500,
                            headerIcon: "icon-mail-forward",
                            headerTitle: "modal.title.share_email",
                            buttons: [{
                                title: INKIVE.TranslateHelper.translate("general.send"),
                                onClick: function() {
                                    e.saveForm(function() {
                                        t.close()
                                    })
                                }
                            }]
                        })
                })
            }

            function t() {
                $('.action[data-action="delete_page"]').on("click", function() {
                    INKIVE.ProjectFacade.handle("design", "delete")
                }), $('.action[data-action="go_previous_page"]').on("click", function() {
                    INKIVE.EditorFacade.handle("page", "move_to", {
                        page_number: INKIVE.Tool._current_page_number - 1
                    })
                }), $('.action[data-action="go_next_page"]').on("click", function() {
                    INKIVE.EditorFacade.handle("page", "move_to", {
                        page_number: INKIVE.Tool._current_page_number + 1
                    })
                }), $('.action[data-action="add_page"]').on("click", function() {
                    INKIVE.ProjectFacade.handle("design", "add")
                })
            }
            t(), e()
        }
        var t = this,
            a = (t.$elem, t.editor);
        a.canvas;
        INKIVE.C.IS_MOBILE && e(), $(window).on("contextmenu", function(e) {
            return !1
        }), $(window).on("dragstart", function(e) {
            return !1
        }), $("#help").on("click", function(e) {
            var t = new INKIVE.ModalHelp({}),
                a = INKIVE.Modal.modalWindow(t.getFormHtml(), {
                    width: 500,
                    headerIcon: "icon-help",
                    headerTitle: "general.help",
                    buttons: [{
                        title: INKIVE.TranslateHelper.translate("modal.buttons.send_request"),
                        onClick: function() {
                            t.saveForm(function(e) {
                                a.close()
                            })
                        }
                    }]
                })
        }), $('.ui-dropdown-button[data-id="download"]').one("click", function() {
            t.initDownload()
        }), $('.action[data-action="downloadnew"]').on("click", function() {
            t.download($(this).attr("data-type"))
        })
    },
    initAccordion: function() {
        var e = this;
        $('.accordion > dt > [data-toggle!="tab"][data-toggle!="custom"]').on("click", function() {
            $('.accordion > dt > [data-toggle!="tab"][data-toggle!="custom"]').each(function(e, t) {
                var a = $(t).parent().next();
                a.length && a.slideUp("fast")
            });
            var t = $(this);
            if (t.hasClass("active")) $('.accordion > dt > [data-toggle!="custom"]').removeClass("active");
            else {
                var a = t.parent().next();
                a.length && ("accordion" == t.attr("data-toggle") && e.initTab(t.attr("href"), function(e) {}), a.slideDown("fast", function() {
                    var a = t.attr("href");
                    $(a).reloadThumb(), e.initScroll(a)
                })), $('.accordion > dt > [data-toggle!="custom"]').removeClass("active"), t.addClass("active")
            }
            return !1
        })
    },
    initExpandContent: function() {
        $(".expand-panel .expand-button").on("click", function() {
            var e = $(this).parents(".expand-panel").find(".expand-content"),
                t = $(this).find("i");
            e.is(":visible") ? (t.attr("class", "icon-chevron-right"), $(this).removeClass("active")) : (t.attr("class", "icon-chevron-down"), $(this).addClass("active")), e.fadeToggle("fast")
        })
    },
    initDropdownButton: function() {
        $(".ui-dropdown-button").on("click", function() {
            var e = $(this).attr("data-id"),
                t = Math.round($(window).width() - $(this).offset().left - ($(this).width() + 30)),
                a = $('.ui-dropdown-content[data-id="' + e + '"]');
            a.css("right", t), a.fadeToggle("fast"), $(this).toggleClass("active")
        }), $(document).mouseup(function(e) {
            var t = $(".ui-dropdown-content");
            $(e.target).hasClass("ui-dropdown-button") && $(e.target).hasClass("active") || t.is(e.target) || 0 !== t.has(e.target).length || (t.fadeOut("fast"), $(".ui-dropdown-button").removeClass("active"))
        }), $(document).mouseup(function(e) {
            var t = $(".ui-dropdown-items");
            $(e.target).parents(".ui-dropdown").andSelf().is(".active") || t.is(e.target) || 0 !== t.has(e.target).length || (t.each(function() {
                var e = $(this).parents(".root-popupmenu").length;
                e && $(this).css("visibility", "hidden"), e || $(this).fadeOut("fast")
            }), $(".ui-dropdown").removeClass("active"))
        })
    },
    initProjectSettings: function() {
        function e() {
            $(o.join(",")).on("change", a), $("#tabProjectMore input[type=checkbox]").on("ifToggled", a), $("#ik-project-privacy a").on("click", function() {
                $("#ik-project-privacy a").removeClass("active"), $(this).addClass("active"), $("input#ik-project-privacy-value").val($(this).attr("data-id")).trigger("change")
            }), $("#tabProjectTeam a").on("click", function() {
                var e = new INKIVE.ModalFriends({
                        type: $(this).attr("data-type")
                    }),
                    t = INKIVE.Modal.modalWindow(e.getFormHtml(), {
                        width: 500,
                        headerIcon: "icon-group",
                        headerTitle: "modal.title.select_friends",
                        buttons: [{
                            title: INKIVE.TranslateHelper.translate("general.save_changes"),
                            onClick: function() {
                                e.saveForm(function(e, a, n) {
                                    if (n.length > 0) {
                                        var o = $("#tabProjectTeam ul." + a + "-list");
                                        INKIVE.ModalFriends.initInvolvedList(o, a, i)
                                    }
                                    e && t.close()
                                })
                            }
                        }]
                    })
            }), $("#ik-project-category").on("click", function() {
                n.toggle()
            }), $("#ik-project-language").on("click", function() {
                $("#ik-project-language-items").toggle()
            }), $("#ik-project-language-items li").on("click", function() {
                var e = $(this).data("locale");
                INKIVE.Helpers.cookieStorage.set("locale", e), INKIVE.Modal.alertMessage(INKIVE.TranslateHelper.translate("modal.alert.locale_updated"), {
                    width: 450
                })
            })
        }

        function t() {
            $("input#ik-project-category-value").val(INKIVE.C.BOOK.category), $("input#ik-project-privacy-value").val(INKIVE.C.BOOK.security);
            var e = "check";
            $.each(["suitable", "canaddphotos", "printable"], function(t, a) {
                INKIVE.C.BOOK.settings[a] && $('#tabProjectMore input[type="checkbox"][name="' + a + '"]').iCheck(e)
            }), $("#ik-project-privacy a").removeClass("active"), $('#ik-project-privacy a[data-id="' + INKIVE.C.BOOK.security + '"]').addClass("active");
            var t = 10 == INKIVE.C.BOOK.security;
            $("#ik-project-team-contributors, #ik-project-team-tag").toggle(!t), $("#tabShare .allowed").toggle(!t), $("#tabShare .notallowed").toggle(t), $("#ik-share").attr("data-id", t ? "share_not_allowed" : "share_allowed");
            var a = $('.ui-dropdown-content[data-id="share_not_allowed"]');
            a.is(":visible") && $("#ik-share").trigger("click")
        }

        function a() {
            var e = {};
            $(o.join(",")).each(function() {
                e[$(this).attr("name")] = $(this).val()
            }), $('#tabProjectMore input[type="checkbox"]').each(function() {
                e[$(this).attr("name")] = $(this).is(":checked") ? 1 : 0
            }), INKIVE.SettingsFactory.set(e), $("a.close").removeClass("disabled")
        }

        function i(e) {
            var t = e.parents(".userHolder"),
                a = INKIVE.TemplatesHelper("alert_delete_confirm", {
                    title: t.attr("data-original-title"),
                    admin: "admins" == t.attr("data-role") && !e.hasClass("creator")
                });
            INKIVE.Modal.alertMessage(a, {
                width: 450,
                callback: [function() {
                    INKIVE.ModalFriends.deleteInvolvedUser(e)
                }, function() {}]
            })
        }
        var n = $("ul#ik-project-category-items"),
            o = ["input#ik-project-category-value", "input#ik-project-privacy-value"];
        $("#tabProjectMore input[type=checkbox]").iCheck({
            checkboxClass: "icheckbox_square-yellow"
        }), $('.tool-menu > ul a[href="#tabSettings"]').one("click", function() {
            _.each(["admins", "inked", "tagged"], function(e) {
                var t = $("#tabProjectTeam ul." + e + "-list");
                INKIVE.ModalFriends.initInvolvedList(t, e, i)
            }), INKIVE.Helpers.api("inkive/settings", "GET", {}, function(e) {
                for (var t = e.category, a = 0; a < t.length; a++) {
                    var i = $.parseHTML('<li><a data-id="' + t[a].id + '">' + t[a].category + "</a></li>");
                    n.append(i), INKIVE.C.BOOK.category == t[a].id && $("#ik-project-category-txt").html(t[a].category), $(i).find("a").on("click", function() {
                        var e = $(this).attr("data-id");
                        $("input#ik-project-category-value").val(e).trigger("change"), $("#ik-project-category-txt").html($(this).html()), n.hide()
                    })
                }
            })
        }), t(), e(), INKIVE.SettingsFactory.on("update", t)
    },
    download: function(e) {
        var t = this,
            a = t.editor,
            i = a.canvas,
            n = INKIVE.Modal.alertMessage(INKIVE.TemplatesHelper("alert_bold", {
                message: "modal.alert.preparing_file"
            }), {
                skip: !1,
                loader: !0
            }),
            o = $('.ui-dropdown-content[data-id="download"] div[data-type="' + e + '"]'),
            r = o.find("[name=is" + ("jpeg" === e ? "Jpg" : "Png") + "WebQuality]");
        if ($('.ui-dropdown-button[data-id="download"]').click(), r.length && r[0].checked) {
            var l = Date.now(),
                s = "png" === e && o.find("[name=isForcedTransparency]").is(":checked") ? null : "#FFF",
                d = "jpeg" === e ? o.find(".quality-slider").slider("value") : null,
                c = !1;
            INKIVE.DesignFacade.off("preview.download").on("preview.download", function(t) {
                if (!c) {
                    var a = Base64.decode(INKIVE.C.BOOK.name) + "." + e.replace("jpeg", "jpg");
                    if (navigator.msSaveBlob) {
                        var i = function(e, t, a) {
                                t = t || "", a = a || 512;
                                for (var i = atob(e), n = [], o = 0; o < i.length; o += a) {
                                    for (var r = i.slice(o, o + a), l = new Array(r.length), s = 0; s < r.length; s++) l[s] = r.charCodeAt(s);
                                    var d = new Uint8Array(l);
                                    n.push(d)
                                }
                                return new Blob(n, {
                                    type: t
                                })
                            },
                            o = t.split(";base64,"),
                            r = i(o[1], o[0].replace("data:", ""));
                        navigator.msSaveBlob(r, a)
                    } else {
                        var s = document.createElement("a");
                        s.download = a, s.href = t.replace("image/" + e, "image/octet-stream"), document.body.appendChild(s), s.click(), document.body.removeChild(s)
                    }
                    Date.now() - l > 1e3 ? n.close() : _.delay(_.bind(n.close, n), 1e3), c = !0
                }
            }), INKIVE.DesignFacade.handle("preview", null, {
                maxwidth: i.contentW,
                maxheight: i.contentH,
                format: e,
                background: s,
                isdownload: !0,
                quality: d
            }), _.delay(function() {
                c || (c = !0, n.close(), r[0].checked = !1, r.closest(".icheckbox_square-yellow").removeClass("checked"), r.closest(".checkbox").addClass("disabled"), r.trigger("ifToggled"), INKIVE.Modal.alertMessage(INKIVE.TemplatesHelper("alert_span", {
                    text: INKIVE.TranslateHelper.translate("modal.alert.downloading_web_error")
                })))
            }, 1e4)
        } else INKIVE.EditorFacade.handle("page", "save").then(function() {
            INKIVE.Helpers.DownloadProcedure.execute(o, {
                contentW: i.contentW,
                contentH: i.contentH,
                format: e
            }, function(e) {
                n.close()
            })
        })
    },
    initDownload: function() {
        function e(e, t) {
            var a = s.find('input[name="page_from"]'),
                i = s.find('input[name="page_to"]');
            a.val(e), s.find("#page_from").empty().html(a.val()), i.val(t), s.find("#page_to").empty().html(i.val())
        }

        function t() {
            s.find("[type=checkbox]").iCheck({
                checkboxClass: "icheckbox_square-yellow"
            }), s.find("[type=radio]").iCheck({
                radioClass: "iradio_square-yellow"
            }), s.find(".ui-dropdown .input-icon").off("click").on("click", function(e) {
                $(e.target).parents(".ui-dropdown").find("ul").toggle()
            }), s.find("a.quality").off("click").on("click", function() {
                s.find("a.quality").removeClass("active"), $(this).addClass("active")
            })
        }

        function a(e, t) {
            var a = "." + e + "Dimensions",
                i = t && h > t ? t : h,
                n = t && h > t ? parseInt(t / p) : I;
            s.find(a + '[data-type="width"]').val(i), s.find(a + '[data-type="height"]').val(n)
        }

        function i(e) {
            var t = INKIVE.EditorFacade.editor.canvas,
                a = $('[type=checkbox][name="isJpgWebQuality"], [type=checkbox][name="isPngWebQuality"]');
            a.on("ifToggled", function() {
                var e = $(this).closest(".ui-tabs-panel"),
                    a = e.find(".quality-slider");
                if (e.find(".expand-panel").toggleClass("disabled", this.checked), a.length) {
                    var i = this.checked ? 60 : 91;
                    a.slider({
                        value: i
                    }), a.toggleClass("disabled", this.checked), e.find(" .estimated-size .value").html(INKIVE.Helpers.calculateJpegSize(t.contentW, t.contentH, i))
                }
            }), e && a.trigger("ifToggled")
        }

        function n(e) {
            var t = "is" + l(e),
                a = "." + e + "Dimensions";
            s.find('[type=checkbox][name="' + t + '"]').on("ifToggled", function(e) {
                $(this).parents(".checkbox").find(a).toggleClass("disabled")
            })
        }

        function o(e) {
            e += "Dimensions", s.find("." + e).change(function(t) {
                r($(this), e)
            })
        }

        function r(e, t) {
            var a = parseInt(e.val()),
                i = e.attr("data-type");
            a < 16 && (a = 16), a > 3e3 && (a = 3e3);
            var n = "width" == i ? a : parseInt(a / p),
                o = "width" != i ? a : parseInt(a / p);
            s.find("." + t + '[data-type="width"]').val(n), s.find("." + t + '[data-type="height"]').val(o)
        }

        function l(e) {
            return e.charAt(0).toUpperCase() + e.slice(1)
        }
        var s = $('.ui-dropdown-content[data-id="download"]');
        if (s.length) {
            var d = this,
                c = d.editor,
                u = c.canvas;
            s.find(".tabs").tabs();
            var g = ["thumb", "web", "mobile"],
                h = u.contentW,
                I = u.contentH;
            737 == h && 521 == I && (h = 842, I = 595);
            var p = h / I,
                m = s.find(".quality-slider").slider({
                    max: 100,
                    min: 1,
                    value: 92,
                    slide: function(e, t) {
                        s.find('div[data-type="jpeg"] .estimated-size .value').html(INKIVE.Helpers.calculateJpegSize(h, I, t.value))
                    },
                    start: function(e, t) {},
                    stop: function(e, t) {}
                });
            m.slider("float"), t(), a("rangeCurrent"), a("thumb", 110), a("mobile", 600), a("web", 800), i(!0), _.each(g, n), _.each(_.union(["rangeCurrent"], g), o), s.find('div[data-type="png"] .estimated-size .value').html(INKIVE.Helpers.calculatePngSize(h, I)), s.find('div[data-type="jpeg"] .estimated-size .value').html(INKIVE.Helpers.calculateJpegSize(h, I, s.find(".quality-slider").slider("option", "value"))), s.find("[type=radio]").iCheck({
                radioClass: "iradio_square-yellow"
            }), 1 == INKIVE.C.BOOK.num_pages && s.find('[type=radio][name="isRange"][id="isRangeCurrent"]').parents("div.checkbox").hide(), 1 == INKIVE.C.BOOK.num_pages && s.find('[type=radio][name="isRange"][id="isRangeSelected"]').parents("div.checkbox").hide(), s.find('[type=radio][name="isRange"]').off("ifToggled").on("ifToggled", function(t) {
                $(this).is(":checked") && (s.find(".ui-dropdown, .rangeCurrentDimensions").addClass("disabled"), "isRangeSelected" == $(this).attr("id") ? s.find(".ui-dropdown").removeClass("disabled") : "isRangeCurrent" == $(this).attr("id") ? (s.find(".rangeCurrentDimensions").removeClass("disabled"), e(INKIVE.Tool._current_page_number, INKIVE.Tool._current_page_number)) : e(1, INKIVE.C.BOOK.num_pages))
            });
            for (var f = s.find("ul#page_from_options").empty(), v = s.find("ul#page_to_options").empty(), b = 1, E = INKIVE.C.BOOK.num_pages; b <= E; b++) {
                var N = $.parseHTML('<li data-id="' + b + '">' + b + "</li>");
                f.append($(N).clone()), v.append($(N).clone())
            }
            var k = s.find('input[name="page_from"]'),
                K = s.find('input[name="page_to"]');
            s.find(".ui-dropdown ul li").off("click").on("click", function(e) {
                var t = $(this).attr("data-id"),
                    a = $(this).parents("ul.ui-dropdown-items");
                a.attr("id").indexOf("page_from_options") > -1 ? (k.val(t), s.find("#page_from").empty().html(k.val())) : (K.val(t), s.find("#page_to").empty().html(K.val())), a.hide()
            }), s.find('[type=radio][name="isRange"][id="isRangeAll"]').is(":checked") && e(1, INKIVE.C.BOOK.num_pages)
        }
    },
    initTabEvent: function(e) {
        var t = this;
        e = e || "body", $(e).find('[data-toggle="tab"]').on("shown.bs.tab", function(e) {
            function a() {
                var e = i.attr("href");
                t.initTab(e, function(a) {
                    a && t.initScroll(e)
                })
            }
            var i = $(e.target);
            t.mobileBackMenu(i), t.tabButtonTraker = this, _.defer(a), INKIVE.C.IS_MOBILE && t.mobileBackMenuShow(!0)
        })
    },
    mobileBackMenu: function(e) {
        var t = $("#ik-menu-back");
        if (t.length) {
            var a = t.find(".text-element"),
                i = "Main menu",
                n = "";
            if (e && e.length) {
                var o = e.attr("href").replace("#", "");
                n = $('[data-toggle="tab"][href="#' + o + '"]').parents('[role="tabpanel"]').attr("id") || n, $.inArray(n, ["tabPhotoAlbums", "tabPhotoImages"]) > -1 && (n = "tabImages");
                var r = $('[role="tab"][href="#' + n + '"]');
                i = r.attr("tag") || i
            }
            t.attr("data-href", n), a.html("Back to " + i)
        }
    },
    mobileBackMenuShow: function(e) {
        e && $("#tool-panel").addClass("active"), e || $("#tool-panel").removeClass("active")
    },
    initScroll: function(e, t) {
        function a() {
            function e() {
                var e = $(this).closest(".antiscroll-inner");
                return 0 === e.length
            }

            function t() {
                n -= 30, i.parent(".accordion").find("dt").each(function() {
                    n -= $(this).outerHeight(!0)
                })
            }
            var a = i.closest('div[role="tabpanel"]'),
                n = a.height(),
                o = [".breadcrumb", ".tool-search", ".drag-drop-file", ".colorLineWrapper", ".tool-static-block", ".filterWrapper:not(.subfilter)", ".header-links", ".search-container", ".search-title"];
            return a.find(o.join(",")).filter(":visible").filter(e).each(function(e, t) {
                n -= $(t).outerHeight(!0)
            }), r && t(), n
        }
        var i = $(e),
            n = i.find(".accordion dd:visible"),
            o = n.length,
            r = i.length && "dd" == i.prop("tagName").toLowerCase();
        if (!r && o) return this.initScroll(n, t);
        var l = i.width() < i.parents(".tool-content").width() ? i.width() : i.parents(".tool-content").width();
        t = $.extend({
            autoHide: !1,
            width: l,
            height: a()
        }, t), i.hasClass("antiscroll-wrap") ? i.antiscroll(t) : i.find(".antiscroll-wrap").antiscroll(t)
    },
    saveNotification: function(e) {
        $("#ik-save").toggle(!e), $("#ik-save-notification").toggle(e)
    },
    updateCurrentPageInfo: function() {
        INKIVE.C.IS_MOBILE ? ($("#current-page").html(INKIVE.Tool._current_page_number), $("#all-page").html(INKIVE.C.BOOK.num_pages), 1 == INKIVE.Tool._current_page_number ? $('.action[data-action="go_previous_page"]').addClass("disabled") : $('.action[data-action="go_previous_page"]').removeClass("disabled"), INKIVE.Tool._current_page_number == INKIVE.C.BOOK.num_pages ? INKIVE.C.IS_MOBILE ? ($('.action[data-action="go_next_page"]').hide(), $('.action[data-action="add_page"]').show()) : $('.action[data-action="go_next_page"]').addClass("disabled") : INKIVE.C.IS_MOBILE ? ($('.action[data-action="go_next_page"]').show(), $('.action[data-action="add_page"]').hide()) : $('.action[data-action="go_next_page"]').removeClass("disabled"), 1 == INKIVE.C.BOOK.num_pages ? $('.action[data-action="delete_page"]').addClass("disabled") : $('.action[data-action="delete_page"]').removeClass("disabled")) : INKIVE.Menus.bottomSubmenu.updateCurrentPageInfo()
    },
    saveLayout: function(e, t) {
        function a() {
            var e = /(<image[^>]*\sxlink:href=['"])([^'"]*)(['"][^>]*>)/gi;
            u = u.replace(e, function(e, t, a, i) {
                var n = svgedit.utilities.fromXml(a),
                    o = INKIVE.ImagesFactory.getOriginalUrl(n);
                return a = o ? svgedit.utilities.toXml(o) : a, t + a + i
            })
        }
        var i = this,
            n = i.editor;
        t = t || $.noop;
        var o = $("#svgcontent"),
            r = $("g.main"),
            l = $("g.main title");
        l.remove();
        var s = r.html();
        r.prepend(l);
        var d = $("#layout_defs").html();
        d || (d = "");
        var c = "",
            u = "",
            g = o.find(".background").get(0);
        e.isBackground ? (g && (c = g.innerHTML), u = n.getSvgString()) : (o[0].removeChild(g), u = n.getSvgString(), o[0].appendChild(g));
        var h = $("<div>").append($($("#defsWrapper").find("defs")).clone()).html();
        h || (h = "<defs></defs>");
        try {
            a()
        } catch (I) {
            console.error(I.message)
        }
        var p = {
            id: e.id,
            layoutData: Base64.encode(s),
            layoutDefs: Base64.encode(d),
            layoutBg: Base64.encode(c),
            svgCont: Base64.encode(u),
            svgDefs: Base64.encode(h)
        };
        _.delay(function() {
            INKIVE.Helpers.apiMultipart("management/layoutdata", p, function(a) {
                a && "success" == a.status ? (t(!0), i.updateThumbImage("layout-" + e.id, a.url)) : (INKIVE.Modal.alertMessage(INKIVE.TemplatesHelper("alert_default", {
                    message: "modal.alert.update_layout"
                })), t(!1))
            })
        }, 1e3)
    },
    saveSticker: function(e, t) {
        var a = this;
        a.editor;
        t = t || $.noop;
        var i = INKIVE.Helpers.getStickerFromSvg();
        if (!i) return void t(!0);
        var n = {
            id: e.id,
            content: Base64.encode(i)
        };
        INKIVE.Helpers.api("management/stickerdata", "POST", n, function(e) {
            e && "success" == e.status ? (t(!0), a.updateThumbImage("sticker-" + e.id, e.url)) : (INKIVE.Modal.alertMessage(INKIVE.TemplatesHelper("alert_default", {
                message: "modal.alert.update_sticker"
            })), t(!1))
        })
    },
    isReadyToSave: function() {
        return this.onceItsReadyToSave($.noop, $.noop, !0)
    },
    onceItsReadyToSave: function(e, t, a) {
        function i(e) {
            var t = e.getAttribute("xlink:href"),
                i = INKIVE.ImagesFactory.getImageUrl(e);
            if (!i && INKIVE.Helpers.isDataURL(t)) {
                if (a) return !0;
                var n = null === i || INKIVE.C.IS_MOBILE_APP || $(e).parent().is(".background") || $(e).hasClass(INKIVE.C.FLIP_IMAGE.HORIZONTAL) || $(e).hasClass(INKIVE.C.FLIP_IMAGE.VERTICAL);
                !n && r(INKIVE.Helpers.dataURLToBlob(t), e), n && o(e)
            } else t && t.indexOf("assetsimgplaceholdersimageplaceholdernew") > -1 && $(e).remove()
        }

        function n(t) {
            s[t] && (delete s[t], Object.keys(s).length || e())
        }

        function o(e) {
            var t = e.getAttribute("id") || "background";
            s[t] = !0;
            var a = $(e).parent().is(".background") ? "background.update.source" : t + ".source.url";
            INKIVE.DesignFacade.on(a, _.partial(n, t))
        }

        function r(e, t) {
            var a = $("#tabImages"),
                i = a.find(".header-links").find("[data-key=add]"),
                o = a.is(".active") && i.is(".active");
            o || ($('.btn-tag[href="#tabImages"]').trigger("click"), i.trigger("click")), s[-1] = !0, _.defer(function() {
                delete s[-1];
                var a = INKIVE.Tabs.images.$el.find(".import-button.uploader.progress-button"),
                    i = INKIVE.Tabs.images.$el.find('.btn-accordion[data-key="project"]');
                i.trigger("click"), a.fineUploaderS3("addBlobs", [e]);
                var o = _.filter(a.fineUploaderS3("getUploads"), function(e) {
                        return "rejected" !== e.status
                    }),
                    r = _.last(o);
                s[r.id] = !0, a.on("error", function(e, t, a, i, o) {
                    n(t)
                }), a.on("cancel", function(e, t, a) {
                    n(t)
                }), a.on("complete", function(e, a, i, o, r) {
                    s[a] && (svgedit.utilities.assignAttributes(t, {
                        "xlink:href": o.tempLink
                    }), n(a))
                })
            })
        }
        var l = this.editor.canvas,
            s = {},
            d = l.getCurrentDrawing().getCurrentLayer(),
            c = $("#svgroot").find(".main image.element");
        if ($.contextMenu("destroy"), $(".context-menu-active").removeClass("context-menu-active"), a || $("#svgcontent > g:not(.background,.main:last-child)").remove(), c.hasClass("darg-and-drop-upload")) return l.call("advice.show", "uploading-images-save"), void t();
        if (d && "clipperImage" == d.getAttribute("class")) return void t();
        var u = _.any($.merge(c, $("#svgroot").find(".background image")), i);
        return a ? !u : void(Object.keys(s).length || e())
    },
    getSaveString: function() {
        return this.savePage(!0, $.noop, !0)
    },
    savePage: function(e, t, a) {
        function i() {
            function i(e) {
                this.message = e, this.name = "ImageException"
            }

            function r() {
                function e(e, t) {
                    e.setAttribute("xlink:href", INKIVE.ImagesFactory.getOriginalUrl(t))
                }

                function t(e, t) {
                    var a = t.getAttribute("xlink:href"),
                        i = svgedit.utilities.fromXml(a),
                        n = INKIVE.ImagesFactory.getOriginalUrl(i);
                    a = n ? svgedit.utilities.toXml(n) : a, e.setAttribute("xlink:href", a)
                }

                function a(e) {
                    var t = e.getAttribute("data-original-href");
                    $(e).removeAttr("data-original-href"), t && $(e).attr("xlink:href", INKIVE.Helpers.isDataURL(t) ? INKIVE.ImagesFactory.getImageUrl(e) : t)
                }
                $(u).find("image").each(function(n, o) {
                    function r(e) {
                        o.remove(), _.defer(function() {
                            throw new i(e)
                        })
                    }
                    var l = o.getAttribute("id"),
                        s = $("#svgroot image#" + l);
                    if (!s.length) return void r("Original image not found");
                    var d = INKIVE.ImagesFactory.getImageUrl(s[0]),
                        c = INKIVE.Helpers.isDataURL(o.getAttribute("xlink:href"));
                    if (d || !c) {
                        var u = !s[0].getAttribute("xlink:href") || c;
                        u && e(o, d), u || t(o, s[0]), a(o)
                    } else r("Error: inlined image with no url version")
                });
                var n = $(u).find("svg")[0];
                n.setAttribute("xmlns:xlink", svgedit.NS.XLINK), c = o.getSvgString(n)
            }

            function l() {
                c = c.replace(/<\/tspan>\s*/g, "</tspan>"), c = c.replace(/\s*<tspan/g, "<tspan"), c = c.replace(/<\/text>\s*/g, "</text>"), c = c.replace(/\s*<text/g, "<text")
            }

            function s() {
                INKIVE.EditorFacade.handle("cache", "set", {
                    data: c
                }), e || o.canvas.call("advice.show", "saved"), INKIVE.C.IS_MOBILE_APP && !e && INKIVE.Modal.togglePageLoader(!1), t(!0)
            }

            function d() {
                var e = 3e5;
                n.saveAdviceTiemout && clearTimeout(n.saveAdviceTiemout), n.saveAdviceTiemout = setTimeout(function() {
                    INKIVE.C.IS_AUTO_SAVE || o.canvas.call("advice.show", "long-time-no-save")
                }, e)
            }
            var c = o.getSvgString();
            if (!a && INKIVE.Helpers.areEqual(c, INKIVE.EditorFacade.handle("cache", "get"))) return e || o.canvas.call("advice.show", "nothing-to-save"), void t(!0);
            var u = svgedit.utilities.text2xml(c);
            return r(), l(), d(), a ? c : void $.ajax({
                url: INKIVE.C.BASE_URL + "api/page/save",
                type: "POST",
                error: function(e, a, i) {
                    t(!1, i)
                },
                success: s,
                timeout: 3e4,
                data: {
                    scrapbook_id: INKIVE.C.BOOK.id,
                    page: INKIVE.Tool._current_page_number,
                    design: INKIVE.Tool._current_design_id,
                    data: Base64.encode(c)
                }
            })
        }
        if (!INKIVE.Tool._current_page_number) return console.error("Calling page save on no page"), void t(!0);
        var n = this,
            o = n.editor;
        return INKIVE.C.IS_MOBILE_APP && !e && INKIVE.Modal.togglePageLoader(!0), a ? i() : void this.onceItsReadyToSave(i, _.partial(t, !0))
    },
    save: function(e, t) {
        var a = this;
        t = t || $.noop, this.onceItsReadyToSave(function(e) {
            a.saveNotification(!0);
            var i = INKIVE.EditorModeManager.getMode(),
                n = INKIVE.EditorModeManager.getData(),
                o = "template" == i,
                r = $.inArray(i, ["sticker", "banner", "placeholder"]) > -1,
                l = _.bind(function(e) {
                    a.saveNotification(), t(e)
                }, a);
            o && a.saveLayout(n, l), r && a.saveSticker(n, l)
        }, _.partial(t, !0))
    },
    clearTab: function(e) {
        $(e).find(".tab-content").empty(), $(e).find(".breadcrumb").remove()
    },
    addBreadcrumb: function(e, t) {
        if (!INKIVE.C.IS_MOBILE) {
            $(e + " .breadcrumb").remove(), $(e + " .tool-search").length ? $(e + " .tool-search").after(INKIVE.C.HTML.breadcrumbWrapper) : $(e).prepend(INKIVE.C.HTML.breadcrumbWrapper);
            for (var a = 0, i = t.length; a < i; a++) {
                var n = t[a],
                    o = i - 1 == a ? "active" : "",
                    r = INKIVE.C.HTML.breadcrumbElement(n.href, o, INKIVE.TranslateHelper.translate(n.name));
                $(e + " .breadcrumb li").append(r)
            }
            var r = $(e + " .breadcrumb li").html();
            r && $(e + " .breadcrumb li").html(r.slice(0, -5))
        }
    },
    inkiveLoader: function(e, t) {
        function a() {
            $("#inkiveLoader .inkive-logo").css("background", "url(" + i.src + ") no-repeat center center"), $("#inkiveLoader .inkive-logo").css("background-size", "cover"), $("#inkiveLoader .inkive-logo").fadeIn(n, function() {
                t && t()
            })
        }
        var i, n = 900;
        e ? ($("#inkiveLoader").length || $("body").append('<div id="inkiveLoader"><div class="inkive-logo"></div></div>'), $("#inkiveLoader .inkive-logo").hide(), i = new Image, i.onload = _.once(a), i.src = "https://s3.amazonaws.com/assets.inkive.com/assets/img/logos/editor_logo.png", INKIVE.C.THEME && INKIVE.C.THEME.logoImg && (i.src = INKIVE.C.THEME.logoImg), _.delay(i.onload, 2e3)) : ($("#inkiveLoader").remove(), t && t())
    },
    traceTab: function() {
        return this.tabButtonTraker
    },
    show: function() {
        var e = 900;
        $("#ik-editor").transition({
            opacity: 1
        }, e, "ease");
        var t = INKIVE.Helpers.getFragmentTarget();
        t && $(".tool-menu [href=" + t + "]").length ? $(".tool-menu [href=" + t + "]:first").tab("show") : $(".tool-menu [href]:first").tab("show")
    },
    refreshScroll: function(e) {
        $(e).hasClass("antiscroll-wrap") ? $(e).data("antiscroll").refresh() : $(e).find(".antiscroll-wrap").data("antiscroll").refresh()
    },
    scrollTop: function(e) {
        var t = $(e).find(".antiscroll-wrap").data("antiscroll").vertical;
        t && (t.innerEl.scrollTop = 0, t.update())
    },
    load: function(e, t, a) {
        function i() {
            clearTimeout(INKIVE.Tool._autoSaveTimeout), INKIVE.Tool._autoSaveTimeout = null
        }

        function n() {
            INKIVE.Tool._current_design_id = s.design_id, l.loadSvgString(d, t)
        }

        function o() {
            var i = {
                isMobile: INKIVE.C.IS_MOBILE ? 1 : 0,
                page: e,
                versionId: a,
                scrapbook_id: INKIVE.C.BOOK.id
            };
            l.loadingElement(!0), INKIVE.Helpers.api("page/by_pagenumber", "GET", i, function(e, a, i, n, o) {
                if (l.loadingElement(!1), a && e && "false" != e.success && !_.isEmpty(e)) {
                    INKIVE.Tool._current_design_id = parseInt(e.id), INKIVE.ProjectFacade.checkDesignId();
                    var r = INKIVE.ImagesFactory.setImagesData(e.images);
                    _.each(r, function(e) {
                        e.stored = !0
                    });
                    var s = e.pageContent ? e.pageContent : Base64.decode(INKIVE.C.BLANK_SVG);
                    l.loadSvgString(s, function() {
                        var a = 0 === $("#svgroot .main").find(":not(title)").length,
                            i = window.location.search.match(/t=(\d+)/),
                            n = a && i && 1 === INKIVE.Tool._current_page_number,
                            o = l.getSvgString();
                        n || INKIVE.EditorFacade.handle("cache", "set", {
                            design_id: e.id,
                            data: o
                        }), INKIVE.History.initialize(function(e) {
                            l.loadSvgString(e, $.noop)
                        }, s), t(), INKIVE.C.IS_MOBILE_APP || $("#canvas-panel").css("top", 45), n && (l.loadingElement(!0), INKIVE.DesignFacade.set("template", {
                            designed: {
                                id: i[1]
                            }
                        }), INKIVE.DesignFacade.once("template.update.designed", function() {
                            l.loadingElement(!1), INKIVE.Helpers.displayImagesLoadingAnimation()
                        })), $("#outsideCanvasSelectorGroup").remove();
                        var r = $("#svgcontent").find("g.main"),
                            d = INKIVE.Tool.getInstance();
                        r.find(".element").each(function(e, t) {
                            INKIVE.Helpers.isElementInCanvas(t) || (d.editor.canvas.removeFromSelection([t]), $(t).remove())
                        }), INKIVE.C.BOOK.book_type == INKIVE.C.BOOK_TYPE.LOGO && (INKIVE.DesignFacade.set("background", {
                            color: "none"
                        }), INKIVE.EditorModeManager.setMode("logo"));
                        var c = INKIVE.C.BOOK.book_type == INKIVE.C.BOOK_TYPE.TEMPLATE;
                        c && INKIVE.EditorModeManager.setMode("brand_template")
                    })
                } else alert(o || "Error loading project")
            })
        }
        var r = this,
            l = r.editor,
            s = INKIVE.ProjectFacade.get("design", {
                page_number: e
            }),
            d = s && s.design_id && INKIVE.EditorFacade.handle("cache", "get", {
                design_id: s.design_id
            });
        t = t || $.noop, i(), INKIVE.Tool._current_page_number = parseInt(e);
        try {
            d && n(), d || o()
        } catch (c) {
            INKIVE.Tool._current_design_id = null,
                INKIVE.Tool._current_page_number = 0, console.error(c)
        }
    },
    initScrollDetect: function(e, t, a) {
        function i() {
            var a = !1;
            t(function() {
                var t = $(e).parents(".antiscroll-inner"),
                    o = t.get(0).scrollHeight,
                    r = t.height();
                if (!o) {
                    var l = t.clone().css("visibility", "hidden").appendTo($("body"));
                    o = l.get(0).scrollHeight, l.remove()
                }
                o <= r && !a ? i() : n()
            }, function() {
                a = !0, r.remove()
            })
        }

        function n() {
            function a() {
                if (r.data("inst") == $(e).data("inst")) {
                    if (r.data("working")) return void n();
                    var a = i.get(0).scrollHeight,
                        o = i.get(0).scrollTop,
                        l = i.height(),
                        s = Math.round((o + l) / a * 100);
                    r.data("per", s), s >= 99 && (r.data("working", 1), t(function() {
                        r.data("working", 0)
                    }, function() {
                        i.unbind("scroll"), r.remove()
                    }))
                }
            }
            var i = $(e).parents(".antiscroll-inner"),
                n = _.debounce(a, 1e3);
            i.unbind("scroll"), i.on("scroll", a)
        }
        var o = {};
        $.extend(o, a);
        $(e).find(".scrollDetect").length || $(e).append('<div class="scrollDetect hide"></div>');
        var r = $(e).find(".scrollDetect"),
            l = $(e).data("inst");
        $(e).find(".scrollDetect").data("inst", l), i()
    },
    clearThumb: function(e) {
        $(e).find(".thumbnail-wrapper").remove()
    },
    updateThumbImage: function(e, t) {
        clearInterval(INKIVE.Tool._intervalThumb[e]), INKIVE.Tool._intervalThumb[e] = null;
        var a = $("img#" + e),
            i = a.parents(".thumbnail"),
            n = a.parents(".thumbnail-wrapper"),
            o = n.data("masonry"),
            r = i.width() || o && o.options.columnWidth,
            l = 0;
        INKIVE.Tool._intervalThumb[e] = setInterval(function() {
            INKIVE.Helpers.imageLoader(t, function(l, s) {
                l == INKIVE.C.Status.success && (a.attr("src", t), i.css("width", r), i.css("height", s.height / s.width * r), o && n.masonry(), clearInterval(INKIVE.Tool._intervalThumb[e]), INKIVE.Tool._intervalThumb[e] = null)
            }), l > 20 && (a.attr("src", INKIVE.C.THUMB_NOCOVER), i.css("width", r), i.css("height", 140), o && n.masonry(), clearInterval(INKIVE.Tool._intervalThumb[e]), INKIVE.Tool._intervalThumb[e] = null), l++
        }, 3e3)
    },
    getImageOverlayHtml: function() {
        return '<div class="overlay image"><ul class="options"><li data-type="image" data-popover="tooltip" data-original-title="' + INKIVE.TranslateHelper.translate("tool.images.tooltip.image") + '"><i class="fa fa-picture-o"></i></li><li data-type="replace-image" class="hidden" data-popover="tooltip" data-original-title="' + INKIVE.TranslateHelper.translate("tool.images.tooltip.replace_image") + '"><i class="fa fa-file-image-o"></i></li><li data-type="background" data-popover="tooltip" data-original-title="' + INKIVE.TranslateHelper.translate("popupmenu.tooltip.set_background") + '"><i class="fa fa-th"></i></li></ul></div>'
    },
    addThumbItem: function(e, t, a, i) {
        function n() {
            s.masonry()
        }

        function o(e, t, a, i) {
            var n = 10,
                o = 1 / 0,
                r = a / i,
                l = r > o ? 2 * d.options.columnWidth + n : d.options.columnWidth;
            e.css("width", l), e.css("height", i / a * l)
        }
        var r = this,
            l = [],
            s = $(e).hasClass("thumbnail-wrapper") ? $(e) : $(e).find(".thumbnail-wrapper");
        s.masonry();
        var d = s.data("masonry"),
            c = "",
            u = _.debounce(n, 1e3);
        if ($.isArray(t) || (t = [t]), _.each(t, function(e, t) {
                e.data && e.data.name && e.data.name.trim().length && (c = 'data-popover="tooltip" data-original-title="' + e.data.name + '"');
                var a = e.src;
                if (e.data && e.data.version && e.data.version.thumb) {
                    a = e.data.version.thumb;
                    var i = e.data.version.thumb_width,
                        n = e.data.version.original_width;
                    !INKIVE.C.IS_MOBILE && i && n && i >= n && (a = e.data.version.original)
                }
                var d = e.svg || '<img id="' + e.id + '" src="' + a + '"></img>',
                    g = "";
                (e.id.startsWith("photo-") || e.id.startsWith("background-")) && (g = r.getImageOverlayHtml());
                var h = $.parseHTML('<div class="thumbnail' + (e.cls || "") + '"><a class="item" ' + c + ">" + d + "</a>" + g + "</div>");
                if (e.width && $(h).css("width", e.width), e.height && $(h).css("height", e.height), void 0 != e.sticker_value) {
                    var I = e.sticker_value > 0 ? e.sticker_value : "";
                    $(h).append($.parseHTML('<div class="thumb_sticker" data-popover="tooltip" data-original-title="' + e.sticker_tooltip + '">' + I + "</div>"))
                }
                if (e.data && "object" == typeof e.data) {
                    var p = e.data;
                    for (var m in p) $(h).find(".item").data(m, p[m])
                }
                e.width && e.height ? o($(h), e, e.width, e.height) : e.width ? $(h).css("width", e.width) : e.height && $(h).css("height", e.height), $(h).find("img").each(function(t) {
                    var a = $(this).attr("src"),
                        i = ($(this).attr("id"), $(this)),
                        n = $(this).parents(".thumbnail"),
                        r = parseInt(n.css("width")),
                        l = parseInt(n.css("height"));
                    i.removeAttr("src"), i.hide(), INKIVE.Helpers.imageLoader(a, function(t, d) {
                        if (t == INKIVE.C.Status.success) {
                            var c = !r || !l || r != d.width || l != d.height;
                            i.attr("src", a).fadeIn("slow"), c && (o(n, e, d.width, d.height), u())
                        } else e.isNocover ? (i.attr("src", INKIVE.C.THUMB_NOCOVER).fadeIn("slow").parent().css("background", "#EEE"), r && l || (n.css("width", 122.5), n.css("height", 86), u())) : (s.masonry("remove", n), u());
                        e.data.svg_url && i.data("svg-url", e.data.svg_url)
                    })
                }), l.push(h[0])
            }), l.length) {
            var g = i ? "prependThumb" : "appendThumb";
            s[g](l, !1, function(t) {
                a && a(t, e)
            })
        }
        INKIVE.Helpers.initTooltips($(e))
    },
    deleteThumb: function(e, t) {
        if ($(e).hasClass("thumbnail-wrapper")) var a = $(e);
        else var a = $(e).find(".thumbnail-wrapper");
        a.removeThumb(t)
    },
    initTab: function(e, t, a) {
        var i = e.replace("#", ""),
            n = i.replace(/^(accordion|tab)/, "").toLowerCase();
        window.INKIVE.Tabs[n] ? window.INKIVE.Tabs[n].show() : "undefined" != typeof this[i] && this[i](e, a, t), window.INKIVE.Tabs[n] || this.initScroll(e)
    },
    tabTutorial: function(e, t, a) {
        $(e).data("init") || ($(e).find("li").each(function() {
            var e = $(this);
            e.html(e.html().replace(/\[+([^\][]+)]+/g, "<a>$1</a>")), e.find("a").on("click", function() {
                if (e.data("tab")) {
                    var t = e.data("tab");
                    $("[role=tab][href=" + t + "]").tab("show"), e.data("subtab") && _.debounce(function() {
                        $(t).find(".header-links>[data-key=" + e.data("subtab") + "]").click()
                    })
                } else if (e.data("link")) window.open(e.data("link"));
                else if (e.data("modal")) {
                    var a = e.data("modal").split("||"),
                        i = $(this),
                        n = 0;
                    i.parent().find("a").each(function(e, t) {
                        i.is(t) && (n = e)
                    }), $(a[n]).click()
                }
            })
        }), $(e).css("opacity", 1))
    },
    tabSearch: function(e, t, a) {
        $(e).data("init") || (INKIVE.Tool.preloadLayoutFormat(), $(e).find(".tabs").tabs({
            activate: function(e, t) {
                $(".tool-search form").trigger("submit")
            }
        }), $(e).find("input[type=radio]").iCheck({
            radioClass: "iradio_square-yellow"
        }), $(e).find(".iradio_square-yellow.checked").addClass("desygner-icon-check"), $(e).find("input[type=radio]").on("ifClicked", function(e) {
            var t = $(e.target).parents(".ui-tabs-panel");
            t.find(".iradio_square-yellow").removeClass("desygner-icon-check"), _.defer(function() {
                t.find(".iradio_square-yellow.checked").addClass("desygner-icon-check"), $(".tool-search form").trigger("submit")
            })
        }))
    },
    initSearch: function(e, t) {
        var a = this,
            i = $(e).find(".tab-content");
        i.length || (i = $(e));
        var n = !1,
            o = 10;
        t = $.extend(!0, {}, a.defaultListQueryParams, {
            query: "",
            type: "",
            isAdmin: !1
        }, t), t.query && i.data("query") != t.query && (n = !0, i.data("query", t.query)), $(e).find('input[name="search"]').val(i.data("query"));
        var r, l = t.type || $(e).find("li.ui-tabs-active a").attr("data-id");
        if (l.indexOf("layout") > -1) {
            var s = a.editor.canvas.contentW,
                d = a.editor.canvas.contentH;
            l.indexOf("this") > -1 ? r = {
                format_width: s,
                format_height: d
            } : l.indexOf("prop") > -1 && (r = {
                format_aspect: (s / d).toFixed(1)
            })
        }
        l && i.data("type") != l && (n = !0, i.data("type", l), r ? i.data("filterData", r) : i.removeData("filterData")), i.data("query") && (n && (a.clearTab(e), i.addThumb(), i.data("inst", t.inst), i.data("from", t.from)), a.initScrollDetect(i, function(n, r) {
            var l = {
                q: i.data("query"),
                from: i.data("from"),
                filters: i.data("type"),
                filterData: i.data("filterData"),
                where: {
                    active: t.isAdmin ? 0 : 1
                }
            };
            INKIVE.Modal.loader(i), INKIVE.Helpers.api("search/search", "GET", l, function(s) {
                function d(e, t) {
                    a.addThumbItem(i, e, function(e, i) {
                        _.bind(t, a, e, i)()
                    })
                }
                var c = [],
                    u = [],
                    g = [],
                    h = [];
                if (!s || !s.data || s.data.length < 1) INKIVE.Modal.loaderClose(i), r(), 0 === parseInt(i.data("from")) && i.html('<label class="title text-center">No Result</label>');
                else {
                    for (var I = 0; I < s.data.length; I++) {
                        var p, m = s.data[I].data;
                        switch (s.data[I].collection) {
                            case "layout":
                                m.url || (m.url = INKIVE.C.THUMB_NOCOVER), c.push({
                                    id: "layout-" + m.id,
                                    src: m.url,
                                    height: 76,
                                    data: {
                                        version: {
                                            thumb: m.url,
                                            mobile: m.url,
                                            tab: m.url,
                                            web: m.url,
                                            largeweb: m.url,
                                            original: m.url
                                        }
                                    }
                                });
                                break;
                            case "sticker":
                                g.push({
                                    id: "sticker-" + m.id,
                                    src: m.url,
                                    width: m.width,
                                    height: m.height,
                                    cls: parseInt(m.active) ? "" : " grayscale",
                                    data: {
                                        changeable: !0,
                                        name: m.name,
                                        svg_url: m.svg_url,
                                        version: {
                                            thumb: m.url,
                                            mobile: m.url,
                                            tab: m.url,
                                            web: m.url,
                                            largeweb: m.url,
                                            original: m.url
                                        }
                                    }
                                });
                                break;
                            case "image":
                                p = {
                                    name: m.name,
                                    search: !0,
                                    version: {
                                        thumb: m.thumb_photo,
                                        original: m.original_photo
                                    }
                                }, m.original_photo.match(/photodexia.com/) && (p.original_url = m.original_photo, p.original_width = m.original_width, p.original_height = m.original_height, p.version = INKIVE.ImagesFactory.getAllImageVersions(m.original_photo)), INKIVE.ImagesFactory.addImageData(p), h.push({
                                    id: "photo-" + m.id,
                                    src: m.thumb_photo,
                                    width: m.thumb_width || 75,
                                    height: m.thumb_height || 75,
                                    data: p
                                })
                        }
                    }
                    i.data("from", l.from + o)
                }
                INKIVE.Modal.loaderClose(i), d(u, a.callbackBackgrounds), d(c, a.callbackLayouts), d(h, a.callbackImages), d(g, a.callbackStickers), a.initScroll(e), n(), t.callback && t.callback()
            })
        }))
    },
    smartImageLoad: function(e, t) {
        var a = e.is("img") ? e : e.find("img"),
            i = a.attr("src"),
            n = INKIVE.ImagesFactory.getImageOriginalData(i),
            o = n && (n.search || $.inArray(n.source, ["dropbox", "google", "facebook"]) > -1),
            r = this.getImageSizeBasedOnSVGSize(a),
            l = parseInt($("#svgcontent").attr("width")),
            s = parseInt($("#svgcontent").attr("height"));
        INKIVE.DesignFacade.create("image", {
            size: r,
            position: t || {
                x: Math.round((l - r.width) / 2),
                y: Math.round((s - r.height) / 2)
            },
            source: {
                url: i,
                external_resize: o
            }
        })
    },
    getImageSizeBasedOnSVGSize: function(e) {
        var t = parseInt($("#svgcontent").attr("width")),
            a = parseInt($("#svgcontent").attr("height")),
            i = e.width() || e.closest(".thumbnail").width(),
            n = e.height() || e.closest(".thumbnail").height(),
            o = t / a,
            r = i / n,
            l = r > o ? .8 * t : .8 * a * r,
            s = r > o ? l / r : .8 * a;
        return {
            width: l,
            height: s
        }
    },
    callbackImages: function(e, t) {
        function a(t) {
            var a = $(e).find("#" + $(t).find("img").attr("id")).parents(".thumbnail").find(".thumb_sticker");
            if (a.length) {
                var i = a.html(),
                    n = i ? parseInt(i) + 1 : 1;
                a.html(n), a.attr("data-original-title", "used " + n + " time" + (n > 1 ? "s" : ""))
            }
        }
        var i = this,
            n = this.editor;
        INKIVE.ImagesFactory.toggleReplaceImageOverlayButton(), $(e).initDragable({
            callback: {
                click: function(e, t) {
                    var a = $(e).find("img"),
                        o = $(e).find(".item").data();
                    if (a.length || (a = $(e)), n.canvas._t.layout_prvElem = null, n.canvas._t.layout_prvAttr = null, !a.width() && !a.height()) return void i.editor.canvas.call("advice.show", "thumb-not-load");
                    if ("background" === $(t.target).closest("li").attr("data-type")) return INKIVE.DesignFacade.set("background", {
                        source: a.attr("src")
                    }), void this.processBackendImageTask(a, o);
                    if ("replace-image" === $(t.target).closest("li").attr("data-type")) {
                        var r = n.canvas.getSelectedElems();
                        return void(1 === r.length && "image" === r[0].tagName && $(r[0]).hasClass("element") ? (this.overLayoutImage(e), this.mouseup(e)) : i.editor.canvas.call("advice.show", "image-replacement-selection"))
                    }
                    var l = i.getImageSizeBasedOnSVGSize(a),
                        s = parseInt($("#svgcontent").attr("width")),
                        d = parseInt($("#svgcontent").attr("height"));
                    INKIVE.DesignFacade.create("image", {
                        source: {
                            url: a.attr("src")
                        },
                        position: {
                            x: Math.round((s - l.width) / 2),
                            y: Math.round((d - l.height) / 2)
                        },
                        size: {
                            width: l.width,
                            height: l.height
                        }
                    }), this.processBackendImageTask(a, o)
                },
                overLayoutImage: function(e, t) {
                    var a = $(e).find(".item");
                    t = _.extend({
                        elem: $(e).find("img").get(0)
                    }, t);
                    var i = n.canvas.runExtensions("overLayoutImage", t);
                    a.data("layoutTarget", i)
                },
                mousemove: function(e, t) {
                    var a = n.getOffset(),
                        i = t.clientX,
                        o = t.clientY,
                        r = {
                            mouse_x: i - a.x,
                            mouse_y: o - a.y
                        };
                    this.overLayoutImage(e, r)
                },
                mouseup: function(e, t) {
                    var o = $(e).find(".item");
                    if (o.data().version && o.data().version.original) {
                        var r = o.data(),
                            l = $(e).find("img");
                        if (r.layoutTarget) INKIVE.DesignFacade.set(r.layoutTarget.getAttribute("id"), {
                            source: {
                                url: o.data().version.original
                            },
                            keep_box_size: !0
                        }), n.canvas._t.layout_prvElem && (n.canvas._t.layout_prvElem = null, n.canvas._t.layout_prvAttr = null);
                        else {
                            var s = o.get(0).getBoundingClientRect(),
                                d = INKIVE.EditorFacade.handle("zoom", "get"),
                                c = n.getOffset(),
                                u = {
                                    x: Math.floor4((s.left - c.x) / d),
                                    y: Math.floor4((s.top - c.y) / d)
                                };
                            if (!l.width() && !l.height()) return void i.editor.canvas.call("advice.show", "thumb-not-load");
                            i.smartImageLoad.call(i, o, u)
                        }
                        a(o.get(0)), this.processBackendImageTask(l, r)
                    }
                },
                processBackendImageTask: function(e, t) {
                    var a = t.original_url ? "api/photo/convertedphotos" : "api/search/preferred_photo",
                        i = t.original_url ? {
                            project_id: INKIVE.C.BOOK.id,
                            url: t.original_url,
                            width: t.original_width,
                            height: t.original_height
                        } : {
                            photo_id: e.attr("id").replace("photo-", ""),
                            src: e.attr("src")
                        };
                    $.ajax({
                        url: INKIVE.C.BASE_URL + a,
                        type: "POST",
                        error: function(e) {
                            console.error("Error processing" + a, e)
                        },
                        data: i
                    })
                }
            }
        })
    },
    callbackBackgrounds: function(e) {
        function t(e) {
            a(e) && i($(e).find(".item").get(0))
        }

        function a(e) {
            var t = $(e).find("img"),
                a = t.width() || t.height();
            return a || n.canvas.call("advice.show", "thumb-not-load"), a
        }

        function i(e) {
            var t = $(e).find("img").attr("id").split("-").pop(),
                a = $(e).find("img").attr("src");
            INKIVE.DesignFacade.set("background", {
                source: a,
                background_id: t
            })
        }
        var n = this.editor;
        $(e).initDragable({
            callback: {
                click: t,
                mouseup: t,
                mousemove: a
            }
        })
    },
    getId: function(e) {
        return e.attr("id") ? e.attr("id").split("-").pop() : 0
    },
    callbackAdminBackgrounds: function(e, t) {
        var a = this;
        $(e).on("click", function(e) {
            var i = $(e.target),
                n = i.closest(".thumbnail"),
                o = a.getId(i),
                r = new INKIVE.ModalAdminBackground({
                    id: o
                }),
                l = INKIVE.Modal.modalWindow(r.getFormHtml(), {
                    width: 600,
                    headerIcon: "icon-backgrounds",
                    headerTitle: "modal.title.edit_background",
                    buttons: [{
                        title: INKIVE.TranslateHelper.translate("common.save"),
                        onClick: function() {
                            var e = $(this);
                            e.addClass("disabled"), r.saveForm(function(t, a) {
                                t && a.id ? (l.close(), n.toggleClass("grayscale", a.active)) : e.removeClass("disabled")
                            })
                        }
                    }, {
                        title: "Delete",
                        width: "100px",
                        cls: "btn-red",
                        onClick: function() {
                            var e = INKIVE.TemplatesHelper("alert_span", {
                                message: "modal.alert.delete_background"
                            });
                            INKIVE.Modal.alertMessage(e, {
                                callback: [function() {
                                    r.deleteForm(function(e) {
                                        e && (a.deleteThumb(t, n), l.close())
                                    })
                                }, $.noop]
                            })
                        }
                    }]
                })
        })
    },
    callbackAdminStickers: function(e, t) {
        var a = this;
        $(e).on("click", function(e) {
            var i = $(e.target),
                n = i.closest(".thumbnail"),
                o = a.getId(i),
                r = new INKIVE.ModalAdminSticker({
                    id: o,
                    isPlaceholder: /^placeholder-/.test(i.attr("id")),
                    isText: /^banner-/.test(i.attr("id"))
                }),
                l = INKIVE.Modal.modalWindow(r.getFormHtml(), {
                    width: 600,
                    headerIcon: "icon-hipster",
                    headerTitle: "common.edit_sticker",
                    buttons: [{
                        title: INKIVE.TranslateHelper.translate("common.edit_sticker"),
                        width: "150px",
                        onClick: function() {
                            var e = $(this);
                            e.addClass("disabled"), r.saveForm(function(t, a) {
                                if (t && a.id) {
                                    l.close();
                                    var i = r.opts.isText ? "banner" : r.opts.isPlaceholder ? "placeholder" : "sticker";
                                    INKIVE.EditorModeManager.setMode(i, a)
                                } else e.removeClass("disabled")
                            })
                        }
                    }, {
                        title: INKIVE.TranslateHelper.translate("common.save_duplicate"),
                        width: "150px",
                        onClick: function() {
                            var e = $(this);
                            e.addClass("disabled"), r.saveForm(function(t, a) {
                                if (t && a.id) {
                                    var i = a;
                                    i.id = null, i.name = "", $("#tabAdmin dt.active .btn-new-item").trigger("click", [i]), l.close()
                                } else e.removeClass("disabled")
                            })
                        }
                    }, {
                        title: INKIVE.TranslateHelper.translate("common.save"),
                        width: "150px",
                        onClick: function() {
                            var e = $(this);
                            e.addClass("disabled"), r.saveForm(function(t, a) {
                                t && a.id ? (l.close(), a.active ? n.removeClass("grayscale") : n.addClass("grayscale")) : e.removeClass("disabled")
                            })
                        }
                    }, {
                        title: INKIVE.TranslateHelper.translate("common.delete"),
                        width: "100px",
                        cls: "btn-red",
                        onClick: function() {
                            var e = INKIVE.TemplatesHelper("alert_span", {
                                message: "modal.alert.delete_sticker"
                            });
                            INKIVE.Modal.alertMessage(e, {
                                callback: [function() {
                                    r.deleteForm(function(e) {
                                        e && (a.deleteThumb(t, n), l.close())
                                    })
                                }, $.noop]
                            })
                        }
                    }]
                })
        })
    },
    callbackAdminLayouts: function(e, t) {
        var a = this;
        $(e).on("click", function(e) {
            var i = $(e.target),
                n = i.closest(".thumbnail"),
                o = a.getId(i),
                r = new INKIVE.ModalAdminLayout({
                    id: o
                }),
                l = INKIVE.Modal.modalWindow(r.getFormHtml(), {
                    width: 500,
                    headerIcon: "icon-news",
                    headerTitle: "modal.title.edit_template",
                    buttons: [{
                        title: INKIVE.TranslateHelper.translate("modal.title.edit_template"),
                        width: "200px",
                        onClick: function() {
                            var e = $(this);
                            e.addClass("disabled"), r.saveForm(function(t, a) {
                                t && a.id ? (l.close(), INKIVE.EditorModeManager.setMode("template", a)) : e.removeClass("disabled")
                            })
                        }
                    }, {
                        title: INKIVE.TranslateHelper.translate("common.save_duplicate"),
                        width: "200px",
                        onClick: function() {
                            var e = $(this);
                            e.addClass("disabled"), r.saveForm(function(t, a) {
                                if (t && a.id) {
                                    var i = a;
                                    i.id = null, i.name = "", $("#tabAdmin dt.active .btn-new-item").trigger("click", [i]), l.close()
                                } else e.removeClass("disabled")
                            })
                        }
                    }, {
                        title: INKIVE.TranslateHelper.translate("common.save"),
                        width: "200px",
                        onClick: function() {
                            var e = $(this);
                            e.addClass("disabled"), r.saveForm(function(t, a) {
                                t && a.id ? (l.close(), n.toggleClass("grayscale", !a.active)) : e.removeClass("disabled")
                            })
                        }
                    }, {
                        title: INKIVE.TranslateHelper.translate("common.delete"),
                        width: "100px",
                        cls: "btn-red",
                        onClick: function() {
                            var e = INKIVE.TemplatesHelper("alert_span", {
                                message: "modal.alert.delete_template"
                            });
                            INKIVE.Modal.alertMessage(e, {
                                callback: [function() {
                                    r.deleteForm(function(e) {
                                        e && (a.deleteThumb(t, n), l.close())
                                    })
                                }, function() {}]
                            })
                        }
                    }]
                })
        })
    },
    callbackLayouts: function(e, t) {
        function a(e) {
            s = $(e).find("img").attr("id").split("-").pop(), I.loadingElement(1), INKIVE.Helpers.api("search/layout", "GET", {
                id: s
            }, function(e) {
                var t = Math.round(parseInt(e.format_width)),
                    a = Math.round(parseInt(e.format_height));
                c = !INKIVE.C.MODE.IS_DESYGNER;
                var n = (t === p.contentW && a === p.contentH, 0 === $("#svgroot").find(".main").find(":not(title)").length);
                I.loadingElement(0), n ? i() : o()
            })
        }

        function i() {
            g = _.map($("#svgcontent ").find(".main image"), function(e) {
                return e.getAttribute("xlink:href")
            }), I.loadingElement(1), INKIVE.DesignFacade.once("template.update", n), _.delay(function() {
                INKIVE.DesignFacade.set("template", {
                    keep_stage_size: !1,
                    designed: {
                        id: s
                    }
                })
            }, 500)
        }

        function n() {
            INKIVE.Tool.blinkScreen();
            var e = $("#svgcontent").find(".main .layoutBox");
            d && _.any(e, function(e, t) {
                return !(g.length > t) || void p.runExtensions("addLayoutImage", {
                    elem: e,
                    data: g[t]
                })
            }), INKIVE.C.IS_MOBILE && p.call("advice.show", "template-back"), INKIVE.C.IS_MOBILE || e.length && INKIVE.C.MODE.IS_DESYGNER && p.call("advice.show", "template-placeholders"), INKIVE.Helpers.displayImagesLoadingAnimation(), I.loadingElement(0)
        }

        function o() {
            var e = 0;
            u = INKIVE.Modal.modalWindow(INKIVE.TemplatesHelper("modal_layout_load", {
                new_size: e,
                current_size: Math.round(p.contentW) + "x" + Math.round(p.contentH),
                keep_images: !INKIVE.C.MODE.IS_DESYGNER,
                has_images: $("#svgcontent").find(".main image").length > 0,
                keep_size: !INKIVE.C.MODE.IS_DESYGNER,
                is_same_size: !0
            }), {
                width: 600,
                headerIcon: "icon-cloud-download",
                headerTitle: "modal.title.change_name",
                buttons: [{
                    title: INKIVE.TranslateHelper.translate("modal.buttons.apply_name"),
                    onClick: r
                }, {
                    title: INKIVE.TranslateHelper.translate("general.cancel"),
                    onClick: l
                }]
            }), $('[data-id="' + u.id + '"] [type=checkbox]').iCheck({
                checkboxClass: "icheckbox_square-yellow"
            })
        }

        function r() {
            c = $('input[name="keep-size-input"]').is(":checked"), d = $('input[name="keep-images-input"]').is(":checked"), i(), u.close()
        }

        function l() {
            u.close()
        }
        var s, d, c, u, g = [],
            h = this,
            I = h.editor,
            p = I.canvas,
            m = _.throttle(a, 1e3, {
                trailing: !1
            });
        $(e).initDragable({
            callback: {
                mousemove: $.noop,
                mouseup: function(e) {
                    m($(e).find(".item")[0])
                },
                click: function(e) {
                    m($(e).find(".item")[0])
                }
            }
        })
    },
    callbackStickers: function(e) {
        function t(e, t) {
            t = $(this).is(".thumbnail") ? this : t;
            var a = $(t).find(".item img"),
                i = a.get(0).getBoundingClientRect();
            INKIVE.DesignFacade.create("sticker", _.extend({
                sticker_id: a.attr("id").split("-").pop(),
                thumb_src: a.attr("src"),
                svg_url: a.data("svgUrl")
            }, e(i)))
        }
        var a = this,
            i = a.editor,
            n = i.canvas,
            o = _.partial(t, function(t) {
                var a = Math.min(n.contentW, n.contentH) / Math.max(t.width, t.height);
                return {
                    position: {
                        x: (n.contentW - t.width * (a / 2)) / 2,
                        y: (n.contentH - t.height * (a / 2)) / 2
                    },
                    size: {
                        width: t.width * (a / 2),
                        height: t.height * (a / 2)
                    },
                    selected: !$(e).parents(".root-popupmenu").length
                }
            }),
            r = _.partial(t, function(e) {
                var t = INKIVE.EditorFacade.handle("zoom", "get"),
                    a = i.getOffset();
                return {
                    position: {
                        x: Math.floor4((e.left - a.x) / t),
                        y: Math.floor4((e.top - a.y) / t)
                    },
                    size: {
                        width: Math.floor4(e.width / t),
                        height: Math.floor4(e.height / t)
                    }
                }
            }),
            l = _.any(e, function(e) {
                return $(e).parents(".root-popupmenu").length
            });
        l && _.each(e, function(e) {
            $(e).on("click", _.bind(o, e))
        }), l || $(e).initDragable({
            callback: {
                mousemove: $.noop,
                click: o,
                mouseup: r
            }
        })
    },
    nowTab: function() {
        var e = this.$elem.find("[role=tabpanel].active").attr("id");
        return e ? "#" + e : null
    },
    resize: function() {
        var e = this.nowTab();
        e && (this.initScroll($(e)), $(e).find("div.thumbnail-wrapper").initThumb())
    }
};
INKIVE.Keyboard = function(e) {
    this.editor = e, this.svgCanvas = e.canvas
}, INKIVE.Keyboard.getInstance = function(e) {
    return INKIVE.Keyboard.INSTANCE ? INKIVE.Keyboard.INSTANCE : INKIVE.Keyboard.INSTANCE = new INKIVE.Keyboard(e)
}, INKIVE.Keyboard.TOOL_BUTTONS = [{
    fn: "clickLine",
    evt: "click",
    key: ["L", !0]
}, {
    fn: "clickRect",
    evt: "mouseup",
    key: ["R", !0],
    parent: "#tools_rect",
    icon: "rect"
}, {
    fn: "cancelOverlays",
    evt: "click",
    key: ["esc", !1, !1],
    hidekey: !0
}, {
    fn: "deleteSelected",
    key: ["del/backspace", !0]
}, {
    key: "ctrl+B",
    fn: "clickBold"
}, {
    key: "ctrl+I",
    fn: "clickItalic"
}, {
    key: "ctrl+U",
    fn: "clickUnderline"
}, {
    key: "ctrl+S",
    fn: "saveCurrentPage"
}, {
    key: ["up", !0],
    fn: "moveSelected",
    args: [0, -1]
}, {
    key: ["down", !0],
    fn: "moveSelected",
    args: [0, 1]
}, {
    key: ["left", !0],
    fn: "moveSelected",
    args: [-1, 0]
}, {
    key: ["right", !0],
    fn: "moveSelected",
    args: [1, 0]
}, {
    key: "shift+up",
    fn: "moveSelected",
    args: [0, -10]
}, {
    key: "shift+down",
    fn: "moveSelected",
    args: [0, 10]
}, {
    key: "shift+left",
    fn: "moveSelected",
    args: [-10, 0]
}, {
    key: "shift+right",
    fn: "moveSelected",
    args: [10, 0]
}, {
    key: "tab",
    fn: "changeAlign"
}, {
    key: "ctrl+Z",
    fn: "clickUndo"
}, {
    key: "ctrl+Y",
    fn: "clickRedo"
}], INKIVE.Keyboard.prototype = {
    constructor: INKIVE.Keyboard,
    clickBold: function() {
        var e = _.all(selectedElement, function(e) {
            return INKIVE.RestrictionsFacade.isActionAllowed("text_decoration", e)
        });
        e && $('.btn-onmenu[data-action="on_set-bold"]').click()
    },
    clickItalic: function() {
        var e = _.all(selectedElement, function(e) {
            return INKIVE.RestrictionsFacade.isActionAllowed("text_decoration", e)
        });
        e && $('.btn-onmenu[data-action="on_set-italic"]').click()
    },
    clickUnderline: function() {
        var e = _.all(selectedElement, function(e) {
            return INKIVE.RestrictionsFacade.isActionAllowed("text_decoration", e)
        });
        e && $('.btn-onmenu[data-action="on_set-underline"]').click()
    },
    clickUndo: function() {
        INKIVE.History.undo()
    },
    clickRedo: function() {
        INKIVE.History.redo()
    },
    cancelOverlays: function() {
        this.svgCanvas.leaveContext()
    },
    deleteSelected: function() {
        var e = _.toArray(this.svgCanvas.getSelectedElems());
        if (null != e) {
            var t = _.all(e, function(e) {
                return INKIVE.RestrictionsFacade.canChange(e, "deletion")
            });
            t && _.each(e, function(e) {
                INKIVE.DesignFacade.handle(e.getAttribute("id"), "delete")
            })
        }
    },
    moveSelected: function(e, t) {
        var n = INKIVE.RestrictionsFacade,
            a = _.toArray(this.svgCanvas.getSelectedElems());
        if (null != a) {
            var i = _.all(a, function(e) {
                return n.canChange(e, "position")
            });
            if (i) {
                _.all(a, function(a) {
                    var i = n.applyRestriction(a, "margin", {
                        x: e,
                        y: t
                    });
                    i = n.applyRestriction(a, "movement", i), e = i.x, t = i.y
                }), this.svgCanvas.moveSelectedElements(e, t);
                var c = INKIVE.Tool.getInstance();
                INKIVE.History.onChange("move", {
                    elements: a
                }, c.editor.getSvgString()), this.svgCanvas.runExtensions("recalculateOutsideCanvasSelectionBox", {}), this.svgCanvas.runExtensions("clear", {})
            }
        }
    },
    changeAlign: function() {
        var e = $(this.svgCanvas.getSelectedElems()).find("text");
        if (e.length) {
            var t = $(".menu.popupmenu"),
                n = ['a[data-action="on_set-align-left"]', 'a[data-action="on_set-align-center"]', 'a[data-action="on_set-align-right"]'];
            _.any(n, function(e, a) {
                if (t.find(e).hasClass("active")) {
                    var i = a > n.length - 2 ? 0 : a + 1;
                    return t.find(n[i]).trigger("click"), !0
                }
            })
        }
    },
    clickLine: function() {
        this.svgCanvas.setMode("line")
    },
    clickRect: function() {
        this.svgCanvas.setMode("rect")
    },
    saveCurrentPage: function() {
        INKIVE.EditorFacade.handle("page", "save")
    },
    init: function() {
        var e = this,
            t = function() {
                return {
                    setAll: function() {
                        $.each(INKIVE.Keyboard.TOOL_BUTTONS, function(t, n) {
                            if (n.key) {
                                var a, i = !0,
                                    c = n.fn,
                                    o = n.args,
                                    r = !1;
                                $.isArray(n.key) ? (a = n.key[0], n.key.length > 1 && (r = n.key[1]), n.key.length > 2 && (i = n.key[2])) : a = n.key, a += "", $.each(a.split("/"), function(t, n) {
                                    $(document).bind("keydown", n, function(t) {
                                        return $(t.target).is("input, textarea, .avoid-shortcuts") ? t : (INKIVE.Helpers.executeFunctionByName(c, e, o), r && t.preventDefault(), !1)
                                    })
                                })
                            }
                        }), $(".attr_changer, #image_url").bind("keydown", "return", function(e) {
                            return $(e.target).is("input, textarea, .avoid-shortcuts") ? e : ($(this).change(), void e.preventDefault())
                        }), $(window).bind("keydown", "tab", function(t) {
                            return $(t.target).is("input, textarea, .avoid-shortcuts") ? t : (t.preventDefault(), void e.svgCanvas.cycleElement(1))
                        }).bind("keydown", "shift+tab", function(t) {
                            return $(t.target).is("input, textarea, .avoid-shortcuts") ? t : (t.preventDefault(), void e.svgCanvas.cycleElement(0))
                        })
                    }
                }
            }();
        t.setAll()
    }
};
INKIVE.ModalAdminBackground = function(t) {
    function a() {
        var t = '<div style="display: table; width:100%"><div style="display: table-cell; width:300px; vertical-align: top; padding-right: 15px;"><section><img src="' + INKIVE.C.THUMB_NOCOVER + '" style="background-color: rgb(49, 61, 67);"/><div class="checkbox"><input type="checkbox" name="isActive" value="1"/><label for="isActive">' + r.opts.text_active + "</label></div><label>" + r.opts.text_category + '</label><input type="text" name="categories" data-role="tagsinput" /></section></div><div style="display: table-cell; vertical-align: top;"><section><label for="name">' + r.opts.text_name + '</label><input type="text" name="name" class="form-control" data-popover="tooltip" data-original-title="' + r.opts.text_name_tooltip + '"/></section><section><label for="readable_name">' + r.opts.text_readable_name + '</label><input type="text" name="readable_name" class="form-control"/></section><label for="tags">' + r.opts.text_tags + '</label><div data-popover="tooltip" data-original-title="' + r.opts.text_tags_tooltip + '"><input type="text" name="tags" data-role="tagsinput"/></div><section><label for="set">' + r.opts.text_set + '</label><input type="text" name="set" data-role="tagsinput" data-popover="tooltip" data-original-title="' + r.opts.text_set_tooltip + '"/></section></div></div>';
        r.$wrapper.append($.parseHTML(t)), r.$wrapper.find('[data-popover="tooltip"]').tooltip({
            placement: "auto",
            html: !0
        }), r.$wrapper.trigger("contentChanged")
    }

    function e(t) {
        var a = r.$wrapper.find("img");
        a.hide();
        var e = t.url ? t.url.replace("-web", "-thumb") : null;
        INKIVE.Helpers.imageLoader(e, function(t, i) {
            var r = t == INKIVE.C.Status.success ? e : INKIVE.C.THUMB_NOCOVER;
            a.attr("src", r).fadeIn("slow")
        });
        var i = r.$wrapper.find('[name="name"]');
        t.name && i.val(t.name), i.keyup(function(t) {
            var a = $(this).val();
            $(this).val(a.trim().toLowerCase().replace(/[^a-z0-9\-\_]/g, ""))
        });
        var n = r.$wrapper.find('[name="readable_name"]');
        t.readable_name && n.val(t.readable_name);
        var o = r.$wrapper.find('[name="set"]');
        t.set && o.val(t.set), o.keyup(function(t) {
            var a = $(this).val();
            $(this).val(a.trim().replace(/[^0-9]/g, ""))
        });
        var p = r.$wrapper.find('[name="categories"]'),
            s = INKIVE.Tool._cache.backgroundCategories;
        p.tagsinput({
            itemValue: function(t) {
                return t.id
            },
            itemText: function(t) {
                return t.name
            },
            typeahead: {
                source: s
            }
        }), t.category && ($.each(t.category.split(","), function(t, a) {
            var e = _.find(INKIVE.Tool._cache.backgroundCategories, {
                id: a
            });
            e && p.tagsinput("add", e)
        }), r.$wrapper.trigger("contentChanged"));
        var l = r.$wrapper.find('[name="tags"]');
        l.tagsinput({
            itemValue: "id",
            itemText: "name"
        }), t.tag && ($.each(t.tag.split(","), function(t, a) {
            l.tagsinput("add", {
                id: a,
                name: a
            })
        }), r.$wrapper.trigger("contentChanged")), l.tagsinput("input").keyup(function(t) {
            var a = t.keyCode ? t.keyCode : t.which,
                e = $(this).val();
            e = e.replace(/[^a-zA-Z0-9, ]/g, ""), $(this).val(e), 13 != a && 188 != a || (e = e.trim().replace(/,/g, ""), l.tagsinput("add", {
                id: e,
                name: e
            }), l.tagsinput("input").val(""))
        }), l.tagsinput("input").change(function(t) {
            var a = $(this).val();
            l.tagsinput("add", {
                id: a,
                name: a
            }), l.tagsinput("input").val("")
        }), r.$wrapper.find("[type=checkbox]").iCheck({
            checkboxClass: "icheckbox_square-yellow"
        });
        var d = "check";
        parseInt(t.active) && r.$wrapper.find("[name=isActive]").iCheck(d)
    }

    function i(t) {
        t = t || $.noop, INKIVE.Modal.loader(r.$wrapper), r.opts.id ? INKIVE.Helpers.api("search/background", "GET", {
            id: r.opts.id
        }, function(a) {
            INKIVE.Modal.loaderClose(r.$wrapper), a.id ? (r.data = a || {}, t()) : r.$wrapper.append("Error in loading background ID " + r.opts.id)
        }) : r.opts.data ? (INKIVE.Modal.loaderClose(r.$wrapper), r.data = r.opts.data, t()) : (INKIVE.Modal.loaderClose(r.$wrapper), r.data = {}, t())
    }
    var r = this;
    this.opts = $.extend({
        baseUrl: INKIVE.C.BASE_URL,
        staticUrl: INKIVE.C.STATIC_URL,
        text_name: "Background name",
        text_readable_name: "Readable name",
        text_tags: "Tags",
        text_active: "Is background active?",
        text_set: "Priority",
        text_category: "Category",
        text_name_tooltip: "<b>Name</b><br />Make sure that you insert right name. Don't use white-space and special characters except hypen(-) and undersocre(_)",
        text_tags_tooltip: "<b>Tag - Sub filter</b><br />Seperate using comma(,) and don't use any special characters. ex) Blue, Snack, Cookie",
        text_set_tooltip: "<b>Priority</b><br />0 is most important and the number getting biger than will get less importantance. 0 will be shown in first list."
    }, t), this.$wrapper = $(this.opts.wrapper ? $.parseHTML(this.opts.wrapper) : $.parseHTML('<div class="tool-content"></div>')), this.data = null, i(function() {
        a(), e(r.data)
    })
}, INKIVE.ModalAdminBackground.prototype = {
    constructor: INKIVE.ModalAdminBackground,
    getFormHtml: function() {
        return this.$wrapper
    },
    getData: function() {
        return this.data
    },
    getFormData: function() {
        return {
            id: this.data.id,
            set: this.$wrapper.find('[name="set"]').val(),
            tag: this.$wrapper.find('[name="tags"]').val(),
            name: this.$wrapper.find('[name="name"]').val(),
            active: this.$wrapper.find("[name=isActive]").is(":checked") ? 1 : 0,
            category: this.$wrapper.find('[name="categories"]').val(),
            readable_name: this.$wrapper.find('[name="readable_name"]').val()
        }
    },
    saveForm: function(t) {
        t = t || $.noop;
        var a = this,
            e = a.getFormData();
        INKIVE.Helpers.api("management/backgroundinfo", "POST", {
            info: e
        }, function(i) {
            i && "success" == i.status ? t(!0, $.extend(a.getData(), e, {
                id: i.id
            })) : (INKIVE.Modal.alertMessage("<b>Error - </b><i>Updating background info</i><br>"), t(!1))
        })
    },
    deleteForm: function(t) {
        t = t || $.noop;
        var a = this,
            e = a.getFormData();
        INKIVE.Helpers.api("management/background", "DELETE", {
            id: e.id
        }, function(a) {
            a && "success" == a.status ? t(!0) : (INKIVE.Modal.alertMessage("<b>Error - </b><i>Delete background</i><br>"), t(!1))
        })
    }
};
INKIVE.ModalAdminSticker = function(a) {
    function t() {
        var a = r.opts.isText ? "banner" : r.opts.isPlaceholder ? "placeholder" : "sticker",
            t = "<label>" + INKIVE.TranslateHelper.translate("modal.admin_sticker.category") + '</label><input type="text" name="categories" data-role="tagsinput"/>',
            e = '<div style="display: table; width:100%"><div style="display: table-cell; width:300px; vertical-align: top; padding-right: 15px;"><section><img src="' + INKIVE.C.THUMB_NOCOVER + '" style="background-color: rgb(49, 61, 67);width:107px;"/><div class="checkbox"><input type="checkbox" name="isActive" value="1"/><label for="isActive">' + INKIVE.TranslateHelper.translate("modal.admin_sticker.is_active_" + a) + "</label></div>" + ("sticker" == a ? t : "") + '</section></div><div style="display: table-cell; vertical-align: top;"><section><label for="name">' + INKIVE.TranslateHelper.translate("modal.admin_sticker.name_" + a) + '</label><input type="text" name="name" class="form-control" data-popover="tooltip" data-original-title="' + INKIVE.TranslateHelper.translate("modal.admin_sticker.name_tooltip") + '"/></section><label for="tags">' + INKIVE.TranslateHelper.translate("modal.admin_sticker.tags") + '</label><div data-popover="tooltip" data-original-title="' + INKIVE.TranslateHelper.translate("modal.admin_sticker.tags_tooltip") + '"><input type="text" name="tags" data-role="tagsinput"/></div><section><label for="set">' + INKIVE.TranslateHelper.translate("modal.admin_sticker.priority") + '</label><input type="text" name="set" data-role="tagsinput" data-popover="tooltip" data-original-title="' + INKIVE.TranslateHelper.translate("modal.admin_sticker.priority_tooltip") + '"/></section></div></div>';
        r.$wrapper.append($.parseHTML(e)), r.$wrapper.find('[data-popover="tooltip"]').tooltip({
            placement: "auto",
            html: !0
        }), r.$wrapper.trigger("contentChanged")
    }

    function e(a) {
        var t = r.$wrapper.find("img");
        t.hide(), INKIVE.Helpers.imageLoader(a.url, function(e, i) {
            var r = e == INKIVE.C.Status.success ? a.url : INKIVE.C.THUMB_NOCOVER;
            t.attr("src", r).fadeIn("slow")
        });
        var e = r.$wrapper.find('[name="name"]');
        a.name && e.val(a.name), e.keyup(function(a) {
            var t = $(this).val();
            $(this).val(t.trim().toLowerCase().replace(/[^a-z0-9\-\_]/g, ""))
        });
        var i = r.$wrapper.find('[name="set"]');
        a.set && i.val(a.set), i.keyup(function(a) {
            var t = $(this).val();
            $(this).val(t.trim().replace(/[^0-9]/g, ""))
        });
        var n = r.$wrapper.find('[name="categories"]'),
            s = INKIVE.Tool._cache.stickerCategories;
        n.tagsinput({
            itemValue: function(a) {
                return a.name
            },
            itemText: function(a) {
                return a.name
            },
            typeahead: {
                source: s
            }
        }), a.category && ($.each(a.category.split(","), function(a, t) {
            var e = _.find(INKIVE.Tool._cache.stickerCategories, {
                name: t
            });
            e && n.tagsinput("add", e)
        }), r.$wrapper.trigger("contentChanged"));
        var o = r.$wrapper.find('[name="tags"]');
        o.tagsinput({
            itemValue: "id",
            itemText: "name"
        }), a.tag && ($.each(a.tag.split(","), function(a, t) {
            o.tagsinput("add", {
                id: t,
                name: t
            })
        }), r.$wrapper.trigger("contentChanged")), o.tagsinput("input").keyup(function(a) {
            var t = a.keyCode ? a.keyCode : a.which,
                e = $(this).val();
            e = e.replace(/[^a-zA-Z0-9, ]/g, ""), $(this).val(e), 13 != t && 188 != t || (e = e.trim().replace(/,/g, ""), o.tagsinput("add", {
                id: e,
                name: e
            }), o.tagsinput("input").val(""))
        }), o.tagsinput("input").change(function(a) {
            var t = $(this).val();
            o.tagsinput("add", {
                id: t,
                name: t
            }), o.tagsinput("input").val("")
        }), r.$wrapper.find("[type=checkbox]").iCheck({
            checkboxClass: "icheckbox_square-yellow"
        });
        var l = "check";
        parseInt(a.active) && r.$wrapper.find("[name=isActive]").iCheck(l), parseInt(a.isText) && r.$wrapper.find("[name=isText]").iCheck(l)
    }

    function i(a) {
        a = a || $.noop, INKIVE.Modal.loader(r.$wrapper), r.opts.id ? INKIVE.Helpers.api("search/sticker", "GET", {
            id: r.opts.id
        }, function(t) {
            INKIVE.Modal.loaderClose(r.$wrapper), t.id ? (r.data = t || {}, a()) : r.$wrapper.append("Error in loading sticker ID " + r.opts.id)
        }) : r.opts.data ? (INKIVE.Modal.loaderClose(r.$wrapper), r.data = r.opts.data, a()) : (INKIVE.Modal.loaderClose(r.$wrapper), r.data = {}, a())
    }
    var r = this;
    this.opts = $.extend({
        baseUrl: INKIVE.C.BASE_URL,
        staticUrl: INKIVE.C.STATIC_URL
    }, a), this.$wrapper = $(this.opts.wrapper ? $.parseHTML(this.opts.wrapper) : $.parseHTML('<div class="tool-content"></div>')), this.data = null, i(function() {
        t(), e(r.data)
    })
}, INKIVE.ModalAdminSticker.prototype = {
    constructor: INKIVE.ModalAdminSticker,
    getFormHtml: function() {
        return this.$wrapper
    },
    getData: function() {
        return this.data
    },
    getFormData: function() {
        return {
            id: this.data.id,
            set: this.$wrapper.find('[name="set"]').val(),
            tag: this.$wrapper.find('[name="tags"]').val(),
            name: this.$wrapper.find('[name="name"]').val(),
            active: this.$wrapper.find("[name=isActive]").is(":checked") ? 1 : 0,
            category: this.$wrapper.find('[name="categories"]').val(),
            isText: this.opts.isText,
            isPlaceholder: this.opts.isPlaceholder
        }
    },
    saveForm: function(a) {
        a = a || $.noop;
        var t = this,
            e = t.getFormData();
        INKIVE.Helpers.api("management/stickerinfo", "POST", {
            info: e
        }, function(i) {
            i && "success" == i.status ? a(!0, $.extend(t.getData(), e, {
                id: i.id
            })) : (INKIVE.Modal.alertMessage("<b>Error - </b><i>Updating sticker info</i><br>"), a(!1))
        })
    },
    deleteForm: function(a) {
        a = a || $.noop;
        var t = this,
            e = t.getFormData();
        INKIVE.Helpers.api("management/sticker", "DELETE", {
            id: e.id
        }, function(t) {
            t && "success" == t.status ? a(!0) : (INKIVE.Modal.alertMessage("<b>Error - </b><i>Delete sticker</i><br>"), a(!1))
        })
    }
};
INKIVE.ModalAdminLayout = function(t) {
    function a(t) {
        o.data = t, t && (o.data.old_format_id = t.format_id, o.data.old_format_width = t.format_width, o.data.old_format_height = t.format_height)
    }

    function e() {
        var t = '<div class ="main-content" style="display: table; width:100%"><div style="display: table-cell; width:135px; vertical-align: top; "><section><img src="' + INKIVE.C.THUMB_NOCOVER + '" style="margin-bottom: 32px;background-color: rgb(49, 61, 67); width: 110px;"/><div class="checkbox"><input type="checkbox" name="is_active"/><label for="is_active">' + o.opts.text_active + '</label></div><div class="checkbox"><input type="checkbox" name="is_premium"/><label for="is_premium">' + o.opts.text_premium + '</label></div></section></div><div style="display: table-cell; vertical-align: top;"><section><input type="text" name="name" class="form-control" data-popover="tooltip" data-original-title="' + o.opts.text_name_tooltip + '" placeholder="' + o.opts.text_name + '"/></section><div data-popover="tooltip" data-original-title="' + o.opts.text_tags_tooltip + '"><input type="text" name="tags" data-role="tagsinput" placeholder="' + o.opts.text_tags + '"/></div><div style="display: table; width:100%"><div style="display: table-cell; vertical-align: top;"><input type="text" name="set" data-role="tagsinput" data-popover="tooltip" data-original-title="' + o.opts.text_set_tooltip + '" placeholder="' + o.opts.text_set + '"/></div></div><div id="admin-page-format-selction"><section class="ui-dropdown"><label>' + o.opts.text_format + '</label><div class="input-icon"><div id="layout_format">' + o.opts.text_format + '</div><i class="icon-unfold_more"></i></div><ul id="options" class="ui-dropdown-items" style="height: 100px;"></ul><input name="layout_format" type="hidden"/></section><input type="hidden" name="format_width"/><input type="hidden" name="format_height"/></div><div id ="admin-page-redirect-link"><section class="ui-dropdown"><input type="hidden" name="id"/><input type="hidden" name="format_width"/><input type="hidden" name="format_height"/></section></div></div></div>';
        o.$wrapper.append($.parseHTML(t)), o.$wrapper.find('[data-popover="tooltip"]').tooltip({
            placement: "auto",
            html: !0
        }), o.$wrapper.trigger("contentChanged")
    }

    function i(t) {
        o.$wrapper.find(".filterWrapper")
    }

    function r(t) {
        var a = o.$wrapper.find("img");
        a.hide(), INKIVE.Helpers.imageLoader(t.url, function(e, i) {
            e == INKIVE.C.Status.success ? a.attr("src", t.url).fadeIn("slow") : a.attr("src", INKIVE.C.THUMB_NOCOVER).fadeIn("slow")
        }), t.id && o.$wrapper.find("#admin-page-format-selction").addClass("disabled");
        var e = o.$wrapper.find('[name="name"]');
        t.name && e.val(t.name), e.keyup(function(t) {
            var a = $(this).val();
            $(this).val(a.trim().toLowerCase().replace(/[^a-z0-9\-\_]/g, ""))
        });
        var i = o.$wrapper.find('[name="id"]');
        t.id && i.val(t.id);
        var r = o.$wrapper.find('[name="format_width"]');
        t.format_width && r.val(t.format_width);
        var n = o.$wrapper.find('[name="format_height"]');
        t.format_height && n.val(t.format_height);
        var p = Base64.encode("?d=desygner&width=" + r.val() + "&height=" + n.val() + "&t=" + i.val() + "&unit=px"),
            d = '<input class="redirect-link" type="text" value="' + o.opts.baseUrl + "discover/create?redirect=" + p + '" >';
        0 !== i.val() && $(".main-content").after(d), $(".redirect-link").on("click", function(t) {
            if (t.preventDefault(), $(this).select(), document.execCommand("copy"), 0 == $(".success-copy").length) {
                var a = '<div class="success-copy" style="text-align: center; margin-top: 8px;">Copied <i class="fa fa-check" aria-hidden="true"></i></div>';
                $(".redirect-link").after(a)
            }
            setTimeout(function() {
                $(".success-copy").remove()
            }, 2e3)
        });
        var s = o.$wrapper.find('[name="set"]');
        t.set && s.val(t.set), s.keyup(function(t) {
            var a = $(this).val();
            $(this).val(a.trim().replace(/[^0-9]/g, ""))
        });
        var l = o.$wrapper.find('[name="tags"]');
        l.tagsinput({
            itemValue: "id",
            itemText: "name"
        }), t.tag && ($.each(t.tag.split(","), function(t, a) {
            l.tagsinput("add", {
                id: a,
                name: a
            })
        }), o.$wrapper.trigger("contentChanged")), l.tagsinput("input").keyup(function(t) {
            var a = t.keyCode ? t.keyCode : t.which,
                e = $(this).val();
            e = e.replace(/[^a-zA-Z0-9, ]/g, ""), $(this).val(e), 13 != a && 188 != a || (e = e.trim().replace(/,/g, ""), l.tagsinput("add", {
                id: e,
                name: e
            }), l.tagsinput("input").val(""))
        }), l.tagsinput("input").change(function(t) {
            var a = $(this).val();
            l.tagsinput("add", {
                id: a,
                name: a
            }), l.tagsinput("input").val("")
        });
        var m = o.$wrapper.find(".ui-dropdown-items"),
            c = INKIVE.Tool._cache.layoutFormat;
        o.$wrapper.find('[name="layout_format"]').val(t.format_id);
        for (var h = 0; h < c.length; h++) {
            var u = "px" == c[h].unit ? parseInt(c[h].width) : c[h].width,
                f = "px" == c[h].unit ? parseInt(c[h].height) : c[h].height,
                v = c[h].string_id + " <small>(" + u + c[h].unit + " x " + f + c[h].unit + ")</small>",
                g = $.parseHTML('<li><a data-id="' + c[h].id + '" data-width="' + c[h].width + '" data-height="' + c[h].height + '" data-unit="' + c[h].unit + '">' + v + "</a></li>");
            $(m).append(g), (c[h].id == t.format_id || !t.format_id && 1 == c[h].id) && (o.$wrapper.find(".ui-dropdown #layout_format").html(v), o.$wrapper.find('[name="layout_format"]').val(c[h].id), o.$wrapper.find('[name="format_width"]').val(INKIVE.Helpers.convertUnitsToPixels(c[h].width, c[h].unit)), o.$wrapper.find('[name="format_height"]').val(INKIVE.Helpers.convertUnitsToPixels(c[h].height, c[h].unit))), $(g).find("a").on("click", function() {
                o.$wrapper.find('[name="layout_format"]').val($(this).attr("data-id")).trigger("change"), o.$wrapper.find(".ui-dropdown #layout_format").html($(this).html()), o.$wrapper.find('[name="format_width"]').val(INKIVE.Helpers.convertUnitsToPixels($(this).attr("data-width"), $(this).attr("data-unit"))), o.$wrapper.find('[name="format_height"]').val(INKIVE.Helpers.convertUnitsToPixels($(this).attr("data-height"), $(this).attr("data-unit"))), $(m).hide()
            })
        }
        o.$wrapper.find('[name="layout_format"]').val() || (o.$wrapper.find('[name="format_width"]').val(t.format_width), o.$wrapper.find('[name="format_height"]').val(t.format_height)), o.$wrapper.find(".ui-dropdown .input-icon").on("click", function() {
            "none" == $(m).css("display") ? $(m).show() : $(m).hide()
        }), o.$wrapper.find("[type=checkbox]").iCheck({
            checkboxClass: "icheckbox_square-yellow"
        });
        var _ = "check";
        parseInt(t.active) && o.$wrapper.find('[name="is_active"]').iCheck(_), parseInt(t.is_premium) && o.$wrapper.find('[name="is_premium"]').iCheck(_)
    }

    function n(t) {
        t = t || $.noop, INKIVE.Modal.loader(o.$wrapper), INKIVE.Tool.preloadLayoutFormat(function(e) {
            o.opts.id ? INKIVE.Helpers.api("search/layout", "GET", {
                id: o.opts.id
            }, function(e) {
                INKIVE.Modal.loaderClose(o.$wrapper), e && e.id ? (a(e || {}), t()) : o.$wrapper.append("Error in loading layout ID " + o.opts.id)
            }) : o.opts.data ? (INKIVE.Modal.loaderClose(o.$wrapper), a(o.opts.data), t()) : (INKIVE.Modal.loaderClose(o.$wrapper), a({}), t())
        })
    }
    var o = this;
    this.opts = $.extend({
        id: null,
        data: null,
        baseUrl: INKIVE.C.BASE_URL,
        staticUrl: INKIVE.C.STATIC_URL,
        text_name: "Layout name",
        text_tags: "Tags",
        text_active: "Active",
        text_premium: "Premium",
        text_format: (INKIVE.C.MODE.IS_DESYGNER ? "Design" : "Page") + " format",
        text_set: "Priority",
        text_name_tooltip: "<b>Name</b><br />Make sure that you insert right name. Don't use white-space and special characters except hypen(-) and undersocre(_)",
        text_tags_tooltip: "<b>Tag - Sub filter</b><br />Seperate using comma(,) and don't use any special characters. ex) Blue, Snack, Cookie",
        text_set_tooltip: "<b>Priority</b><br />0 is most important and the number getting biger than will get less importantance. 0 will be shown in first list."
    }, t), this.$wrapper = $(this.opts.wrapper ? $.parseHTML(this.opts.wrapper) : $.parseHTML('<div class="tool-content"></div>')), a(null), n(function() {
        e(), i(o.data), r(o.data)
    })
}, INKIVE.ModalAdminLayout.prototype = {
    constructor: INKIVE.ModalAdminLayout,
    getFormHtml: function() {
        return this.$wrapper
    },
    getData: function() {
        return this.data
    },
    getFormData: function() {
        for (var t = this.$wrapper.find('[name="tags"]').tagsinput("items"), a = [], e = 0; e < t.length; e++) a.push(t[e].id);
        return {
            id: this.data.id,
            name: this.$wrapper.find('[name="name"]').val(),
            set: this.$wrapper.find('[name="set"]').val(),
            orientation: 0,
            text: 1,
            isBackground: 1,
            num: 0,
            active: this.$wrapper.find('[name="is_active"]').is(":checked") ? 1 : 0,
            premium: this.$wrapper.find('[name="is_premium"]').is(":checked") ? 1 : 0,
            format_id: this.$wrapper.find('[name="layout_format"]').val(),
            format_width: this.$wrapper.find('[name="format_width"]').val(),
            format_height: this.$wrapper.find('[name="format_height"]').val(),
            tag: a.join(",")
        }
    },
    saveForm: function(t) {
        t = t || $.noop;
        var a = this,
            e = a.getFormData();
        INKIVE.Helpers.api("management/layoutinfo", "POST", {
            info: e
        }, function(i) {
            i && "success" == i.status ? t(!0, $.extend(a.getData(), e, {
                id: i.id
            })) : (INKIVE.Modal.alertMessage("<b>Error - </b><i>Updating layout info</i><br>"), t(!1))
        })
    },
    deleteForm: function(t) {
        t = t || $.noop;
        var a = this,
            e = a.getFormData();
        INKIVE.Helpers.api("management/layout", "DELETE", {
            id: e.id
        }, function(a) {
            a && "success" == a.status ? t(!0) : (INKIVE.Modal.alertMessage("<b>Error - </b><i>Delete layout</i><br>"), t(!1))
        })
    }
};
! function(t) {
    function e() {}

    function i(t) {
        function i(e) {
            e.prototype.option || (e.prototype.option = function(e) {
                t.isPlainObject(e) && (this.options = t.extend(!0, this.options, e))
            })
        }

        function o(e, i) {
            t.fn[e] = function(o) {
                if ("string" == typeof o) {
                    for (var s = n.call(arguments, 1), a = 0, h = this.length; h > a; a++) {
                        var u = this[a],
                            p = t.data(u, e);
                        if (p)
                            if (t.isFunction(p[o]) && "_" !== o.charAt(0)) {
                                var f = p[o].apply(p, s);
                                if (void 0 !== f) return f
                            } else r("no such method '" + o + "' for " + e + " instance");
                        else r("cannot call methods on " + e + " prior to initialization; attempted to call '" + o + "'")
                    }
                    return this
                }
                return this.each(function() {
                    var n = t.data(this, e);
                    n ? (n.option(o), n._init()) : (n = new i(this, o), t.data(this, e, n))
                })
            }
        }
        if (t) {
            var r = "undefined" == typeof console ? e : function(t) {
                console.error(t)
            };
            return t.bridget = function(t, e) {
                i(e), o(t, e)
            }, t.bridget
        }
    }
    var n = Array.prototype.slice;
    "function" == typeof define && define.amd ? define("jquery-bridget/jquery.bridget", ["jquery"], i) : i(t.jQuery)
}(window),
function(t) {
    function e(e) {
        var i = t.event;
        return i.target = i.target || i.srcElement || e, i
    }
    var i = document.documentElement,
        n = function() {};
    i.addEventListener ? n = function(t, e, i) {
        t.addEventListener(e, i, !1)
    } : i.attachEvent && (n = function(t, i, n) {
        t[i + n] = n.handleEvent ? function() {
            var i = e(t);
            n.handleEvent.call(n, i)
        } : function() {
            var i = e(t);
            n.call(t, i)
        }, t.attachEvent("on" + i, t[i + n])
    });
    var o = function() {};
    i.removeEventListener ? o = function(t, e, i) {
        t.removeEventListener(e, i, !1)
    } : i.detachEvent && (o = function(t, e, i) {
        t.detachEvent("on" + e, t[e + i]);
        try {
            delete t[e + i]
        } catch (n) {
            t[e + i] = void 0
        }
    });
    var r = {
        bind: n,
        unbind: o
    };
    "function" == typeof define && define.amd ? define("eventie/eventie", r) : "object" == typeof exports ? module.exports = r : t.eventie = r
}(this),
function(t) {
    function e(t) {
        "function" == typeof t && (e.isReady ? t() : r.push(t))
    }

    function i(t) {
        var i = "readystatechange" === t.type && "complete" !== o.readyState;
        if (!e.isReady && !i) {
            e.isReady = !0;
            for (var n = 0, s = r.length; s > n; n++) {
                var a = r[n];
                a()
            }
        }
    }

    function n(n) {
        return n.bind(o, "DOMContentLoaded", i), n.bind(o, "readystatechange", i), n.bind(t, "load", i), e
    }
    var o = t.document,
        r = [];
    e.isReady = !1, "function" == typeof define && define.amd ? (e.isReady = "function" == typeof requirejs, define("doc-ready/doc-ready", ["eventie/eventie"], n)) : t.docReady = n(t.eventie)
}(this),
function() {
    function t() {}

    function e(t, e) {
        for (var i = t.length; i--;)
            if (t[i].listener === e) return i;
        return -1
    }

    function i(t) {
        return function() {
            return this[t].apply(this, arguments)
        }
    }
    var n = t.prototype,
        o = this,
        r = o.EventEmitter;
    n.getListeners = function(t) {
        var e, i, n = this._getEvents();
        if (t instanceof RegExp) {
            e = {};
            for (i in n) n.hasOwnProperty(i) && t.test(i) && (e[i] = n[i])
        } else e = n[t] || (n[t] = []);
        return e
    }, n.flattenListeners = function(t) {
        var e, i = [];
        for (e = 0; e < t.length; e += 1) i.push(t[e].listener);
        return i
    }, n.getListenersAsObject = function(t) {
        var e, i = this.getListeners(t);
        return i instanceof Array && (e = {}, e[t] = i), e || i
    }, n.addListener = function(t, i) {
        var n, o = this.getListenersAsObject(t),
            r = "object" == typeof i;
        for (n in o) o.hasOwnProperty(n) && -1 === e(o[n], i) && o[n].push(r ? i : {
            listener: i,
            once: !1
        });
        return this
    }, n.on = i("addListener"), n.addOnceListener = function(t, e) {
        return this.addListener(t, {
            listener: e,
            once: !0
        })
    }, n.once = i("addOnceListener"), n.defineEvent = function(t) {
        return this.getListeners(t), this
    }, n.defineEvents = function(t) {
        for (var e = 0; e < t.length; e += 1) this.defineEvent(t[e]);
        return this
    }, n.removeListener = function(t, i) {
        var n, o, r = this.getListenersAsObject(t);
        for (o in r) r.hasOwnProperty(o) && (n = e(r[o], i), -1 !== n && r[o].splice(n, 1));
        return this
    }, n.off = i("removeListener"), n.addListeners = function(t, e) {
        return this.manipulateListeners(!1, t, e)
    }, n.removeListeners = function(t, e) {
        return this.manipulateListeners(!0, t, e)
    }, n.manipulateListeners = function(t, e, i) {
        var n, o, r = t ? this.removeListener : this.addListener,
            s = t ? this.removeListeners : this.addListeners;
        if ("object" != typeof e || e instanceof RegExp)
            for (n = i.length; n--;) r.call(this, e, i[n]);
        else
            for (n in e) e.hasOwnProperty(n) && (o = e[n]) && ("function" == typeof o ? r.call(this, n, o) : s.call(this, n, o));
        return this
    }, n.removeEvent = function(t) {
        var e, i = typeof t,
            n = this._getEvents();
        if ("string" === i) delete n[t];
        else if (t instanceof RegExp)
            for (e in n) n.hasOwnProperty(e) && t.test(e) && delete n[e];
        else delete this._events;
        return this
    }, n.removeAllListeners = i("removeEvent"), n.emitEvent = function(t, e) {
        var i, n, o, r, s = this.getListenersAsObject(t);
        for (o in s)
            if (s.hasOwnProperty(o))
                for (n = s[o].length; n--;) i = s[o][n], i.once === !0 && this.removeListener(t, i.listener), r = i.listener.apply(this, e || []), r === this._getOnceReturnValue() && this.removeListener(t, i.listener);
        return this
    }, n.trigger = i("emitEvent"), n.emit = function(t) {
        var e = Array.prototype.slice.call(arguments, 1);
        return this.emitEvent(t, e)
    }, n.setOnceReturnValue = function(t) {
        return this._onceReturnValue = t, this
    }, n._getOnceReturnValue = function() {
        return !this.hasOwnProperty("_onceReturnValue") || this._onceReturnValue
    }, n._getEvents = function() {
        return this._events || (this._events = {})
    }, t.noConflict = function() {
        return o.EventEmitter = r, t
    }, "function" == typeof define && define.amd ? define("eventEmitter/EventEmitter", [], function() {
        return t
    }) : "object" == typeof module && module.exports ? module.exports = t : this.EventEmitter = t
}.call(this),
    function(t) {
        function e(t) {
            if (t) {
                if ("string" == typeof n[t]) return t;
                t = t.charAt(0).toUpperCase() + t.slice(1);
                for (var e, o = 0, r = i.length; r > o; o++)
                    if (e = i[o] + t, "string" == typeof n[e]) return e
            }
        }
        var i = "Webkit Moz ms Ms O".split(" "),
            n = document.documentElement.style;
        "function" == typeof define && define.amd ? define("get-style-property/get-style-property", [], function() {
            return e
        }) : "object" == typeof exports ? module.exports = e : t.getStyleProperty = e
    }(window),
    function(t) {
        function e(t) {
            var e = parseFloat(t),
                i = -1 === t.indexOf("%") && !isNaN(e);
            return i && e
        }

        function i() {
            for (var t = {
                    width: 0,
                    height: 0,
                    innerWidth: 0,
                    innerHeight: 0,
                    outerWidth: 0,
                    outerHeight: 0
                }, e = 0, i = s.length; i > e; e++) {
                var n = s[e];
                t[n] = 0
            }
            return t
        }

        function n(t) {
            function n(t) {
                if ("string" == typeof t && (t = document.querySelector(t)), t && "object" == typeof t && t.nodeType) {
                    var n = r(t);
                    if ("none" === n.display) return i();
                    var o = {};
                    o.width = t.offsetWidth, o.height = t.offsetHeight;
                    for (var p = o.isBorderBox = !(!u || !n[u] || "border-box" !== n[u]), f = 0, d = s.length; d > f; f++) {
                        var c = s[f],
                            l = n[c];
                        l = a(t, l);
                        var y = parseFloat(l);
                        o[c] = isNaN(y) ? 0 : y
                    }
                    var m = o.paddingLeft + o.paddingRight,
                        g = o.paddingTop + o.paddingBottom,
                        v = o.marginLeft + o.marginRight,
                        b = o.marginTop + o.marginBottom,
                        _ = o.borderLeftWidth + o.borderRightWidth,
                        E = o.borderTopWidth + o.borderBottomWidth,
                        L = p && h,
                        z = e(n.width);
                    z !== !1 && (o.width = z + (L ? 0 : m + _));
                    var x = e(n.height);
                    return x !== !1 && (o.height = x + (L ? 0 : g + E)), o.innerWidth = o.width - (m + _), o.innerHeight = o.height - (g + E), o.outerWidth = o.width + v, o.outerHeight = o.height + b, o
                }
            }

            function a(t, e) {
                if (o || -1 === e.indexOf("%")) return e;
                var i = t.style,
                    n = i.left,
                    r = t.runtimeStyle,
                    s = r && r.left;
                return s && (r.left = t.currentStyle.left), i.left = e, e = i.pixelLeft, i.left = n, s && (r.left = s), e
            }
            var h, u = t("boxSizing");
            return function() {
                if (u) {
                    var t = document.createElement("div");
                    t.style.width = "200px", t.style.padding = "1px 2px 3px 4px", t.style.borderStyle = "solid", t.style.borderWidth = "1px 2px 3px 4px", t.style[u] = "border-box";
                    var i = document.body || document.documentElement;
                    i.appendChild(t);
                    var n = r(t);
                    h = 200 === e(n.width), i.removeChild(t)
                }
            }(), n
        }
        var o = t.getComputedStyle,
            r = o ? function(t) {
                return o(t, null)
            } : function(t) {
                return t.currentStyle
            },
            s = ["paddingLeft", "paddingRight", "paddingTop", "paddingBottom", "marginLeft", "marginRight", "marginTop", "marginBottom", "borderLeftWidth", "borderRightWidth", "borderTopWidth", "borderBottomWidth"];
        "function" == typeof define && define.amd ? define("get-size/get-size", ["get-style-property/get-style-property"], n) : "object" == typeof exports ? module.exports = n(require("get-style-property")) : t.getSize = n(t.getStyleProperty)
    }(window),
    function(t, e) {
        function i(t, e) {
            return t[a](e)
        }

        function n(t) {
            if (!t.parentNode) {
                var e = document.createDocumentFragment();
                e.appendChild(t)
            }
        }

        function o(t, e) {
            n(t);
            for (var i = t.parentNode.querySelectorAll(e), o = 0, r = i.length; r > o; o++)
                if (i[o] === t) return !0;
            return !1
        }

        function r(t, e) {
            return n(t), i(t, e)
        }
        var s, a = function() {
            if (e.matchesSelector) return "matchesSelector";
            for (var t = ["webkit", "moz", "ms", "o"], i = 0, n = t.length; n > i; i++) {
                var o = t[i],
                    r = o + "MatchesSelector";
                if (e[r]) return r
            }
        }();
        if (a) {
            var h = document.createElement("div"),
                u = i(h, "div");
            s = u ? i : r
        } else s = o;
        "function" == typeof define && define.amd ? define("matches-selector/matches-selector", [], function() {
            return s
        }) : window.matchesSelector = s
    }(this, Element.prototype),
    function(t) {
        function e(t, e) {
            for (var i in e) t[i] = e[i];
            return t
        }

        function i(t) {
            for (var e in t) return !1;
            return e = null, !0
        }

        function n(t) {
            return t.replace(/([A-Z])/g, function(t) {
                return "-" + t.toLowerCase()
            })
        }

        function o(t, o, r) {
            function a(t, e) {
                t && (this.element = t, this.layout = e, this.position = {
                    x: 0,
                    y: 0
                }, this._create())
            }
            var h = r("transition"),
                u = r("transform"),
                p = h && u,
                f = !!r("perspective"),
                d = {
                    WebkitTransition: "webkitTransitionEnd",
                    MozTransition: "transitionend",
                    OTransition: "otransitionend",
                    transition: "transitionend"
                }[h],
                c = ["transform", "transition", "transitionDuration", "transitionProperty"],
                l = function() {
                    for (var t = {}, e = 0, i = c.length; i > e; e++) {
                        var n = c[e],
                            o = r(n);
                        o && o !== n && (t[n] = o)
                    }
                    return t
                }();
            e(a.prototype, t.prototype), a.prototype._create = function() {
                this._transn = {
                    ingProperties: {},
                    clean: {},
                    onEnd: {}
                }, this.css({
                    position: "absolute"
                })
            }, a.prototype.handleEvent = function(t) {
                var e = "on" + t.type;
                this[e] && this[e](t)
            }, a.prototype.getSize = function() {
                this.size = o(this.element)
            }, a.prototype.css = function(t) {
                var e = this.element.style;
                for (var i in t) {
                    var n = l[i] || i;
                    e[n] = t[i]
                }
            }, a.prototype.getPosition = function() {
                var t = s(this.element),
                    e = this.layout.options,
                    i = e.isOriginLeft,
                    n = e.isOriginTop,
                    o = parseInt(t[i ? "left" : "right"], 10),
                    r = parseInt(t[n ? "top" : "bottom"], 10);
                o = isNaN(o) ? 0 : o, r = isNaN(r) ? 0 : r;
                var a = this.layout.size;
                o -= i ? a.paddingLeft : a.paddingRight, r -= n ? a.paddingTop : a.paddingBottom, this.position.x = o, this.position.y = r
            }, a.prototype.layoutPosition = function() {
                var t = this.layout.size,
                    e = this.layout.options,
                    i = {};
                e.isOriginLeft ? (i.left = this.position.x + t.paddingLeft + "px", i.right = "") : (i.right = this.position.x + t.paddingRight + "px", i.left = ""), e.isOriginTop ? (i.top = this.position.y + t.paddingTop + "px", i.bottom = "") : (i.bottom = this.position.y + t.paddingBottom + "px", i.top = ""), this.css(i), this.emitEvent("layout", [this])
            };
            var y = f ? function(t, e) {
                return "translate3d(" + t + "px, " + e + "px, 0)"
            } : function(t, e) {
                return "translate(" + t + "px, " + e + "px)"
            };
            a.prototype._transitionTo = function(t, e) {
                this.getPosition();
                var i = this.position.x,
                    n = this.position.y,
                    o = parseInt(t, 10),
                    r = parseInt(e, 10),
                    s = o === this.position.x && r === this.position.y;
                if (this.setPosition(t, e), s && !this.isTransitioning) return void this.layoutPosition();
                var a = t - i,
                    h = e - n,
                    u = {},
                    p = this.layout.options;
                a = p.isOriginLeft ? a : -a, h = p.isOriginTop ? h : -h, u.transform = y(a, h), this.transition({
                    to: u,
                    onTransitionEnd: {
                        transform: this.layoutPosition
                    },
                    isCleaning: !0
                })
            }, a.prototype.goTo = function(t, e) {
                this.setPosition(t, e), this.layoutPosition()
            }, a.prototype.moveTo = p ? a.prototype._transitionTo : a.prototype.goTo, a.prototype.setPosition = function(t, e) {
                this.position.x = parseInt(t, 10), this.position.y = parseInt(e, 10)
            }, a.prototype._nonTransition = function(t) {
                this.css(t.to), t.isCleaning && this._removeStyles(t.to);
                for (var e in t.onTransitionEnd) t.onTransitionEnd[e].call(this)
            }, a.prototype._transition = function(t) {
                if (!parseFloat(this.layout.options.transitionDuration)) return void this._nonTransition(t);
                var e = this._transn;
                for (var i in t.onTransitionEnd) e.onEnd[i] = t.onTransitionEnd[i];
                for (i in t.to) e.ingProperties[i] = !0, t.isCleaning && (e.clean[i] = !0);
                if (t.from) {
                    this.css(t.from);
                    var n = this.element.offsetHeight;
                    n = null
                }
                this.enableTransition(t.to), this.css(t.to), this.isTransitioning = !0
            };
            var m = u && n(u) + ",opacity";
            a.prototype.enableTransition = function() {
                this.isTransitioning || (this.css({
                    transitionProperty: m,
                    transitionDuration: this.layout.options.transitionDuration
                }), this.element.addEventListener(d, this, !1))
            }, a.prototype.transition = a.prototype[h ? "_transition" : "_nonTransition"], a.prototype.onwebkitTransitionEnd = function(t) {
                this.ontransitionend(t)
            }, a.prototype.onotransitionend = function(t) {
                this.ontransitionend(t)
            };
            var g = {
                "-webkit-transform": "transform",
                "-moz-transform": "transform",
                "-o-transform": "transform"
            };
            a.prototype.ontransitionend = function(t) {
                if (t.target === this.element) {
                    var e = this._transn,
                        n = g[t.propertyName] || t.propertyName;
                    if (delete e.ingProperties[n], i(e.ingProperties) && this.disableTransition(), n in e.clean && (this.element.style[t.propertyName] = "", delete e.clean[n]), n in e.onEnd) {
                        var o = e.onEnd[n];
                        o.call(this), delete e.onEnd[n]
                    }
                    this.emitEvent("transitionEnd", [this])
                }
            }, a.prototype.disableTransition = function() {
                this.removeTransitionStyles(), this.element.removeEventListener(d, this, !1), this.isTransitioning = !1
            }, a.prototype._removeStyles = function(t) {
                var e = {};
                for (var i in t) e[i] = "";
                this.css(e)
            };
            var v = {
                transitionProperty: "",
                transitionDuration: ""
            };
            return a.prototype.removeTransitionStyles = function() {
                this.css(v)
            }, a.prototype.removeElem = function() {
                this.element.parentNode.removeChild(this.element), this.emitEvent("remove", [this])
            }, a.prototype.remove = function() {
                if (!h || !parseFloat(this.layout.options.transitionDuration)) return void this.removeElem();
                var t = this;
                this.on("transitionEnd", function() {
                    return t.removeElem(), !0
                }), this.hide()
            }, a.prototype.reveal = function() {
                delete this.isHidden, this.css({
                    display: ""
                });
                var t = this.layout.options;
                this.transition({
                    from: t.hiddenStyle,
                    to: t.visibleStyle,
                    isCleaning: !0
                })
            }, a.prototype.hide = function() {
                this.isHidden = !0, this.css({
                    display: ""
                });
                var t = this.layout.options;
                this.transition({
                    from: t.visibleStyle,
                    to: t.hiddenStyle,
                    isCleaning: !0,
                    onTransitionEnd: {
                        opacity: function() {
                            this.isHidden && this.css({
                                display: "none"
                            })
                        }
                    }
                })
            }, a.prototype.destroy = function() {
                this.css({
                    position: "",
                    left: "",
                    right: "",
                    top: "",
                    bottom: "",
                    transition: "",
                    transform: ""
                })
            }, a
        }
        var r = t.getComputedStyle,
            s = r ? function(t) {
                return r(t, null)
            } : function(t) {
                return t.currentStyle
            };
        "function" == typeof define && define.amd ? define("outlayer/item", ["eventEmitter/EventEmitter", "get-size/get-size", "get-style-property/get-style-property"], o) : (t.Outlayer = {}, t.Outlayer.Item = o(t.EventEmitter, t.getSize, t.getStyleProperty))
    }(window),
    function(t) {
        function e(t, e) {
            for (var i in e) t[i] = e[i];
            return t
        }

        function i(t) {
            return "[object Array]" === f.call(t)
        }

        function n(t) {
            var e = [];
            if (i(t)) e = t;
            else if (t && "number" == typeof t.length)
                for (var n = 0, o = t.length; o > n; n++) e.push(t[n]);
            else e.push(t);
            return e
        }

        function o(t, e) {
            var i = c(e, t); - 1 !== i && e.splice(i, 1)
        }

        function r(t) {
            return t.replace(/(.)([A-Z])/g, function(t, e, i) {
                return e + "-" + i
            }).toLowerCase()
        }

        function s(i, s, f, c, l, y) {
            function m(t, i) {
                if ("string" == typeof t && (t = a.querySelector(t)), !t || !d(t)) return void(h && h.error("Bad " + this.constructor.namespace + " element: " + t));
                this.element = t, this.options = e({}, this.constructor.defaults), this.option(i);
                var n = ++g;
                this.element.outlayerGUID = n, v[n] = this, this._create(), this.options.isInitLayout && this.layout()
            }
            var g = 0,
                v = {};
            return m.namespace = "outlayer", m.Item = y, m.defaults = {
                containerStyle: {
                    position: "relative"
                },
                isInitLayout: !0,
                isOriginLeft: !0,
                isOriginTop: !0,
                isResizeBound: !0,
                isResizingContainer: !0,
                transitionDuration: "0.4s",
                hiddenStyle: {
                    opacity: 0,
                    transform: "scale(0.001)"
                },
                visibleStyle: {
                    opacity: 1,
                    transform: "scale(1)"
                }
            }, e(m.prototype, f.prototype), m.prototype.option = function(t) {
                e(this.options, t)
            }, m.prototype._create = function() {
                this.reloadItems(), this.stamps = [], this.stamp(this.options.stamp), e(this.element.style, this.options.containerStyle), this.options.isResizeBound && this.bindResize()
            }, m.prototype.reloadItems = function() {
                this.items = this._itemize(this.element.children)
            }, m.prototype._itemize = function(t) {
                for (var e = this._filterFindItemElements(t), i = this.constructor.Item, n = [], o = 0, r = e.length; r > o; o++) {
                    var s = e[o],
                        a = new i(s, this);
                    n.push(a)
                }
                return n
            }, m.prototype._filterFindItemElements = function(t) {
                t = n(t);
                for (var e = this.options.itemSelector, i = [], o = 0, r = t.length; r > o; o++) {
                    var s = t[o];
                    if (d(s))
                        if (e) {
                            l(s, e) && i.push(s);
                            for (var a = s.querySelectorAll(e), h = 0, u = a.length; u > h; h++) i.push(a[h])
                        } else i.push(s)
                }
                return i
            }, m.prototype.getItemElements = function() {
                for (var t = [], e = 0, i = this.items.length; i > e; e++) t.push(this.items[e].element);
                return t
            }, m.prototype.layout = function() {
                this._resetLayout(), this._manageStamps();
                var t = void 0 !== this.options.isLayoutInstant ? this.options.isLayoutInstant : !this._isLayoutInited;
                this.layoutItems(this.items, t), this._isLayoutInited = !0
            }, m.prototype._init = m.prototype.layout, m.prototype._resetLayout = function() {
                this.getSize()
            }, m.prototype.getSize = function() {
                this.size = c(this.element)
            }, m.prototype._getMeasurement = function(t, e) {
                var i, n = this.options[t];
                n ? ("string" == typeof n ? i = this.element.querySelector(n) : d(n) && (i = n), this[t] = i ? c(i)[e] : n) : this[t] = 0
            }, m.prototype.layoutItems = function(t, e) {
                t = this._getItemsForLayout(t), this._layoutItems(t, e), this._postLayout()
            }, m.prototype._getItemsForLayout = function(t) {
                for (var e = [], i = 0, n = t.length; n > i; i++) {
                    var o = t[i];
                    o.isIgnored || e.push(o)
                }
                return e
            }, m.prototype._layoutItems = function(t, e) {
                function i() {
                    n.emitEvent("layoutComplete", [n, t])
                }
                var n = this;
                if (!t || !t.length) return void i();
                this._itemsOn(t, "layout", i);
                for (var o = [], r = 0, s = t.length; s > r; r++) {
                    var a = t[r],
                        h = this._getItemLayoutPosition(a);
                    h.item = a, h.isInstant = e || a.isLayoutInstant, o.push(h)
                }
                this._processLayoutQueue(o)
            }, m.prototype._getItemLayoutPosition = function() {
                return {
                    x: 0,
                    y: 0
                }
            }, m.prototype._processLayoutQueue = function(t) {
                for (var e = 0, i = t.length; i > e; e++) {
                    var n = t[e];
                    this._positionItem(n.item, n.x, n.y, n.isInstant)
                }
            }, m.prototype._positionItem = function(t, e, i, n) {
                n ? t.goTo(e, i) : t.moveTo(e, i)
            }, m.prototype._postLayout = function() {
                this.resizeContainer()
            }, m.prototype.resizeContainer = function() {
                if (this.options.isResizingContainer) {
                    var t = this._getContainerSize();
                    t && (this._setContainerMeasure(t.width, !0), this._setContainerMeasure(t.height, !1))
                }
            }, m.prototype._getContainerSize = p, m.prototype._setContainerMeasure = function(t, e) {
                if (void 0 !== t) {
                    var i = this.size;
                    i.isBorderBox && (t += e ? i.paddingLeft + i.paddingRight + i.borderLeftWidth + i.borderRightWidth : i.paddingBottom + i.paddingTop + i.borderTopWidth + i.borderBottomWidth), t = Math.max(t, 0), this.element.style[e ? "width" : "height"] = t + "px"
                }
            }, m.prototype._itemsOn = function(t, e, i) {
                function n() {
                    return o++, o === r && i.call(s), !0
                }
                for (var o = 0, r = t.length, s = this, a = 0, h = t.length; h > a; a++) {
                    var u = t[a];
                    u.on(e, n)
                }
            }, m.prototype.ignore = function(t) {
                var e = this.getItem(t);
                e && (e.isIgnored = !0)
            }, m.prototype.unignore = function(t) {
                var e = this.getItem(t);
                e && delete e.isIgnored
            }, m.prototype.stamp = function(t) {
                if (t = this._find(t)) {
                    this.stamps = this.stamps.concat(t);
                    for (var e = 0, i = t.length; i > e; e++) {
                        var n = t[e];
                        this.ignore(n)
                    }
                }
            }, m.prototype.unstamp = function(t) {
                if (t = this._find(t))
                    for (var e = 0, i = t.length; i > e; e++) {
                        var n = t[e];
                        o(n, this.stamps), this.unignore(n)
                    }
            }, m.prototype._find = function(t) {
                return t ? ("string" == typeof t && (t = this.element.querySelectorAll(t)), t = n(t)) : void 0
            }, m.prototype._manageStamps = function() {
                if (this.stamps && this.stamps.length) {
                    this._getBoundingRect();
                    for (var t = 0, e = this.stamps.length; e > t; t++) {
                        var i = this.stamps[t];
                        this._manageStamp(i)
                    }
                }
            }, m.prototype._getBoundingRect = function() {
                var t = this.element.getBoundingClientRect(),
                    e = this.size;
                this._boundingRect = {
                    left: t.left + e.paddingLeft + e.borderLeftWidth,
                    top: t.top + e.paddingTop + e.borderTopWidth,
                    right: t.right - (e.paddingRight + e.borderRightWidth),
                    bottom: t.bottom - (e.paddingBottom + e.borderBottomWidth)
                }
            }, m.prototype._manageStamp = p, m.prototype._getElementOffset = function(t) {
                var e = t.getBoundingClientRect(),
                    i = this._boundingRect,
                    n = c(t),
                    o = {
                        left: e.left - i.left - n.marginLeft,
                        top: e.top - i.top - n.marginTop,
                        right: i.right - e.right - n.marginRight,
                        bottom: i.bottom - e.bottom - n.marginBottom
                    };
                return o
            }, m.prototype.handleEvent = function(t) {
                var e = "on" + t.type;
                this[e] && this[e](t)
            }, m.prototype.bindResize = function() {
                this.isResizeBound || (i.bind(t, "resize", this), this.isResizeBound = !0)
            }, m.prototype.unbindResize = function() {
                this.isResizeBound && i.unbind(t, "resize", this), this.isResizeBound = !1
            }, m.prototype.onresize = function() {
                function t() {
                    e.resize(), delete e.resizeTimeout
                }
                this.resizeTimeout && clearTimeout(this.resizeTimeout);
                var e = this;
                this.resizeTimeout = setTimeout(t, 100)
            }, m.prototype.resize = function() {
                this.isResizeBound && this.needsResizeLayout() && this.layout()
            }, m.prototype.needsResizeLayout = function() {
                var t = c(this.element),
                    e = this.size && t;
                return e && t.innerWidth !== this.size.innerWidth
            }, m.prototype.addItems = function(t) {
                var e = this._itemize(t);
                return e.length && (this.items = this.items.concat(e)), e
            }, m.prototype.appended = function(t) {
                var e = this.addItems(t);
                e.length && (this.layoutItems(e, !0), this.reveal(e))
            }, m.prototype.prepended = function(t) {
                var e = this._itemize(t);
                if (e.length) {
                    var i = this.items.slice(0);
                    this.items = e.concat(i), this._resetLayout(), this._manageStamps(), this.layoutItems(e, !0), this.reveal(e), this.layoutItems(i)
                }
            }, m.prototype.reveal = function(t) {
                var e = t && t.length;
                if (e)
                    for (var i = 0; e > i; i++) {
                        var n = t[i];
                        n.reveal()
                    }
            }, m.prototype.hide = function(t) {
                var e = t && t.length;
                if (e)
                    for (var i = 0; e > i; i++) {
                        var n = t[i];
                        n.hide()
                    }
            }, m.prototype.getItem = function(t) {
                for (var e = 0, i = this.items.length; i > e; e++) {
                    var n = this.items[e];
                    if (n.element === t) return n
                }
            }, m.prototype.getItems = function(t) {
                if (t && t.length) {
                    for (var e = [], i = 0, n = t.length; n > i; i++) {
                        var o = t[i],
                            r = this.getItem(o);
                        r && e.push(r)
                    }
                    return e
                }
            }, m.prototype.remove = function(t) {
                t = n(t);
                var e = this.getItems(t);
                if (e && e.length) {
                    this._itemsOn(e, "remove", function() {
                        this.emitEvent("removeComplete", [this, e])
                    });
                    for (var i = 0, r = e.length; r > i; i++) {
                        var s = e[i];
                        s.remove(), o(s, this.items)
                    }
                }
            }, m.prototype.destroy = function() {
                var t = this.element.style;
                t.height = "", t.position = "", t.width = "";
                for (var e = 0, i = this.items.length; i > e; e++) {
                    var n = this.items[e];
                    n.destroy()
                }
                this.unbindResize(), delete this.element.outlayerGUID, u && u.removeData(this.element, this.constructor.namespace)
            }, m.data = function(t) {
                var e = t && t.outlayerGUID;
                return e && v[e]
            }, m.create = function(t, i) {
                function n() {
                    m.apply(this, arguments)
                }
                return Object.create ? n.prototype = Object.create(m.prototype) : e(n.prototype, m.prototype), n.prototype.constructor = n, n.defaults = e({}, m.defaults), e(n.defaults, i), n.prototype.settings = {}, n.namespace = t, n.data = m.data, n.Item = function() {
                    y.apply(this, arguments)
                }, n.Item.prototype = new y, s(function() {
                    for (var e = r(t), i = a.querySelectorAll(".js-" + e), o = "data-" + e + "-options", s = 0, p = i.length; p > s; s++) {
                        var f, d = i[s],
                            c = d.getAttribute(o);
                        try {
                            f = c && JSON.parse(c)
                        } catch (l) {
                            h && h.error("Error parsing " + o + " on " + d.nodeName.toLowerCase() + (d.id ? "#" + d.id : "") + ": " + l);
                            continue
                        }
                        var y = new n(d, f);
                        u && u.data(d, t, y)
                    }
                }), u && u.bridget && u.bridget(t, n), n
            }, m.Item = y, m
        }
        var a = t.document,
            h = t.console,
            u = t.jQuery,
            p = function() {},
            f = Object.prototype.toString,
            d = "object" == typeof HTMLElement ? function(t) {
                return t instanceof HTMLElement
            } : function(t) {
                return t && "object" == typeof t && 1 === t.nodeType && "string" == typeof t.nodeName
            },
            c = Array.prototype.indexOf ? function(t, e) {
                return t.indexOf(e)
            } : function(t, e) {
                for (var i = 0, n = t.length; n > i; i++)
                    if (t[i] === e) return i;
                return -1
            };
        "function" == typeof define && define.amd ? define("outlayer/outlayer", ["eventie/eventie", "doc-ready/doc-ready", "eventEmitter/EventEmitter", "get-size/get-size", "matches-selector/matches-selector", "./item"], s) : t.Outlayer = s(t.eventie, t.docReady, t.EventEmitter, t.getSize, t.matchesSelector, t.Outlayer.Item)
    }(window),
    function(t) {
        function e(t, e) {
            var n = t.create("masonry");
            return n.prototype._resetLayout = function() {
                this.getSize(), this._getMeasurement("columnWidth", "outerWidth"), this._getMeasurement("gutter", "outerWidth"), this.measureColumns();
                var t = this.cols;
                for (this.colYs = []; t--;) this.colYs.push(0);
                this.maxY = 0
            }, n.prototype.measureColumns = function() {
                if (this.getContainerWidth(), !this.columnWidth) {
                    var t = this.items[0],
                        i = t && t.element;
                    this.columnWidth = i && e(i).outerWidth || this.containerWidth
                }
                this.columnWidth += this.gutter, this.cols = Math.floor((this.containerWidth + this.gutter) / this.columnWidth), this.cols = Math.max(this.cols, 1)
            }, n.prototype.getContainerWidth = function() {
                var t = this.options.isFitWidth ? this.element.parentNode : this.element,
                    i = e(t);
                this.containerWidth = i && i.innerWidth
            }, n.prototype._getItemLayoutPosition = function(t) {
                t.getSize();
                var e = t.size.outerWidth % this.columnWidth,
                    n = e && 1 > e ? "round" : "ceil",
                    o = Math[n](t.size.outerWidth / this.columnWidth);
                o = Math.min(o, this.cols);
                for (var r = this._getColGroup(o), s = Math.min.apply(Math, r), a = i(r, s), h = {
                        x: this.columnWidth * a,
                        y: s
                    }, u = s + t.size.outerHeight, p = this.cols + 1 - r.length, f = 0; p > f; f++) this.colYs[a + f] = u;
                return h
            }, n.prototype._getColGroup = function(t) {
                if (2 > t) return this.colYs;
                for (var e = [], i = this.cols + 1 - t, n = 0; i > n; n++) {
                    var o = this.colYs.slice(n, n + t);
                    e[n] = Math.max.apply(Math, o)
                }
                return e
            }, n.prototype._manageStamp = function(t) {
                var i = e(t),
                    n = this._getElementOffset(t),
                    o = this.options.isOriginLeft ? n.left : n.right,
                    r = o + i.outerWidth,
                    s = Math.floor(o / this.columnWidth);
                s = Math.max(0, s);
                var a = Math.floor(r / this.columnWidth);
                a -= r % this.columnWidth ? 0 : 1, a = Math.min(this.cols - 1, a);
                for (var h = (this.options.isOriginTop ? n.top : n.bottom) + i.outerHeight, u = s; a >= u; u++) this.colYs[u] = Math.max(h, this.colYs[u])
            }, n.prototype._getContainerSize = function() {
                this.maxY = Math.max.apply(Math, this.colYs);
                var t = {
                    height: this.maxY
                };
                return this.options.isFitWidth && (t.width = this._getContainerFitWidth()), t
            }, n.prototype._getContainerFitWidth = function() {
                for (var t = 0, e = this.cols; --e && 0 === this.colYs[e];) t++;
                return (this.cols - t) * this.columnWidth - this.gutter
            }, n.prototype.needsResizeLayout = function() {
                var t = this.containerWidth;
                return this.getContainerWidth(), t !== this.containerWidth
            }, n
        }
        var i = Array.prototype.indexOf ? function(t, e) {
            return t.indexOf(e)
        } : function(t, e) {
            for (var i = 0, n = t.length; n > i; i++) {
                var o = t[i];
                if (o === e) return i
            }
            return -1
        };
        "function" == typeof define && define.amd ? define(["outlayer/outlayer", "get-size/get-size"], e) : t.Masonry = e(t.Outlayer, t.getSize)
    }(window);
! function(t, s) {
    fontSpy = function(t, e) {
        var n = s("html"),
            o = s("body"),
            i = t;
        if ("string" != typeof i || "" === i) throw "A valid fontName is required. fontName must be a string and must not be an empty string.";
        var a = {
                font: i,
                fontClass: i.toLowerCase().replace(/\s/g, ""),
                success: function() {},
                failure: function() {},
                testFont: "Courier New",
                testString: "QW@HhsXJ",
                glyphs: "",
                delay: 50,
                timeOut: 1e3,
                callback: s.noop
            },
            c = s.extend(a, e),
            r = s("<span>" + c.testString + c.glyphs + "</span>").css("position", "absolute").css("top", "-9999px").css("left", "-9999px").css("visibility", "hidden").css("fontFamily", c.testFont).css("fontSize", "250px");
        o.append(r);
        var u = r.outerWidth();
        r.css("fontFamily", c.font + "," + c.testFont);
        var l = function() {
                n.addClass("no-" + c.fontClass), c && c.failure && c.failure(), c.callback(new Error("FontSpy timeout")), r.remove()
            },
            f = function() {
                c.callback(), n.addClass(c.fontClass), c && c.success && c.success(), r.remove()
            },
            d = function() {
                setTimeout(p, c.delay), c.timeOut = c.timeOut - c.delay
            },
            p = function() {
                var t = r.outerWidth();
                u !== t ? f() : c.timeOut < 0 ? l() : d()
            };
        p()
    }
}(this, jQuery);